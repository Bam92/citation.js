require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function SCHEMA_URI_FORMAT_FUNC(str){return SCHEMA_URI_FORMAT.test(str)}function Ajv(opts){function validate(schemaKeyRef,data){var v;if("string"==typeof schemaKeyRef){if(!(v=getSchema(schemaKeyRef)))throw new Error('no schema with key or ref "'+schemaKeyRef+'"')}else{var schemaObj=_addSchema(schemaKeyRef);v=schemaObj.validate||_compile(schemaObj)}var valid=v(data);return!0===v.$async?"*"==self._opts.async?co(valid):valid:(self.errors=v.errors,valid)}function compile(schema,_meta){var schemaObj=_addSchema(schema,undefined,_meta);return schemaObj.validate||_compile(schemaObj)}function addSchema(schema,key,_skipValidation,_meta){if(Array.isArray(schema))for(var i=0;i<schema.length;i++)addSchema(schema[i],undefined,_skipValidation,_meta);else checkUnique(key=resolve.normalizeId(key||schema.id)),self._schemas[key]=_addSchema(schema,_skipValidation,_meta,!0)}function addMetaSchema(schema,key,skipValidation){addSchema(schema,key,skipValidation,!0)}function validateSchema(schema,throwOrLogError){var $schema=schema.$schema||self._opts.defaultMeta||defaultMeta(),currentUriFormat=self._formats.uri;self._formats.uri="function"==typeof currentUriFormat?SCHEMA_URI_FORMAT_FUNC:SCHEMA_URI_FORMAT;var valid;try{valid=validate($schema,schema)}finally{self._formats.uri=currentUriFormat}if(!valid&&throwOrLogError){var message="schema is invalid: "+errorsText();if("log"!=self._opts.validateSchema)throw new Error(message);console.error(message)}return valid}function defaultMeta(){var meta=self._opts.meta;return self._opts.defaultMeta="object"==(void 0===meta?"undefined":_typeof(meta))?meta.id||meta:self._opts.v5?v5.META_SCHEMA_ID:META_SCHEMA_ID,self._opts.defaultMeta}function getSchema(keyRef){var schemaObj=_getSchemaObj(keyRef);switch(void 0===schemaObj?"undefined":_typeof(schemaObj)){case"object":return schemaObj.validate||_compile(schemaObj);case"string":return getSchema(schemaObj);case"undefined":return _getSchemaFragment(keyRef)}}function _getSchemaFragment(ref){var res=resolve.schema.call(self,{schema:{}},ref);if(res){var schema=res.schema,root=res.root,baseId=res.baseId,v=compileSchema.call(self,schema,root,undefined,baseId);return self._fragments[ref]=new SchemaObject({ref:ref,fragment:!0,schema:schema,root:root,baseId:baseId,validate:v}),v}}function _getSchemaObj(keyRef){return keyRef=resolve.normalizeId(keyRef),self._schemas[keyRef]||self._refs[keyRef]||self._fragments[keyRef]}function removeSchema(schemaKeyRef){if(schemaKeyRef instanceof RegExp)return _removeAllSchemas(self._schemas,schemaKeyRef),void _removeAllSchemas(self._refs,schemaKeyRef);switch(void 0===schemaKeyRef?"undefined":_typeof(schemaKeyRef)){case"undefined":return _removeAllSchemas(self._schemas),_removeAllSchemas(self._refs),void self._cache.clear();case"string":var schemaObj=_getSchemaObj(schemaKeyRef);return schemaObj&&self._cache.del(schemaObj.jsonStr),delete self._schemas[schemaKeyRef],void delete self._refs[schemaKeyRef];case"object":var jsonStr=stableStringify(schemaKeyRef);self._cache.del(jsonStr);var id=schemaKeyRef.id;id&&(id=resolve.normalizeId(id),delete self._schemas[id],delete self._refs[id])}}function _removeAllSchemas(schemas,regex){for(var keyRef in schemas){var schemaObj=schemas[keyRef];schemaObj.meta||regex&&!regex.test(keyRef)||(self._cache.del(schemaObj.jsonStr),delete schemas[keyRef])}}function _addSchema(schema,skipValidation,meta,shouldAddSchema){if("object"!=(void 0===schema?"undefined":_typeof(schema)))throw new Error("schema should be object");var jsonStr=stableStringify(schema),cached=self._cache.get(jsonStr);if(cached)return cached;shouldAddSchema=shouldAddSchema||!1!==self._opts.addUsedSchema;var id=resolve.normalizeId(schema.id);id&&shouldAddSchema&&checkUnique(id);var recursiveMeta,willValidate=!1!==self._opts.validateSchema&&!skipValidation;willValidate&&!(recursiveMeta=schema.id&&schema.id==schema.$schema)&&validateSchema(schema,!0);var localRefs=resolve.ids.call(self,schema),schemaObj=new SchemaObject({id:id,schema:schema,localRefs:localRefs,jsonStr:jsonStr,meta:meta});return"#"!=id[0]&&shouldAddSchema&&(self._refs[id]=schemaObj),self._cache.put(jsonStr,schemaObj),willValidate&&recursiveMeta&&validateSchema(schema,!0),schemaObj}function _compile(schemaObj,root){function callValidate(){var _validate=schemaObj.validate,result=_validate.apply(null,arguments);return callValidate.errors=_validate.errors,result}if(schemaObj.compiling)return schemaObj.validate=callValidate,callValidate.schema=schemaObj.schema,callValidate.errors=null,callValidate.root=root||callValidate,!0===schemaObj.schema.$async&&(callValidate.$async=!0),callValidate;schemaObj.compiling=!0;var currentOpts;schemaObj.meta&&(currentOpts=self._opts,self._opts=self._metaOpts);var v;try{v=compileSchema.call(self,schemaObj.schema,root,schemaObj.localRefs)}finally{schemaObj.compiling=!1,schemaObj.meta&&(self._opts=currentOpts)}return schemaObj.validate=v,schemaObj.refs=v.refs,schemaObj.refVal=v.refVal,schemaObj.root=v.root,v}function errorsText(errors,options){if(!(errors=errors||self.errors))return"No errors";for(var separator=(options=options||{}).separator===undefined?", ":options.separator,dataVar=options.dataVar===undefined?"data":options.dataVar,text="",i=0;i<errors.length;i++){var e=errors[i];e&&(text+=dataVar+e.dataPath+" "+e.message+separator)}return text.slice(0,-separator.length)}function addFormat(name,format){"string"==typeof format&&(format=new RegExp(format)),self._formats[name]=format}function checkUnique(id){if(self._schemas[id]||self._refs[id])throw new Error('schema with key or id "'+id+'" already exists')}if(!(this instanceof Ajv))return new Ajv(opts);var self=this;opts=this._opts=util.copy(opts)||{},this._schemas={},this._refs={},this._fragments={},this._formats=formats(opts.format),this._cache=opts.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this.validate=validate,this.compile=compile,this.addSchema=addSchema,this.addMetaSchema=addMetaSchema,this.validateSchema=validateSchema,this.getSchema=getSchema,this.removeSchema=removeSchema,this.addFormat=addFormat,this.errorsText=errorsText,this._addSchema=_addSchema,this._compile=_compile,opts.loopRequired=opts.loopRequired||Infinity,(opts.async||opts.transpile)&&async.setup(opts),!0===opts.beautify&&(opts.beautify={indent_size:2}),"property"==opts.errorDataPath&&(opts._errorDataPathProperty=!0),this._metaOpts=function(){for(var metaOpts=util.copy(self._opts),i=0;i<META_IGNORE_OPTIONS.length;i++)delete metaOpts[META_IGNORE_OPTIONS[i]];return metaOpts}(),opts.formats&&function(){for(var name in self._opts.formats)addFormat(name,self._opts.formats[name])}(),function(){!1!==self._opts.meta&&(addMetaSchema(require("./refs/json-schema-draft-04.json"),META_SCHEMA_ID,!0),self._refs["http://json-schema.org/schema"]=META_SCHEMA_ID)}(),opts.v5&&v5.enable(this),"object"==_typeof(opts.meta)&&addMetaSchema(opts.meta),function(){var optsSchemas=self._opts.schemas;if(optsSchemas)if(Array.isArray(optsSchemas))addSchema(optsSchemas);else for(var key in optsSchemas)addSchema(optsSchemas[key],key)}()}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},compileSchema=require("./compile"),resolve=require("./compile/resolve"),Cache=require("./cache"),SchemaObject=require("./compile/schema_obj"),stableStringify=require("json-stable-stringify"),formats=require("./compile/formats"),rules=require("./compile/rules"),v5=require("./v5"),util=require("./compile/util"),async=require("./async"),co=require("co");module.exports=Ajv,Ajv.prototype.compileAsync=async.compile;var customKeyword=require("./keyword");Ajv.prototype.addKeyword=customKeyword.add,Ajv.prototype.getKeyword=customKeyword.get,Ajv.prototype.removeKeyword=customKeyword.remove,Ajv.ValidationError=require("./compile/validation_error");var META_SCHEMA_ID="http://json-schema.org/draft-04/schema",SCHEMA_URI_FORMAT=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes"]},{"./async":2,"./cache":3,"./compile":7,"./compile/formats":6,"./compile/resolve":8,"./compile/rules":9,"./compile/schema_obj":10,"./compile/util":12,"./compile/validation_error":13,"./keyword":38,"./refs/json-schema-draft-04.json":39,"./v5":41,co:109,"json-stable-stringify":42}],2:[function(require,module,exports){"use strict";function setupAsync(opts,required){!1!==required&&(required=!0);var check,async=opts.async,transpile=opts.transpile;switch(void 0===transpile?"undefined":_typeof(transpile)){case"string":var get=TRANSPILE[transpile];if(!get)throw new Error("bad transpiler: "+transpile);return opts._transpileFunc=get(opts,required);case"undefined":case"boolean":if("string"==typeof async){if(!(check=ASYNC[async]))throw new Error("bad async mode: "+async);return opts.transpile=check(opts,required)}for(var i=0;i<MODES.length;i++){var _opts=MODES[i];if(setupAsync(_opts,!1))return util.copy(_opts,opts),opts.transpile}throw new Error("generators, nodent and regenerator are not available");case"function":return opts._transpileFunc=opts.transpile;default:throw new Error("bad transpiler: "+transpile)}}function checkGenerators(opts,required){try{return new Function("(function*(){})()")(),!0}catch(e){if(required)throw new Error("generators not supported")}}function checkAsyncFunction(opts,required){try{return new Function("(async function(){})()")(),!0}catch(e){if(required)throw new Error("es7 async functions not supported")}}function getRegenerator(opts,required){try{if(!regenerator){(regenerator=require("regenerator")).runtime()}return opts.async&&!0!==opts.async||(opts.async="es7"),regeneratorTranspile}catch(e){if(required)throw new Error("regenerator not available")}}function regeneratorTranspile(code){return regenerator.compile(code).code}function getNodent(opts,required){try{if(!nodent){nodent=require("nodent")({log:!1,dontInstallRequireHook:!0})}return"es7"!=opts.async&&(opts.async&&!0!==opts.async&&console.warn("nodent transpiles only es7 async functions"),opts.async="es7"),nodentTranspile}catch(e){if(required)throw new Error("nodent not available")}}function nodentTranspile(code){return nodent.compile(code,"",{promises:!0,sourcemap:!1}).code}function compileAsync(schema,callback){function _compileAsync(schema,callback,firstCall){function deferCallback(err,validate){if(!firstCall)return callback(err,validate);setTimeout(function(){callback(err,validate)})}var validate;try{validate=self.compile(schema)}catch(e){return void(e.missingSchema?function(e){function schemaLoaded(err,sch){if(err)return callback(err);if(!self._refs[ref]&&!self._schemas[ref])try{self.addSchema(sch,ref)}catch(e){return void callback(e)}_compileAsync(schema,callback)}var ref=e.missingSchema;if(self._refs[ref]||self._schemas[ref])return callback(new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved"));var _callbacks=self._loadingSchemas[ref];_callbacks?"function"==typeof _callbacks?self._loadingSchemas[ref]=[_callbacks,schemaLoaded]:_callbacks[_callbacks.length]=schemaLoaded:(self._loadingSchemas[ref]=schemaLoaded,self._opts.loadSchema(ref,function(err,sch){var _callbacks=self._loadingSchemas[ref];if(delete self._loadingSchemas[ref],"function"==typeof _callbacks)_callbacks(err,sch);else for(var i=0;i<_callbacks.length;i++)_callbacks[i](err,sch)}))}(e):deferCallback(e))}deferCallback(null,validate)}var schemaObj,self=this;try{schemaObj=this._addSchema(schema)}catch(e){return void setTimeout(function(){callback(e)})}if(schemaObj.validate)setTimeout(function(){callback(null,schemaObj.validate)});else{if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");_compileAsync(schema,callback,!0)}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={setup:setupAsync,compile:compileAsync};var regenerator,nodent,util=require("./compile/util"),ASYNC={"*":checkGenerators,"co*":checkGenerators,es7:checkAsyncFunction},TRANSPILE={nodent:getNodent,regenerator:getRegenerator},MODES=[{async:"co*"},{async:"es7",transpile:"nodent"},{async:"co*",transpile:"regenerator"}]},{"./compile/util":12}],3:[function(require,module,exports){"use strict";var Cache=module.exports=function(){this._cache={}};Cache.prototype.put=function(key,value){this._cache[key]=value},Cache.prototype.get=function(key){return this._cache[key]},Cache.prototype.del=function(key){delete this._cache[key]},Cache.prototype.clear=function(){this._cache={}}},{}],4:[function(require,module,exports){"use strict";module.exports={$ref:require("../dotjs/ref"),allOf:require("../dotjs/allOf"),anyOf:require("../dotjs/anyOf"),dependencies:require("../dotjs/dependencies"),"enum":require("../dotjs/enum"),format:require("../dotjs/format"),items:require("../dotjs/items"),maximum:require("../dotjs/_limit"),minimum:require("../dotjs/_limit"),maxItems:require("../dotjs/_limitItems"),minItems:require("../dotjs/_limitItems"),maxLength:require("../dotjs/_limitLength"),minLength:require("../dotjs/_limitLength"),maxProperties:require("../dotjs/_limitProperties"),minProperties:require("../dotjs/_limitProperties"),multipleOf:require("../dotjs/multipleOf"),not:require("../dotjs/not"),oneOf:require("../dotjs/oneOf"),pattern:require("../dotjs/pattern"),properties:require("../dotjs/properties"),required:require("../dotjs/required"),uniqueItems:require("../dotjs/uniqueItems"),validate:require("../dotjs/validate")}},{"../dotjs/_limit":15,"../dotjs/_limitItems":16,"../dotjs/_limitLength":17,"../dotjs/_limitProperties":18,"../dotjs/allOf":19,"../dotjs/anyOf":20,"../dotjs/dependencies":23,"../dotjs/enum":24,"../dotjs/format":25,"../dotjs/items":26,"../dotjs/multipleOf":27,"../dotjs/not":28,"../dotjs/oneOf":29,"../dotjs/pattern":30,"../dotjs/properties":32,"../dotjs/ref":33,"../dotjs/required":34,"../dotjs/uniqueItems":36,"../dotjs/validate":37}],5:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function equal(a,b){if(a===b)return!0;var i,arrA=Array.isArray(a),arrB=Array.isArray(b);if(arrA&&arrB){if(a.length!=b.length)return!1;for(i=0;i<a.length;i++)if(!equal(a[i],b[i]))return!1;return!0}if(arrA!=arrB)return!1;if(a&&b&&"object"===(void 0===a?"undefined":_typeof(a))&&"object"===(void 0===b?"undefined":_typeof(b))){var keys=Object.keys(a);if(keys.length!==Object.keys(b).length)return!1;var dateA=a instanceof Date,dateB=b instanceof Date;if(dateA&&dateB)return a.getTime()==b.getTime();if(dateA!=dateB)return!1;var regexpA=a instanceof RegExp,regexpB=b instanceof RegExp;if(regexpA&&regexpB)return a.toString()==b.toString();if(regexpA!=regexpB)return!1;for(i=0;i<keys.length;i++)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=0;i<keys.length;i++)if(!equal(a[keys[i]],b[keys[i]]))return!1;return!0}return!1}},{}],6:[function(require,module,exports){"use strict";function formats(mode){mode="full"==mode?"full":"fast";var formatDefs=util.copy(formats[mode]);for(var fName in formats.compare)formatDefs[fName]={validate:formatDefs[fName],compare:formats.compare[fName]};return formatDefs}function date(str){var matches=str.match(DATE);if(!matches)return!1;var month=+matches[1],day=+matches[2];return month>=1&&month<=12&&day>=1&&day<=DAYS[month]}function time(str,full){var matches=str.match(TIME);if(!matches)return!1;var hour=matches[1],minute=matches[2],second=matches[3],timeZone=matches[5];return hour<=23&&minute<=59&&second<=59&&(!full||timeZone)}function date_time(str){var dateTime=str.split(DATE_TIME_SEPARATOR);return 2==dateTime.length&&date(dateTime[0])&&time(dateTime[1],!0)}function hostname(str){return str.length<=255&&HOSTNAME.test(str)}function uri(str){return NOT_URI_FRAGMENT.test(str)&&URI.test(str)}function regex(str){try{return new RegExp(str),!0}catch(e){return!1}}function compareDate(d1,d2){if(d1&&d2)return d1>d2?1:d1<d2?-1:d1===d2?0:void 0}function compareTime(t1,t2){if(t1&&t2&&(t1=t1.match(TIME),t2=t2.match(TIME),t1&&t2))return t1=t1[1]+t1[2]+t1[3]+(t1[4]||""),t2=t2[1]+t2[2]+t2[3]+(t2[4]||""),t1>t2?1:t1<t2?-1:t1===t2?0:void 0}function compareDateTime(dt1,dt2){if(dt1&&dt2){dt1=dt1.split(DATE_TIME_SEPARATOR),dt2=dt2.split(DATE_TIME_SEPARATOR);var res=compareDate(dt1[0],dt2[0]);if(res!==undefined)return res||compareTime(dt1[1],dt2[1])}}var util=require("./util"),DATE=/^\d\d\d\d-(\d\d)-(\d\d)$/,DAYS=[0,31,29,31,30,31,30,31,31,30,31,30,31],TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,UUID=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;module.exports=formats,formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/},formats.full={date:date,time:time,"date-time":date_time,uri:uri,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hostname,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/},formats.compare={date:compareDate,time:compareTime,"date-time":compareDateTime};var DATE_TIME_SEPARATOR=/t|\s/i,NOT_URI_FRAGMENT=/\/|\:/},{"./util":12}],7:[function(require,module,exports){"use strict";function loadBeautify(){if(beautify===undefined){try{beautify=require("js-beautify").js_beautify}catch(e){beautify=!1}}}function compile(schema,root,localRefs,baseId){function callValidate(){var validate=compilation.validate,result=validate.apply(null,arguments);return callValidate.errors=validate.errors,result}function localCompile(_schema,_root,localRefs,baseId){var isRoot=!_root||_root&&_root.schema==_schema;if(_root.schema!=root.schema)return compile.call(self,_schema,_root,localRefs,baseId);var $async=!0===_schema.$async;$async&&!opts.transpile&&async.setup(opts);var sourceCode=validateGenerator({isTop:!0,schema:_schema,isRoot:isRoot,baseId:baseId,root:_root,schemaPath:"",errSchemaPath:"#",errorPath:'""',RULES:RULES,validate:validateGenerator,util:util,resolve:resolve,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:opts,formats:formats,self:self});sourceCode=vars(refVal,refValCode)+vars(patterns,patternCode)+vars(defaults,defaultCode)+vars(customRules,customRuleCode)+sourceCode,opts.beautify&&(loadBeautify(),beautify?sourceCode=beautify(sourceCode,opts.beautify):console.error('"npm install js-beautify" to use beautify option'));var validate,validateCode,transpile=opts._transpileFunc;try{validateCode=$async&&transpile?transpile(sourceCode):sourceCode,validate=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",validateCode)(self,RULES,formats,root,refVal,defaults,customRules,co,equal,ucs2length,ValidationError),refVal[0]=validate}catch(e){throw console.error("Error compiling schema, function code:",validateCode),e}return validate.schema=_schema,validate.errors=null,validate.refs=refs,validate.refVal=refVal,validate.root=isRoot?validate:_root,$async&&(validate.$async=!0),keepSourceCode&&(validate.sourceCode=sourceCode),!0===opts.sourceCode&&(validate.source={patterns:patterns,defaults:defaults}),validate}function resolveRef(baseId,ref,isRoot){ref=resolve.url(baseId,ref);var _refVal,refCode,refIndex=refs[ref];if(refIndex!==undefined)return _refVal=refVal[refIndex],refCode="refVal["+refIndex+"]",resolvedRef(_refVal,refCode);if(!isRoot&&root.refs){var rootRefId=root.refs[ref];if(rootRefId!==undefined)return _refVal=root.refVal[rootRefId],refCode=addLocalRef(ref,_refVal),resolvedRef(_refVal,refCode)}refCode=addLocalRef(ref);var v=resolve.call(self,localCompile,root,ref);if(!v){var localSchema=localRefs&&localRefs[ref];localSchema&&(v=resolve.inlineRef(localSchema,opts.inlineRefs)?localSchema:compile.call(self,localSchema,root,localRefs,baseId))}return v?(replaceLocalRef(ref,v),resolvedRef(v,refCode)):void 0}function addLocalRef(ref,v){var refId=refVal.length;return refVal[refId]=v,refs[ref]=refId,"refVal"+refId}function replaceLocalRef(ref,v){var refId=refs[ref];refVal[refId]=v}function resolvedRef(refVal,code){return"object"==(void 0===refVal?"undefined":_typeof(refVal))?{code:code,schema:refVal,inline:!0}:{code:code,$async:refVal&&refVal.$async}}function usePattern(regexStr){var index=patternsHash[regexStr];return index===undefined&&(index=patternsHash[regexStr]=patterns.length,patterns[index]=regexStr),"pattern"+index}function useDefault(value){switch(void 0===value?"undefined":_typeof(value)){case"boolean":case"number":return""+value;case"string":return util.toQuotedString(value);case"object":if(null===value)return"null";var valueStr=stableStringify(value),index=defaultsHash[valueStr];return index===undefined&&(index=defaultsHash[valueStr]=defaults.length,defaults[index]=value),"default"+index}}function useCustomRule(rule,schema,parentSchema,it){var validateSchema=rule.definition.validateSchema;if(validateSchema&&!1!==self._opts.validateSchema&&!validateSchema(schema)){var message="keyword schema is invalid: "+self.errorsText(validateSchema.errors);if("log"!=self._opts.validateSchema)throw new Error(message);console.error(message)}var validate,compile=rule.definition.compile,inline=rule.definition.inline,macro=rule.definition.macro;compile?validate=compile.call(self,schema,parentSchema,it):macro?(validate=macro.call(self,schema,parentSchema,it),!1!==opts.validateSchema&&self.validateSchema(validate,!0)):validate=inline?inline.call(self,it,rule.keyword,schema,parentSchema):rule.definition.validate;var index=customRules.length;return customRules[index]=validate,{code:"customRule"+index,validate:validate}}var self=this,opts=this._opts,refVal=[undefined],refs={},patterns=[],patternsHash={},defaults=[],defaultsHash={},customRules=[],keepSourceCode=!1!==opts.sourceCode;root=root||{schema:schema,refVal:refVal,refs:refs};var c=checkCompiling.call(this,schema,root,baseId),compilation=this._compilations[c.index];if(c.compiling)return compilation.callValidate=callValidate;var formats=this._formats,RULES=this.RULES;try{var v=localCompile(schema,root,localRefs,baseId);compilation.validate=v;var cv=compilation.callValidate;return cv&&(cv.schema=v.schema,cv.errors=null,cv.refs=v.refs,cv.refVal=v.refVal,cv.root=v.root,cv.$async=v.$async,keepSourceCode&&(cv.sourceCode=v.sourceCode)),v}finally{endCompiling.call(this,schema,root,baseId)}}function checkCompiling(schema,root,baseId){var index=compIndex.call(this,schema,root,baseId);return index>=0?{index:index,compiling:!0}:(index=this._compilations.length,this._compilations[index]={schema:schema,root:root,baseId:baseId},{index:index,compiling:!1})}function endCompiling(schema,root,baseId){var i=compIndex.call(this,schema,root,baseId);i>=0&&this._compilations.splice(i,1)}function compIndex(schema,root,baseId){for(var i=0;i<this._compilations.length;i++){var c=this._compilations[i];if(c.schema==schema&&c.root==root&&c.baseId==baseId)return i}return-1}function patternCode(i,patterns){return"var pattern"+i+" = new RegExp("+util.toQuotedString(patterns[i])+");"}function defaultCode(i){return"var default"+i+" = defaults["+i+"];"}function refValCode(i,refVal){return refVal[i]?"var refVal"+i+" = refVal["+i+"];":""}function customRuleCode(i){return"var customRule"+i+" = customRules["+i+"];"}function vars(arr,statement){if(!arr.length)return"";for(var code="",i=0;i<arr.length;i++)code+=statement(i,arr);return code}var beautify,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},resolve=require("./resolve"),util=require("./util"),stableStringify=require("json-stable-stringify"),async=require("../async"),validateGenerator=require("../dotjs/validate"),co=require("co"),ucs2length=util.ucs2length,equal=require("./equal"),ValidationError=require("./validation_error");module.exports=compile},{"../async":2,"../dotjs/validate":37,"./equal":5,"./resolve":8,"./util":12,"./validation_error":13,co:109,"json-stable-stringify":42}],8:[function(require,module,exports){"use strict";function resolve(compile,root,ref){var refVal=this._refs[ref];if("string"==typeof refVal){if(!this._refs[refVal])return resolve.call(this,compile,root,refVal);refVal=this._refs[refVal]}if((refVal=refVal||this._schemas[ref])instanceof SchemaObject)return inlineRef(refVal.schema,this._opts.inlineRefs)?refVal.schema:refVal.validate||this._compile(refVal);var schema,v,baseId,res=resolveSchema.call(this,root,ref);return res&&(schema=res.schema,root=res.root,baseId=res.baseId),schema instanceof SchemaObject?v=schema.validate||compile.call(this,schema.schema,root,undefined,baseId):schema&&(v=inlineRef(schema,this._opts.inlineRefs)?schema:compile.call(this,schema,root,undefined,baseId)),v}function resolveSchema(root,ref){var p=url.parse(ref,!1,!0),refPath=_getFullPath(p),baseId=getFullPath(root.schema.id);if(refPath!==baseId){var id=normalizeId(refPath),refVal=this._refs[id];if("string"==typeof refVal)return resolveRecursive.call(this,root,refVal,p);if(refVal instanceof SchemaObject)refVal.validate||this._compile(refVal),root=refVal;else{if(!((refVal=this._schemas[id])instanceof SchemaObject))return;if(refVal.validate||this._compile(refVal),id==normalizeId(ref))return{schema:refVal,root:root,baseId:baseId};root=refVal}if(!root.schema)return;baseId=getFullPath(root.schema.id)}return getJsonPointer.call(this,p,baseId,root.schema,root)}function resolveRecursive(root,ref,parsedRef){var res=resolveSchema.call(this,root,ref);if(res){var schema=res.schema,baseId=res.baseId;return root=res.root,schema.id&&(baseId=resolveUrl(baseId,schema.id)),getJsonPointer.call(this,parsedRef,baseId,schema,root)}}function getJsonPointer(parsedRef,baseId,schema,root){if(parsedRef.hash=parsedRef.hash||"","#/"==parsedRef.hash.slice(0,2)){for(var parts=parsedRef.hash.split("/"),i=1;i<parts.length;i++){var part=parts[i];if(part){if(part=util.unescapeFragment(part),!(schema=schema[part]))break;if(schema.id&&!PREVENT_SCOPE_CHANGE[part]&&(baseId=resolveUrl(baseId,schema.id)),schema.$ref){var $ref=resolveUrl(baseId,schema.$ref),res=resolveSchema.call(this,root,$ref);res&&(schema=res.schema,root=res.root,baseId=res.baseId)}}}return schema&&schema!=root.schema?{schema:schema,root:root,baseId:baseId}:void 0}}function inlineRef(schema,limit){return!1!==limit&&(limit===undefined||!0===limit?checkNoRef(schema):limit?countKeys(schema)<=limit:void 0)}function checkNoRef(schema){var item;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)if(item=schema[i],"object"==(void 0===item?"undefined":_typeof(item))&&!checkNoRef(item))return!1}else for(var key in schema){if("$ref"==key)return!1;if(item=schema[key],"object"==(void 0===item?"undefined":_typeof(item))&&!checkNoRef(item))return!1}return!0}function countKeys(schema){var item,count=0;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)if(item=schema[i],"object"==(void 0===item?"undefined":_typeof(item))&&(count+=countKeys(item)),count==Infinity)return Infinity}else for(var key in schema){if("$ref"==key)return Infinity;if(SIMPLE_INLINED[key])count++;else if(item=schema[key],"object"==(void 0===item?"undefined":_typeof(item))&&(count+=countKeys(item)+1),count==Infinity)return Infinity}return count}function getFullPath(id,normalize){return!1!==normalize&&(id=normalizeId(id)),_getFullPath(url.parse(id,!1,!0))}function _getFullPath(p){var protocolSeparator=p.protocol||"//"==p.href.slice(0,2)?"//":"";return(p.protocol||"")+protocolSeparator+(p.host||"")+(p.path||"")+"#"}function normalizeId(id){return id?id.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(baseId,id){return id=normalizeId(id),url.resolve(baseId,id)}function resolveIds(schema){function _resolveIds(schema,fullPath,baseId){if(Array.isArray(schema))for(var i=0;i<schema.length;i++)_resolveIds.call(this,schema[i],fullPath+"/"+i,baseId);else if(schema&&"object"==(void 0===schema?"undefined":_typeof(schema))){if("string"==typeof schema.id){var id=baseId=baseId?url.resolve(baseId,schema.id):schema.id;id=normalizeId(id);var refVal=this._refs[id];if("string"==typeof refVal&&(refVal=this._refs[refVal]),refVal&&refVal.schema){if(!equal(schema,refVal.schema))throw new Error('id "'+id+'" resolves to more than one schema')}else if(id!=normalizeId(fullPath))if("#"==id[0]){if(localRefs[id]&&!equal(schema,localRefs[id]))throw new Error('id "'+id+'" resolves to more than one schema');localRefs[id]=schema}else this._refs[id]=fullPath}for(var key in schema)_resolveIds.call(this,schema[key],fullPath+"/"+util.escapeFragment(key),baseId)}}var id=normalizeId(schema.id),localRefs={};return _resolveIds.call(this,schema,getFullPath(id,!1),id),localRefs}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},url=require("url"),equal=require("./equal"),util=require("./util"),SchemaObject=require("./schema_obj");module.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=resolveIds,resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]),SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),TRAILING_SLASH_HASH=/#\/?$/},{"./equal":5,"./schema_obj":10,"./util":12,url:630}],9:[function(require,module,exports){"use strict";var ruleModules=require("./_rules"),toHash=require("./util").toHash;module.exports=function(){var RULES=[{type:"number",rules:["maximum","minimum","multipleOf"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","properties"]},{rules:["$ref","enum","not","anyOf","oneOf","allOf"]}],ALL=["type","additionalProperties","patternProperties"],KEYWORDS=["additionalItems","$schema","id","title","description","default"],TYPES=["number","integer","string","array","object","boolean","null"];return RULES.all=toHash(ALL),RULES.forEach(function(group){group.rules=group.rules.map(function(keyword){return ALL.push(keyword),RULES.all[keyword]={keyword:keyword,code:ruleModules[keyword]}})}),RULES.keywords=toHash(ALL.concat(KEYWORDS)),RULES.types=toHash(TYPES),RULES.custom={},RULES}},{"./_rules":4,"./util":12}],10:[function(require,module,exports){"use strict";function SchemaObject(obj){util.copy(obj,this)}var util=require("./util");module.exports=SchemaObject},{"./util":12}],11:[function(require,module,exports){"use strict";module.exports=function(str){for(var value,length=0,len=str.length,pos=0;pos<len;)length++,(value=str.charCodeAt(pos++))>=55296&&value<=56319&&pos<len&&56320==(64512&(value=str.charCodeAt(pos)))&&pos++;return length}},{}],12:[function(require,module,exports){"use strict";function copy(o,to){to=to||{};for(var key in o)to[key]=o[key];return to}function checkDataType(dataType,data,negate){var EQUAL=negate?" !== ":" === ",AND=negate?" || ":" && ",OK=negate?"!":"",NOT=negate?"":"!";switch(dataType){case"null":return data+EQUAL+"null";case"array":return OK+"Array.isArray("+data+")";case"object":return"("+OK+data+AND+"typeof "+data+EQUAL+'"object"'+AND+NOT+"Array.isArray("+data+"))";case"integer":return"(typeof "+data+EQUAL+'"number"'+AND+NOT+"("+data+" % 1)"+AND+data+EQUAL+data+")";default:return"typeof "+data+EQUAL+'"'+dataType+'"'}}function checkDataTypes(dataTypes,data){switch(dataTypes.length){case 1:return checkDataType(dataTypes[0],data,!0);default:var code="",types=toHash(dataTypes);types.array&&types.object&&(code=types["null"]?"(":"(!"+data+" || ",code+="typeof "+data+' !== "object")',delete types["null"],delete types.array,delete types.object),types.number&&delete types.integer;for(var t in types)code+=(code?" && ":"")+checkDataType(t,data,!0);return code}}function coerceToTypes(optionCoerceTypes,dataTypes){if(Array.isArray(dataTypes)){for(var types=[],i=0;i<dataTypes.length;i++){var t=dataTypes[i];COERCE_TO_TYPES[t]?types[types.length]=t:"array"===optionCoerceTypes&&"array"===t&&(types[types.length]=t)}if(types.length)return types}else{if(COERCE_TO_TYPES[dataTypes])return[dataTypes];if("array"===optionCoerceTypes&&"array"===dataTypes)return["array"]}}function toHash(arr){for(var hash={},i=0;i<arr.length;i++)hash[arr[i]]=!0;return hash}function getProperty(key){return"number"==typeof key?"["+key+"]":IDENTIFIER.test(key)?"."+key:"['"+escapeQuotes(key)+"']"}function escapeQuotes(str){return str.replace(SINGLE_QUOTE,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function varOccurences(str,dataVar){dataVar+="[^0-9]";var matches=str.match(new RegExp(dataVar,"g"));return matches?matches.length:0}function varReplace(str,dataVar,expr){return dataVar+="([^0-9])",expr=expr.replace(/\$/g,"$$$$"),str.replace(new RegExp(dataVar,"g"),expr+"$1")}function cleanUpCode(out){return out.replace(EMPTY_ELSE,"").replace(EMPTY_IF_NO_ELSE,"").replace(EMPTY_IF_WITH_ELSE,"if (!($1))")}function cleanUpVarErrors(out,async){var matches=out.match(ERRORS_REGEXP);return matches&&2===matches.length?async?out.replace(REMOVE_ERRORS_ASYNC,"").replace(RETURN_ASYNC,RETURN_TRUE_ASYNC):out.replace(REMOVE_ERRORS,"").replace(RETURN_VALID,RETURN_TRUE):out}function schemaHasRules(schema,rules){for(var key in schema)if(rules[key])return!0}function schemaHasRulesExcept(schema,rules,exceptKeyword){for(var key in schema)if(key!=exceptKeyword&&rules[key])return!0}function toQuotedString(str){return"'"+escapeQuotes(str)+"'"}function getPathExpr(currentPath,expr,jsonPointers,isNumber){return joinPaths(currentPath,jsonPointers?"'/' + "+expr+(isNumber?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):isNumber?"'[' + "+expr+" + ']'":"'[\\'' + "+expr+" + '\\']'")}function getPath(currentPath,prop,jsonPointers){return joinPaths(currentPath,toQuotedString(jsonPointers?"/"+escapeJsonPointer(prop):getProperty(prop)))}function getData($data,lvl,paths){var up,jsonPointer,data,matches;if(""===$data)return"rootData";if("/"==$data[0]){if(!JSON_POINTER.test($data))throw new Error("Invalid JSON-pointer: "+$data);jsonPointer=$data,data="rootData"}else{if(!(matches=$data.match(RELATIVE_JSON_POINTER)))throw new Error("Invalid JSON-pointer: "+$data);if(up=+matches[1],"#"==(jsonPointer=matches[2])){if(up>=lvl)throw new Error("Cannot access property/index "+up+" levels up, current level is "+lvl);return paths[lvl-up]}if(up>lvl)throw new Error("Cannot access data "+up+" levels up, current level is "+lvl);if(data="data"+(lvl-up||""),!jsonPointer)return data}for(var expr=data,segments=jsonPointer.split("/"),i=0;i<segments.length;i++){var segment=segments[i];segment&&(expr+=" && "+(data+=getProperty(unescapeJsonPointer(segment))))}return expr}function joinPaths(a,b){return'""'==a?b:(a+" + "+b).replace(/' \+ '/g,"")}function unescapeFragment(str){return unescapeJsonPointer(decodeURIComponent(str))}function escapeFragment(str){return encodeURIComponent(escapeJsonPointer(str))}function escapeJsonPointer(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")}module.exports={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,ucs2length:require("./ucs2length"),varOccurences:varOccurences,varReplace:varReplace,cleanUpCode:cleanUpCode,cleanUpVarErrors:cleanUpVarErrors,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,stableStringify:require("json-stable-stringify"),toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]),IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\/g,EMPTY_ELSE=/else\s*{\s*}/g,EMPTY_IF_NO_ELSE=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,EMPTY_IF_WITH_ELSE=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,ERRORS_REGEXP=/[^v\.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID="return errors === 0;",RETURN_TRUE="validate.errors = null; return true;",RETURN_ASYNC=/if \(errors === 0\) return true;\s*else throw new ValidationError\(vErrors\);/,RETURN_TRUE_ASYNC="return true;",JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},{"./ucs2length":11,"json-stable-stringify":42}],13:[function(require,module,exports){"use strict";function ValidationError(errors){this.message="validation failed",this.errors=errors,this.ajv=this.validation=!0}module.exports=ValidationError,ValidationError.prototype=Object.create(Error.prototype),ValidationError.prototype.constructor=ValidationError},{}],14:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl;if(out+="var "+$valid+" = undefined;",!1===it.opts.format)return out+=" "+$valid+" = true; ";var $schemaFormat=it.schema.format,$isDataFormat=it.opts.v5&&$schemaFormat.$data,$closingBraces="";if($isDataFormat)out+=" var "+($format="format"+$lvl)+" = formats["+it.util.getData($schemaFormat.$data,$dataLvl,it.dataPathArr)+"] , "+($compare="compare"+$lvl)+" = "+$format+" && "+$format+".compare;";else{var $format=it.formats[$schemaFormat];if(!$format||!$format.compare)return out+="  "+$valid+" = true; ";var $compare="formats"+it.util.getProperty($schemaFormat)+".compare"}var $schemaValue,$isMax="formatMaximum"==$keyword,$exclusiveKeyword="formatExclusive"+($isMax?"Maximum":"Minimum"),$schemaExcl=it.schema[$exclusiveKeyword],$isDataExcl=it.opts.v5&&$schemaExcl&&$schemaExcl.$data,$op=$isMax?"<":">",$result="result"+$lvl,$isData=it.opts.v5&&$schema&&$schema.$data;if($isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,$isDataExcl){var $schemaValueExcl=it.util.getData($schemaExcl.$data,$dataLvl,it.dataPathArr),$exclusive="exclusive"+$lvl,$opStr="' + "+($opExpr="op"+$lvl)+" + '";out+=" var schemaExcl"+$lvl+" = "+$schemaValueExcl+"; ",out+=" if (typeof "+($schemaValueExcl="schemaExcl"+$lvl)+" != 'boolean' && "+$schemaValueExcl+" !== undefined) { "+$valid+" = false; ";$errorKeyword=$exclusiveKeyword;($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_formatExclusiveLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: '"+$exclusiveKeyword+" should be boolean' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }  ",$breakOnError&&($closingBraces+="}",out+=" else { "),$isData&&(out+=" if ("+$schemaValue+" === undefined) "+$valid+" = true; else if (typeof "+$schemaValue+" != 'string') "+$valid+" = false; else { ",$closingBraces+="}"),$isDataFormat&&(out+=" if (!"+$compare+") "+$valid+" = true; else { ",$closingBraces+="}"),out+=" var "+$result+" = "+$compare+"("+$data+",  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+=" ); if ("+$result+" === undefined) "+$valid+" = false; var "+$exclusive+" = "+$schemaValueExcl+" === true; if ("+$valid+" === undefined) { "+$valid+" = "+$exclusive+" ? "+$result+" "+$op+" 0 : "+$result+" "+$op+"= 0; } if (!"+$valid+") var op"+$lvl+" = "+$exclusive+" ? '"+$op+"' : '"+$op+"=';"}else{$opStr=$op;($exclusive=!0===$schemaExcl)||($opStr+="=");var $opExpr="'"+$opStr+"'";$isData&&(out+=" if ("+$schemaValue+" === undefined) "+$valid+" = true; else if (typeof "+$schemaValue+" != 'string') "+$valid+" = false; else { ",$closingBraces+="}"),$isDataFormat&&(out+=" if (!"+$compare+") "+$valid+" = true; else { ",$closingBraces+="}"),out+=" var "+$result+" = "+$compare+"("+$data+",  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+=" ); if ("+$result+" === undefined) "+$valid+" = false; if ("+$valid+" === undefined) "+$valid+" = "+$result+" "+$op,$exclusive||(out+="="),out+=" 0;"}out+=$closingBraces+"if (!"+$valid+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_formatLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { comparison: "+$opExpr+", limit:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+=" , exclusive: "+$exclusive+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be "+$opStr+' "',out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="}"}},{}],15:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $isMax="maximum"==$keyword,$exclusiveKeyword=$isMax?"exclusiveMaximum":"exclusiveMinimum",$schemaExcl=it.schema[$exclusiveKeyword],$isDataExcl=it.opts.v5&&$schemaExcl&&$schemaExcl.$data,$op=$isMax?"<":">",$notOp=$isMax?">":"<";if($isDataExcl){var $schemaValueExcl=it.util.getData($schemaExcl.$data,$dataLvl,it.dataPathArr),$exclusive="exclusive"+$lvl,$opStr="' + "+($opExpr="op"+$lvl)+" + '";out+=" var schemaExcl"+$lvl+" = "+$schemaValueExcl+"; ",out+=" var exclusive"+$lvl+"; if (typeof "+($schemaValueExcl="schemaExcl"+$lvl)+" != 'boolean' && typeof "+$schemaValueExcl+" != 'undefined') { ";$errorKeyword=$exclusiveKeyword;($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: '"+$exclusiveKeyword+" should be boolean' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else if( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" ((exclusive"+$lvl+" = "+$schemaValueExcl+" === true) ? "+$data+" "+$notOp+"= "+$schemaValue+" : "+$data+" "+$notOp+" "+$schemaValue+") || "+$data+" !== "+$data+") { var op"+$lvl+" = exclusive"+$lvl+" ? '"+$op+"' : '"+$op+"=';"}else{$opStr=$op;($exclusive=!0===$schemaExcl)||($opStr+="=");var $opExpr="'"+$opStr+"'";out+=" if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$data+" "+$notOp,$exclusive&&(out+="="),out+=" "+$schemaValue+" || "+$data+" !== "+$data+") {"}var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { comparison: "+$opExpr+", limit: "+$schemaValue+", exclusive: "+$exclusive+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be "+$opStr+" ",out+=$isData?"' + "+$schemaValue:$schema+"'"),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { "),out}},{}],16:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $op="maxItems"==$keyword?">":"<";out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$data+".length "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitItems")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have ",out+="maxItems"==$keyword?"more":"less",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" items' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],17:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $op="maxLength"==$keyword?">":"<";out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),!1===it.opts.unicode?out+=" "+$data+".length ":out+=" ucs2length("+$data+") ",out+=" "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitLength")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be ",out+="maxLength"==$keyword?"longer":"shorter",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" characters' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],18:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $op="maxProperties"==$keyword?">":"<";out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" Object.keys("+$data+").length "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitProperties")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have ",out+="maxProperties"==$keyword?"more":"less",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" properties' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],19:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level,$currentBaseId=$it.baseId,$allSchemasEmpty=!0,arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],it.util.schemaHasRules($sch,it.RULES.all)&&($allSchemasEmpty=!1,$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"));return $breakOnError&&(out+=$allSchemasEmpty?" if (true) { ":" "+$closingBraces.slice(0,-1)+" "),out=it.util.cleanUpCode(out)}},{}],20:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level;if($schema.every(function($sch){return it.util.schemaHasRules($sch,it.RULES.all)})){var $currentBaseId=$it.baseId;out+=" var "+$errs+" = errors; var "+$valid+" = false;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$valid+" || "+$nextValid+"; if (!"+$valid+") { ",$closingBraces+="}";it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$closingBraces+" if (!"+$valid+") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should match some schema in anyOf' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ",it.opts.allErrors&&(out+=" } "),out=it.util.cleanUpCode(out)}else $breakOnError&&(out+=" if (true) { ");return out}},{}],21:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.v5&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; "),$isData||(out+=" var schema"+$lvl+" = validate.schema"+$schemaPath+";"),out+="var "+$valid+" = equal("+$data+", schema"+$lvl+"); if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'constant' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should be equal to constant' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }"}},{}],22:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $errorKeyword,$schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $compile,$inline,$macro,$ruleValidate,$validateCode,$rule=this,$definition="definition"+$lvl,$rDef=$rule.definition;if($isData&&$rDef.$data){$validateCode="keywordValidate"+$lvl;var $validateSchema=$rDef.validateSchema;out+=" var "+$definition+" = RULES.custom['"+$keyword+"'].definition; var "+$validateCode+" = "+$definition+".validate;"}else $schemaValue="validate.schema"+$schemaPath,$validateCode=($ruleValidate=it.useCustomRule($rule,$schema,it.schema,it)).code,$compile=$rDef.compile,$inline=$rDef.inline,$macro=$rDef.macro;var $ruleErrs=$validateCode+".errors",$i="i"+$lvl,$ruleErr="ruleErr"+$lvl,$asyncKeyword=$rDef.async;if($asyncKeyword&&!it.async)throw new Error("async keyword in sync schema");if($inline||$macro||(out+=$ruleErrs+" = null;"),out+="var "+$errs+" = errors;var "+$valid+";",$validateSchema&&(out+=" "+$valid+" = "+$definition+".validateSchema("+$schemaValue+"); if ("+$valid+") {"),$inline)$rDef.statements?out+=" "+$ruleValidate.validate+" ":out+=" "+$valid+" = "+$ruleValidate.validate+"; ";else if($macro){var $it=it.util.copy(it),$nextValid="valid"+ ++$it.level;$it.schema=$ruleValidate.validate,$it.schemaPath="";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var $code=it.validate($it).replace(/validate\.schema/g,$validateCode);it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$code}else{($$outStack=$$outStack||[]).push(out),out="",out+="  "+$validateCode+".call( ",it.opts.passContext?out+="this":out+="self",$compile||!1===$rDef.schema?out+=" , "+$data+" ":out+=" , "+$schemaValue+" , "+$data+" , validate.schema"+it.schemaPath+" ",out+=" , (dataPath || '')",'""'!=it.errorPath&&(out+=" + "+it.errorPath);var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty",def_callRuleValidate=out+=" , "+$parentData+" , "+$parentDataProperty+" , rootData )  ";out=$$outStack.pop(),!1===$rDef.errors?(out+=" "+$valid+" = ",$asyncKeyword&&(out+=""+it.yieldAwait),out+=def_callRuleValidate+"; "):out+=$asyncKeyword?" var "+($ruleErrs="customErrors"+$lvl)+" = null; try { "+$valid+" = "+it.yieldAwait+def_callRuleValidate+"; } catch (e) { "+$valid+" = false; if (e instanceof ValidationError) "+$ruleErrs+" = e.errors; else throw e; } ":" "+$ruleErrs+" = null; "+$valid+" = "+def_callRuleValidate+"; "}if($rDef.modifying&&(out+=" "+$data+" = "+$parentData+"["+$parentDataProperty+"];"),$validateSchema&&(out+=" }"),$rDef.valid)$breakOnError&&(out+=" if (true) { ");else{out+=" if ( ",$rDef.valid===undefined?(out+=" !",out+=$macro?""+$nextValid:""+$valid):out+=" "+!$rDef.valid+" ",out+=") { ",$errorKeyword=$rule.keyword;var $$outStack=$$outStack||[];$$outStack.push(out),out="",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+$rule.keyword+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \""+$rule.keyword+"\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var def_customError=out;out=$$outStack.pop(),$inline?$rDef.errors?"full"!=$rDef.errors&&(out+="  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } "):!1===$rDef.errors?out+=" "+def_customError+" ":(out+=" if ("+$errs+" == errors) { "+def_customError+" } else {  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } } "):$macro?(out+="   var err =   ",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+$rule.keyword+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \""+$rule.keyword+"\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(it.async?out+=" throw new ValidationError(vErrors); ":out+=" validate.errors = vErrors; return false; ")):!1===$rDef.errors?out+=" "+def_customError+" ":(out+=" if (Array.isArray("+$ruleErrs+")) { if (vErrors === null) vErrors = "+$ruleErrs+"; else vErrors = vErrors.concat("+$ruleErrs+"); errors = vErrors.length;  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+";  "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'";  ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } } else { "+def_customError+" } "),out+=" } ",$breakOnError&&(out+=" else { ")}return out}},{}],23:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level,$schemaDeps={},$propertyDeps={};for($property in $schema){var $sch=$schema[$property],$deps=Array.isArray($sch)?$propertyDeps:$schemaDeps;$deps[$property]=$sch}out+="var "+$errs+" = errors;";var $currentErrorPath=it.errorPath;out+="var missing"+$lvl+";";for(var $property in $propertyDeps){if($deps=$propertyDeps[$property],out+=" if ("+$data+it.util.getProperty($property)+" !== undefined ",$breakOnError){out+=" && ( ";var arr1=$deps;if(arr1)for(var _$property,$i=-1,l1=arr1.length-1;$i<l1;)_$property=arr1[$i+=1],$i&&(out+=" || "),out+=" ( "+$data+($prop=it.util.getProperty(_$property))+" === undefined && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?_$property:$prop)+") ) ";out+=")) {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,!0):$currentErrorPath+" + "+$propertyPath);var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes(1==$deps.length?$deps[0]:$deps.join(", "))+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have ",1==$deps.length?out+="property "+it.util.escapeQuotes($deps[0]):out+="properties "+it.util.escapeQuotes($deps.join(", ")),out+=" when property "+it.util.escapeQuotes($property)+" is present' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{out+=" ) { ";var arr2=$deps;if(arr2)for(var $reqProperty,i2=-1,l2=arr2.length-1;i2<l2;){$reqProperty=arr2[i2+=1];var $prop=it.util.getProperty($reqProperty),$missingProperty=it.util.escapeQuotes($reqProperty);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$reqProperty,it.opts.jsonPointers)),out+=" if ("+$data+$prop+" === undefined) {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes(1==$deps.length?$deps[0]:$deps.join(", "))+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have ",1==$deps.length?out+="property "+it.util.escapeQuotes($deps[0]):out+="properties "+it.util.escapeQuotes($deps.join(", ")),out+=" when property "+it.util.escapeQuotes($property)+" is present' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}out+=" }   ",$breakOnError&&($closingBraces+="}",out+=" else { ")}it.errorPath=$currentErrorPath;var $currentBaseId=$it.baseId;for(var $property in $schemaDeps){$sch=$schemaDeps[$property];it.util.schemaHasRules($sch,it.RULES.all)&&(out+=" "+$nextValid+" = true; if ("+$data+it.util.getProperty($property)+" !== undefined) { ",$it.schema=$sch,$it.schemaPath=$schemaPath+it.util.getProperty($property),$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($property),out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"))}return $breakOnError&&(out+="   "+$closingBraces+" if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},{}],24:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.v5&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ");var $i="i"+$lvl,$vSchema="schema"+$lvl;$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+";"),out+="var "+$valid+";",$isData&&(out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"),out+=$valid+" = false;for (var "+$i+"=0; "+$i+"<"+$vSchema+".length; "+$i+"++) if (equal("+$data+", "+$vSchema+"["+$i+"])) { "+$valid+" = true; break; }",$isData&&(out+="  }  "),out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValues: schema"+$lvl+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be equal to one of the allowed values' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }",$breakOnError&&(out+=" else { "),out}},{}],25:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||"");if(!1===it.opts.format)return $breakOnError&&(out+=" if (true) { "),out;var $schemaValue,$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $unknownFormats=it.opts.unknownFormats,$allowUnknown=Array.isArray($unknownFormats);if($isData)out+=" var "+($format="format"+$lvl)+" = formats["+$schemaValue+"]; var isObject"+$lvl+" = typeof "+$format+" == 'object' && !("+$format+" instanceof RegExp) && "+$format+".validate; if (isObject"+$lvl+") { ",it.async&&(out+=" var async"+$lvl+" = "+$format+".async; "),out+=" "+$format+" = "+$format+".validate; } if (  ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "),out+=" (",(!0===$unknownFormats||$allowUnknown)&&(out+=" ("+$schemaValue+" && !"+$format+" ",$allowUnknown&&(out+=" && self._opts.unknownFormats.indexOf("+$schemaValue+") == -1 "),out+=") || "),out+=" ("+$format+" && !(typeof "+$format+" == 'function' ? ",it.async?out+=" (async"+$lvl+" ? "+it.yieldAwait+" "+$format+"("+$data+") : "+$format+"("+$data+")) ":out+=" "+$format+"("+$data+") ",out+=" : "+$format+".test("+$data+"))))) {";else{var $format=it.formats[$schema];if(!$format){if(!0===$unknownFormats||$allowUnknown&&-1==$unknownFormats.indexOf($schema))throw new Error('unknown format "'+$schema+'" is used in schema at path "'+it.errSchemaPath+'"');return $allowUnknown||(console.warn('unknown format "'+$schema+'" ignored in schema at path "'+it.errSchemaPath+'"'),"ignore"!==$unknownFormats&&console.warn("In the next major version it will throw exception. See option unknownFormats for more information")),$breakOnError&&(out+=" if (true) { "),out}var $isObject="object"==(void 0===$format?"undefined":_typeof($format))&&!($format instanceof RegExp)&&$format.validate;if($isObject){var $async=!0===$format.async;$format=$format.validate}if($async){if(!it.async)throw new Error("async format in sync schema");$formatRef="formats"+it.util.getProperty($schema)+".validate";out+=" if (!("+it.yieldAwait+" "+$formatRef+"("+$data+"))) { "}else{out+=" if (! ";var $formatRef="formats"+it.util.getProperty($schema);$isObject&&($formatRef+=".validate"),out+="function"==typeof $format?" "+$formatRef+"("+$data+") ":" "+$formatRef+".test("+$data+") ",out+=") { "}}var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'format' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { format:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+="  } ",!1!==it.opts.messages&&(out+=" , message: 'should match format \"",out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { "),out}},{}],26:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level,$idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId;if(out+="var "+$errs+" = errors;var "+$valid+";",Array.isArray($schema)){var $additionalItems=it.schema.additionalItems;if(!1===$additionalItems){out+=" "+$valid+" = "+$data+".length <= "+$schema.length+"; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalItems",out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schema.length+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have more than "+$schema.length+" items' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$errSchemaPath=$currErrSchemaPath,$breakOnError&&($closingBraces+="}",out+=" else { ")}var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)if($sch=arr1[$i+=1],it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" = true; if ("+$data+".length > "+$i+") { ";$passData=$data+"["+$i+"]";$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,$it.errorPath=it.util.getPathExpr(it.errorPath,$i,it.opts.jsonPointers,!0),$it.dataPathArr[$dataNxt]=$i;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}if("object"==(void 0===$additionalItems?"undefined":_typeof($additionalItems))&&it.util.schemaHasRules($additionalItems,it.RULES.all)){$it.schema=$additionalItems,$it.schemaPath=it.schemaPath+".additionalItems",$it.errSchemaPath=it.errSchemaPath+"/additionalItems",out+=" "+$nextValid+" = true; if ("+$data+".length > "+$schema.length+") {  for (var "+$idx+" = "+$schema.length+"; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0);$passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}else if(it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+="  for (var "+$idx+" = 0; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}return $breakOnError&&(out+=" "+$closingBraces+" if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},{}],27:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="var division"+$lvl+";if (",$isData&&(out+=" "+$schemaValue+" !== undefined && ( typeof "+$schemaValue+" != 'number' || "),out+=" (division"+$lvl+" = "+$data+" / "+$schemaValue+", ",it.opts.multipleOfPrecision?out+=" Math.abs(Math.round(division"+$lvl+") - division"+$lvl+") > 1e-"+it.opts.multipleOfPrecision+" ":out+=" division"+$lvl+" !== parseInt(division"+$lvl+") ",out+=" ) ",$isData&&(out+="  )  "),out+=" ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { multipleOf: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be multiple of ",out+=$isData?"' + "+$schemaValue:$schema+"'"),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],28:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it),$nextValid="valid"+ ++$it.level;if(it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$errs+" = errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.createErrors=!1;var $allErrorsOption;$it.opts.allErrors&&($allErrorsOption=$it.opts.allErrors,$it.opts.allErrors=!1),out+=" "+it.validate($it)+" ",$it.createErrors=!0,$allErrorsOption&&($it.opts.allErrors=$allErrorsOption),it.compositeRule=$it.compositeRule=$wasComposite,out+=" if ("+$nextValid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'not' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be valid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ",it.opts.allErrors&&(out+=" } ")}else out+="  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'not' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be valid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$breakOnError&&(out+=" if (false) { ");return out}},{}],29:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level;out+="var "+$errs+" = errors;var prevValid"+$lvl+" = false;var "+$valid+" = false;";var $currentBaseId=$it.baseId,$wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],it.util.schemaHasRules($sch,it.RULES.all)?($it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId):out+=" var "+$nextValid+" = true; ",$i&&(out+=" if ("+$nextValid+" && prevValid"+$lvl+") "+$valid+" = false; else { ",$closingBraces+="}"),out+=" if ("+$nextValid+") "+$valid+" = prevValid"+$lvl+" = true;";it.compositeRule=$it.compositeRule=$wasComposite,out+=$closingBraces+"if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should match exactly one schema in oneOf' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }",it.opts.allErrors&&(out+=" } "),out}},{}],30:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.v5&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $regexp=$isData?"(new RegExp("+$schemaValue+"))":it.usePattern($schema);out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "),out+=" !"+$regexp+".test("+$data+") ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { pattern:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+="  } ",!1!==it.opts.messages&&(out+=" , message: 'should match pattern \"",out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],31:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$key="key"+$lvl,$matched="patternMatched"+$lvl,$closingBraces="",$ownProperties=it.opts.ownProperties;out+="var "+$valid+" = true;";var arr1=$schema;if(arr1)for(var $pProperty,i1=-1,l1=arr1.length-1;i1<l1;){$pProperty=arr1[i1+=1],out+=" var "+$matched+" = false; for (var "+$key+" in "+$data+") {  ",$ownProperties&&(out+=" if (!Object.prototype.hasOwnProperty.call("+$data+", "+$key+")) continue; "),out+=" "+$matched+" = "+it.usePattern($pProperty)+".test("+$key+"); if ("+$matched+") break; } ";var $missingPattern=it.util.escapeQuotes($pProperty);out+=" if (!"+$matched+") { "+$valid+" = false;  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'patternRequired' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingPattern: '"+$missingPattern+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have property matching pattern \\'"+$missingPattern+"\\'' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",$breakOnError&&($closingBraces+="}",out+=" else { ")}return out+=""+$closingBraces}},{}],32:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level,$key="key"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$schemaKeys=Object.keys($schema||{}),$pProperties=it.schema.patternProperties||{},$pPropertyKeys=Object.keys($pProperties),$aProperties=it.schema.additionalProperties,$someProperties=$schemaKeys.length||$pPropertyKeys.length,$noAdditional=!1===$aProperties,$additionalIsSchema="object"==(void 0===$aProperties?"undefined":_typeof($aProperties))&&Object.keys($aProperties).length,$removeAdditional=it.opts.removeAdditional,$checkAdditional=$noAdditional||$additionalIsSchema||$removeAdditional,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId,$required=it.schema.required;if($required&&(!it.opts.v5||!$required.$data)&&$required.length<it.opts.loopRequired)var $requiredHash=it.util.toHash($required);if(it.opts.v5)var $pgProperties=it.schema.patternGroups||{},$pgPropertyKeys=Object.keys($pgProperties);if(out+="var "+$errs+" = errors;var "+$nextValid+" = true;",$checkAdditional){if(out+=" for (var "+$key+" in "+$data+") {  ",$ownProperties&&(out+=" if (!Object.prototype.hasOwnProperty.call("+$data+", "+$key+")) continue; "),$someProperties){if(out+=" var isAdditional"+$lvl+" = !(false ",$schemaKeys.length)if($schemaKeys.length>5)out+=" || validate.schema"+$schemaPath+"["+$key+"] ";else{var arr1=$schemaKeys;if(arr1)for(var i1=-1,l1=arr1.length-1;i1<l1;)$propertyKey=arr1[i1+=1],out+=" || "+$key+" == "+it.util.toQuotedString($propertyKey)+" "}if($pPropertyKeys.length){var arr2=$pPropertyKeys;if(arr2)for(var $i=-1,l2=arr2.length-1;$i<l2;)$pProperty=arr2[$i+=1],out+=" || "+it.usePattern($pProperty)+".test("+$key+") "}if(it.opts.v5&&$pgPropertyKeys&&$pgPropertyKeys.length){var arr3=$pgPropertyKeys;if(arr3)for(var $i=-1,l3=arr3.length-1;$i<l3;)$pgProperty=arr3[$i+=1],out+=" || "+it.usePattern($pgProperty)+".test("+$key+") "}out+=" ); if (isAdditional"+$lvl+") { "}if("all"==$removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{var $currentErrorPath=it.errorPath,$additionalProperty="' + "+$key+" + '";if(it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers)),$noAdditional)if($removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{out+=" "+$nextValid+" = false; ";$currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalProperties",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { additionalProperty: '"+$additionalProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have additional properties' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$errSchemaPath=$currErrSchemaPath,$breakOnError&&(out+=" break; ")}else if($additionalIsSchema)if("failing"==$removeAdditional){out+=" var "+$errs+" = errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.schema=$aProperties,$it.schemaPath=it.schemaPath+".additionalProperties",$it.errSchemaPath=it.errSchemaPath+"/additionalProperties",$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);$passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" if (!"+$nextValid+") { errors = "+$errs+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+$data+"["+$key+"]; }  ",it.compositeRule=$it.compositeRule=$wasComposite}else{$it.schema=$aProperties,$it.schemaPath=it.schemaPath+".additionalProperties",$it.errSchemaPath=it.errSchemaPath+"/additionalProperties",$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);$passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; ")}it.errorPath=$currentErrorPath}$someProperties&&(out+=" } "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}var $useDefaults=it.opts.useDefaults&&!it.compositeRule;if($schemaKeys.length){var arr4=$schemaKeys;if(arr4)for(var $propertyKey,i4=-1,l4=arr4.length-1;i4<l4;){$sch=$schema[$propertyKey=arr4[i4+=1]];if(it.util.schemaHasRules($sch,it.RULES.all)){var $prop=it.util.getProperty($propertyKey),$passData=$data+$prop,$hasDefault=$useDefaults&&$sch["default"]!==undefined;$it.schema=$sch,$it.schemaPath=$schemaPath+$prop,$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($propertyKey),$it.errorPath=it.util.getPath(it.errorPath,$propertyKey,it.opts.jsonPointers),$it.dataPathArr[$dataNxt]=it.util.toQuotedString($propertyKey);$code=it.validate($it);if($it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2){$code=it.util.varReplace($code,$nextData,$passData);$useData=$passData}else{var $useData=$nextData;out+=" var "+$nextData+" = "+$passData+"; "}if($hasDefault)out+=" "+$code+" ";else{if($requiredHash&&$requiredHash[$propertyKey]){out+=" if ("+$useData+" === undefined) { "+$nextValid+" = false; ";var $currentErrorPath=it.errorPath,$currErrSchemaPath=$errSchemaPath,$missingProperty=it.util.escapeQuotes($propertyKey);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),$errSchemaPath=it.errSchemaPath+"/required",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$errSchemaPath=$currErrSchemaPath,it.errorPath=$currentErrorPath,out+=" } else { "}else out+=$breakOnError?" if ("+$useData+" === undefined) { "+$nextValid+" = true; } else { ":" if ("+$useData+" !== undefined) { ";out+=" "+$code+" } "}}$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}var arr5=$pPropertyKeys;if(arr5)for(var $pProperty,i5=-1,l5=arr5.length-1;i5<l5;){$sch=$pProperties[$pProperty=arr5[i5+=1]];if(it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch,$it.schemaPath=it.schemaPath+".patternProperties"+it.util.getProperty($pProperty),$it.errSchemaPath=it.errSchemaPath+"/patternProperties/"+it.util.escapeFragment($pProperty),out+=" for (var "+$key+" in "+$data+") {  ",$ownProperties&&(out+=" if (!Object.prototype.hasOwnProperty.call("+$data+", "+$key+")) continue; "),out+=" if ("+it.usePattern($pProperty)+".test("+$key+")) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);$passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } ",$breakOnError&&(out+=" else "+$nextValid+" = true; "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}if(it.opts.v5){var arr6=$pgPropertyKeys;if(arr6)for(var $pgProperty,i6=-1,l6=arr6.length-1;i6<l6;){var $pgSchema=$pgProperties[$pgProperty=arr6[i6+=1]],$sch=$pgSchema.schema;if(it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch,$it.schemaPath=it.schemaPath+".patternGroups"+it.util.getProperty($pgProperty)+".schema",$it.errSchemaPath=it.errSchemaPath+"/patternGroups/"+it.util.escapeFragment($pgProperty)+"/schema",out+=" var pgPropCount"+$lvl+" = 0; for (var "+$key+" in "+$data+") {  ",$ownProperties&&(out+=" if (!Object.prototype.hasOwnProperty.call("+$data+", "+$key+")) continue; "),out+=" if ("+it.usePattern($pgProperty)+".test("+$key+")) { pgPropCount"+$lvl+"++; ",$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);$passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } ",$breakOnError&&(out+=" else "+$nextValid+" = true; "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}");var $pgMin=$pgSchema.minimum,$pgMax=$pgSchema.maximum;if($pgMin!==undefined||$pgMax!==undefined){out+=" var "+$valid+" = true; ";$currErrSchemaPath=$errSchemaPath;if($pgMin!==undefined){var $limit=$pgMin,$reason="minimum",$moreOrLess="less";out+=" "+$valid+" = pgPropCount"+$lvl+" >= "+$pgMin+"; ",$errSchemaPath=it.errSchemaPath+"/patternGroups/minimum",out+="  if (!"+$valid+") {   ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { reason: '"+$reason+"', limit: "+$limit+", pattern: '"+it.util.escapeQuotes($pgProperty)+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have "+$moreOrLess+" than "+$limit+' properties matching pattern "'+it.util.escapeQuotes($pgProperty)+"\"' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$pgMax!==undefined&&(out+=" else ")}if($pgMax!==undefined){var $limit=$pgMax,$reason="maximum",$moreOrLess="more";out+=" "+$valid+" = pgPropCount"+$lvl+" <= "+$pgMax+"; ",$errSchemaPath=it.errSchemaPath+"/patternGroups/maximum",out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { reason: '"+$reason+"', limit: "+$limit+", pattern: '"+it.util.escapeQuotes($pgProperty)+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have "+$moreOrLess+" than "+$limit+' properties matching pattern "'+it.util.escapeQuotes($pgProperty)+"\"' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } "}$errSchemaPath=$currErrSchemaPath,$breakOnError&&(out+=" if ("+$valid+") { ",$closingBraces+="}")}}}}return $breakOnError&&(out+=" "+$closingBraces+" if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},{}],33:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $async,$refCode,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl;if("#"==$schema||"#/"==$schema)it.isRoot?($async=it.async,$refCode="validate"):($async=!0===it.root.schema.$async,$refCode="root.refVal[0]");else{var $refVal=it.resolveRef(it.baseId,$schema,it.isRoot);if($refVal===undefined){var $message="can't resolve reference "+$schema+" from id "+it.baseId;if("fail"==it.opts.missingRefs){console.log($message),($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { ref: '"+it.util.escapeQuotes($schema)+"' } ",!1!==it.opts.messages&&(out+=" , message: 'can\\'t resolve reference "+it.util.escapeQuotes($schema)+"' "),it.opts.verbose&&(out+=" , schema: "+it.util.toQuotedString($schema)+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$breakOnError&&(out+=" if (false) { ")}else{if("ignore"!=it.opts.missingRefs){var $error=new Error($message);throw $error.missingRef=it.resolve.url(it.baseId,$schema),$error.missingSchema=it.resolve.normalizeId(it.resolve.fullPath($error.missingRef)),$error}console.log($message),$breakOnError&&(out+=" if (true) { ")}}else if($refVal.inline){var $it=it.util.copy(it),$nextValid="valid"+ ++$it.level;$it.schema=$refVal.schema,$it.schemaPath="",$it.errSchemaPath=$schema,out+=" "+it.validate($it).replace(/validate\.schema/g,$refVal.code)+" ",$breakOnError&&(out+=" if ("+$nextValid+") { ")}else $async=!0===$refVal.$async,$refCode=$refVal.code}if($refCode){var $$outStack=$$outStack||[];$$outStack.push(out),out="",it.opts.passContext?out+=" "+$refCode+".call(this, ":out+=" "+$refCode+"( ",out+=" "+$data+", (dataPath || '')",'""'!=it.errorPath&&(out+=" + "+it.errorPath);var __callValidate=out+=" , "+($dataLvl?"data"+($dataLvl-1||""):"parentData")+" , "+($dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty")+", rootData)  ";if(out=$$outStack.pop(),$async){if(!it.async)throw new Error("async schema referenced by sync schema");out+=" try { ",$breakOnError&&(out+="var "+$valid+" ="),out+=" "+it.yieldAwait+" "+__callValidate+"; } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; } ",$breakOnError&&(out+=" if ("+$valid+") { ")}else out+=" if (!"+__callValidate+") { if (vErrors === null) vErrors = "+$refCode+".errors; else vErrors = vErrors.concat("+$refCode+".errors); errors = vErrors.length; } ",$breakOnError&&(out+=" else { ")}return out}},{}],34:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.v5&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ");var $vSchema="schema"+$lvl;if(!$isData)if($schema.length<it.opts.loopRequired&&it.schema.properties&&Object.keys(it.schema.properties).length){var $required=[],arr1=$schema;if(arr1)for(var $property,i1=-1,l1=arr1.length-1;i1<l1;){$property=arr1[i1+=1];var $propertySch=it.schema.properties[$property];$propertySch&&it.util.schemaHasRules($propertySch,it.RULES.all)||($required[$required.length]=$property)}}else $required=$schema;if($isData||$required.length){var $currentErrorPath=it.errorPath,$loopRequired=$isData||$required.length>=it.opts.loopRequired;if($breakOnError)if(out+=" var missing"+$lvl+"; ",$loopRequired){$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; ");$missingProperty="' + "+($propertyPath="schema"+$lvl+"["+($i="i"+$lvl)+"]")+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)),out+=" var "+$valid+" = true; ",$isData&&(out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"),out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { "+$valid+" = "+$data+"["+$vSchema+"["+$i+"]] !== undefined; if (!"+$valid+") break; } ",$isData&&(out+="  }  "),out+="  if (!"+$valid+") {   ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { "}else{out+=" if ( ";var arr2=$required;if(arr2)for(var _$property,$i=-1,l2=arr2.length-1;$i<l2;)_$property=arr2[$i+=1],$i&&(out+=" || "),out+=" ( "+$data+($prop=it.util.getProperty(_$property))+" === undefined && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?_$property:$prop)+") ) ";out+=") {  ";$missingProperty="' + "+($propertyPath="missing"+$lvl)+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,!0):$currentErrorPath+" + "+$propertyPath);var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { "}else if($loopRequired){$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; ");var $propertyPath="schema"+$lvl+"["+($i="i"+$lvl)+"]",$missingProperty="' + "+$propertyPath+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)),$isData&&(out+=" if ("+$vSchema+" && !Array.isArray("+$vSchema+")) {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+$vSchema+" !== undefined) { "),out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { if ("+$data+"["+$vSchema+"["+$i+"]] === undefined) {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",$isData&&(out+="  }  ")}else{var arr3=$required;if(arr3)for(var $reqProperty,i3=-1,l3=arr3.length-1;i3<l3;){$reqProperty=arr3[i3+=1];var $prop=it.util.getProperty($reqProperty),$missingProperty=it.util.escapeQuotes($reqProperty);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$reqProperty,it.opts.jsonPointers)),out+=" if ("+$data+$prop+" === undefined) {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}it.errorPath=$currentErrorPath}else $breakOnError&&(out+=" if (true) {");return out}},{}],35:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $shouldContinue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="",$nextValid="valid"+ ++$it.level,$ifPassed="ifPassed"+it.level,$currentBaseId=$it.baseId;out+="var "+$ifPassed+";";var arr1=$schema;if(arr1)for(var $sch,$caseIndex=-1,l1=arr1.length-1;$caseIndex<l1;){if($sch=arr1[$caseIndex+=1],$caseIndex&&!$shouldContinue&&(out+=" if (!"+$ifPassed+") { ",$closingBraces+="}"),$sch["if"]&&it.util.schemaHasRules($sch["if"],it.RULES.all)){out+=" var "+$errs+" = errors;   ";var $wasComposite=it.compositeRule;if(it.compositeRule=$it.compositeRule=!0,$it.createErrors=!1,$it.schema=$sch["if"],$it.schemaPath=$schemaPath+"["+$caseIndex+"].if",$it.errSchemaPath=$errSchemaPath+"/"+$caseIndex+"/if",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,$it.createErrors=!0,it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$ifPassed+" = "+$nextValid+"; if ("+$ifPassed+") {  ","boolean"==typeof $sch.then){if(!1===$sch.then){($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { caseIndex: "+$caseIndex+" } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \"switch\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" var "+$nextValid+" = "+$sch.then+"; "}else $it.schema=$sch.then,$it.schemaPath=$schemaPath+"["+$caseIndex+"].then",$it.errSchemaPath=$errSchemaPath+"/"+$caseIndex+"/then",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId;out+="  } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } } "}else if(out+=" "+$ifPassed+" = true;  ","boolean"==typeof $sch.then){if(!1===$sch.then){var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { caseIndex: "+$caseIndex+" } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \"switch\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" var "+$nextValid+" = "+$sch.then+"; "}else $it.schema=$sch.then,$it.schemaPath=$schemaPath+"["+$caseIndex+"].then",$it.errSchemaPath=$errSchemaPath+"/"+$caseIndex+"/then",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId;$shouldContinue=$sch["continue"]}return out+=$closingBraces+"var "+$valid+" = "+$nextValid+"; ",out=it.util.cleanUpCode(out)}},{}],36:[function(require,module,exports){"use strict";module.exports=function(it,$keyword){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.v5&&$schema&&$schema.$data;if($isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,($schema||$isData)&&!1!==it.opts.uniqueItems){$isData&&(out+=" var "+$valid+"; if ("+$schemaValue+" === false || "+$schemaValue+" === undefined) "+$valid+" = true; else if (typeof "+$schemaValue+" != 'boolean') "+$valid+" = false; else { "),out+=" var "+$valid+" = true; if ("+$data+".length > 1) { var i = "+$data+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+$data+"[i], "+$data+"[j])) { "+$valid+" = false; break outer; } } } } ",$isData&&(out+="  }  "),out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { i: i, j: j } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { ")}else $breakOnError&&(out+=" if (true) { ");return out}},{}],37:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(it,$keyword){function $shouldUseRule($rule){return it.schema[$rule.keyword]!==undefined||"properties"==$rule.keyword&&(!1===it.schema.additionalProperties||"object"==_typeof(it.schema.additionalProperties)||it.schema.patternProperties&&Object.keys(it.schema.patternProperties).length||it.opts.v5&&it.schema.patternGroups&&Object.keys(it.schema.patternGroups).length)}var out="",$async=!0===it.schema.$async;if(it.isTop){var $top=it.isTop,$lvl=it.level=0,$dataLvl=it.dataLevel=0,$data="data";if(it.rootId=it.resolve.fullPath(it.root.schema.id),it.baseId=it.baseId||it.rootId,$async){it.async=!0;var $es7="es7"==it.opts.async;it.yieldAwait=$es7?"await":"yield"}delete it.isTop,it.dataPathArr=[undefined],out+=" var validate = ",$async?$es7?out+=" (async function ":("co*"==it.opts.async&&(out+="co.wrap"),out+="(function* "):out+=" (function ",out+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; var vErrors = null; ",out+=" var errors = 0;     ",out+=" if (rootData === undefined) rootData = data;"}else{var $lvl=it.level,$data="data"+(($dataLvl=it.dataLevel)||"");if(it.schema.id&&(it.baseId=it.resolve.url(it.baseId,it.schema.id)),$async&&!it.async)throw new Error("async schema in sync schema");out+=" var errs_"+$lvl+" = errors;"}var $valid="valid"+$lvl,$breakOnError=!it.opts.allErrors,$closingBraces1="",$closingBraces2="",$typeSchema=it.schema.type,$typeIsArray=Array.isArray($typeSchema);if($typeSchema&&it.opts.coerceTypes){var $coerceToTypes=it.util.coerceToTypes(it.opts.coerceTypes,$typeSchema);if($coerceToTypes){var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",$method=$typeIsArray?"checkDataTypes":"checkDataType";out+=" if ("+it.util[$method]($typeSchema,$data,!0)+") {  ";var $dataType="dataType"+$lvl,$coerced="coerced"+$lvl;out+=" var "+$dataType+" = typeof "+$data+"; ","array"==it.opts.coerceTypes&&(out+=" if ("+$dataType+" == 'object' && Array.isArray("+$data+")) "+$dataType+" = 'array'; "),out+=" var "+$coerced+" = undefined; ";var $bracesCoercion="",arr1=$coerceToTypes;if(arr1)for(var $type,$i=-1,l1=arr1.length-1;$i<l1;)$type=arr1[$i+=1],$i&&(out+=" if ("+$coerced+" === undefined) { ",$bracesCoercion+="}"),"array"==it.opts.coerceTypes&&"array"!=$type&&(out+=" if ("+$dataType+" == 'array' && "+$data+".length == 1) { "+$coerced+" = "+$data+" = "+$data+"[0]; "+$dataType+" = typeof "+$data+";  } "),"string"==$type?out+=" if ("+$dataType+" == 'number' || "+$dataType+" == 'boolean') "+$coerced+" = '' + "+$data+"; else if ("+$data+" === null) "+$coerced+" = ''; ":"number"==$type||"integer"==$type?(out+=" if ("+$dataType+" == 'boolean' || "+$data+" === null || ("+$dataType+" == 'string' && "+$data+" && "+$data+" == +"+$data+" ","integer"==$type&&(out+=" && !("+$data+" % 1)"),out+=")) "+$coerced+" = +"+$data+"; "):"boolean"==$type?out+=" if ("+$data+" === 'false' || "+$data+" === 0 || "+$data+" === null) "+$coerced+" = false; else if ("+$data+" === 'true' || "+$data+" === 1) "+$coerced+" = true; ":"null"==$type?out+=" if ("+$data+" === '' || "+$data+" === 0 || "+$data+" === false) "+$coerced+" = null; ":"array"==it.opts.coerceTypes&&"array"==$type&&(out+=" if ("+$dataType+" == 'string' || "+$dataType+" == 'number' || "+$dataType+" == 'boolean' || "+$data+" == null) "+$coerced+" = ["+$data+"]; ");out+=" "+$bracesCoercion+" if ("+$coerced+" === undefined) {   ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else {  ";var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" "+$data+" = "+$coerced+"; ",$dataLvl||(out+="if ("+$parentData+" !== undefined)"),out+=" "+$parentData+"["+$parentDataProperty+"] = "+$coerced+"; } } "}}var $refKeywords;if(it.schema.$ref&&($refKeywords=it.util.schemaHasRulesExcept(it.schema,it.RULES.all,"$ref"))){if("fail"==it.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+it.errSchemaPath+'"');"ignore"==it.opts.extendRefs?($refKeywords=!1,console.log('$ref: keywords ignored in schema at path "'+it.errSchemaPath+'"')):!0!==it.opts.extendRefs&&console.log('$ref: all keywords used in schema at path "'+it.errSchemaPath+'". It will change in the next major version, see issue #260. Use option { extendRefs: true } to keep current behaviour')}if(it.schema.$ref&&!$refKeywords)out+=" "+it.RULES.all.$ref.code(it,"$ref")+" ",$breakOnError&&(out+=" } if (errors === ",out+=$top?"0":"errs_"+$lvl,out+=") { ",$closingBraces2+="}");else{var arr2=it.RULES;if(arr2)for(var $rulesGroup,i2=-1,l2=arr2.length-1;i2<l2;)if($rulesGroup=arr2[i2+=1],function($rulesGroup){for(var i=0;i<$rulesGroup.rules.length;i++)if($shouldUseRule($rulesGroup.rules[i]))return!0}($rulesGroup)){if($rulesGroup.type&&(out+=" if ("+it.util.checkDataType($rulesGroup.type,$data)+") { "),it.opts.useDefaults&&!it.compositeRule)if("object"==$rulesGroup.type&&it.schema.properties){var $schema=it.schema.properties,arr3=Object.keys($schema);if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;)($sch=$schema[$propertyKey=arr3[i3+=1]])["default"]!==undefined&&(out+="  if ("+($passData=$data+it.util.getProperty($propertyKey))+" === undefined) "+$passData+" = ","shared"==it.opts.useDefaults?out+=" "+it.useDefault($sch["default"])+" ":out+=" "+JSON.stringify($sch["default"])+" ",out+="; ")}else if("array"==$rulesGroup.type&&Array.isArray(it.schema.items)){var arr4=it.schema.items;if(arr4)for(var $sch,$i=-1,l4=arr4.length-1;$i<l4;)if(($sch=arr4[$i+=1])["default"]!==undefined){var $passData=$data+"["+$i+"]";out+="  if ("+$passData+" === undefined) "+$passData+" = ","shared"==it.opts.useDefaults?out+=" "+it.useDefault($sch["default"])+" ":out+=" "+JSON.stringify($sch["default"])+" ",out+="; "}}var arr5=$rulesGroup.rules;if(arr5)for(var $rule,i5=-1,l5=arr5.length-1;i5<l5;)$shouldUseRule($rule=arr5[i5+=1])&&(out+=" "+$rule.code(it,$rule.keyword)+" ",$breakOnError&&($closingBraces1+="}"));if($breakOnError&&(out+=" "+$closingBraces1+" ",$closingBraces1=""),$rulesGroup.type&&(out+=" } ",$typeSchema&&$typeSchema===$rulesGroup.type&&!$coerceToTypes)){var $typeChecked=!0;out+=" else { ";var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } "}$breakOnError&&(out+=" if (errors === ",out+=$top?"0":"errs_"+$lvl,out+=") { ",$closingBraces2+="}")}}if($typeSchema&&!$typeChecked&&!$coerceToTypes){var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",$method=$typeIsArray?"checkDataTypes":"checkDataType";out+=" if ("+it.util[$method]($typeSchema,$data,!0)+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }"}return $breakOnError&&(out+=" "+$closingBraces2+" "),$top?($async?(out+=" if (errors === 0) return true;           ",out+=" else throw new ValidationError(vErrors); "):(out+=" validate.errors = vErrors; ",out+=" return errors === 0;       "),out+=" }); return validate;"):out+=" var "+$valid+" = errors === errs_"+$lvl+";",out=it.util.cleanUpCode(out),$top&&$breakOnError&&(out=it.util.cleanUpVarErrors(out,$async)),out}},{}],38:[function(require,module,exports){"use strict";function addKeyword(keyword,definition){function _addRule(keyword,dataType,definition){for(var ruleGroup,i=0;i<RULES.length;i++){var rg=RULES[i];if(rg.type==dataType){ruleGroup=rg;break}}ruleGroup||(ruleGroup={type:dataType,rules:[]},RULES.push(ruleGroup));var rule={keyword:keyword,definition:definition,custom:!0,code:customRuleCode};ruleGroup.rules.push(rule),RULES.custom[keyword]=rule}function checkDataType(dataType){if(!RULES.types[dataType])throw new Error("Unknown type "+dataType)}var RULES=this.RULES;if(RULES.keywords[keyword])throw new Error("Keyword "+keyword+" is already defined");if(!IDENTIFIER.test(keyword))throw new Error("Keyword "+keyword+" is not a valid identifier");if(definition){if(definition.macro&&definition.valid!==undefined)throw new Error('"valid" option cannot be used with macro keywords');var dataType=definition.type;if(Array.isArray(dataType)){var i,len=dataType.length;for(i=0;i<len;i++)checkDataType(dataType[i]);for(i=0;i<len;i++)_addRule(keyword,dataType[i],definition)}else dataType&&checkDataType(dataType),_addRule(keyword,dataType,definition);var $data=!0===definition.$data&&this._opts.v5;if($data&&!definition.validate)throw new Error('$data support: "validate" function is not defined');var metaSchema=definition.metaSchema;metaSchema&&($data&&(metaSchema={anyOf:[metaSchema,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#/definitions/$data"}]}),definition.validateSchema=this.compile(metaSchema,!0))}RULES.keywords[keyword]=RULES.all[keyword]=!0}function getKeyword(keyword){var rule=this.RULES.custom[keyword];return rule?rule.definition:this.RULES.keywords[keyword]||!1}function removeKeyword(keyword){var RULES=this.RULES;delete RULES.keywords[keyword],delete RULES.all[keyword],delete RULES.custom[keyword];for(var i=0;i<RULES.length;i++)for(var rules=RULES[i].rules,j=0;j<rules.length;j++)if(rules[j].keyword==keyword){rules.splice(j,1);break}}var IDENTIFIER=/^[a-z_$][a-z0-9_$\-]*$/i,customRuleCode=require("./dotjs/custom");module.exports={add:addKeyword,get:getKeyword,remove:removeKeyword}},{"./dotjs/custom":22}],39:[function(require,module,exports){module.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},{}],40:[function(require,module,exports){module.exports={id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema (v5 proposals)",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},$data:{type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{anyOf:[{type:"number",minimum:0,exclusiveMinimum:!0},{$ref:"#/definitions/$data"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMaximum:{anyOf:[{type:"boolean","default":!1},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMinimum:{anyOf:[{type:"boolean","default":!1},{$ref:"#/definitions/$data"}]},maxLength:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minLength:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},pattern:{anyOf:[{type:"string",format:"regex"},{$ref:"#/definitions/$data"}]},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minItems:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},uniqueItems:{anyOf:[{type:"boolean","default":!1},{$ref:"#/definitions/$data"}]},maxProperties:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minProperties:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},required:{anyOf:[{$ref:"#/definitions/stringArray"},{$ref:"#/definitions/$data"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/$data"}]},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},format:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMaximum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMinimum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatExclusiveMaximum:{anyOf:[{type:"boolean","default":!1},{$ref:"#/definitions/$data"}]},formatExclusiveMinimum:{anyOf:[{type:"boolean","default":!1},{$ref:"#/definitions/$data"}]},constant:{anyOf:[{},{$ref:"#/definitions/$data"}]},contains:{$ref:"#"},patternGroups:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},schema:{$ref:"#"}},additionalProperties:!1},"default":{}},"switch":{type:"array",items:{required:["then"],properties:{"if":{$ref:"#"},then:{anyOf:[{type:"boolean"},{$ref:"#"}]},"continue":{type:"boolean"}},additionalProperties:!1,dependencies:{"continue":["if"]}}}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"],formatMaximum:["format"],formatMinimum:["format"],formatExclusiveMaximum:["formatMaximum"],formatExclusiveMinimum:["formatMinimum"]},"default":{}}},{}],41:[function(require,module,exports){"use strict";function enableV5(ajv){function _addKeyword(keyword,types,inlineFunc){var definition={inline:inlineFunc||inlineFunctions[keyword],statements:!0,errors:"full"};types&&(definition.type=types),ajv.addKeyword(keyword,definition)}var inlineFunctions={"switch":require("./dotjs/switch"),constant:require("./dotjs/constant"),_formatLimit:require("./dotjs/_formatLimit"),patternRequired:require("./dotjs/patternRequired")};if(!1!==ajv._opts.meta){var metaSchema=require("./refs/json-schema-v5.json");ajv.addMetaSchema(metaSchema,META_SCHEMA_ID)}_addKeyword("constant"),ajv.addKeyword("contains",{type:"array",macro:containsMacro}),_addKeyword("formatMaximum","string",inlineFunctions._formatLimit),_addKeyword("formatMinimum","string",inlineFunctions._formatLimit),ajv.addKeyword("formatExclusiveMaximum"),ajv.addKeyword("formatExclusiveMinimum"),ajv.addKeyword("patternGroups"),_addKeyword("patternRequired","object"),_addKeyword("switch")}function containsMacro(schema){return{not:{items:{not:schema}}}}var META_SCHEMA_ID="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json";module.exports={enable:enableV5,META_SCHEMA_ID:META_SCHEMA_ID}},{"./dotjs/_formatLimit":14,"./dotjs/constant":21,"./dotjs/patternRequired":31,"./dotjs/switch":35,"./refs/json-schema-v5.json":40}],42:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},json="undefined"!=typeof JSON?JSON:require("jsonify");module.exports=function(obj,opts){opts||(opts={}),"function"==typeof opts&&(opts={cmp:opts});var space=opts.space||"";"number"==typeof space&&(space=Array(space+1).join(" "));var cycles="boolean"==typeof opts.cycles&&opts.cycles,replacer=opts.replacer||function(key,value){return value},cmp=opts.cmp&&function(f){return function(node){return function(a,b){var aobj={key:a,value:node[a]},bobj={key:b,value:node[b]};return f(aobj,bobj)}}}(opts.cmp),seen=[];return function stringify(parent,key,node,level){var indent=space?"\n"+new Array(level+1).join(space):"",colonSeparator=space?": ":":";if(node&&node.toJSON&&"function"==typeof node.toJSON&&(node=node.toJSON()),(node=replacer.call(parent,key,node))!==undefined){if("object"!==(void 0===node?"undefined":_typeof(node))||null===node)return json.stringify(node);if(isArray(node)){for(var out=[],i=0;i<node.length;i++){var item=stringify(node,i,node[i],level+1)||json.stringify(null);out.push(indent+space+item)}return"["+out.join(",")+indent+"]"}if(-1!==seen.indexOf(node)){if(cycles)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}seen.push(node);for(var keys=objectKeys(node).sort(cmp&&cmp(node)),out=[],i=0;i<keys.length;i++){var value=stringify(node,key=keys[i],node[key],level+1);if(value){var keyValue=json.stringify(key)+colonSeparator+value;out.push(indent+space+keyValue)}}return seen.splice(seen.indexOf(node),1),"{"+out.join(",")+indent+"}"}}({"":obj},"",obj,0)};var isArray=Array.isArray||function(x){return"[object Array]"==={}.toString.call(x)},objectKeys=Object.keys||function(obj){var has=Object.prototype.hasOwnProperty||function(){return!0},keys=[];for(var key in obj)has.call(obj,key)&&keys.push(key);return keys}},{jsonify:501}],43:[function(require,module,exports){"use strict";var asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders")},{"./asn1/api":44,"./asn1/base":46,"./asn1/constants":50,"./asn1/decoders":52,"./asn1/encoders":55,"bn.js":71}],44:[function(require,module,exports){"use strict";function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}var asn1=require("../asn1"),inherits=require("inherits");exports.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){named=function(entity){this._initNamed(entity)}}return inherits(named,base),named.prototype._initNamed=function(entity){base.call(this,entity)},new named(this)},Entity.prototype._getDecoder=function(enc){return enc=enc||"der",this.decoders.hasOwnProperty(enc)||(this.decoders[enc]=this._createNamed(asn1.decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return enc=enc||"der",this.encoders.hasOwnProperty(enc)||(this.encoders[enc]=this._createNamed(asn1.encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":43,inherits:487,vm:642}],45:[function(require,module,exports){"use strict";function DecoderBuffer(base,options){if(Reporter.call(this,options),!Buffer.isBuffer(base))return void this.error("Input not Buffer");this.base=base,this.offset=0,this.length=base.length}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return item instanceof EncoderBuffer||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+(void 0===value?"undefined":_typeof(value)));this.value=value,this.length=value.length}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},inherits=require("inherits"),Reporter=require("../base").Reporter,Buffer=require("buffer").Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(save){var res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,Reporter.prototype.restore.call(this,save.reporter),res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice(save?save.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(out,offset){return out||(out=new Buffer(this.length)),offset||(offset=0),0===this.length?out:(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length),out)}},{"../base":46,buffer:105,inherits:487}],46:[function(require,module,exports){"use strict";var base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node")},{"./buffer":45,"./node":47,"./reporter":48}],47:[function(require,module,exports){"use strict";function Node(enc,parent){var state={};this._baseState=state,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state["default"]=null,state.explicit=null,state.implicit=null,state.contains=null,state.parent||(state.children=[],this._wrap())}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},Reporter=require("../base").Reporter,EncoderBuffer=require("../base").EncoderBuffer,DecoderBuffer=require("../base").DecoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){var state=this._baseState;methods.forEach(function(method){this[method]=function(){var clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){var state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){var state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!==(void 0===arg?"undefined":_typeof(arg))||arg.constructor!==Object)return arg;var res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},overrided.forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){assert(item);var state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){return this._baseState.optional=!0,this},Node.prototype.def=function(val){var state=this._baseState;return assert(null===state["default"]),state["default"]=val,state.optional=!0,this},Node.prototype.explicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){var state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){return this._baseState.any=!0,this},Node.prototype.choice=function(obj){var state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype.contains=function(item){var state=this._baseState;return assert(null===state.use),state.contains=item,this},Node.prototype._decode=function(input,options){var state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input,options));var result=state["default"],present=!0,prevKey=null;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional){var tag=null;if(null!==state.explicit?tag=state.explicit:null!==state.implicit?tag=state.implicit:null!==state.tag&&(tag=state.tag),null!==tag||state.any){if(present=this._peekTag(input,tag,state.any),input.isError(present))return present}else{save=input.save();try{null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),present=!0}catch(e){present=!1}input.restore(save)}}var prevObj;if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}var start=input.offset;if(null===state.use&&null===state.choice){if(state.any)var save=input.save();var body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(options&&options.track&&null!==state.tag&&options.track(input.path(),start,input.length,"tagged"),options&&options.track&&null!==state.tag&&options.track(input.path(),input.offset,input.length,"content"),result=state.any?result:null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),input.isError(result))return result;if(state.any||null!==state.choice||null===state.children||state.children.forEach(function(child){child._decode(input,options)}),state.contains&&("octstr"===state.tag||"bitstr"===state.tag)){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options)}}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&!0!==present?null!==prevKey&&input.exitKey(prevKey):input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input,options){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0],options):/str$/.test(tag)?this._decodeStr(input,tag,options):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1],options):"objid"===tag?this._decodeObjid(input,null,null,options):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag,options):"null_"===tag?this._decodeNull(input,options):"bool"===tag?this._decodeBool(input,options):"objDesc"===tag?this._decodeStr(input,tag,options):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0],options):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input,options):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){var state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input,options){var state=this._baseState,result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save(),node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(data,reporter,parent){var state=this._baseState;if(null===state["default"]||state["default"]!==data){var result=this._encodeValue(data,reporter,parent);if(result!==undefined&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,parent){var state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);result=null;if(this.reporter=reporter,state.optional&&data===undefined){if(null===state["default"])return;data=state["default"]}var content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.contains)content=this._getUse(state.contains,parent)._encode(data,reporter),primitive=!0;else if(state.children)content=state.children.map(function(child){if("null_"===child._baseState.tag)return child._encode(null,reporter,data);if(null===child._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if("object"!==(void 0===data?"undefined":_typeof(data)))return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,parent)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);var result;if(!state.any&&null===state.choice){var tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context";null===tag?null===state.use&&reporter.error("Tag could be ommited only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))}return null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState,node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);if("objDesc"===tag)return this._encodeStr(data,tag);throw new Error("Unsupported tag: "+tag)},Node.prototype._isNumstr=function(str){return/^[0-9 ]*$/.test(str)},Node.prototype._isPrintstr=function(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},{"../base":46,"minimalistic-assert":510}],48:[function(require,module,exports){"use strict";function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}var inherits=require("inherits");exports.Reporter=Reporter,Reporter.prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.save=function(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}},Reporter.prototype.restore=function(data){var state=this._reporterState;state.obj=data.obj,state.path=state.path.slice(0,data.pathLen)},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.exitKey=function(index){var state=this._reporterState;state.path=state.path.slice(0,index-1)},Reporter.prototype.leaveKey=function(index,key,value){var state=this._reporterState;this.exitKey(index),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var state=this._reporterState,prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){var state=this._reporterState,now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){var err,state=this._reporterState,inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){if(this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:487}],49:[function(require,module,exports){"use strict";var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag)},{"../constants":50}],50:[function(require,module,exports){"use strict";var constants=exports;constants._reverse=function(map){var res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key|=0);var value=map[key];res[value]=key}),res},constants.der=require("./der")},{"./der":49}],51:[function(require,module,exports){"use strict";function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0==(32&tag);if(31==(31&tag)){var oct=tag;for(tag=0;128==(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;return{cls:cls,primitive:primitive,tag:tag,tagStr:der.tag[tag]}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0==(128&len))return len;var num=127&len;if(num>4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}var inherits=require("inherits"),asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(data,options){return data instanceof base.DecoderBuffer||(data=new base.DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(buffer,tag,any){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any)},DERNode.prototype._decodeTag=function(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(decodedTag.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:(len=buffer.offset-state.offset,buffer.restore(state),buffer.skip(len,'Failed to match body of: "'+tag+'"'))},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder,options){for(var result=[];!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,tag){if("bitstr"===tag){var unused=buffer.readUInt8();return buffer.isError(unused)?unused:{unused:unused,data:buffer.raw()}}if("bmpstr"===tag){var raw=buffer.raw();if(raw.length%2==1)return buffer.error("Decoding of string type: bmpstr length mismatch");for(var str="",i=0;i<raw.length/2;i++)str+=String.fromCharCode(raw.readUInt16BE(2*i));return str}if("numstr"===tag){var numstr=buffer.raw().toString("ascii");return this._isNumstr(numstr)?numstr:buffer.error("Decoding of string type: numstr unsupported characters")}if("octstr"===tag)return buffer.raw();if("objDesc"===tag)return buffer.raw();if("printstr"===tag){var printstr=buffer.raw().toString("ascii");return this._isPrintstr(printstr)?printstr:buffer.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(tag)?buffer.raw().toString():buffer.error("Decoding of string type: "+tag+" unsupported")},DERNode.prototype._decodeObjid=function(buffer,values,relative){for(var result,identifiers=[],ident=0;!buffer.isEmpty();){var subident=buffer.readUInt8();ident<<=7,ident|=127&subident,0==(128&subident)&&(identifiers.push(ident),ident=0)}128&subident&&identifiers.push(ident);var first=identifiers[0]/40|0,second=identifiers[0]%40;if(result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values){var tmp=values[result.join(" ")];tmp===undefined&&(tmp=values[result.join(".")]),tmp!==undefined&&(result=tmp)}return result},DERNode.prototype._decodeTime=function(buffer,tag){var str=buffer.raw().toString();if("gentime"===tag)var year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return buffer.error("Decoding "+tag+" time is not supported yet");var year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12);year=year<70?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(buffer){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(buffer,values){var raw=buffer.raw(),res=new bignum(raw);return values&&(res=values[res.toString(10)]||res),res},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getDecoder("der").tree}},{"../../asn1":43,inherits:487}],52:[function(require,module,exports){"use strict";var decoders=exports;decoders.der=require("./der"),decoders.pem=require("./pem")},{"./der":51,"./pem":53}],53:[function(require,module,exports){"use strict";function PEMDecoder(entity){DERDecoder.call(this,entity),this.enc="pem"}var inherits=require("inherits"),Buffer=require("buffer").Buffer,DERDecoder=require("./der");inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(data,options){for(var lines=data.toString().split(/[\r\n]+/g),label=options.label.toUpperCase(),start=-1,end=-1,i=0;i<lines.length;i++){var match=lines[i].match(/^-----(BEGIN|END) ([^-]+)-----$/);if(null!==match&&match[2]===label){if(-1!==start){if("END"!==match[1])break;end=i;break}if("BEGIN"!==match[1])break;start=i}}if(-1===start||-1===end)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"./der":51,buffer:105,inherits:487}],54:[function(require,module,exports){"use strict";function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function two(num){return num<10?"0"+num:num}function encodeTag(tag,primitive,cls,reporter){var res;if("seqof"===tag?tag="seq":"setof"===tag&&(tag="set"),der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}return res>=31?reporter.error("Multi-octet tag encoding unsupported"):(primitive||(res|=32),res|=der.tagClassByName[cls||"universal"]<<6)}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),base=asn1.base,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128)return(header=new Buffer(2))[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content]);for(var lenOctets=1,i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(2+lenOctets);header[0]=encodedTag,header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){if("bitstr"===tag)return this._createEncoderBuffer([0|str.unused,str.data]);if("bmpstr"===tag){for(var buf=new Buffer(2*str.length),i=0;i<str.length;i++)buf.writeUInt16BE(str.charCodeAt(i),2*i);return this._createEncoderBuffer(buf)}return"numstr"===tag?this._isNumstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===tag?this._isPrintstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(tag)?this._createEncoderBuffer(str):"objDesc"===tag?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported")},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}for(var size=0,i=0;i<id.length;i++){ident=id[i];for(size++;ident>=128;ident>>=7)size++}for(var objid=new Buffer(size),offset=objid.length-1,i=id.length-1;i>=0;i--){var ident=id[i];for(objid[offset--]=127&ident;(ident>>=7)>0;)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){var str,date=new Date(time);return"gentime"===tag?str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if("number"!=typeof num&&!Buffer.isBuffer(num)){var numArray=num.toArray();!num.sign&&128&numArray[0]&&numArray.unshift(0),num=new Buffer(numArray)}if(Buffer.isBuffer(num)){size=num.length;0===num.length&&size++;var out=new Buffer(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);for(var size=1,i=num;i>=256;i>>=8)size++;for(i=(out=new Array(size)).length-1;i>=0;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(new Buffer(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){var i,state=this._baseState;if(null===state["default"])return!1;var data=dataBuffer.join();if(state.defaultBuffer===undefined&&(state.defaultBuffer=this._encodeValue(state["default"],reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},{"../../asn1":43,buffer:105,inherits:487}],55:[function(require,module,exports){"use strict";var encoders=exports;encoders.der=require("./der"),encoders.pem=require("./pem")},{"./der":54,"./pem":56}],56:[function(require,module,exports){"use strict";function PEMEncoder(entity){DEREncoder.call(this,entity),this.enc="pem"}var inherits=require("inherits"),DEREncoder=require("./der");inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(data,options){for(var p=DEREncoder.prototype.encode.call(this,data).toString("base64"),out=["-----BEGIN "+options.label+"-----"],i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));return out.push("-----END "+options.label+"-----"),out.join("\n")}},{"./der":54,inherits:487}],57:[function(require,module,exports){"use strict";module.exports={newInvalidAsn1Error:function(msg){var e=new Error;return e.name="InvalidAsn1Error",e.message=msg||"",e}}},{}],58:[function(require,module,exports){"use strict";var errors=require("./errors"),types=require("./types"),Reader=require("./reader"),Writer=require("./writer");module.exports={Reader:Reader,Writer:Writer};for(var t in types)types.hasOwnProperty(t)&&(module.exports[t]=types[t]);for(var e in errors)errors.hasOwnProperty(e)&&(module.exports[e]=errors[e])},{"./errors":57,"./reader":59,"./types":60,"./writer":61}],59:[function(require,module,exports){(function(Buffer){"use strict";function Reader(data){if(!data||!Buffer.isBuffer(data))throw new TypeError("data must be a node Buffer");this._buf=data,this._size=data.length,this._len=0,this._offset=0}var assert=require("assert"),ASN1=require("./types"),newInvalidAsn1Error=require("./errors").newInvalidAsn1Error;Object.defineProperty(Reader.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(peek){if(this._size-this._offset<1)return null;var b=255&this._buf[this._offset];return peek||(this._offset+=1),b},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(offset){if(offset===undefined&&(offset=this._offset),offset>=this._size)return null;var lenB=255&this._buf[offset++];if(null===lenB)return null;if(128==(128&lenB)){if(0==(lenB&=127))throw newInvalidAsn1Error("Indefinite length not supported");if(lenB>4)throw newInvalidAsn1Error("encoding too long");if(this._size-offset<lenB)return null;this._len=0;for(var i=0;i<lenB;i++)this._len=(this._len<<8)+(255&this._buf[offset++])}else this._len=lenB;return offset},Reader.prototype.readSequence=function(tag){var seq=this.peek();if(null===seq)return null;if(tag!==undefined&&tag!==seq)throw newInvalidAsn1Error("Expected 0x"+tag.toString(16)+": got 0x"+seq.toString(16));var o=this.readLength(this._offset+1);return null===o?null:(this._offset=o,seq)},Reader.prototype.readInt=function(){return this._readTag(ASN1.Integer)},Reader.prototype.readBoolean=function(){return 0!==this._readTag(ASN1.Boolean)},Reader.prototype.readEnumeration=function(){return this._readTag(ASN1.Enumeration)},Reader.prototype.readString=function(tag,retbuf){tag||(tag=ASN1.OctetString);var b=this.peek();if(null===b)return null;if(b!==tag)throw newInvalidAsn1Error("Expected 0x"+tag.toString(16)+": got 0x"+b.toString(16));var o=this.readLength(this._offset+1);if(null===o)return null;if(this.length>this._size-o)return null;if(this._offset=o,0===this.length)return retbuf?new Buffer(0):"";var str=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,retbuf?str:str.toString("utf8")},Reader.prototype.readOID=function(tag){tag||(tag=ASN1.OID);var b=this.readString(tag,!0);if(null===b)return null;for(var values=[],value=0,i=0;i<b.length;i++){var byte=255&b[i];value<<=7,value+=127&byte,0==(128&byte)&&(values.push(value),value=0)}return value=values.shift(),values.unshift(value%40),values.unshift(value/40>>0),values.join(".")},Reader.prototype._readTag=function(tag){assert.ok(tag!==undefined);var b=this.peek();if(null===b)return null;if(b!==tag)throw newInvalidAsn1Error("Expected 0x"+tag.toString(16)+": got 0x"+b.toString(16));var o=this.readLength(this._offset+1);if(null===o)return null;if(this.length>4)throw newInvalidAsn1Error("Integer too long: "+this.length);if(this.length>this._size-o)return null;this._offset=o;for(var fb=this._buf[this._offset],value=0,i=0;i<this.length;i++)value<<=8,value|=255&this._buf[this._offset++];return 128==(128&fb)&&4!==i&&(value-=1<<8*i),value>>0},module.exports=Reader}).call(this,require("buffer").Buffer)},{"./errors":57,"./types":60,assert:64,buffer:105}],60:[function(require,module,exports){"use strict";module.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},{}],61:[function(require,module,exports){(function(Buffer){"use strict";function merge(from,to){return assert.ok(from),assert.equal(void 0===from?"undefined":_typeof(from),"object"),assert.ok(to),assert.equal(void 0===to?"undefined":_typeof(to),"object"),Object.getOwnPropertyNames(from).forEach(function(key){if(!to[key]){var value=Object.getOwnPropertyDescriptor(from,key);Object.defineProperty(to,key,value)}}),to}function Writer(options){options=merge(DEFAULT_OPTS,options||{}),this._buf=new Buffer(options.size||1024),this._size=this._buf.length,this._offset=0,this._options=options,this._seq=[]}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},assert=require("assert"),ASN1=require("./types"),DEFAULT_OPTS=(require("./errors").newInvalidAsn1Error,{size:1024,growthFactor:8});Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(b){if("number"!=typeof b)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=b},Writer.prototype.writeInt=function(i,tag){if("number"!=typeof i)throw new TypeError("argument must be a Number");"number"!=typeof tag&&(tag=ASN1.Integer);for(var sz=4;(0==(4286578688&i)||-8388608==(4286578688&i))&&sz>1;)sz--,i<<=8;if(sz>4)throw new InvalidAsn1Error("BER ints cannot be > 0xffffffff");for(this._ensure(2+sz),this._buf[this._offset++]=tag,this._buf[this._offset++]=sz;sz-- >0;)this._buf[this._offset++]=(4278190080&i)>>>24,i<<=8},Writer.prototype.writeNull=function(){this.writeByte(ASN1.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(i,tag){if("number"!=typeof i)throw new TypeError("argument must be a Number");return"number"!=typeof tag&&(tag=ASN1.Enumeration),this.writeInt(i,tag)},Writer.prototype.writeBoolean=function(b,tag){if("boolean"!=typeof b)throw new TypeError("argument must be a Boolean");"number"!=typeof tag&&(tag=ASN1.Boolean),this._ensure(3),this._buf[this._offset++]=tag,this._buf[this._offset++]=1,this._buf[this._offset++]=b?255:0},Writer.prototype.writeString=function(s,tag){if("string"!=typeof s)throw new TypeError("argument must be a string (was: "+(void 0===s?"undefined":_typeof(s))+")");"number"!=typeof tag&&(tag=ASN1.OctetString);var len=Buffer.byteLength(s);this.writeByte(tag),this.writeLength(len),len&&(this._ensure(len),this._buf.write(s,this._offset),this._offset+=len)},Writer.prototype.writeBuffer=function(buf,tag){if("number"!=typeof tag)throw new TypeError("tag must be a number");if(!Buffer.isBuffer(buf))throw new TypeError("argument must be a buffer");this.writeByte(tag),this.writeLength(buf.length),this._ensure(buf.length),buf.copy(this._buf,this._offset,0,buf.length),this._offset+=buf.length},Writer.prototype.writeStringArray=function(strings){if(!strings instanceof Array)throw new TypeError("argument must be an Array[String]");var self=this;strings.forEach(function(s){self.writeString(s)})},Writer.prototype.writeOID=function(s,tag){function encodeOctet(bytes,octet){octet<128?bytes.push(octet):octet<16384?(bytes.push(octet>>>7|128),bytes.push(127&octet)):octet<2097152?(bytes.push(octet>>>14|128),bytes.push(255&(octet>>>7|128)),bytes.push(127&octet)):octet<268435456?(bytes.push(octet>>>21|128),bytes.push(255&(octet>>>14|128)),bytes.push(255&(octet>>>7|128)),bytes.push(127&octet)):(bytes.push(255&(octet>>>28|128)),bytes.push(255&(octet>>>21|128)),bytes.push(255&(octet>>>14|128)),bytes.push(255&(octet>>>7|128)),bytes.push(127&octet))}if("string"!=typeof s)throw new TypeError("argument must be a string");if("number"!=typeof tag&&(tag=ASN1.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(s))throw new Error("argument is not a valid OID string");var tmp=s.split("."),bytes=[];bytes.push(40*parseInt(tmp[0],10)+parseInt(tmp[1],10)),tmp.slice(2).forEach(function(b){encodeOctet(bytes,parseInt(b,10))});var self=this;this._ensure(2+bytes.length),this.writeByte(tag),this.writeLength(bytes.length),bytes.forEach(function(b){self.writeByte(b)})},Writer.prototype.writeLength=function(len){if("number"!=typeof len)throw new TypeError("argument must be a Number");if(this._ensure(4),len<=127)this._buf[this._offset++]=len;else if(len<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=len;else if(len<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=len>>8,this._buf[this._offset++]=len;else{if(!(len<=16777215))throw new InvalidAsn1ERror("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=len>>16,this._buf[this._offset++]=len>>8,this._buf[this._offset++]=len}},Writer.prototype.startSequence=function(tag){"number"!=typeof tag&&(tag=ASN1.Sequence|ASN1.Constructor),this.writeByte(tag),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var seq=this._seq.pop(),start=seq+3,len=this._offset-start;if(len<=127)this._shift(start,len,-2),this._buf[seq]=len;else if(len<=255)this._shift(start,len,-1),this._buf[seq]=129,this._buf[seq+1]=len;else if(len<=65535)this._buf[seq]=130,this._buf[seq+1]=len>>8,this._buf[seq+2]=len;else{if(!(len<=16777215))throw new InvalidAsn1Error("Sequence too long");this._shift(start,len,1),this._buf[seq]=131,this._buf[seq+1]=len>>16,this._buf[seq+2]=len>>8,this._buf[seq+3]=len}},Writer.prototype._shift=function(start,len,shift){assert.ok(start!==undefined),assert.ok(len!==undefined),assert.ok(shift),this._buf.copy(this._buf,start+shift,start,start+len),this._offset+=shift},Writer.prototype._ensure=function(len){if(assert.ok(len),this._size-this._offset<len){var sz=this._size*this._options.growthFactor;sz-this._offset<len&&(sz+=len);var buf=new Buffer(sz);this._buf.copy(buf,0,0,this._offset),this._buf=buf,this._size=sz}},module.exports=Writer}).call(this,require("buffer").Buffer)},{"./errors":57,"./types":60,assert:64,buffer:105}],62:[function(require,module,exports){"use strict";var Ber=require("./ber/index");module.exports={Ber:Ber,BerReader:Ber.Reader,BerWriter:Ber.Writer}},{"./ber/index":58}],63:[function(require,module,exports){(function(Buffer,process){"use strict";function _capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1)}function _toss(name,expected,oper,arg,actual){throw new assert.AssertionError({message:util.format("%s (%s) is required",name,expected),actual:actual===undefined?void 0===arg?"undefined":_typeof(arg):actual(arg),expected:expected,operator:oper||"===",stackStartFunction:_toss.caller})}function _getClass(arg){return Object.prototype.toString.call(arg).slice(8,-1)}function noop(){}function _setExports(ndebug){var out,keys=Object.keys(types);return out=process.env.NODE_NDEBUG?noop:function(arg,msg){arg||_toss(msg,"true",arg)},keys.forEach(function(k){if(ndebug)return void(out[k]=noop);var type=types[k];out[k]=function(arg,msg){type.check(arg)||_toss(msg,k,type.operator,arg,type.actual)}}),keys.forEach(function(k){var name="optional"+_capitalize(k);if(ndebug)return void(out[name]=noop);var type=types[k];out[name]=function(arg,msg){arg!==undefined&&null!==arg&&(type.check(arg)||_toss(msg,k,type.operator,arg,type.actual))}}),keys.forEach(function(k){var name="arrayOf"+_capitalize(k);if(ndebug)return void(out[name]=noop);var type=types[k],expected="["+k+"]";out[name]=function(arg,msg){Array.isArray(arg)||_toss(msg,expected,type.operator,arg,type.actual);var i;for(i=0;i<arg.length;i++)type.check(arg[i])||_toss(msg,expected,type.operator,arg,type.actual)}}),keys.forEach(function(k){var name="optionalArrayOf"+_capitalize(k);if(ndebug)return void(out[name]=noop);var type=types[k],expected="["+k+"]";out[name]=function(arg,msg){if(arg!==undefined&&null!==arg){Array.isArray(arg)||_toss(msg,expected,type.operator,arg,type.actual);var i;for(i=0;i<arg.length;i++)type.check(arg[i])||_toss(msg,expected,type.operator,arg,type.actual)}}}),Object.keys(assert).forEach(function(k){return"AssertionError"===k?void(out[k]=assert[k]):ndebug?void(out[k]=noop):void(out[k]=assert[k])}),out._setExports=_setExports,out}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},assert=require("assert"),Stream=require("stream").Stream,util=require("util"),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,types={bool:{check:function(arg){return"boolean"==typeof arg}},func:{check:function(arg){return"function"==typeof arg}},string:{check:function(arg){return"string"==typeof arg}},object:{check:function(arg){return"object"===(void 0===arg?"undefined":_typeof(arg))&&null!==arg}},number:{check:function(arg){return"number"==typeof arg&&!isNaN(arg)&&isFinite(arg)}},buffer:{check:function(arg){return Buffer.isBuffer(arg)},operator:"Buffer.isBuffer"},array:{check:function(arg){return Array.isArray(arg)},operator:"Array.isArray"},stream:{check:function(arg){return arg instanceof Stream},operator:"instanceof",actual:_getClass},date:{check:function(arg){return arg instanceof Date},operator:"instanceof",actual:_getClass},regexp:{check:function(arg){return arg instanceof RegExp},operator:"instanceof",actual:_getClass},uuid:{check:function(arg){return"string"==typeof arg&&UUID_REGEXP.test(arg)},operator:"isUUID"}};module.exports=_setExports(process.env.NODE_NDEBUG)}).call(this,{isBuffer:require("../is-buffer/index.js")},require("_process"))},{"../is-buffer/index.js":488,_process:534,assert:64,stream:610,util:635}],64:[function(require,module,exports){(function(global){"use strict";function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}function isBuffer(b){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){return!isBuffer(arrbuf)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(arrbuf):!!arrbuf&&(arrbuf instanceof DataView||!!(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer))))}function getName(func){if(util.isFunction(func)){if(functionsHaveNames)return func.name;var match=func.toString().match(regex);return match&&match[1]}}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function inspect(something){if(functionsHaveNames||!util.isFunction(something))return util.inspect(something);var rawname=getName(something);return"[Function"+(rawname?": "+rawname:"")+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected,strict,memos){if(actual===expected)return!0;if(isBuffer(actual)&&isBuffer(expected))return 0===compare(actual,expected);if(util.isDate(actual)&&util.isDate(expected))return actual.getTime()===expected.getTime();if(util.isRegExp(actual)&&util.isRegExp(expected))return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;if(null!==actual&&"object"===(void 0===actual?"undefined":_typeof(actual))||null!==expected&&"object"===(void 0===expected?"undefined":_typeof(expected))){if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array))return 0===compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer));if(isBuffer(actual)!==isBuffer(expected))return!1;var actualIndex=(memos=memos||{actual:[],expected:[]}).actual.indexOf(actual);return-1!==actualIndex&&actualIndex===memos.expected.indexOf(expected)||(memos.actual.push(actual),memos.expected.push(expected),objEquiv(actual,expected,strict,memos))}return strict?actual===expected:actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b,strict,actualVisitedObjects){if(null===a||a===undefined||null===b||b===undefined)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b,strict);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!==kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return!1;return!0}function notDeepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)&&fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}function expectedException(actual,expected){if(!actual||!expected)return!1;if("[object RegExp]"==Object.prototype.toString.call(expected))return expected.test(actual);try{if(actual instanceof expected)return!0}catch(e){}return!Error.isPrototypeOf(expected)&&!0===expected.call({},actual)}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if("function"!=typeof block)throw new TypeError('"block" argument must be a function');"string"==typeof expected&&(message=expected,expected=null),actual=_tryBlock(block),message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message);var userProvidedMessage="string"==typeof message,isUnwantedException=!shouldThrow&&util.isError(actual),isUnexpectedException=!shouldThrow&&actual&&!expected;if((isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},util=require("util/"),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return"foo"===function(){}.name}(),assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=getName(stackStartFunction),idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function(actual,expected,message){_deepEqual(actual,expected,!0)||fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws(!0,block,error,message)},assert.doesNotThrow=function(block,error,message){_throws(!1,block,error,message)},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":635}],65:[function(require,module,exports){"use strict";function authorization(options){return"AWS "+options.key+":"+sign(options)}function hmacSha1(options){return crypto.createHmac("sha1",options.secret).update(options.message).digest("base64")}function sign(options){return options.message=stringToSign(options),hmacSha1(options)}function signQuery(options){return options.message=queryStringToSign(options),hmacSha1(options)}function stringToSign(options){var headers=options.amazonHeaders||"";return headers&&(headers+="\n"),[options.verb,options.md5,options.contentType,options.date?options.date.toUTCString():"",headers+options.resource].join("\n")}function queryStringToSign(options){return"GET\n\n\n"+options.date+"\n"+options.resource}function canonicalizeHeaders(headers){for(var buf=[],fields=Object.keys(headers),i=0,len=fields.length;i<len;++i){var field=fields[i],val=headers[field];0===(field=field.toLowerCase()).indexOf("x-amz")&&buf.push(field+":"+val)}return buf.sort().join("\n")}function canonicalizeResource(resource){var url=parse(resource,!0),path=url.pathname,buf=[];return Object.keys(url.query).forEach(function(key){if(~keys.indexOf(key)){var val=""==url.query[key]?"":"="+encodeURIComponent(url.query[key]);buf.push(key+val)}}),path+(buf.length?"?"+buf.sort().join("&"):"")}var crypto=require("crypto"),parse=require("url").parse,keys=["acl","location","logging","notification","partNumber","policy","requestPayment","torrent","uploadId","uploads","versionId","versioning","versions","website"];module.exports=authorization,module.exports.authorization=authorization,module.exports.hmacSha1=hmacSha1,module.exports.sign=sign,module.exports.signQuery=signQuery,module.exports.queryStringToSign=stringToSign,module.exports.queryStringToSign=queryStringToSign,module.exports.canonicalizeHeaders=canonicalizeHeaders,module.exports.canonicalizeResource=canonicalizeResource},{crypto:411,url:630}],66:[function(require,module,exports){(function(process,Buffer){"use strict";function hmac(key,string,encoding){return crypto.createHmac("sha256",key).update(string,"utf8").digest(encoding)}function hash(string,encoding){return crypto.createHash("sha256").update(string,"utf8").digest(encoding)}function encodeRfc3986(urlEncodedString){return urlEncodedString.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function RequestSigner(request,credentials){"string"==typeof request&&(request=url.parse(request));var headers=request.headers=request.headers||{},hostParts=this.matchHost(request.hostname||request.host||headers.Host||headers.host);this.request=request,this.credentials=credentials||this.defaultCredentials(),this.service=request.service||hostParts[0]||"",this.region=request.region||hostParts[1]||"us-east-1","email"===this.service&&(this.service="ses"),!request.method&&request.body&&(request.method="POST"),headers.Host||headers.host||(headers.Host=request.hostname||request.host||this.createHost(),request.port&&(headers.Host+=":"+request.port)),request.hostname||request.host||(request.hostname=headers.Host||headers.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===request.method}var aws4=exports,url=require("url"),querystring=require("querystring"),crypto=require("crypto"),credentialsCache=require("./lru")(1e3);RequestSigner.prototype.matchHost=function(host){var hostParts=((host||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===hostParts[1]&&(hostParts=hostParts.reverse()),hostParts},RequestSigner.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},RequestSigner.prototype.createHost=function(){var region=this.isSingleRegion()?"":("s3"===this.service&&"us-east-1"!==this.region?"-":".")+this.region;return("ses"===this.service?"email":this.service)+region+".amazonaws.com"},RequestSigner.prototype.prepareRequest=function(){this.parsePath();var query,request=this.request,headers=request.headers;request.signQuery?(this.parsedPath.query=query=this.parsedPath.query||{},this.credentials.sessionToken&&(query["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||query["X-Amz-Expires"]||(query["X-Amz-Expires"]=86400),query["X-Amz-Date"]?this.datetime=query["X-Amz-Date"]:query["X-Amz-Date"]=this.getDateTime(),query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",query["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),query["X-Amz-SignedHeaders"]=this.signedHeaders()):(request.doNotModifyHeaders||this.isCodeCommitGit||(!request.body||headers["Content-Type"]||headers["content-type"]||(headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!request.body||headers["Content-Length"]||headers["content-length"]||(headers["Content-Length"]=Buffer.byteLength(request.body)),!this.credentials.sessionToken||headers["X-Amz-Security-Token"]||headers["x-amz-security-token"]||(headers["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||headers["X-Amz-Content-Sha256"]||headers["x-amz-content-sha256"]||(headers["X-Amz-Content-Sha256"]=hash(this.request.body||"","hex")),headers["X-Amz-Date"]||headers["x-amz-date"]?this.datetime=headers["X-Amz-Date"]||headers["x-amz-date"]:headers["X-Amz-Date"]=this.getDateTime()),delete headers.Authorization,delete headers.authorization)},RequestSigner.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},RequestSigner.prototype.getDateTime=function(){if(!this.datetime){var headers=this.request.headers,date=new Date(headers.Date||headers.date||new Date);this.datetime=date.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},RequestSigner.prototype.getDate=function(){return this.getDateTime().substr(0,8)},RequestSigner.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},RequestSigner.prototype.signature=function(){var date=this.getDate(),cacheKey=[this.credentials.secretAccessKey,date,this.region,this.service].join(),kCredentials=credentialsCache.get(cacheKey);return kCredentials||(kCredentials=hmac(hmac(hmac(hmac("AWS4"+this.credentials.secretAccessKey,date),this.region),this.service),"aws4_request"),credentialsCache.set(cacheKey,kCredentials)),hmac(kCredentials,this.stringToSign(),"hex")},RequestSigner.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),hash(this.canonicalString(),"hex")].join("\n")},RequestSigner.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var bodyHash,pathStr=this.parsedPath.path,query=this.parsedPath.query,headers=this.request.headers,queryStr="",normalizePath="s3"!==this.service,decodePath="s3"===this.service||this.request.doNotEncodePath,decodeSlashesInPath="s3"===this.service,firstValOnly="s3"===this.service;return bodyHash="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":headers["X-Amz-Content-Sha256"]||headers["x-amz-content-sha256"]||hash(this.request.body||"","hex"),query&&(queryStr=encodeRfc3986(querystring.stringify(Object.keys(query).sort().reduce(function(obj,key){return key?(obj[key]=Array.isArray(query[key])?firstValOnly?query[key][0]:query[key].slice().sort():query[key],obj):obj},{})))),"/"!==pathStr&&(normalizePath&&(pathStr=pathStr.replace(/\/{2,}/g,"/")),"/"!==(pathStr=pathStr.split("/").reduce(function(path,piece){return normalizePath&&".."===piece?path.pop():normalizePath&&"."===piece||(decodePath&&(piece=querystring.unescape(piece)),path.push(encodeRfc3986(querystring.escape(piece)))),path},[]).join("/"))[0]&&(pathStr="/"+pathStr),decodeSlashesInPath&&(pathStr=pathStr.replace(/%2F/g,"/"))),[this.request.method||"GET",pathStr,queryStr,this.canonicalHeaders()+"\n",this.signedHeaders(),bodyHash].join("\n")},RequestSigner.prototype.canonicalHeaders=function(){function trimAll(header){return header.toString().trim().replace(/\s+/g," ")}var headers=this.request.headers;return Object.keys(headers).sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:1}).map(function(key){return key.toLowerCase()+":"+trimAll(headers[key])}).join("\n")},RequestSigner.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(key){return key.toLowerCase()}).sort().join(";")},RequestSigner.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},RequestSigner.prototype.defaultCredentials=function(){var env=process.env;return{accessKeyId:env.AWS_ACCESS_KEY_ID||env.AWS_ACCESS_KEY,secretAccessKey:env.AWS_SECRET_ACCESS_KEY||env.AWS_SECRET_KEY,sessionToken:env.AWS_SESSION_TOKEN}},RequestSigner.prototype.parsePath=function(){var path=this.request.path||"/",queryIx=path.indexOf("?"),query=null;queryIx>=0&&(query=querystring.parse(path.slice(queryIx+1)),path=path.slice(0,queryIx)),/[^0-9A-Za-z!'()*\-._~%\/]/.test(path)&&(path=path.split("/").map(function(piece){return querystring.escape(querystring.unescape(piece))}).join("/")),this.parsedPath={path:path,query:query}},RequestSigner.prototype.formatPath=function(){var path=this.parsedPath.path,query=this.parsedPath.query;return query?(null!=query[""]&&delete query[""],path+"?"+encodeRfc3986(querystring.stringify(query))):path},aws4.RequestSigner=RequestSigner,aws4.sign=function(request,credentials){return new RequestSigner(request,credentials).sign()}}).call(this,require("_process"),require("buffer").Buffer)},{"./lru":67,_process:534,buffer:105,crypto:411,querystring:549,url:630}],67:[function(require,module,exports){"use strict";function LruCache(size){this.capacity=0|size,this.map=Object.create(null),this.list=new DoublyLinkedList}function DoublyLinkedList(){this.firstNode=null,this.lastNode=null}function DoublyLinkedNode(key,val){this.key=key,this.val=val,this.prev=null,this.next=null}module.exports=function(size){return new LruCache(size)},LruCache.prototype.get=function(key){var node=this.map[key];return null==node?undefined:(this.used(node),node.val)},LruCache.prototype.set=function(key,val){var node=this.map[key];if(null!=node)node.val=val;else{if(this.capacity||this.prune(),!this.capacity)return!1;node=new DoublyLinkedNode(key,val),this.map[key]=node,this.capacity--}return this.used(node),!0},LruCache.prototype.used=function(node){this.list.moveToFront(node)},LruCache.prototype.prune=function(){var node=this.list.pop();null!=node&&(delete this.map[node.key],this.capacity++)},DoublyLinkedList.prototype.moveToFront=function(node){this.firstNode!=node&&(this.remove(node),null==this.firstNode?(this.firstNode=node,this.lastNode=node,node.prev=null,node.next=null):(node.prev=null,node.next=this.firstNode,node.next.prev=node,this.firstNode=node))},DoublyLinkedList.prototype.pop=function(){var lastNode=this.lastNode;return null!=lastNode&&this.remove(lastNode),lastNode},DoublyLinkedList.prototype.remove=function(node){this.firstNode==node?this.firstNode=node.next:null!=node.prev&&(node.prev.next=node.next),this.lastNode==node?this.lastNode=node.prev:null!=node.next&&(node.next.prev=node.prev)}},{}],68:[function(require,module,exports){(function(global){"use strict";function define(O,key,value){O[key]||Object[DEFINE_PROPERTY](O,key,{writable:!0,configurable:!0,value:value})}if(require("core-js/shim"),require("regenerator-runtime/runtime"),require("core-js/fn/regexp/escape"),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var DEFINE_PROPERTY="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key){[][key]&&define(Array,key,Function.call.bind([][key]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":111,"core-js/shim":404,"regenerator-runtime/runtime":562}],69:[function(require,module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],70:[function(require,module,exports){"use strict";function F(S,x8,i){return(S[0][x8[i+3]]+S[1][x8[i+2]]^S[2][x8[i+1]])+S[3][x8[i]]}function stream2word(data,databytes){var i,temp=0;for(i=0;i<4;i++,BLF_J++)BLF_J>=databytes&&(BLF_J=0),temp=temp<<8|data[BLF_J];return temp}function bcrypt_hash(sha2pass,sha2salt,out){var i,state=new Blowfish,cdata=new Uint32Array(BCRYPT_BLOCKS),ciphertext=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(state.expandstate(sha2salt,64,sha2pass,64),i=0;i<64;i++)state.expand0state(sha2salt,64),state.expand0state(sha2pass,64);for(i=0;i<BCRYPT_BLOCKS;i++)cdata[i]=stream2word(ciphertext,ciphertext.byteLength);for(i=0;i<64;i++)state.enc(cdata,cdata.byteLength/8);for(i=0;i<BCRYPT_BLOCKS;i++)out[4*i+3]=cdata[i]>>>24,out[4*i+2]=cdata[i]>>>16,out[4*i+1]=cdata[i]>>>8,out[4*i+0]=cdata[i]}function bcrypt_pbkdf(pass,passlen,salt,saltlen,key,keylen,rounds){var i,j,amt,stride,dest,count,sha2pass=new Uint8Array(64),sha2salt=new Uint8Array(64),out=new Uint8Array(BCRYPT_HASHSIZE),tmpout=new Uint8Array(BCRYPT_HASHSIZE),countsalt=new Uint8Array(saltlen+4),origkeylen=keylen;if(rounds<1)return-1;if(0===passlen||0===saltlen||0===keylen||keylen>out.byteLength*out.byteLength||saltlen>1<<20)return-1;for(stride=Math.floor((keylen+out.byteLength-1)/out.byteLength),amt=Math.floor((keylen+stride-1)/stride),i=0;i<saltlen;i++)countsalt[i]=salt[i];for(crypto_hash_sha512(sha2pass,pass,passlen),count=1;keylen>0;count++){for(countsalt[saltlen+0]=count>>>24,countsalt[saltlen+1]=count>>>16,countsalt[saltlen+2]=count>>>8,countsalt[saltlen+3]=count,crypto_hash_sha512(sha2salt,countsalt,saltlen+4),bcrypt_hash(sha2pass,sha2salt,tmpout),i=out.byteLength;i--;)out[i]=tmpout[i];for(i=1;i<rounds;i++)for(crypto_hash_sha512(sha2salt,tmpout,tmpout.byteLength),bcrypt_hash(sha2pass,sha2salt,tmpout),j=0;j<out.byteLength;j++)out[j]^=tmpout[j];for(amt=Math.min(amt,keylen),i=0;i<amt&&!((dest=i*stride+(count-1))>=origkeylen);i++)key[dest]=out[i];keylen-=i}return 0}var crypto_hash_sha512=require("tweetnacl").lowlevel.crypto_hash,BLF_J=0,Blowfish=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};Blowfish.prototype.encipher=function(x,x8){x8===undefined&&(x8=new Uint8Array(x.buffer),0!==x.byteOffset&&(x8=x8.subarray(x.byteOffset))),x[0]^=this.P[0];for(var i=1;i<16;i+=2)x[1]^=F(this.S,x8,0)^this.P[i],x[0]^=F(this.S,x8,4)^this.P[i+1];var t=x[0];x[0]=x[1]^this.P[17],x[1]=t},Blowfish.prototype.decipher=function(x){var x8=new Uint8Array(x.buffer);0!==x.byteOffset&&(x8=x8.subarray(x.byteOffset)),x[0]^=this.P[17];for(var i=16;i>0;i-=2)x[1]^=F(this.S,x8,0)^this.P[i],x[0]^=F(this.S,x8,4)^this.P[i-1];var t=x[0];x[0]=x[1]^this.P[0],x[1]=t},Blowfish.prototype.expand0state=function(key,keybytes){var i,k,d=new Uint32Array(2),d8=new Uint8Array(d.buffer);for(i=0,BLF_J=0;i<18;i++)this.P[i]^=stream2word(key,keybytes);for(BLF_J=0,i=0;i<18;i+=2)this.encipher(d,d8),this.P[i]=d[0],this.P[i+1]=d[1];for(i=0;i<4;i++)for(k=0;k<256;k+=2)this.encipher(d,d8),this.S[i][k]=d[0],this.S[i][k+1]=d[1]},Blowfish.prototype.expandstate=function(data,databytes,key,keybytes){var i,k,d=new Uint32Array(2);for(i=0,BLF_J=0;i<18;i++)this.P[i]^=stream2word(key,keybytes);for(i=0,BLF_J=0;i<18;i+=2)d[0]^=stream2word(data,databytes),d[1]^=stream2word(data,databytes),this.encipher(d),this.P[i]=d[0],this.P[i+1]=d[1];for(i=0;i<4;i++)for(k=0;k<256;k+=2)d[0]^=stream2word(data,databytes),d[1]^=stream2word(data,databytes),this.encipher(d),this.S[i][k]=d[0],this.S[i][k+1]=d[1];BLF_J=0},Blowfish.prototype.enc=function(data,blocks){for(var i=0;i<blocks;i++)this.encipher(data.subarray(2*i))},Blowfish.prototype.dec=function(data,blocks){for(var i=0;i<blocks;i++)this.decipher(data.subarray(2*i))};var BCRYPT_BLOCKS=8,BCRYPT_HASHSIZE=32;module.exports={BLOCKS:BCRYPT_BLOCKS,HASHSIZE:BCRYPT_HASHSIZE,hash:bcrypt_hash,pbkdf:bcrypt_pbkdf}},{tweetnacl:629}],71:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(module,exports){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number))return number;this.negative=0,this.words=null,this.length=0,this.red=null,null!==number&&("le"!==base&&"be"!==base||(endian=base,base=10),this._init(number||0,base||10,endian||"be"))}function parseHex(str,start,end){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4,r|=c>=49&&c<=54?c-49+10:c>=17&&c<=22?c-17+10:15&c}return r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=c>=49?c-49+10:c>=17?c-17+10:c}return r}function toBitArray(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++){var off=bit/26|0,wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len,len=len-1|0;var a=0|self.words[0],b=0|num.words[0],r=a*b,lo=67108863&r,carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;ncarry+=(r=(a=0|self.words[i])*(b=0|num.words[j])+rword)/67108864|0,rword=67108863&r}out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out.strip()}function bigMulTo(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j,r=(0|self.words[i])*(0|num.words[j]),lo=67108863&r;rword=67108863&(lo=lo+rword|0),hncarry+=(ncarry=(ncarry=ncarry+(r/67108864|0)|0)+(lo>>>26)|0)>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()}function jumboMulTo(self,num,out){return(new FFTM).mulp(self,num,out)}function FFTM(x,y){this.x=x,this.y=y}function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN._prime(m);this.m=prime.p,this.prime=prime}else assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"===(void 0===module?"undefined":_typeof(module))?module.exports=BN:exports.BN=BN,BN.BN=BN,BN.wordSize=26;var Buffer;try{Buffer=require("buffer").Buffer}catch(e){}BN.isBN=function(num){return num instanceof BN||null!==num&&"object"===(void 0===num?"undefined":_typeof(num))&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return left.cmp(right)>0?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"===(void 0===number?"undefined":_typeof(number)))return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&base<=36);var start=0;"-"===(number=number.toString().replace(/\s+/g,""))[0]&&start++,16===base?this._parseHex(number,start):this._parseBase(number,base,start),"-"===number[0]&&(this.negative=1),this.strip(),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;if("be"===endian)for(i=number.length-1,j=0;i>=0;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);else if("le"===endian)for(i=0,j=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);return this.strip()},BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;for(i=number.length-6,j=0;i>=start;i-=6)w=parseHex(number,i,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303,(off+=24)>=26&&(off-=26,j++);i+6!==start&&(w=parseHex(number,start,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303),this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){var pow=1;for(word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){base=base||10,padding=0|padding||1;var out;if(16===base||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16);out=0!==(carry=w>>>24-off&16777215)||i!==this.length-1?zeros[6-word.length]+word+out:word+out,(off+=2)>=26&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}if(base===(0|base)&&base>=2&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];out="";var c=this.clone();for(c.negative=0;!c.isZero();){var r=c.modn(groupBase).toString(base);out=(c=c.idivn(groupBase)).isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(endian,length){return assert(void 0!==Buffer),this.toArrayLike(Buffer,endian,length)},BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN.prototype.toArrayLike=function(ArrayType,endian,length){var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length"),assert(reqLength>0,"Requested array length <= 0"),this.strip();var b,i,littleEndian="le"===endian,res=new ArrayType(reqLength),q=this.clone();if(littleEndian){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[i]=b;for(;i<reqLength;i++)res[i]=0}else{for(i=0;i<reqLength-byteLength;i++)res[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[reqLength-i-1]=b}return res},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(w){var t=w,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(w){if(0===w)return 26;var t=w,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},BN.prototype.bitLength=function(){var w=this.words[this.length-1],hi=this._countBits(w);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.ior=function(num){return assert(0==(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.iand=function(num){return assert(0==(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.ixor=function(num){return assert(0==(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(width){assert("number"==typeof width&&width>=0);var bytesNeeded=0|Math.ceil(width/26),bitsLeft=width%26;this._expand(bytesNeeded),bitsLeft>0&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return bitsLeft>0&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this.strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);var off=bit/26|0,wbit=bit%26;return this._expand(off+1),this.words[off]=val?this.words[off]|1<<wbit:this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){var r;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;var a,b;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)carry=(r=(0|a.words[i])-(0|b.words[i])+carry)>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)carry=(r=(0|a.words[i])+carry)>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self,num,out){var lo,mid,hi,a=self.words,b=num.words,o=out.words,c=0,a0=0|a[0],al0=8191&a0,ah0=a0>>>13,a1=0|a[1],al1=8191&a1,ah1=a1>>>13,a2=0|a[2],al2=8191&a2,ah2=a2>>>13,a3=0|a[3],al3=8191&a3,ah3=a3>>>13,a4=0|a[4],al4=8191&a4,ah4=a4>>>13,a5=0|a[5],al5=8191&a5,ah5=a5>>>13,a6=0|a[6],al6=8191&a6,ah6=a6>>>13,a7=0|a[7],al7=8191&a7,ah7=a7>>>13,a8=0|a[8],al8=8191&a8,ah8=a8>>>13,a9=0|a[9],al9=8191&a9,ah9=a9>>>13,b0=0|b[0],bl0=8191&b0,bh0=b0>>>13,b1=0|b[1],bl1=8191&b1,bh1=b1>>>13,b2=0|b[2],bl2=8191&b2,bh2=b2>>>13,b3=0|b[3],bl3=8191&b3,bh3=b3>>>13,b4=0|b[4],bl4=8191&b4,bh4=b4>>>13,b5=0|b[5],bl5=8191&b5,bh5=b5>>>13,b6=0|b[6],bl6=8191&b6,bh6=b6>>>13,b7=0|b[7],bl7=8191&b7,bh7=b7>>>13,b8=0|b[8],bl8=8191&b8,bh8=b8>>>13,b9=0|b[9],bl9=8191&b9,bh9=b9>>>13;out.negative=self.negative^num.negative,out.length=19;var w0=(c+(lo=Math.imul(al0,bl0))|0)+((8191&(mid=(mid=Math.imul(al0,bh0))+Math.imul(ah0,bl0)|0))<<13)|0;c=((hi=Math.imul(ah0,bh0))+(mid>>>13)|0)+(w0>>>26)|0,w0&=67108863,lo=Math.imul(al1,bl0),mid=(mid=Math.imul(al1,bh0))+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0);var w1=(c+(lo=lo+Math.imul(al0,bl1)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh1)|0)+Math.imul(ah0,bl1)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh1)|0)+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(al2,bl0),mid=(mid=Math.imul(al2,bh0))+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(al1,bl1)|0,mid=(mid=mid+Math.imul(al1,bh1)|0)+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0;var w2=(c+(lo=lo+Math.imul(al0,bl2)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh2)|0)+Math.imul(ah0,bl2)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh2)|0)+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(al3,bl0),mid=(mid=Math.imul(al3,bh0))+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(al2,bl1)|0,mid=(mid=mid+Math.imul(al2,bh1)|0)+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(al1,bl2)|0,mid=(mid=mid+Math.imul(al1,bh2)|0)+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0;var w3=(c+(lo=lo+Math.imul(al0,bl3)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh3)|0)+Math.imul(ah0,bl3)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh3)|0)+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(al4,bl0),mid=(mid=Math.imul(al4,bh0))+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(al3,bl1)|0,mid=(mid=mid+Math.imul(al3,bh1)|0)+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(al2,bl2)|0,mid=(mid=mid+Math.imul(al2,bh2)|0)+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(al1,bl3)|0,mid=(mid=mid+Math.imul(al1,bh3)|0)+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0;var w4=(c+(lo=lo+Math.imul(al0,bl4)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh4)|0)+Math.imul(ah0,bl4)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh4)|0)+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(al5,bl0),mid=(mid=Math.imul(al5,bh0))+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(al4,bl1)|0,mid=(mid=mid+Math.imul(al4,bh1)|0)+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(al3,bl2)|0,mid=(mid=mid+Math.imul(al3,bh2)|0)+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(al2,bl3)|0,mid=(mid=mid+Math.imul(al2,bh3)|0)+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(al1,bl4)|0,mid=(mid=mid+Math.imul(al1,bh4)|0)+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0;var w5=(c+(lo=lo+Math.imul(al0,bl5)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh5)|0)+Math.imul(ah0,bl5)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh5)|0)+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(al6,bl0),mid=(mid=Math.imul(al6,bh0))+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(al5,bl1)|0,mid=(mid=mid+Math.imul(al5,bh1)|0)+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(al4,bl2)|0,mid=(mid=mid+Math.imul(al4,bh2)|0)+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(al3,bl3)|0,mid=(mid=mid+Math.imul(al3,bh3)|0)+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(al2,bl4)|0,mid=(mid=mid+Math.imul(al2,bh4)|0)+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(al1,bl5)|0,mid=(mid=mid+Math.imul(al1,bh5)|0)+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0;var w6=(c+(lo=lo+Math.imul(al0,bl6)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh6)|0)+Math.imul(ah0,bl6)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh6)|0)+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(al7,bl0),mid=(mid=Math.imul(al7,bh0))+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(al6,bl1)|0,mid=(mid=mid+Math.imul(al6,bh1)|0)+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(al5,bl2)|0,mid=(mid=mid+Math.imul(al5,bh2)|0)+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(al4,bl3)|0,mid=(mid=mid+Math.imul(al4,bh3)|0)+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(al3,bl4)|0,mid=(mid=mid+Math.imul(al3,bh4)|0)+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(al2,bl5)|0,mid=(mid=mid+Math.imul(al2,bh5)|0)+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(al1,bl6)|0,mid=(mid=mid+Math.imul(al1,bh6)|0)+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0;var w7=(c+(lo=lo+Math.imul(al0,bl7)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh7)|0)+Math.imul(ah0,bl7)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh7)|0)+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(al8,bl0),mid=(mid=Math.imul(al8,bh0))+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(al7,bl1)|0,mid=(mid=mid+Math.imul(al7,bh1)|0)+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(al6,bl2)|0,mid=(mid=mid+Math.imul(al6,bh2)|0)+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(al5,bl3)|0,mid=(mid=mid+Math.imul(al5,bh3)|0)+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(al4,bl4)|0,mid=(mid=mid+Math.imul(al4,bh4)|0)+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(al3,bl5)|0,mid=(mid=mid+Math.imul(al3,bh5)|0)+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(al2,bl6)|0,mid=(mid=mid+Math.imul(al2,bh6)|0)+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(al1,bl7)|0,mid=(mid=mid+Math.imul(al1,bh7)|0)+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0;var w8=(c+(lo=lo+Math.imul(al0,bl8)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh8)|0)+Math.imul(ah0,bl8)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh8)|0)+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=(mid=Math.imul(al9,bh0))+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(al8,bl1)|0,mid=(mid=mid+Math.imul(al8,bh1)|0)+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(al7,bl2)|0,mid=(mid=mid+Math.imul(al7,bh2)|0)+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(al6,bl3)|0,mid=(mid=mid+Math.imul(al6,bh3)|0)+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(al5,bl4)|0,mid=(mid=mid+Math.imul(al5,bh4)|0)+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(al4,bl5)|0,mid=(mid=mid+Math.imul(al4,bh5)|0)+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(al3,bl6)|0,mid=(mid=mid+Math.imul(al3,bh6)|0)+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(al2,bl7)|0,mid=(mid=mid+Math.imul(al2,bh7)|0)+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(al1,bl8)|0,mid=(mid=mid+Math.imul(al1,bh8)|0)+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0;var w9=(c+(lo=lo+Math.imul(al0,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh9)|0)+Math.imul(ah0,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh9)|0)+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=(mid=Math.imul(al9,bh1))+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(al8,bl2)|0,mid=(mid=mid+Math.imul(al8,bh2)|0)+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(al7,bl3)|0,mid=(mid=mid+Math.imul(al7,bh3)|0)+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(al6,bl4)|0,mid=(mid=mid+Math.imul(al6,bh4)|0)+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(al5,bl5)|0,mid=(mid=mid+Math.imul(al5,bh5)|0)+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(al4,bl6)|0,mid=(mid=mid+Math.imul(al4,bh6)|0)+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(al3,bl7)|0,mid=(mid=mid+Math.imul(al3,bh7)|0)+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(al2,bl8)|0,mid=(mid=mid+Math.imul(al2,bh8)|0)+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0;var w10=(c+(lo=lo+Math.imul(al1,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al1,bh9)|0)+Math.imul(ah1,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah1,bh9)|0)+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=(mid=Math.imul(al9,bh2))+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(al8,bl3)|0,mid=(mid=mid+Math.imul(al8,bh3)|0)+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(al7,bl4)|0,mid=(mid=mid+Math.imul(al7,bh4)|0)+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(al6,bl5)|0,mid=(mid=mid+Math.imul(al6,bh5)|0)+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(al5,bl6)|0,mid=(mid=mid+Math.imul(al5,bh6)|0)+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(al4,bl7)|0,mid=(mid=mid+Math.imul(al4,bh7)|0)+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(al3,bl8)|0,mid=(mid=mid+Math.imul(al3,bh8)|0)+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0;var w11=(c+(lo=lo+Math.imul(al2,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al2,bh9)|0)+Math.imul(ah2,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah2,bh9)|0)+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=(mid=Math.imul(al9,bh3))+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(al8,bl4)|0,mid=(mid=mid+Math.imul(al8,bh4)|0)+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(al7,bl5)|0,mid=(mid=mid+Math.imul(al7,bh5)|0)+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(al6,bl6)|0,mid=(mid=mid+Math.imul(al6,bh6)|0)+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(al5,bl7)|0,mid=(mid=mid+Math.imul(al5,bh7)|0)+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(al4,bl8)|0,mid=(mid=mid+Math.imul(al4,bh8)|0)+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0;var w12=(c+(lo=lo+Math.imul(al3,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al3,bh9)|0)+Math.imul(ah3,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah3,bh9)|0)+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=(mid=Math.imul(al9,bh4))+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(al8,bl5)|0,mid=(mid=mid+Math.imul(al8,bh5)|0)+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(al7,bl6)|0,mid=(mid=mid+Math.imul(al7,bh6)|0)+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(al6,bl7)|0,mid=(mid=mid+Math.imul(al6,bh7)|0)+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(al5,bl8)|0,mid=(mid=mid+Math.imul(al5,bh8)|0)+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0;var w13=(c+(lo=lo+Math.imul(al4,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al4,bh9)|0)+Math.imul(ah4,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah4,bh9)|0)+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=(mid=Math.imul(al9,bh5))+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(al8,bl6)|0,mid=(mid=mid+Math.imul(al8,bh6)|0)+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(al7,bl7)|0,mid=(mid=mid+Math.imul(al7,bh7)|0)+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(al6,bl8)|0,mid=(mid=mid+Math.imul(al6,bh8)|0)+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0;var w14=(c+(lo=lo+Math.imul(al5,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al5,bh9)|0)+Math.imul(ah5,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah5,bh9)|0)+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=(mid=Math.imul(al9,bh6))+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(al8,bl7)|0,mid=(mid=mid+Math.imul(al8,bh7)|0)+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(al7,bl8)|0,mid=(mid=mid+Math.imul(al7,bh8)|0)+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0;var w15=(c+(lo=lo+Math.imul(al6,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al6,bh9)|0)+Math.imul(ah6,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah6,bh9)|0)+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=(mid=Math.imul(al9,bh7))+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(al8,bl8)|0,mid=(mid=mid+Math.imul(al8,bh8)|0)+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0;var w16=(c+(lo=lo+Math.imul(al7,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al7,bh9)|0)+Math.imul(ah7,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah7,bh9)|0)+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=(mid=Math.imul(al9,bh8))+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8);var w17=(c+(lo=lo+Math.imul(al8,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al8,bh9)|0)+Math.imul(ah8,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah8,bh9)|0)+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863;var w18=(c+(lo=Math.imul(al9,bl9))|0)+((8191&(mid=(mid=Math.imul(al9,bh9))+Math.imul(ah9,bl9)|0))<<13)|0;return c=((hi=Math.imul(ah9,bh9))+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!==c&&(o[19]=c,out.length++),out};Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,out){var len=this.length+num.length;return 10===this.length&&10===num.length?comb10MulTo(this,num,out):len<63?smallMulTo(this,num,out):len<1024?bigMulTo(this,num,out):jumboMulTo(this,num,out)},FFTM.prototype.makeRBT=function(N){for(var t=new Array(N),l=BN.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;i<l;i++)rb|=(1&x)<<l-i-1,x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;p<N;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;j<s;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],io=itws[p+j+s],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro,ro=rx,rtws[p+j]=re+ro,itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(n,m){var N=1|Math.max(m,n),odd=1&N,i=0;for(N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(N<=1))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=w<67108864?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=0|ws[i],rws[2*i]=8191&carry,carry>>>=13,rws[2*i+1]=8191&carry,carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry),assert(0==(-8192&carry))},FFTM.prototype.stub=function(N){for(var ph=new Array(N),i=0;i<N;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=new Array(N),rwst=new Array(N),iwst=new Array(N),nrws=new Array(N),nrwst=new Array(N),niwst=new Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out.strip()},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){assert("number"==typeof num),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=toBitArray(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&bits>=0);var i,r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&bits>=0);var h;h=hint?(hint-hint%26)/26:0;var r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var carry=0;for(i=this.length-1;i>=0&&(0!==carry||i>=h);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26,q=1<<r;return!(this.length<=s)&&!!(this.words[s]&q)},BN.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==r&&s++,this.length=Math.min(s,this.length),0!==r){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(num<67108864),num<0?this.isubn(-num):0!==this.negative?1===this.length&&(0|this.words[0])<num?(this.words[0]=num-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(num),this.negative=1,this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var i,len=num.length+shift;this._expand(len);var w,carry=0;for(i=0;i<num.length;i++){w=(0|this.words[i+shift])+carry;var right=(0|num.words[i])*mul;carry=((w-=67108863&right)>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)carry=(w=(0|this.words[i+shift])+carry)>>26,this.words[i+shift]=67108863&w;if(0===carry)return this.strip();for(assert(-1===carry),carry=0,i=0;i<this.length;i++)carry=(w=-(0|this.words[i])+carry)>>26,this.words[i]=67108863&w;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(num,mode){var shift=this.length-num.length,a=this.clone(),b=num,bhi=0|b.words[b.length-1];0!==(shift=26-this._countBits(bhi))&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){(q=new BN(null)).length=m+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]);for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!==shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){if(assert(!num.isZero()),this.isZero())return{div:new BN(0),mod:new BN(0)};var div,mod,res;return 0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):0!=(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode)},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1),r2=num.andln(1),cmp=mod.cmp(half);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(num<=67108863);for(var p=(1<<26)%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+(0|this.words[i]))%num;return acc},BN.prototype.idivn=function(num){assert(num<=67108863);for(var carry=0,i=this.length-1;i>=0;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0==(x.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(x.iushrn(i);i-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0==(y.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var x1=new BN(1),x2=new BN(0),delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,im=1;0==(a.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(a.iushrn(i);i-- >0;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0==(b.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(b.iushrn(j);j-- >0;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}var res;return(res=0===a.cmpn(1)?x1:x2).cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0,b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var t=a;a=b,b=t}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0==(1&this.words[0])},BN.prototype.isOdd=function(){return 1==(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i];carry=(w+=carry)>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(num){var negative=num<0;if(0!==this.negative&&!negative)return-1;if(0===this.negative&&negative)return 1;this.strip();var res;if(this.length>1)res=1;else{negative&&(num=-num),assert(num<=67108863,"Number is too big");var w=0|this.words[0];res=w===num?0:w<num?-1:1}return 0!==this.negative?0|-res:res},BN.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return-1;if(0===this.negative&&0!==num.negative)return 1;var res=this.ucmp(num);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|num.words[i];if(a!==b){a<b?res=-1:a>b&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return this.cmpn(num)>=0},BN.prototype.gte=function(num){return this.cmp(num)>=0},BN.prototype.ltn=function(num){return-1===this.cmpn(num)},BN.prototype.lt=function(num){return-1===this.cmp(num)},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do{this.split(r,this.tmp),rlen=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=4194303&prev,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(4194303&next)<<4|prev>>>22,prev=next}prev>>>=22,input.words[i-10]=prev,0===prev&&input.length>10?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0==(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2==1),3===mod3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new BN(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1);if(0===num.cmpn(1))return a.clone();var wnd=new Array(16);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;i>=0;i--){for(var word=num.words[i],j=start-1;j>=0;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!==bit||0!==current?(current<<=1,current|=bit,(4===++currentLen||0===i&&0===j)&&(res=this.mul(res,wnd[current]),currentLen=0,current=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===module||module,undefined)},{}],72:[function(require,module,exports){"use strict";function Rand(rand){this.rand=rand}var r,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};if(module.exports=function(len){return r||(r=new Rand(null)),r.generate(len)},module.exports.Rand=Rand,Rand.prototype.generate=function(len){return this._rand(len)},Rand.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res},"object"===("undefined"==typeof self?"undefined":_typeof(self)))self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return self.crypto.getRandomValues(arr),arr}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return self.msCrypto.getRandomValues(arr),arr}:"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto=require("crypto");if("function"!=typeof crypto.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){}},{crypto:73}],73:[function(require,module,exports){"use strict"},{}],74:[function(require,module,exports){(function(Buffer){"use strict";function fixup_uint32(x){var x_pos;return x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x}function scrub_vec(v){for(;0<v.length;v++)v[0]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(buf){for(var len=buf.length/4,out=new Array(len),i=-1;++i<len;)out[i]=buf.readUInt32BE(4*i);return out}function AES(key){this._key=bufferToArray(key),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;for(d=function(){var _i,_results;for(_results=[],i=_i=0;_i<256;i=++_i)i<128?_results.push(i<<1):_results.push(i<<1^283);return _results}(),x=0,xi=0,i=_i=0;_i<256;i=++_i)sx=(sx=xi^xi<<1^xi<<2^xi<<3^xi<<4)>>>8^255&sx^99,this.SBOX[x]=sx,this.INV_SBOX[sx]=x,x8=d[x4=d[x2=d[x]]],t=257*d[sx]^16843008*sx,this.SUB_MIX[0][x]=t<<24|t>>>8,this.SUB_MIX[1][x]=t<<16|t>>>16,this.SUB_MIX[2][x]=t<<8|t>>>24,this.SUB_MIX[3][x]=t,t=16843009*x8^65537*x4^257*x2^16843008*x,this.INV_SUB_MIX[0][sx]=t<<24|t>>>8,this.INV_SUB_MIX[1][sx]=t<<16|t>>>16,this.INV_SUB_MIX[2][sx]=t<<8|t>>>24,this.INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t;for(keySize=(keyWords=this._key).length,this._nRounds=keySize+6,ksRows=4*(this._nRounds+1),this._keySchedule=[],ksRow=0;ksRow<ksRows;ksRow++)this._keySchedule[ksRow]=ksRow<keySize?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize==0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize==4&&(t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]),this._keySchedule[ksRow-keySize]^t);for(this._invKeySchedule=[],invKsRow=0;invKsRow<ksRows;invKsRow++)ksRow=ksRows-invKsRow,t=this._keySchedule[ksRow-(invKsRow%4?0:4)],this._invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&t]];return!0},AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(M){var temp=[(M=bufferToArray(new Buffer(M)))[3],M[1]];M[1]=temp[0],M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,s0,s1,s2,s3,t0,t1,t2,t3;s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4;for(var round=1;round<this._nRounds;round++)t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][255&s3]^keySchedule[ksRow++],t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][255&s0]^keySchedule[ksRow++],t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][255&s1]^keySchedule[ksRow++],t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]},exports.AES=AES}).call(this,require("buffer").Buffer)},{buffer:105}],75:[function(require,module,exports){(function(Buffer){"use strict";function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]),iv=Buffer.concat([iv,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,this._alen=0,this._len=0,iv.copy(this._prev),this._mode=mode;var h=new Buffer(4);h.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(h)),this._authTag=null,this._called=!1}function xorTest(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=-1;++i<len;)out+=a[i]^b[i];return out}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("buffer-xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;rump<16&&((rump=new Buffer(rump)).fill(0),this._ghash.update(rump))}this._called=!0;var out=this._mode.encrypt(this,chunk);return this._decrypt?this._ghash.update(chunk):this._ghash.update(out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=tag;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length}}).call(this,require("buffer").Buffer)},{"./aes":74,"./ghash":79,buffer:105,"buffer-xor":104,"cipher-base":107,inherits:487}],76:[function(require,module,exports){"use strict";function getCiphers(){return Object.keys(modes)}var ciphers=require("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=require("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=require("./modes");exports.listCiphers=exports.getCiphers=getCiphers},{"./decrypter":77,"./encrypter":78,"./modes":80}],77:[function(require,module,exports){(function(Buffer){"use strict";function Decipher(mode,key,iv){if(!(this instanceof Decipher))return new Decipher(mode,key,iv);Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,this._autopadding=!0}function Splitter(){if(!(this instanceof Splitter))return new Splitter;this.cache=new Buffer("")}function unpad(last){for(var padded=last[15],i=-1;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");if(16!==padded)return last.slice(0,16-padded)}function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv,!0):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv,!0):new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),modes=require("./modes"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher"),ebtk=require("evp_bytestokey");inherits(Decipher,Transform),Decipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(this.cache.length>=16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv}).call(this,require("buffer").Buffer)},{"./aes":74,"./authCipher":75,"./modes":80,"./modes/cbc":81,"./modes/cfb":82,"./modes/cfb1":83,"./modes/cfb8":84,"./modes/ctr":85,"./modes/ecb":86,"./modes/ofb":87,"./streamCipher":88,buffer:105,"cipher-base":107,evp_bytestokey:444,inherits:487}],78:[function(require,module,exports){(function(Buffer){"use strict";function Cipher(mode,key,iv){if(!(this instanceof Cipher))return new Cipher(mode,key,iv);Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,this._autopadding=!0}function Splitter(){if(!(this instanceof Splitter))return new Splitter;this.cache=new Buffer("")}function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv):new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),modes=require("./modes"),ebtk=require("evp_bytestokey"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get();)thing=this._mode.encrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if("10101010101010101010101010101010"!==chunk.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=new Buffer(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);return Buffer.concat([this.cache,padBuff])};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher}).call(this,require("buffer").Buffer)},{"./aes":74,"./authCipher":75,"./modes":80,"./modes/cbc":81,"./modes/cfb":82,"./modes/cfb1":83,"./modes/cfb8":84,"./modes/ctr":85,"./modes/ecb":86,"./modes/ofb":87,"./streamCipher":88,buffer:105,"cipher-base":107,evp_bytestokey:444,inherits:487}],79:[function(require,module,exports){(function(Buffer){"use strict";function GHASH(key){this.h=key,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf}function fixup_uint32(x){var x_pos;return x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var j,lsb_Vi,Vi=toArray(this.h),Zi=[0,0,0,0],i=-1;++i<128;){for(0!=(this.state[~~(i/8)]&1<<7-i%8)&&(Zi=xor(Zi,Vi)),lsb_Vi=0!=(1&Vi[3]),j=3;j>0;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsb_Vi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);for(var chunk;this.cache.length>=16;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,abl,0,bl])),this.state};var uint_max=Math.pow(2,32)}).call(this,require("buffer").Buffer)},{buffer:105}],80:[function(require,module,exports){"use strict";exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],81:[function(require,module,exports){"use strict";var xor=require("buffer-xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"buffer-xor":104}],82:[function(require,module,exports){(function(Buffer){"use strict";function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}var xor=require("buffer-xor");exports.encrypt=function(self,data,decrypt){for(var len,out=new Buffer("");data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=new Buffer("")),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}}).call(this,require("buffer").Buffer)},{buffer:105,"buffer-xor":104}],83:[function(require,module,exports){(function(Buffer){"use strict";function encryptByte(self,byteParam,decrypt){for(var pad,bit,value,i=-1,out=0;++i<8;)pad=self._cipher.encryptBlock(self._prev),bit=byteParam&1<<7-i?128:0,out+=(128&(value=pad[0]^bit))>>i%8,self._prev=shiftIn(self._prev,decrypt?bit:value);return out}function shiftIn(buffer,value){var len=buffer.length,i=-1,out=new Buffer(buffer.length);for(buffer=Buffer.concat([buffer,new Buffer([value])]);++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(this,require("buffer").Buffer)},{buffer:105}],84:[function(require,module,exports){(function(Buffer){"use strict";function encryptByte(self,byteParam,decrypt){var out=self._cipher.encryptBlock(self._prev)[0]^byteParam;return self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byteParam:out])]),out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(this,require("buffer").Buffer)},{buffer:105}],85:[function(require,module,exports){(function(Buffer){"use strict";function incr32(iv){for(var item,len=iv.length;len--;){if(255!==(item=iv.readUInt8(len))){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}function getBlock(self){var out=self._cipher.encryptBlock(self._prev);return incr32(self._prev),out}var xor=require("buffer-xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:105,"buffer-xor":104}],86:[function(require,module,exports){"use strict";exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],87:[function(require,module,exports){(function(Buffer){"use strict";function getBlock(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}var xor=require("buffer-xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:105,"buffer-xor":104}],88:[function(require,module,exports){(function(Buffer){"use strict";function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,iv.copy(this._prev),this._mode=mode}var aes=require("./aes"),Transform=require("cipher-base");require("inherits")(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(this,require("buffer").Buffer)},{"./aes":74,buffer:105,"cipher-base":107,inherits:487}],89:[function(require,module,exports){"use strict";function createCipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var ebtk=require("evp_bytestokey"),aes=require("browserify-aes/browser"),DES=require("browserify-des"),desModes=require("browserify-des/modes"),aesModes=require("browserify-aes/modes");exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers},{"browserify-aes/browser":76,"browserify-aes/modes":80,"browserify-des":90,"browserify-des/modes":91,evp_bytestokey:444}],90:[function(require,module,exports){(function(Buffer){"use strict";function DES(opts){CipherBase.call(this);var type,modeName=opts.mode.toLowerCase(),mode=modes[modeName];type=opts.decrypt?"decrypt":"encrypt";var key=opts.key;"des-ede"!==modeName&&"des-ede-cbc"!==modeName||(key=Buffer.concat([key,key.slice(0,8)]));var iv=opts.iv;this._des=mode.create({key:key,iv:iv,type:type})}var CipherBase=require("cipher-base"),des=require("des.js"),inherits=require("inherits"),modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(data){return new Buffer(this._des.update(data))},DES.prototype._final=function(){return new Buffer(this._des.final())}}).call(this,require("buffer").Buffer)},{buffer:105,"cipher-base":107,"des.js":414,inherits:487}],91:[function(require,module,exports){"use strict";exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0}},{}],92:[function(require,module,exports){(function(Buffer){"use strict";function blind(priv){var r=getr(priv);return{blinder:r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed(),unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv),len=priv.modulus.byteLength(),blinded=(bn.mont(priv.modulus),new bn(msg).mul(blinds.blinder).umod(priv.modulus)),c1=blinded.toRed(bn.mont(priv.prime1)),c2=blinded.toRed(bn.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,q=priv.prime2,m1=c1.redPow(priv.exponent1),m2=c2.redPow(priv.exponent2);m1=m1.fromRed(),m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);return h.imul(q),m2.iadd(h),new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(!1,len))}function getr(priv){for(var len=priv.modulus.byteLength(),r=new bn(randomBytes(len));r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2);)r=new bn(randomBytes(len));return r}var bn=require("bn.js"),randomBytes=require("randombytes");module.exports=crt,crt.getr=getr}).call(this,require("buffer").Buffer)},{"bn.js":71,buffer:105,randombytes:550}],93:[function(require,module,exports){"use strict";module.exports=require("./browser/algorithms.json")},{"./browser/algorithms.json":94}],94:[function(require,module,exports){module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],95:[function(require,module,exports){module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],96:[function(require,module,exports){(function(Buffer){"use strict";function Sign(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}var createHash=require("create-hash"),stream=require("stream"),inherits=require("inherits"),sign=require("./sign"),verify=require("./verify"),algorithms=require("./algorithms.json");Object.keys(algorithms).forEach(function(key){algorithms[key].id=new Buffer(algorithms[key].id,"hex"),algorithms[key.toLowerCase()]=algorithms[key]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(key,enc){this.end();var hash=this._hash.digest(),sig=sign(hash,key,this._hashType,this._signType,this._tag);return enc?sig.toString(enc):sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,enc){"string"==typeof sig&&(sig=new Buffer(sig,enc)),this.end();var hash=this._hash.digest();return verify(sig,hash,key,this._signType,this._tag)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(this,require("buffer").Buffer)},{"./algorithms.json":94,"./sign":97,"./verify":98,buffer:105,"create-hash":407,inherits:487,stream:610}],97:[function(require,module,exports){(function(Buffer){"use strict";function sign(hash,key,hashType,signType,tag){var priv=parseKeys(key);if(priv.curve){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");return ecSign(hash,priv)}if("dsa"===priv.type){if("dsa"!==signType)throw new Error("wrong private key type");return dsaSign(hash,priv,hashType)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");hash=Buffer.concat([tag,hash]);for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);return crt(pad,priv)}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var out=new EC(curveId).keyFromPrivate(priv.privateKey).sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){for(var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=priv.params.g,r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);!1===s;)r=makeR(g,k=makeKey(q,kv,algo),p,q),0===(s=k.invm(q).imul(H.add(x.mul(r))).mod(q)).cmpn(0)&&(s=!1,r=new BN(0));return toDER(r,s)}function toDER(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var res=[48,r.length+s.length+4,2,r.length];return res=res.concat(r,[2,s.length],s),new Buffer(res)}function getKey(x,q,hash,algo){if((x=new Buffer(x.toArray())).length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0),x=Buffer.concat([zeros,x])}var hlen=hash.length,hbits=bits2octets(hash,q),v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);return k.fill(0),k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits),shift=(obits.length<<3)-q.bitLength();return shift>0&&bits.ishrn(shift),bits}function bits2octets(bits,q){bits=(bits=bits2int(bits,q)).mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0),out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t,k;do{for(t=new Buffer(0);8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v]);k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(-1!==k.cmp(q));return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}var createHmac=require("create-hmac"),crt=require("browserify-rsa"),EC=require("elliptic").ec,BN=require("bn.js"),parseKeys=require("parse-asn1"),curves=require("./curves.json");module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves.json":95,"bn.js":71,"browserify-rsa":92,buffer:105,"create-hmac":410,elliptic:427,"parse-asn1":528}],98:[function(require,module,exports){(function(Buffer){"use strict";function verify(sig,hash,key,signType,tag){var pub=parseKeys(key);if("ec"===pub.type){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");return ecVerify(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return dsaVerify(sig,hash,pub)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");hash=Buffer.concat([tag,hash]);for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=(sig=new BN(sig).toRed(red)).redPow(new BN(pub.publicExponent)),sig=new Buffer(sig.fromRed().toArray());var out=padNum<8?1:0;for(len=Math.min(sig.length,pad.length),sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId),pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p,q=pub.data.q,g=pub.data.g,y=pub.data.pub_key,unpacked=parseKeys.signature.decode(sig,"der"),s=unpacked.s,r=unpacked.r;checkValue(s,q),checkValue(r,q);var montp=BN.mont(p),w=s.invm(q);return 0===g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q).cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}var BN=require("bn.js"),EC=require("elliptic").ec,parseKeys=require("parse-asn1"),curves=require("./curves.json");module.exports=verify}).call(this,require("buffer").Buffer)},{"./curves.json":95,"bn.js":71,buffer:105,elliptic:427,"parse-asn1":528}],99:[function(require,module,exports){(function(process,Buffer){"use strict";function Zlib(mode){if(mode<exports.DEFLATE||mode>exports.UNZIP)throw new TypeError("Bad argument");this.mode=mode,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function bufferSet(data,offset){for(var i=0;i<data.length;i++)this[offset+i]=data[i]}var msg=require("pako/lib/zlib/messages"),zstream=require("pako/lib/zlib/zstream"),zlib_deflate=require("pako/lib/zlib/deflate.js"),zlib_inflate=require("pako/lib/zlib/inflate.js"),constants=require("pako/lib/zlib/constants");for(var key in constants)exports[key]=constants[key];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7,Zlib.prototype.init=function(windowBits,level,memLevel,strategy,dictionary){switch(this.windowBits=windowBits,this.level=level,this.memLevel=memLevel,this.strategy=strategy,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new zstream,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:status=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:var status=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(status!==exports.Z_OK)return void this._error(status);this.write_in_progress=!1,this.init_done=!0},Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")},Zlib.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===exports.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Zlib.prototype.write=function(flush,input,in_off,in_len,out,out_off,out_len){this._writeCheck(),this.write_in_progress=!0;var self=this;return process.nextTick(function(){self.write_in_progress=!1;var res=self._write(flush,input,in_off,in_len,out,out_off,out_len);self.callback(res[0],res[1]),self.pending_close&&self.close()}),this},Zlib.prototype.writeSync=function(flush,input,in_off,in_len,out,out_off,out_len){return this._writeCheck(),this._write(flush,input,in_off,in_len,out,out_off,out_len)},Zlib.prototype._write=function(flush,input,in_off,in_len,out,out_off,out_len){if(this.write_in_progress=!0,flush!==exports.Z_NO_FLUSH&&flush!==exports.Z_PARTIAL_FLUSH&&flush!==exports.Z_SYNC_FLUSH&&flush!==exports.Z_FULL_FLUSH&&flush!==exports.Z_FINISH&&flush!==exports.Z_BLOCK)throw new Error("Invalid flush value");null==input&&(input=new Buffer(0),in_len=0,in_off=0),out._set?out.set=out._set:out.set=bufferSet;var strm=this.strm;switch(strm.avail_in=in_len,strm.input=input,strm.next_in=in_off,strm.avail_out=out_len,strm.output=out,strm.next_out=out_off,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:status=zlib_deflate.deflate(strm,flush);break;case exports.UNZIP:case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:var status=zlib_inflate.inflate(strm,flush);break;default:throw new Error("Unknown mode "+this.mode)}return status!==exports.Z_STREAM_END&&status!==exports.Z_OK&&this._error(status),this.write_in_progress=!1,[strm.avail_in,strm.avail_out]},Zlib.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?zlib_deflate.deflateEnd(this.strm):zlib_inflate.inflateEnd(this.strm),this.mode=exports.NONE},Zlib.prototype.reset=function(){switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:status=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:var status=zlib_inflate.inflateReset(this.strm)}status!==exports.Z_OK&&this._error(status)},Zlib.prototype._error=function(status){this.onerror(msg[status]+": "+this.strm.msg,status),this.write_in_progress=!1,this.pending_close&&this.close()},exports.Zlib=Zlib}).call(this,require("_process"),require("buffer").Buffer)},{_process:534,buffer:105,"pako/lib/zlib/constants":515,"pako/lib/zlib/deflate.js":517,"pako/lib/zlib/inflate.js":519,"pako/lib/zlib/messages":521,"pako/lib/zlib/zstream":523}],100:[function(require,module,exports){(function(process,Buffer){"use strict";function zlibBuffer(engine,buffer,callback){function flow(){for(var chunk;null!==(chunk=engine.read());)buffers.push(chunk),nread+=chunk.length;engine.once("readable",flow)}function onError(err){engine.removeListener("end",onEnd),engine.removeListener("readable",flow),callback(err)}function onEnd(){var buf=Buffer.concat(buffers,nread);buffers=[],callback(null,buf),engine.close()}var buffers=[],nread=0;engine.on("error",onError),engine.on("end",onEnd),engine.end(buffer),flow()}function zlibBufferSync(engine,buffer){if("string"==typeof buffer&&(buffer=new Buffer(buffer)),!Buffer.isBuffer(buffer))throw new TypeError("Not a string or buffer");var flushFlag=binding.Z_FINISH;return engine._processChunk(buffer,flushFlag)}function Deflate(opts){if(!(this instanceof Deflate))return new Deflate(opts);Zlib.call(this,opts,binding.DEFLATE)}function Inflate(opts){if(!(this instanceof Inflate))return new Inflate(opts);Zlib.call(this,opts,binding.INFLATE)}function Gzip(opts){if(!(this instanceof Gzip))return new Gzip(opts);Zlib.call(this,opts,binding.GZIP)}function Gunzip(opts){if(!(this instanceof Gunzip))return new Gunzip(opts);Zlib.call(this,opts,binding.GUNZIP)}function DeflateRaw(opts){if(!(this instanceof DeflateRaw))return new DeflateRaw(opts);Zlib.call(this,opts,binding.DEFLATERAW)}function InflateRaw(opts){if(!(this instanceof InflateRaw))return new InflateRaw(opts);Zlib.call(this,opts,binding.INFLATERAW)}function Unzip(opts){if(!(this instanceof Unzip))return new Unzip(opts);Zlib.call(this,opts,binding.UNZIP)}function Zlib(opts,mode){if(this._opts=opts=opts||{},this._chunkSize=opts.chunkSize||exports.Z_DEFAULT_CHUNK,Transform.call(this,opts),opts.flush&&opts.flush!==binding.Z_NO_FLUSH&&opts.flush!==binding.Z_PARTIAL_FLUSH&&opts.flush!==binding.Z_SYNC_FLUSH&&opts.flush!==binding.Z_FULL_FLUSH&&opts.flush!==binding.Z_FINISH&&opts.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+opts.flush);if(this._flushFlag=opts.flush||binding.Z_NO_FLUSH,opts.chunkSize&&(opts.chunkSize<exports.Z_MIN_CHUNK||opts.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+opts.chunkSize);if(opts.windowBits&&(opts.windowBits<exports.Z_MIN_WINDOWBITS||opts.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+opts.windowBits);if(opts.level&&(opts.level<exports.Z_MIN_LEVEL||opts.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+opts.level);if(opts.memLevel&&(opts.memLevel<exports.Z_MIN_MEMLEVEL||opts.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+opts.memLevel);if(opts.strategy&&opts.strategy!=exports.Z_FILTERED&&opts.strategy!=exports.Z_HUFFMAN_ONLY&&opts.strategy!=exports.Z_RLE&&opts.strategy!=exports.Z_FIXED&&opts.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+opts.strategy);if(opts.dictionary&&!Buffer.isBuffer(opts.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new binding.Zlib(mode);var self=this;this._hadError=!1,this._binding.onerror=function(message,errno){self._binding=null,self._hadError=!0;var error=new Error(message);error.errno=errno,error.code=exports.codes[errno],self.emit("error",error)};var level=exports.Z_DEFAULT_COMPRESSION;"number"==typeof opts.level&&(level=opts.level);var strategy=exports.Z_DEFAULT_STRATEGY;"number"==typeof opts.strategy&&(strategy=opts.strategy),this._binding.init(opts.windowBits||exports.Z_DEFAULT_WINDOWBITS,level,opts.memLevel||exports.Z_DEFAULT_MEMLEVEL,strategy,opts.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=level,this._strategy=strategy,this.once("end",this.close)}var Transform=require("_stream_transform"),binding=require("./binding"),util=require("util"),assert=require("assert").ok;binding.Z_MIN_WINDOWBITS=8,binding.Z_MAX_WINDOWBITS=15,binding.Z_DEFAULT_WINDOWBITS=15,binding.Z_MIN_CHUNK=64,binding.Z_MAX_CHUNK=Infinity,binding.Z_DEFAULT_CHUNK=16384,binding.Z_MIN_MEMLEVEL=1,binding.Z_MAX_MEMLEVEL=9,binding.Z_DEFAULT_MEMLEVEL=8,binding.Z_MIN_LEVEL=-1,binding.Z_MAX_LEVEL=9,binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION,Object.keys(binding).forEach(function(k){k.match(/^Z/)&&(exports[k]=binding[k])}),exports.codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR},Object.keys(exports.codes).forEach(function(k){exports.codes[exports.codes[k]]=k}),exports.Deflate=Deflate,exports.Inflate=Inflate,exports.Gzip=Gzip,exports.Gunzip=Gunzip,exports.DeflateRaw=DeflateRaw,exports.InflateRaw=InflateRaw,exports.Unzip=Unzip,exports.createDeflate=function(o){return new Deflate(o)},exports.createInflate=function(o){return new Inflate(o)},exports.createDeflateRaw=function(o){return new DeflateRaw(o)},exports.createInflateRaw=function(o){return new InflateRaw(o)},exports.createGzip=function(o){return new Gzip(o)},exports.createGunzip=function(o){return new Gunzip(o)},exports.createUnzip=function(o){return new Unzip(o)},exports.deflate=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Deflate(opts),buffer,callback)},exports.deflateSync=function(buffer,opts){return zlibBufferSync(new Deflate(opts),buffer)},exports.gzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Gzip(opts),buffer,callback)},exports.gzipSync=function(buffer,opts){return zlibBufferSync(new Gzip(opts),buffer)},exports.deflateRaw=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new DeflateRaw(opts),buffer,callback)},exports.deflateRawSync=function(buffer,opts){return zlibBufferSync(new DeflateRaw(opts),buffer)},exports.unzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Unzip(opts),buffer,callback)},exports.unzipSync=function(buffer,opts){return zlibBufferSync(new Unzip(opts),buffer)},exports.inflate=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Inflate(opts),buffer,callback)},exports.inflateSync=function(buffer,opts){return zlibBufferSync(new Inflate(opts),buffer)},exports.gunzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Gunzip(opts),buffer,callback)},exports.gunzipSync=function(buffer,opts){return zlibBufferSync(new Gunzip(opts),buffer)},exports.inflateRaw=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new InflateRaw(opts),buffer,callback)},exports.inflateRawSync=function(buffer,opts){return zlibBufferSync(new InflateRaw(opts),buffer)},util.inherits(Zlib,Transform),Zlib.prototype.params=function(level,strategy,callback){if(level<exports.Z_MIN_LEVEL||level>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+level);if(strategy!=exports.Z_FILTERED&&strategy!=exports.Z_HUFFMAN_ONLY&&strategy!=exports.Z_RLE&&strategy!=exports.Z_FIXED&&strategy!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+strategy);if(this._level!==level||this._strategy!==strategy){var self=this;this.flush(binding.Z_SYNC_FLUSH,function(){self._binding.params(level,strategy),self._hadError||(self._level=level,self._strategy=strategy,callback&&callback())})}else process.nextTick(callback)},Zlib.prototype.reset=function(){return this._binding.reset()},Zlib.prototype._flush=function(callback){this._transform(new Buffer(0),"",callback)},Zlib.prototype.flush=function(kind,callback){var ws=this._writableState;if(("function"==typeof kind||void 0===kind&&!callback)&&(callback=kind,kind=binding.Z_FULL_FLUSH),ws.ended)callback&&process.nextTick(callback);else if(ws.ending)callback&&this.once("end",callback);else if(ws.needDrain){var self=this;this.once("drain",function(){self.flush(callback)})}else this._flushFlag=kind,this.write(new Buffer(0),"",callback)},Zlib.prototype.close=function(callback){if(callback&&process.nextTick(callback),!this._closed){this._closed=!0,this._binding.close();var self=this;process.nextTick(function(){self.emit("close")})}},Zlib.prototype._transform=function(chunk,encoding,cb){var flushFlag,ws=this._writableState,last=(ws.ending||ws.ended)&&(!chunk||ws.length===chunk.length);if(null===!chunk&&!Buffer.isBuffer(chunk))return cb(new Error("invalid input"));last?flushFlag=binding.Z_FINISH:(flushFlag=this._flushFlag,chunk.length>=ws.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH));this._processChunk(chunk,flushFlag,cb)},Zlib.prototype._processChunk=function(chunk,flushFlag,cb){function callback(availInAfter,availOutAfter){if(!self._hadError){var have=availOutBefore-availOutAfter;if(assert(have>=0,"have should not go down"),have>0){var out=self._buffer.slice(self._offset,self._offset+have);self._offset+=have,async?self.push(out):(buffers.push(out),nread+=out.length)}if((0===availOutAfter||self._offset>=self._chunkSize)&&(availOutBefore=self._chunkSize,self._offset=0,self._buffer=new Buffer(self._chunkSize)),0===availOutAfter){if(inOff+=availInBefore-availInAfter,availInBefore=availInAfter,!async)return!0;var newReq=self._binding.write(flushFlag,chunk,inOff,availInBefore,self._buffer,self._offset,self._chunkSize);return newReq.callback=callback,void(newReq.buffer=chunk)}if(!async)return!1;cb()}}var availInBefore=chunk&&chunk.length,availOutBefore=this._chunkSize-this._offset,inOff=0,self=this,async="function"==typeof cb;if(!async){var error,buffers=[],nread=0;this.on("error",function(er){error=er});do{var res=this._binding.writeSync(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore)}while(!this._hadError&&callback(res[0],res[1]));if(this._hadError)throw error;var buf=Buffer.concat(buffers,nread);return this.close(),buf}var req=this._binding.write(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);req.buffer=chunk,req.callback=callback},util.inherits(Deflate,Zlib),util.inherits(Inflate,Zlib),util.inherits(Gzip,Zlib),util.inherits(Gunzip,Zlib),util.inherits(DeflateRaw,Zlib),util.inherits(InflateRaw,Zlib),util.inherits(Unzip,Zlib)}).call(this,require("_process"),require("buffer").Buffer)},{"./binding":99,_process:534,_stream_transform:560,assert:64,buffer:105,util:635}],101:[function(require,module,exports){"use strict"},{}],102:[function(require,module,exports){"use strict";function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";if(buffer=buffer.slice(available,buffer.length),!((charCode=(charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(charStr.length-1))>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived);var end=(charStr+=buffer.toString(this.encoding,0,end)).length-1,charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},{buffer:105}],103:[function(require,module,exports){(function(global){"use strict";var buffer=require("buffer"),Buffer=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function(size,fill,encoding){if("function"==typeof Buffer.alloc)return Buffer.alloc(size,fill,encoding);if("number"==typeof encoding)throw new TypeError("encoding must not be number");if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");var enc=encoding,_fill=fill;_fill===undefined&&(enc=undefined,_fill=0);var buf=new Buffer(size);if("string"==typeof _fill)for(var fillBuf=new Buffer(_fill,enc),flen=fillBuf.length,i=-1;++i<size;)buf[i]=fillBuf[i%flen];else buf.fill(_fill);return buf},exports.allocUnsafe=function(size){if("function"==typeof Buffer.allocUnsafe)return Buffer.allocUnsafe(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");return new Buffer(size)},exports.from=function(value,encodingOrOffset,length){if("function"==typeof Buffer.from&&(!global.Uint8Array||Uint8Array.from!==Buffer.from))return Buffer.from(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('"value" argument must not be a number');if("string"==typeof value)return new Buffer(value,encodingOrOffset);if("undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer){var offset=encodingOrOffset;if(1===arguments.length)return new Buffer(value);void 0===offset&&(offset=0);var len=length;if(void 0===len&&(len=value.byteLength-offset),offset>=value.byteLength)throw new RangeError("'offset' is out of bounds");if(len>value.byteLength-offset)throw new RangeError("'length' is out of bounds");return new Buffer(value.slice(offset,offset+len))}if(Buffer.isBuffer(value)){var out=new Buffer(value.length);return value.copy(out,0,0,value.length),out}if(value){if(Array.isArray(value)||"undefined"!=typeof ArrayBuffer&&value.buffer instanceof ArrayBuffer||"length"in value)return new Buffer(value);if("Buffer"===value.type&&Array.isArray(value.data))return new Buffer(value.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},exports.allocUnsafeSlow=function(size){if("function"==typeof Buffer.allocUnsafeSlow)return Buffer.allocUnsafeSlow(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>=MAX_LEN)throw new RangeError("size is too large");return new SlowBuffer(size)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:105}],104:[function(require,module,exports){(function(Buffer){"use strict";module.exports=function(a,b){for(var length=Math.min(a.length,b.length),buffer=new Buffer(length),i=0;i<length;++i)buffer[i]=a[i]^b[i];return buffer}}).call(this,require("buffer").Buffer)},{buffer:105}],105:[function(require,module,exports){"use strict";function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError("Invalid typed array length");var buf=new Uint8Array(length);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return value instanceof ArrayBuffer?fromArrayBuffer(value,encodingOrOffset,length):"string"==typeof value?fromString(value,encodingOrOffset):fromObject(value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):fill!==undefined?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromString(string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);return actual!==length&&(buf=buf.slice(0,actual)),buf}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");var buf;return buf=byteOffset===undefined&&length===undefined?new Uint8Array(array):length===undefined?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),buf.__proto__=Buffer.prototype,buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(obj){if(isArrayBufferView(obj)||"length"in obj)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(isArrayBufferView(string)||string instanceof ArrayBuffer)return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((start===undefined||start<0)&&(start=0),start>this.length)return"";if((end===undefined||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,numberIsNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(encoding!==undefined&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if((str=str.trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)hi=(c=str.charCodeAt(i))>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isArrayBufferView(obj){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(obj)}function numberIsNaN(obj){return obj!==obj}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(length===undefined)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(start===undefined&&(start=0),end===undefined&&(end=target?target.length:0),thisStart===undefined&&(thisStart=0),thisEnd===undefined&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(offset===undefined)encoding="utf8",length=this.length,offset=0;else if(length===undefined&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,encoding===undefined&&(encoding="utf8")):(encoding=length,length=undefined)}var remaining=this.length-offset;if((length===undefined||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=end===undefined?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(encoding!==undefined&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=end===undefined?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:new Buffer(val,encoding),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g},{"base64-js":69,ieee754:485}],106:[function(require,module,exports){"use strict";module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],107:[function(require,module,exports){(function(Buffer){"use strict";function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=require("stream").Transform,inherits=require("inherits"),StringDecoder=require("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=new Buffer(data,inputEnc));var outData=this._update(data);return this.hashMode?this:(outputEnc&&(outData=this._toString(outData,outputEnc)),outData)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this._final())}catch(e){err=e}finally{done(err)}},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this._final()||new Buffer("");return outputEnc&&(outData=this._toString(outData,outputEnc,!0)),outData},CipherBase.prototype._toString=function(value,enc,fin){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);return fin&&(out+=this._decoder.end()),out}}).call(this,require("buffer").Buffer)},{buffer:105,inherits:487,stream:610,string_decoder:102}],108:[function(require,module,exports){var CSL={PROCESSOR_VERSION:"1.1.161",CONDITION_LEVEL_TOP:1,CONDITION_LEVEL_BOTTOM:2,PLAIN_HYPHEN_REGEX:/(?:[^\\]-|\u2013)/,LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_GROUPED_REGEX:/((?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/g,STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},NestedBraces:[["(","["],[")","]"]],checkNestedBrace:function(state){"note"===state.opt.xclass?(this.depth=0,this.update=function(str){for(var lst=(str=str||"").split(/([\(\)])/),i=1,ilen=lst.length;i<ilen;i+=2)"("===lst[i]?(1==this.depth%2&&(lst[i]="["),this.depth+=1):")"===lst[i]&&(0==this.depth%2&&(lst[i]="]"),this.depth-=1);return lst.join("")}):this.update=function(str){return str}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"journals",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"number",edition:"number",issue:"number",volume:"number"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(item){if(this.opt.development_extensions.locator_date_and_revision&&item.locator){item.locator=""+item.locator;var idx=item.locator.indexOf("|");if(idx>-1){var raw_locator=item.locator;item.locator=raw_locator.slice(0,idx),raw_locator=raw_locator.slice(idx+1),m=raw_locator.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/),m&&(item["locator-date"]=this.fun.dateparser.parseDateToObject(m[1]),raw_locator=raw_locator.slice(m[1].length)),item["locator-extra"]=raw_locator.replace(/^\s+/,"").replace(/\s+$/,"")}}return item.locator&&(item.locator=(""+item.locator).replace(/\s+$/,"")),item},normalizeLocaleStr:function(str){if(str){var lst=str.split("-");return lst[0]=lst[0].toLowerCase(),lst[1]&&(lst[1]=lst[1].toUpperCase()),lst.join("-")}},parseNoteFieldHacks:function(Item,validFieldsForType,allowDateOverride){if("string"==typeof Item.note){for(var elems=[],lines=Item.note.split("\n"),i=0,ilen=lines.length;i<ilen;i++){var elems=[],m=(line=lines[i]).match(CSL.NOTE_FIELDS_REGEXP);if(m){for(var splt=line.split(CSL.NOTE_FIELDS_REGEXP),j=0,jlen=splt.length-1;j<jlen;j++)elems.push(splt[j]),elems.push(m[j]);elems.push(splt[splt.length-1]);for(var j=1,jlen=elems.length;j<jlen&&(!elems[j-1].trim()||!(i>0||j>1)||elems[j-1].match(CSL.NOTE_FIELD_REGEXP));j+=2)elems[j]="\n"+elems[j].slice(2,-1).trim()+"\n";lines[i]=elems.join("")}}for(var offset=0,names={},i=0,ilen=(lines=lines.join("\n").split("\n")).length;i<ilen;i++){var line=lines[i],mm=line.match(CSL.NOTE_FIELD_REGEXP);if(line.trim()){if(!mm){if(0===i)continue;offset=i;break}var key=mm[1],val=mm[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===key)Item.type=val,lines[i]="";else if(CSL.DATE_VARIABLES.indexOf(key)>-1)allowDateOverride&&(Item[key]={raw:val},(!validFieldsForType||validFieldsForType[key]&&val.match(/^[0-9]{4}(?:-[0-9]{1,2}(?:-[0-9]{1,2})*)*$/))&&(lines[i]=""));else if(!Item[key]){if(CSL.NAME_VARIABLES.indexOf(key)>-1){names[key]||(names[key]=[]);var lst=val.split(/\s*\|\|\s*/);if(1===lst.length)names[key].push({literal:lst[0]});else if(2===lst.length){var name={family:lst[0],given:lst[1]};CSL.parseParticles(name),names[key].push(name)}}else Item[key]=val;validFieldsForType&&!validFieldsForType[key]||(lines[i]="")}}}for(var key in names)Item[key]=names[key];if(validFieldsForType){lines[offset].trim()&&(lines[offset]="\n"+lines[offset]);for(i=offset-1;i>-1;i--)lines[i].trim()||(lines=lines.slice(0,i).concat(lines.slice(i+1)))}Item.note=lines.join("\n").trim()}},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,ONLY_FIRST:1,ALWAYS:2,ONLY_LAST:3,FINISH:1,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,MARK_TRAILING_NAMES:!0,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],MINIMAL_NAME_FIELDS:["literal","family"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,COLLAPSE_VALUES:["citation-number","year","year-suffix"],DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DECORABLE_NAME_PARTS:["given","family","suffix"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0590-\u05ff\u00c0-\u017f\u0400-\u042f\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0590-\u05d4\u05d6-\u05ff\u0080-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0590-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0590-\u05d4\u05d6-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0590-\u05d4\u05d6-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0590-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","editor","translator","contributor","collection-editor","composer","container-author","director","editorial-director","interviewer","original-author","recipient"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","edition","page","issue","locator","number","number-of-pages","number-of-volumes","volume","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","container","original-date","publication-date","original-date","available-date","submitted"],TITLE_FIELD_SPLITS:function(seg){for(var keys=["title","short","main","sub"],ret={},i=0,ilen=keys.length;i<ilen;i++)ret[keys[i]]=seg+"title"+("title"===keys[i]?"":"-"+keys[i]);return ret},TAG_USEALL:function(str){var ret,open,close,end;for(ret=[""],open=str.indexOf("<"),close=str.indexOf(">");open>-1&&close>-1;)end=open>close?open+1:close+1,open<close&&-1===str.slice(open+1,close).indexOf("<")?(ret[ret.length-1]+=str.slice(0,open),ret.push(str.slice(open,close+1)),ret.push(""),str=str.slice(end)):(ret[ret.length-1]+=str.slice(0,close+1),str=str.slice(end)),open=str.indexOf("<"),close=str.indexOf(">");return ret[ret.length-1]+=str,ret},demoteNoiseWords:function(state,fld,drop_or_demote){var SKIP_WORDS=state.locale[state.opt.lang].opts["leading-noise-words"];if(fld&&drop_or_demote){(fld=fld.split(/\s+/)).reverse();for(var toEnd=[],j=fld.length-1;j>-1&&SKIP_WORDS.indexOf(fld[j].toLowerCase())>-1;j+=-1)toEnd.push(fld.pop());fld.reverse();var start=fld.join(" "),end=toEnd.join(" ");"drop"!==drop_or_demote&&end?"demote"===drop_or_demote&&(fld=[start,end].join(", ")):fld=start}return fld},extractTitleAndSubtitle:function(Item){for(var segments=["","container-"],i=0,ilen=segments.length;i<ilen;i++){var seg=segments[i],title=CSL.TITLE_FIELD_SPLITS(seg),langs=[!1];if(Item.multi)for(var lang in Item.multi._keys[title.short])langs.push(lang);var j=0;for(langs.length;j<ilen;j++){var vals={};if((lang=langs[j])?(Item.multi._keys[title.title]&&(vals[title.title]=Item.multi._keys[title.title][lang]),Item.multi._keys[title.short]&&(vals[title.short]=Item.multi._keys[title.short][lang])):(vals[title.title]=Item[title.title],vals[title.short]=Item[title.short]),vals[title.main]=vals[title.title],vals[title.sub]=!1,vals[title.title]&&vals[title.short]){var shortTitle=vals[title.short];offset=shortTitle.length,vals[title.title].slice(0,offset)===shortTitle&&vals[title.title].slice(offset).match(/^\s*:/)&&(vals[title.main]=vals[title.title].slice(0,offset).replace(/\s+$/,""),vals[title.sub]=vals[title.title].slice(offset).replace(/^\s*:\s*/,""))}if(lang)for(var key in vals)Item.multi._keys[key]||(Item.multi._keys[key]={}),Item.multi._keys[key][lang]=vals[key];else for(var key in vals)Item[key]=vals[key]}}},titlecaseSentenceOrNormal:function(state,Item,seg,lang,sentenceCase){var title=CSL.TITLE_FIELD_SPLITS(seg),vals={};if(lang&&Item.multi?(Item.multi._keys[title.title]&&(vals[title.title]=Item.multi._keys[title.title][lang]),Item.multi._keys[title.main]&&(vals[title.main]=Item.multi._keys[title.main][lang]),Item.multi._keys[title.sub]&&(vals[title.sub]=Item.multi._keys[title.sub][lang])):(vals[title.title]=Item[title.title],vals[title.main]=Item[title.main],vals[title.sub]=Item[title.sub]),vals[title.main]&&vals[title.sub]){var mainTitle=vals[title.main],subTitle=vals[title.sub];return sentenceCase?(mainTitle=CSL.Output.Formatters.sentence(state,mainTitle),subTitle=CSL.Output.Formatters.sentence(state,subTitle)):subTitle=CSL.Output.Formatters["capitalize-first"](state,subTitle),[mainTitle,subTitle].join(vals[title.title].slice(mainTitle.length,-1*subTitle.length))}return sentenceCase?CSL.Output.Formatters.sentence(state,vals[title.title]):vals[title.title]},getSafeEscape:function(state){if(["bibliography","citation"].indexOf(state.tmp.area)>-1){var callbacks=[];return state.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===state.opt.mode&&callbacks.push(function(txt){return txt.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),callbacks.length?function(txt){for(var i=0,ilen=callbacks.length;i<ilen;i+=1)txt=callbacks[i](txt);return CSL.Output.Formats[state.opt.mode].text_escape(txt)}:CSL.Output.Formats[state.opt.mode].text_escape}return function(txt){return txt}},SKIP_WORDS:["about","above","across","afore","after","against","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","et","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],CREATORS:["author","editor","contributor","translator","recipient","interviewer","composer","original-author","container-author","collection-editor"],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukranian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"ª":"a","²":"2","³":"3","¹":"1","º":"o","ʰ":"h","ʱ":"ɦ","ʲ":"j","ʳ":"r","ʴ":"ɹ","ʵ":"ɻ","ʶ":"ʁ","ʷ":"w","ʸ":"y","ˠ":"ɣ","ˡ":"l","ˢ":"s","ˣ":"x","ˤ":"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")","ⁿ":"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人","ˀ":"ʔ","ˁ":"ʕ","ۥ":"و","ۦ":"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(state,termtxt,valueTerm){if(state.tmp.group_context.tip.condition){if(state.tmp.group_context.tip.condition.test){var testres;if("empty-label"===state.tmp.group_context.tip.condition.test)testres=!termtxt;else if("comma-safe"===state.tmp.group_context.tip.condition.test){var empty=!termtxt,alpha=termtxt.slice(0,1).match(CSL.ALL_ROMANESQUE_REGEXP);state.tmp.just_did_number;testres=!!empty||!(!alpha||valueTerm)}state.tmp.group_context.tip.force_suppress=!testres,state.tmp.group_context.tip.condition.not&&(state.tmp.group_context.tip.force_suppress=!state.tmp.group_context.tip.force_suppress)}}else termtxt.slice(-1).match(/[0-9]/)?state.tmp.just_did_number=!0:state.tmp.just_did_number=!1},locale:{},locale_opts:{},locale_dates:{}};if(void 0!==require&&void 0!==module&&"exports"in module){exports.CSL=CSL}CSL.TERMINAL_PUNCTUATION_REGEXP=new RegExp("^(["+CSL.TERMINAL_PUNCTUATION.slice(0,-1).join("")+"])(.*)"),CSL.CLOSURES=new RegExp(".*[\\]\\)]"),"undefined"==typeof console?(CSL.debug=function(str){dump("CSL: "+str+"\n")},CSL.error=function(str){dump("CSL error: "+str+"\n")}):(CSL.debug=function(str){console.log("CSL: "+str)},CSL.error=function(str){console.log("CSL error: "+str)}),CSL.XmlJSON=function(dataObj){this.dataObj=dataObj,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},CSL.XmlJSON.prototype.clean=function(json){return json},CSL.XmlJSON.prototype.getStyleId=function(myjson,styleName){var tagName="id";styleName&&(tagName="title");for(var ret="",children=myjson.children,i=0,ilen=children.length;i<ilen;i++)if("info"===children[i].name)for(var grandkids=children[i].children,j=0,jlen=grandkids.length;j<jlen;j++)grandkids[j].name===tagName&&(ret=grandkids[j].children[0]);return ret},CSL.XmlJSON.prototype.children=function(myjson){return!(!myjson||!myjson.children.length)&&myjson.children.slice()},CSL.XmlJSON.prototype.nodename=function(myjson){return myjson.name},CSL.XmlJSON.prototype.attributes=function(myjson){var ret={};for(var attrname in myjson.attrs)ret["@"+attrname]=myjson.attrs[attrname];return ret},CSL.XmlJSON.prototype.content=function(myjson){var ret="";if(!myjson||!myjson.children)return ret;for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)"string"==typeof myjson.children[i]&&(ret+=myjson.children[i]);return ret},CSL.XmlJSON.prototype.namespace={},CSL.XmlJSON.prototype.numberofnodes=function(myjson){return myjson&&"number"==typeof myjson.length?myjson.length:0},CSL.XmlJSON.prototype.getAttributeValue=function(myjson,name,namespace){var ret="";return namespace&&(name=namespace+":"+name),myjson&&myjson.attrs&&(ret=myjson.attrs[name]?myjson.attrs[name]:""),ret},CSL.XmlJSON.prototype.getNodeValue=function(myjson,name){var ret="";if(name)for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)myjson.children[i].name===name&&(ret=myjson.children[i].children.length?myjson.children[i]:"");else myjson&&(ret=myjson);return ret&&ret.children&&1==ret.children.length&&"string"==typeof ret.children[0]&&(ret=ret.children[0]),ret},CSL.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(myjson,nodename,partname,attrname,val){"@"===attrname.slice(0,1)&&(attrname=attrname.slice(1));for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)myjson.children[i].name===nodename&&myjson.children[i].attrs.name===partname&&(myjson.children[i].attrs[attrname]=val)},CSL.XmlJSON.prototype.deleteNodeByNameAttribute=function(myjson,val){var i,ilen;for(i=0,ilen=myjson.children.length;i<ilen;i+=1)myjson.children[i]&&"string"!=typeof myjson.children[i]&&myjson.children[i].attrs.name==val&&(myjson.children=myjson.children.slice(0,i).concat(myjson.children.slice(i+1)))},CSL.XmlJSON.prototype.deleteAttribute=function(myjson,attrname){"undefined"!=typeof myjson.attrs[attrname]&&myjson.attrs.pop(attrname)},CSL.XmlJSON.prototype.setAttribute=function(myjson,attr,val){return myjson.attrs[attr]=val,!1},CSL.XmlJSON.prototype.nodeCopy=function(myjson,clone){if(!clone)var clone={};if("object"==typeof clone&&"undefined"==typeof clone.length)for(var key in myjson)"string"==typeof myjson[key]?clone[key]=myjson[key]:"object"==typeof myjson[key]&&("undefined"==typeof myjson[key].length?clone[key]=this.nodeCopy(myjson[key],{}):clone[key]=this.nodeCopy(myjson[key],[]));else for(var i=0,ilen=myjson.length;i<ilen;i+=1)"string"==typeof myjson[i]?clone[i]=myjson[i]:clone[i]=this.nodeCopy(myjson[i],{});return clone},CSL.XmlJSON.prototype.getNodesByName=function(myjson,name,nameattrval,ret){if(!ret)var ret=[];if(!myjson||!myjson.children)return ret;name===myjson.name&&(nameattrval?nameattrval===myjson.attrs.name&&ret.push(myjson):ret.push(myjson));for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)"object"==typeof myjson.children[i]&&this.getNodesByName(myjson.children[i],name,nameattrval,ret);return ret},CSL.XmlJSON.prototype.nodeNameIs=function(myjson,name){return void 0!==myjson&&name==myjson.name},CSL.XmlJSON.prototype.makeXml=function(myjson){return"string"==typeof myjson&&(myjson="<"===myjson.slice(0,1)?this.jsonStringWalker.walkToObject(myjson):JSON.parse(myjson)),myjson},CSL.XmlJSON.prototype.insertChildNodeAfter=function(parent,node,pos,datejson){for(var i=0,ilen=parent.children.length;i<ilen;i+=1)if(node===parent.children[i]){parent.children=parent.children.slice(0,i).concat([datejson]).concat(parent.children.slice(i+1));break}return parent},CSL.XmlJSON.prototype.insertPublisherAndPlace=function(myjson){if("group"===myjson.name){for(var useme=!0,mustHaves=["publisher","publisher-place"],i=0,ilen=myjson.children.length;i<ilen;i+=1){var haveVarname=mustHaves.indexOf(myjson.children[i].attrs.variable);if(!("text"===myjson.children[i].name&&haveVarname>-1)||myjson.children[i].attrs.prefix||myjson.children[i].attrs.suffix){useme=!1;break}mustHaves=mustHaves.slice(0,haveVarname).concat(mustHaves.slice(haveVarname+1))}useme&&!mustHaves.length&&(myjson.attrs["has-publisher-and-publisher-place"]=!0)}for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)"object"==typeof myjson.children[i]&&this.insertPublisherAndPlace(myjson.children[i])},CSL.XmlJSON.prototype.isChildOfSubstitute=function(parents){if(parents.length>0){var myparents=parents.slice();return"substitute"===myparents.pop()||this.isChildOfSubstitute(myparents)}return!1},CSL.XmlJSON.prototype.addMissingNameNodes=function(myjson,parents){if(parents||(parents=[]),"names"===myjson.name&&!this.isChildOfSubstitute(parents)){for(var addName=!0,i=0,ilen=myjson.children.length;i<ilen;i++)if("name"===myjson.children[i].name){addName=!1;break}addName&&(myjson.children=[{name:"name",attrs:{},children:[]}].concat(myjson.children))}parents.push(myjson.name);for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)"object"==typeof myjson.children[i]&&this.addMissingNameNodes(myjson.children[i],parents);parents.pop()},CSL.XmlJSON.prototype.addInstitutionNodes=function(myjson){if("names"===myjson.name){for(var attributes={},insertPos=-1,i=0,ilen=myjson.children.length;i<ilen;i+=1){if("name"==myjson.children[i].name){for(var key in myjson.children[i].attrs)attributes[key]=myjson.children[i].attrs[key];attributes.delimiter=myjson.children[i].attrs.delimiter,attributes.and=myjson.children[i].attrs.and,insertPos=i;for(var k=0,klen=myjson.children[i].children.length;k<klen;k+=1)if("family"===myjson.children[i].children[k].attrs.name)for(var key in myjson.children[i].children[k].attrs)attributes[key]=myjson.children[i].children[k].attrs[key]}if("institution"==myjson.children[i].name){insertPos=-1;break}}if(insertPos>-1){for(var institution=this.nodeCopy(this.institution),i=0,ilen=CSL.INSTITUTION_KEYS.length;i<ilen;i+=1){var attrname=CSL.INSTITUTION_KEYS[i];"undefined"!=typeof attributes[attrname]&&(institution.children[0].attrs[attrname]=attributes[attrname]),attributes.delimiter&&(institution.attrs.delimiter=attributes.delimiter),attributes.and&&(institution.attrs.and="text")}myjson.children=myjson.children.slice(0,insertPos+1).concat([institution]).concat(myjson.children.slice(insertPos+1))}}for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)"string"!=typeof myjson.children[i]&&this.addInstitutionNodes(myjson.children[i])},CSL.XmlJSON.prototype.flagDateMacros=function(myjson){for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)"macro"===myjson.children[i].name&&this.inspectDateMacros(myjson.children[i])&&(myjson.children[i].attrs["macro-has-date"]="true")},CSL.XmlJSON.prototype.inspectDateMacros=function(myjson){if(!myjson||!myjson.children)return!1;if("date"===myjson.name)return!0;for(var i=0,ilen=myjson.children.length;i<ilen;i+=1)if(this.inspectDateMacros(myjson.children[i]))return!0;return!1},CSL.stripXmlProcessingInstruction=function(xml){return xml?(xml=xml.replace(/^<\?[^?]+\?>/,""),xml=xml.replace(/<!--[^>]+-->/g,""),xml=xml.replace(/^\s+/g,""),xml=xml.replace(/\s+$/g,"")):xml},CSL.parseXml=function(str){function _decodeHtmlEntities(str){return str.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(match,numStr){var num=parseInt(numStr,10);return String.fromCharCode(num)}).replace(/&#x([a-f0-9]{1,6});/gi,function(match,numStr){var num=parseInt(numStr,16);return String.fromCharCode(num)})}function _getAttributes(elem){var m=elem.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(m)for(var i=0,ilen=m.length;i<ilen;i++)m[i]=m[i].replace(/=.*/,"");return m}function _getAttribute(elem,attr){var rex=RegExp("^.*[\t ]+"+attr+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),m=elem.match(rex);return m?m[1].slice(1,-1):null}function _getTagName(elem){var rex=RegExp("^<([^\t />]+)"),m=elem.match(rex);return m?m[1]:null}function _castObjectFromOpeningTag(elem){var obj={};obj.name=_getTagName(elem),obj.attrs={};var attributes=_getAttributes(elem);if(attributes)for(var i=0,ilen=attributes.length;i<ilen;i++){var attr={name:attributes[i],value:_getAttribute(elem,attributes[i])};obj.attrs[attr.name]=_decodeHtmlEntities(attr.value)}return obj.children=[],obj}function _extractTextFromCompositeElement(elem){return _decodeHtmlEntities(elem.match(/^.*>([^<]*)<.*$/)[1])}function _appendToChildren(obj){_stack.slice(-1)[0].push(obj)}function _extendStackWithNewChildren(obj){_stack.push(obj.children)}for(var _obj={children:[]},_stack=[_obj.children],lst=function(str){for(var lst=(str=str.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),stylePos=null,i=0,ilen=lst.length;i<ilen;i++)i>0&&(lst[i]="<"+lst[i]),i<lst.length-1&&(lst[i]=lst[i]+">"),"number"!=typeof stylePos&&("<style "!==lst[i].slice(0,7)&&"<locale "!=lst[i].slice(0,8)||(stylePos=i));for(i=(lst=lst.slice(stylePos)).length-2;i>-1;i--)if(-1===lst[i].slice(1).indexOf("<")){var stub=lst[i].slice(0,5);"<term"===stub?"</term"===lst[i+1].slice(0,6)&&(lst[i]=lst[i]+lst[i+1],lst=lst.slice(0,i+1).concat(lst.slice(i+2))):["<sing","<mult"].indexOf(stub)>-1&&"/>"!==lst[i].slice(-2)&&"<"===lst[i+1].slice(0,1)&&(lst[i]=lst[i]+lst[i+1],lst=lst.slice(0,i+1).concat(lst.slice(i+2)))}return lst}(str),i=0,ilen=lst.length;i<ilen;i++)!function(elem){var obj;elem.slice(1).indexOf("<")>-1?((obj=_castObjectFromOpeningTag(elem.slice(0,elem.indexOf(">")+1))).children=[_extractTextFromCompositeElement(elem)],_appendToChildren(obj)):"/>"===elem.slice(-2)?(obj=_castObjectFromOpeningTag(elem),"term"===_getTagName(elem)&&obj.children.push(""),_appendToChildren(obj)):"</"===elem.slice(0,2)?_stack.pop():(_appendToChildren(obj=_castObjectFromOpeningTag(elem)),_extendStackWithNewChildren(obj))}(lst[i]);return _obj.children[0]},CSL.XmlDOM=function(dataObj){this.dataObj=dataObj,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(str,contentType){if("undefined"!=typeof ActiveXObject)return(xmldata=new ActiveXObject("MSXML.DomDocument")).async=!1,xmldata.loadXML(str),xmldata;if("undefined"!=typeof XMLHttpRequest){var xmldata=new XMLHttpRequest;return contentType||(contentType="text/xml"),xmldata.open("GET","data:"+contentType+";charset=utf-8,"+encodeURIComponent(str),!1),xmldata.overrideMimeType&&xmldata.overrideMimeType(contentType),xmldata.send(null),xmldata.responseXML}return"undefined"!=typeof marknote?(new marknote.Parser).parse(str):void 0},this.hasAttributes=function(node){return!(!node.attributes||!node.attributes.length)}):this.hasAttributes=function(node){return!(!node.attributes||!node.attributes.length)},this.importNode=function(doc,srcElement){if("undefined"==typeof doc.importNode)ret=this._importNode(doc,srcElement,!0);else var ret=doc.importNode(srcElement,!0);return ret},this._importNode=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0)for(var i=0,il=node.attributes.length;i<il;)newNode.setAttribute(node.attributes[i].nodeName,node.getAttribute(node.attributes[i++].nodeName));if(allChildren&&node.childNodes&&node.childNodes.length>0)for(var i=0,il=node.childNodes.length;i<il;)newNode.appendChild(this._importNode(doc,node.childNodes[i++],allChildren));return newNode}},this.parser=new DOMParser;var inst_doc=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),inst_node=inst_doc.getElementsByTagName("institution");this.institution=inst_node.item(0);var inst_part_node=inst_doc.getElementsByTagName("institution-part");this.institutionpart=inst_part_node.item(0),this.ns="http://purl.org/net/xbiblio/csl"},CSL.XmlDOM.prototype.clean=function(xml){return xml=xml.replace(/<\?[^?]+\?>/g,""),xml=xml.replace(/<![^>]+>/g,""),xml=xml.replace(/^\s+/,""),xml=xml.replace(/\s+$/,""),xml=xml.replace(/^\n*/,"")},CSL.XmlDOM.prototype.getStyleId=function(myxml,styleName){var text="",tagName="id";styleName&&(tagName="title");var node=myxml.getElementsByTagName(tagName);return node&&node.length&&(node=node.item(0)),node&&(text=node.textContent),text||(text=node.innerText),text||(text=node.innerHTML),text},CSL.XmlDOM.prototype.children=function(myxml){var children,pos,len,ret;if(myxml){for(ret=[],pos=0,len=(children=myxml.childNodes).length;pos<len;pos+=1)"#text"!=children[pos].nodeName&&ret.push(children[pos]);return ret}return[]},CSL.XmlDOM.prototype.nodename=function(myxml){return myxml.nodeName},CSL.XmlDOM.prototype.attributes=function(myxml){var ret,attrs,attr,pos,len;if(ret=new Object,myxml&&this.hasAttributes(myxml))for(pos=0,len=(attrs=myxml.attributes).length;pos<len;pos+=1)ret["@"+(attr=attrs[pos]).name]=attr.value;return ret},CSL.XmlDOM.prototype.content=function(myxml){return"undefined"!=typeof myxml.textContent?myxml.textContent:"undefined"!=typeof myxml.innerText?myxml.innerText:myxml.txt},CSL.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},CSL.XmlDOM.prototype.numberofnodes=function(myxml){return myxml?myxml.length:0},CSL.XmlDOM.prototype.getAttributeName=function(attr){return attr.name},CSL.XmlDOM.prototype.getAttributeValue=function(myxml,name,namespace){var ret="";return namespace&&(name=namespace+":"+name),myxml&&this.hasAttributes(myxml)&&myxml.getAttribute(name)&&(ret=myxml.getAttribute(name)),ret},CSL.XmlDOM.prototype.getNodeValue=function(myxml,name){var ret=null;if(name){var vals=myxml.getElementsByTagName(name);vals.length>0&&(ret="undefined"!=typeof vals[0].textContent?vals[0].textContent:"undefined"!=typeof vals[0].innerText?vals[0].innerText:vals[0].text)}return null===ret&&myxml&&myxml.childNodes&&(0==myxml.childNodes.length||1==myxml.childNodes.length&&"#text"==myxml.firstChild.nodeName)&&(ret="undefined"!=typeof myxml.textContent?myxml.textContent:"undefined"!=typeof myxml.innerText?myxml.innerText:myxml.text),null===ret&&(ret=myxml),ret},CSL.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(myxml,nodename,partname,attrname,val){var pos,len,nodes,node;for("@"===attrname.slice(0,1)&&(attrname=attrname.slice(1)),pos=0,len=(nodes=myxml.getElementsByTagName(nodename)).length;pos<len;pos+=1)(node=nodes[pos]).getAttribute("name")==partname&&node.setAttribute(attrname,val)},CSL.XmlDOM.prototype.deleteNodeByNameAttribute=function(myxml,val){var pos,len,node,nodes;for(pos=0,len=(nodes=myxml.childNodes).length;pos<len;pos+=1)(node=nodes[pos])&&node.nodeType!=node.TEXT_NODE&&this.hasAttributes(node)&&node.getAttribute("name")==val&&myxml.removeChild(nodes[pos])},CSL.XmlDOM.prototype.deleteAttribute=function(myxml,attr){myxml.removeAttribute(attr)},CSL.XmlDOM.prototype.setAttribute=function(myxml,attr,val){return myxml.ownerDocument||(myxml=myxml.firstChild),["function","unknown"].indexOf(typeof myxml.setAttribute)>-1&&myxml.setAttribute(attr,val),!1},CSL.XmlDOM.prototype.nodeCopy=function(myxml){return myxml.cloneNode(!0)},CSL.XmlDOM.prototype.getNodesByName=function(myxml,name,nameattrval){var ret,nodes,node,pos,len;for(ret=[],pos=0,len=(nodes=myxml.getElementsByTagName(name)).length;pos<len;pos+=1)node=nodes.item(pos),(!nameattrval||this.hasAttributes(node)&&node.getAttribute("name")==nameattrval)&&ret.push(node);return ret},CSL.XmlDOM.prototype.nodeNameIs=function(myxml,name){return name==myxml.nodeName},CSL.XmlDOM.prototype.makeXml=function(myxml){return myxml||(myxml="<docco><bogus/></docco>"),myxml=myxml.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(myxml,"application/xml").firstChild},CSL.XmlDOM.prototype.insertChildNodeAfter=function(parent,node,pos,datexml){var myxml;return myxml=this.importNode(node.ownerDocument,datexml),parent.replaceChild(myxml,node),parent},CSL.XmlDOM.prototype.insertPublisherAndPlace=function(myxml){for(var group=myxml.getElementsByTagName("group"),i=0,ilen=group.length;i<ilen;i+=1){for(var node=group.item(i),skippers=[],j=0,jlen=node.childNodes.length;j<jlen;j+=1)1!==node.childNodes.item(j).nodeType&&skippers.push(j);if(node.childNodes.length-skippers.length==2){for(var twovars=[],j=0,jlen=2;j<jlen;j+=1)if(!(skippers.indexOf(j)>-1)){for(var child=node.childNodes.item(j),subskippers=[],k=0,klen=child.childNodes.length;k<klen;k+=1)1!==child.childNodes.item(k).nodeType&&subskippers.push(k);if(child.childNodes.length-subskippers.length==0&&(twovars.push(child.getAttribute("variable")),child.getAttribute("suffix")||child.getAttribute("prefix"))){twovars=[];break}}twovars.indexOf("publisher")>-1&&twovars.indexOf("publisher-place")>-1&&node.setAttribute("has-publisher-and-publisher-place",!0)}}},CSL.XmlDOM.prototype.isChildOfSubstitute=function(node){return!!node.parentNode&&("substitute"===node.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(node.parentNode))},CSL.XmlDOM.prototype.addMissingNameNodes=function(myxml){for(var nameslist=myxml.getElementsByTagName("names"),i=0,ilen=nameslist.length;i<ilen;i+=1){var names=nameslist.item(i),namelist=names.getElementsByTagName("name");if(!(namelist&&0!==namelist.length||this.isChildOfSubstitute(names))){var name=names.ownerDocument.createElement("name");names.appendChild(name)}}},CSL.XmlDOM.prototype.addInstitutionNodes=function(myxml){var names,thenames,theinstitution,name,thename,pos,len;for(pos=0,len=(names=myxml.getElementsByTagName("names")).length;pos<len;pos+=1)if(thenames=names.item(pos),0!=(name=thenames.getElementsByTagName("name")).length&&0==thenames.getElementsByTagName("institution").length){theinstitution=this.importNode(myxml.ownerDocument,this.institution),theinstitutionpart=theinstitution.getElementsByTagName("institution-part").item(0),thename=name.item(0),thenames.insertBefore(theinstitution,thename.nextSibling);for(var j=0,jlen=CSL.INSTITUTION_KEYS.length;j<jlen;j+=1){attrname=CSL.INSTITUTION_KEYS[j];(attrval=thename.getAttribute(attrname))&&theinstitutionpart.setAttribute(attrname,attrval)}for(var nameparts=thename.getElementsByTagName("name-part"),j=0,jlen=nameparts.length;j<jlen;j+=1)if("family"===nameparts[j].getAttribute("name"))for(var k=0,klen=CSL.INSTITUTION_KEYS.length;k<klen;k+=1){var attrname=CSL.INSTITUTION_KEYS[k],attrval=nameparts[j].getAttribute(attrname);attrval&&theinstitutionpart.setAttribute(attrname,attrval)}}},CSL.XmlDOM.prototype.flagDateMacros=function(myxml){var pos,len,thenode;for(nodes=myxml.getElementsByTagName("macro"),pos=0,len=nodes.length;pos<len;pos+=1)(thenode=nodes.item(pos)).getElementsByTagName("date").length&&thenode.setAttribute("macro-has-date","true")},CSL.setupXml=function(xmlObject){var dataObj={},parser=null;if(void 0!==xmlObject?"string"==typeof xmlObject?(dataObj="<"===(xmlObject=xmlObject.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?CSL.parseXml(xmlObject):JSON.parse(xmlObject),parser=new CSL.XmlJSON(dataObj)):parser="undefined"!=typeof xmlObject.getAttribute?new CSL.XmlDOM(xmlObject):"undefined"!=typeof xmlObject.toXMLString?new CSL.XmlE4X(xmlObject):new CSL.XmlJSON(xmlObject):CSL.error("unable to parse XML input"),!parser)throw"citeproc-js error: unable to parse CSL style or locale object";return parser},CSL.getSortCompare=function(default_locale){if(CSL.stringCompare)return CSL.stringCompare;var strcmp,strcmp_opts={sensitivity:"base",ignorePunctuation:!0,numeric:!0};default_locale||(default_locale="en-US"),strcmp=function(a,b){return a.toLocaleLowerCase().localeCompare(b.toLocaleLowerCase(),default_locale,strcmp_opts)};var stripPunct=function(str){return str.replace(/^[\[\]\'\"]*/g,"")},bracketPreSort=function(){return!!strcmp("[x","x")&&function(a,b){return strcmp(stripPunct(a),stripPunct(b))}}();return function(a,b){return bracketPreSort?bracketPreSort(a,b):strcmp(a,b)}},CSL.ambigConfigDiff=function(a,b){var pos,len,ppos,llen;if(a.names.length!==b.names.length)return 1;for(pos=0,len=a.names.length;pos<len;pos+=1){if(a.names[pos]!==b.names[pos])return 1;for(ppos=0,llen=a.givens[pos];ppos<llen;ppos+=1)if(a.givens[pos][ppos]!==b.givens[pos][ppos])return 1}return a.disambiguate!=b.disambiguate?1:a.year_suffix!==b.year_suffix?1:0},CSL.cloneAmbigConfig=function(config,oldconfig,tainters){var i,ilen,j,jlen,param,ret={};for(ret.names=[],ret.givens=[],ret.year_suffix=!1,ret.disambiguate=!1,i=0,ilen=config.names.length;i<ilen;i+=1)param=config.names[i],ret.names[i]=param;for(i=0,ilen=config.givens.length;i<ilen;i+=1){for(param=[],j=0,jlen=config.givens[i].length;j<jlen;j+=1)param.push(config.givens[i][j]);ret.givens.push(param)}return oldconfig?(ret.year_suffix=oldconfig.year_suffix,ret.disambiguate=oldconfig.disambiguate):(ret.year_suffix=config.year_suffix,ret.disambiguate=config.disambiguate),ret},CSL.getAmbigConfig=function(){var config;return(config=this.tmp.disambig_request)||(config=this.tmp.disambig_settings),CSL.cloneAmbigConfig(config)},CSL.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},CSL.getMinVal=function(){return this.tmp["et-al-min"]},CSL.tokenExec=function(token,Item,item){var next,maybenext;next=token.next,maybenext=!1;var record=function(result){return result?(this.tmp.jump.replace("succeed"),token.succeed):(this.tmp.jump.replace("fail"),token.fail)};token.test&&(next=record.call(this,token.test(Item,item)));for(var i=0,ilen=token.execs.length;i<ilen;i++)(maybenext=token.execs[i].call(token,this,Item,item))&&(next=maybenext);return next},CSL.expandMacro=function(macro_key_token,target){var mkey,macro_nodes,end_of_macro;mkey=macro_key_token.postponed_macro,macro_key_token=new CSL.Token("group",CSL.START);var hasDate=!1,macroid=!1;if((macro_nodes=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",mkey)).length&&(macroid=this.cslXml.getAttributeValue(macro_nodes[0],"cslid"),hasDate=this.cslXml.getAttributeValue(macro_nodes[0],"macro-has-date")),hasDate&&(mkey=mkey+"@"+this.build.current_default_locale,func=function(state,Item){state.tmp.extension&&(state.tmp["doing-macro-with-date"]=!0)},macro_key_token.execs.push(func)),this.build.macro_stack.indexOf(mkey)>-1)throw'CSL processor error: call to macro "'+mkey+'" would cause an infinite loop';if(this.build.macro_stack.push(mkey),macro_key_token.cslid=macroid,CSL.MODULE_MACROS[mkey]&&(macro_key_token.juris=mkey,this.opt.update_mode=CSL.POSITION),CSL.Node.group.build.call(macro_key_token,this,target,!0),!this.cslXml.getNodeValue(macro_nodes))throw'CSL style error: undefined macro "'+mkey+'"';var mytarget=CSL.getMacroTarget.call(this,mkey);if(mytarget&&(CSL.buildMacro.call(this,mytarget,macro_nodes),CSL.configureMacro.call(this,mytarget)),!this.build.extension){var func=function(macro_name){return function(state,Item,item){for(var next=0;next<state.macros[macro_name].length;)next=CSL.tokenExec.call(state,state.macros[macro_name][next],Item,item)}}(mkey),text_node=new CSL.Token("text",CSL.SINGLETON);text_node.execs.push(func),target.push(text_node)}end_of_macro=new CSL.Token("group",CSL.END),hasDate&&(func=function(state,Item){state.tmp.extension&&(state.tmp["doing-macro-with-date"]=!1)},end_of_macro.execs.push(func)),macro_key_token.juris&&(end_of_macro.juris=mkey),CSL.Node.group.build.call(end_of_macro,this,target,!0),this.build.macro_stack.pop()},CSL.getMacroTarget=function(mkey){var mytarget=!1;return this.build.extension?mytarget=this[this.build.root+this.build.extension].tokens:this.macros[mkey]||(mytarget=[],this.macros[mkey]=mytarget),mytarget},CSL.buildMacro=function(mytarget,macro_nodes){CSL.makeBuilder(this,mytarget)("undefined"==typeof macro_nodes.length?macro_nodes:macro_nodes[0])},CSL.configureMacro=function(mytarget){this.build.extension||this.configureTokenList(mytarget)},CSL.XmlToToken=function(state,tokentype,explicitTarget){var name,txt,attributes,decorations,token,key,target;if(name=state.cslXml.nodename(this),!state.build.skip||state.build.skip===name){if(!name)return void((txt=state.cslXml.content(this))&&(state.build.text=txt));if(!CSL.Node[state.cslXml.nodename(this)])throw'Undefined node name "'+name+'".';if([],attributes=state.cslXml.attributes(this),decorations=CSL.setDecorations.call(this,state,attributes),token=new CSL.Token(name,tokentype),tokentype!==CSL.END||"if"===name||"else-if"===name||"layout"===name){for(key in attributes)if(attributes.hasOwnProperty(key)){if(tokentype===CSL.END&&"@language"!==key&&"@locale"!==key)continue;if(attributes.hasOwnProperty(key))if(CSL.Attributes[key])try{CSL.Attributes[key].call(token,state,""+attributes[key])}catch(e){throw CSL.error(e),"CSL processor error, "+key+" attribute: "+e}else CSL.debug('warning: undefined attribute "'+key+'" in style')}token.decorations=decorations}else tokentype===CSL.END&&attributes["@variable"]&&(token.hasVariable=!0,CSL.DATE_VARIABLES.indexOf(attributes["@variable"])>-1&&(token.variables=attributes["@variable"].split(/\s+/)));target=explicitTarget||state[state.build.area].tokens,CSL.Node[name].build.call(token,state,target,!0)}},CSL.DateParser=new function(){for(var epochPairs=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],epochYearByName={},i=0,ilen=epochPairs.length;i<ilen;i++){var key=epochPairs[i][0],val=epochPairs[i][1];epochYearByName[key]=val}for(var epochMatchStrings=[],i=0,ilen=epochPairs.length;i<ilen;i++){val=epochPairs[i][0];epochMatchStrings.push(val)}var epochMatchString=epochMatchStrings.join("|"),epochSplitter=new RegExp("(?:"+epochMatchString+")(?:[0-9]+)"),epochMatcher=new RegExp("(?:"+epochMatchString+")(?:[0-9]+)","g"),rexString="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",rexDash=new RegExp(rexString.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),rexDashSlash=new RegExp(rexString.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),rexSlashDash=new RegExp(rexString.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var i=0,ilen=this.monthStrings.length;i<ilen;i++)this.monthSets.push([this.monthStrings[i]]);this.monthAbbrevs=[];for(var i=0,ilen=this.monthSets.length;i<ilen;i++){this.monthAbbrevs.push([]);for(var j=0,jlen=this.monthSets[i].length;j<jlen;j++)this.monthAbbrevs[i].push(this.monthSets[i][0].slice(0,3))}this.monthRexes=[];for(var i=0,ilen=this.monthAbbrevs.length;i<ilen;i++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[i].join("|")+")"))},this.addDateParserMonths=function(lst){if("string"==typeof lst&&(lst=lst.split(/\s+/)),12!==lst.length&&16!==lst.length)return void CSL.debug("month [+season] list of "+lst.length+", expected 12 or 16. Ignoring.");for(var i=0,ilen=lst.length;i<ilen;i++){for(var abbrevLength=null,skip=!1,insert=3,extendedSets={},j=0,jlen=this.monthAbbrevs.length;j<jlen;j++){if(extendedSets[j]={},j===i){for(var k=0,klen=this.monthAbbrevs[i].length;k<klen;k++)if(this.monthAbbrevs[i][k]===lst[i].slice(0,this.monthAbbrevs[i][k].length)){skip=!0;break}}else for(var k=0,klen=this.monthAbbrevs[j].length;k<klen;k++)if(abbrevLength=this.monthAbbrevs[j][k].length,this.monthAbbrevs[j][k]===lst[i].slice(0,abbrevLength)){for(;this.monthSets[j][k].slice(0,abbrevLength)===lst[i].slice(0,abbrevLength);){if(abbrevLength>lst[i].length||abbrevLength>this.monthSets[j][k].length){CSL.debug("unable to disambiguate month string in date parser: "+lst[i]);break}abbrevLength+=1}insert=abbrevLength,extendedSets[j][k]=abbrevLength}for(var jKey in extendedSets)for(kKey in extendedSets[jKey])abbrevLength=extendedSets[jKey][kKey],jKey=parseInt(jKey,10),kKey=parseInt(kKey,10),this.monthAbbrevs[jKey][kKey]=this.monthSets[jKey][kKey].slice(0,abbrevLength)}skip||(this.monthSets[i].push(lst[i]),this.monthAbbrevs[i].push(lst[i].slice(0,insert)))}this.monthRexes=[],this.monthRexStrs=[];for(var i=0,ilen=this.monthAbbrevs.length;i<ilen;i++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[i].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[i].join("|")+")");if(18===this.monthAbbrevs.length)for(var i=12,ilen=14;i<ilen;i++)this.monthRexes[i+4]=new RegExp("^(?:"+this.monthAbbrevs[i].join("|")+")"),this.monthRexStrs[i+4]="^(?:"+this.monthAbbrevs[i].join("|")+")"},this.convertDateObjectToArray=function(thedate){thedate["date-parts"]=[],thedate["date-parts"].push([]);for(var slicelen=0,i=0,ilen=3;i<ilen;i++){var part=["year","month","day"][i];if(!thedate[part])break;slicelen+=1,thedate["date-parts"][0].push(thedate[part]),delete thedate[part]}thedate["date-parts"].push([]);for(var i=0,ilen=slicelen;i<ilen&&(part=["year_end","month_end","day_end"][i],thedate[part]);i++)thedate["date-parts"][1].push(thedate[part]),delete thedate[part];return thedate["date-parts"][0].length!==thedate["date-parts"][1].length&&thedate["date-parts"].pop(),thedate},this.convertDateObjectToString=function(thedate){for(var ret=[],i=0;i<3&&thedate[DATE_PARTS_ALL[i]];i+=1)ret.push(thedate[DATE_PARTS_ALL[i]]);return ret.join("-")},this._parseNumericDate=function(ret,delim,suff,txt){suff||(suff="");for(var lst=txt.split(delim),i=0,ilen=lst.length;i<ilen;i++)if(4===lst[i].length){ret["year"+suff]=lst[i].replace(/^0*/,""),lst=i?lst.slice(0,i):lst.slice(1);break}for(var i=0,ilen=lst.length;i<ilen;i++)lst[i]=parseInt(lst[i],10);1===lst.length||2===lst.length&&!lst[1]?ret["month"+suff]=""+lst[0]:2===lst.length&&(lst[this.monthGuess]>12?(ret["month"+suff]=""+lst[this.dayGuess],ret["day"+suff]=""+lst[this.monthGuess]):(ret["month"+suff]=""+lst[this.monthGuess],ret["day"+suff]=""+lst[this.dayGuess]))},this.parseDateToObject=function(txt){var lst,orig=txt,slashPos=-1,dashPos=-1,yearIsNegative=!1;if(txt){if("-"===txt.slice(0,1)&&(yearIsNegative=!0,txt=txt.slice(1)),txt.match(/^[0-9]{1,3}$/))for(;txt.length<4;)txt="0"+txt;if(m=(txt=(txt=""+txt).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(/(\u6708|\u5E74)/g)){var slst=(txt=(txt=(txt=(txt=(txt=(txt=txt.replace(/\s+/g,"")).replace(/\u65E5/g,"")).replace(/(\u6708|\u5E74)/g,"-")).replace(/\u301c/g,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(epochSplitter);lst=[];var mm=txt.match(epochMatcher);if(mm){for(var mmx=[],i=0,ilen=mm.length;i<ilen;i++)mmx=mmx.concat(mm[i].match(/([^0-9]+)([0-9]+)/).slice(1));for(var i=0,ilen=slst.length;i<ilen;i++)if(lst.push(slst[i]),i!==len-1){var mmpos=2*pos;lst.push(mmx[mmpos]),lst.push(mmx[mmpos+1])}}else lst=slst;for(var i=1,ilen=lst.length;i<ilen;i+=3)lst[i+1]=jiy[lst[i]]+parseInt(lst[i+1],10),lst[i]="";slashPos=(txt=(txt=(txt=(txt=lst.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),dashPos=txt.indexOf("-")}}var rangeDelim,dateDelim,number="",note="",thedate={};if('"'===(txt=txt.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===txt.slice(-1))return thedate.literal=txt.slice(1,-1),thedate;slashPos>-1&&dashPos>-1?txt.split("/").length>3?(rangeDelim="-",dateDelim="/",lst=(txt=txt.replace(/\_/g,"-")).split(rexSlashDash)):(rangeDelim="/",dateDelim="-",lst=(txt=txt.replace(/\_/g,"/")).split(rexDashSlash)):(rangeDelim="-",dateDelim="-",lst=(txt=(txt=txt.replace(/\//g,"-")).replace(/\_/g,"-")).split(rexDash));for(var ret=[],i=0,ilen=lst.length;i<ilen;i++){var m=lst[i].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);m&&ret.push(m[1])}var delimPos=ret.indexOf(rangeDelim),delims=[],isRange=!1;delimPos>-1?(delims.push([0,delimPos]),delims.push([delimPos+1,ret.length]),isRange=!0):delims.push([0,ret.length]);for(var suff="",i=0,ilen=delims.length;i<ilen;i++){delim=delims[i],date=ret.slice(delim[0],delim[1]);outer:for(var j=0,jlen=date.length;j<jlen;j++){var element=date[j];if(element.indexOf(dateDelim)>-1)this._parseNumericDate(thedate,dateDelim,suff,element);else if(element.match(/[0-9]{4}/))thedate["year"+suff]=element.replace(/^0*/,"");else{for(var k=0,klen=this.monthRexes.length;k<klen;k++)if(element.toLocaleLowerCase().match(this.monthRexes[k])){thedate["month"+suff]=""+(parseInt(k,10)+1);continue outer}element.match(/^[0-9]+$/)&&(number=element),element.toLocaleLowerCase().match(/^bc/)&&number?(thedate["year"+suff]=""+-1*number,number=""):element.toLocaleLowerCase().match(/^ad/)&&number?(thedate["year"+suff]=""+number,number=""):"~"===element||"?"===element||"c"===element||element.match(/^cir/)?thedate.circa="1":!element.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||thedate["season"+suff]||(note=element)}}number&&(thedate["day"+suff]=number,number=""),note&&!thedate["season"+suff]&&(thedate["season"+suff]=note,note=""),suff="_end"}if(isRange)for(var j=0,jlen=CSL.DATE_PARTS_ALL.length;j<jlen;j++){var item=CSL.DATE_PARTS_ALL[j];thedate[item]&&!thedate[item+"_end"]?thedate[item+"_end"]=thedate[item]:!thedate[item]&&thedate[item+"_end"]&&(thedate[item]=thedate[item+"_end"])}(!thedate.year||thedate.year&&thedate.day&&!thedate.month)&&(thedate={literal:orig});for(var parts=["year","month","day","year_end","month_end","day_end"],i=0,ilen=parts.length;i<ilen;i++){var part=parts[i];"string"==typeof thedate[part]&&thedate[part].match(/^[0-9]+$/)&&(thedate[part]=parseInt(thedate[part],10))}return yearIsNegative&&Object.keys(thedate).indexOf("year")>-1&&(thedate.year=-1*thedate.year),thedate},this.parseDateToArray=function(txt){return this.convertDateObjectToArray(this.parseDateToObject(txt))},this.parseDateToString=function(txt){return this.convertDateObjectToString(this.parseDateToObject(txt))},this.parse=function(txt){return this.parseDateToObject(txt)},this.setOrderMonthDay(),this.resetDateParserMonths()},CSL.Engine=function(sys,style,lang,forceLang){var langspec;this.processor_version=CSL.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=sys,sys.variableWrapper&&(CSL.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(CSL.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),CSL.retrieveStyleModule&&(this.sys.retrieveStyleModule=CSL.retrieveStyleModule),CSL.getAbbreviation&&(this.sys.getAbbreviation=CSL.getAbbreviation),this.sys.stringCompare&&(CSL.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=CSL.AbbreviationSegments,this.parallel=new CSL.Parallel(this),this.transform=new CSL.Transform(this),this.setParseNames=function(val){this.opt["parse-names"]=val},this.opt=new CSL.Engine.Opt,this.tmp=new CSL.Engine.Tmp,this.build=new CSL.Engine.Build,this.fun=new CSL.Engine.Fun(this),this.configure=new CSL.Engine.Configure,this.citation_sort=new CSL.Engine.CitationSort,this.bibliography_sort=new CSL.Engine.BibliographySort,this.citation=new CSL.Engine.Citation(this),this.bibliography=new CSL.Engine.Bibliography,this.output=new CSL.Output.Queue(this),this.dateput=new CSL.Output.Queue(this),this.cslXml=CSL.setupXml(style),(this.opt.development_extensions.csl_reverse_lookup_support||this.sys.csl_reverse_lookup_support)&&(this.build.cslNodeId=0,this.setCslNodeIds=function(myxml,nodename){var children=this.cslXml.children(myxml);this.cslXml.setAttribute(myxml,"cslid",this.build.cslNodeId),this.opt.nodenames.push(nodename),this.build.cslNodeId+=1;for(var i=0,ilen=this.cslXml.numberofnodes(children);i<ilen;i+=1)(nodename=this.cslXml.nodename(children[i]))&&this.setCslNodeIds(children[i],nodename)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),"undefined"==typeof this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt["class"]=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),CSL.setSuppressedJurisdictions&&CSL.setSuppressedJurisdictions(this.opt.styleID,this.opt.suppressedJurisdictions),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.rtl_support=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),lang&&(lang=lang.replace("_","-"),lang=CSL.normalizeLocaleStr(lang)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=CSL.normalizeLocaleStr(this.opt["default-locale"][0])),lang&&forceLang&&(this.opt["default-locale"]=[lang]),lang&&!forceLang&&this.opt["default-locale"][0]&&(lang=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(lang||(lang="en-US"),this.opt["default-locale"].push("en-US")),lang||(lang=this.opt["default-locale"][0]),langspec=CSL.localeResolve(lang),this.opt.lang=langspec.best,this.opt["default-locale"][0]=langspec.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(langspec),this.locale[this.opt.lang].opts["skip-words-regexp"]=function(lst){var lst=lst.slice();return new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+lst.join("|")+")(?=[!?:]*\\s+|-|$))","g")}(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new CSL.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new CSL.Registry(this),this.macros={},this.build.area="citation";area_nodes=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(area_nodes,this[this.build.area].tokens),this.build.area="bibliography";var area_nodes=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(area_nodes,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new CSL.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=CSL.DateParser,this.fun.flipflopper=new CSL.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=CSL.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=CSL.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},CSL.Engine.prototype.setCloseQuotesArray=function(){var ret;(ret=[]).push(this.getTerm("close-quote")),ret.push(this.getTerm("close-inner-quote")),ret.push('"'),ret.push("'"),this.opt.close_quotes_array=ret},CSL.makeBuilder=function(me,target){function enterFunc(node){CSL.XmlToToken.call(node,me,CSL.START,target)}function leaveFunc(node){CSL.XmlToToken.call(node,me,CSL.END,target)}function singletonFunc(node){CSL.XmlToToken.call(node,me,CSL.SINGLETON,target)}function buildStyle(node){var origparent;if(me.cslXml.numberofnodes(me.cslXml.children(node))){enterFunc(origparent=node);for(var i=0;i<me.cslXml.numberofnodes(me.cslXml.children(origparent));i+=1)node=me.cslXml.children(origparent)[i],null!==me.cslXml.nodename(node)&&("date"===me.cslXml.nodename(node)&&(CSL.Util.fixDateNode.call(me,origparent,i,node),node=me.cslXml.children(origparent)[i]),buildStyle(node,enterFunc,leaveFunc,singletonFunc));leaveFunc(origparent)}else singletonFunc(node)}return buildStyle},CSL.Engine.prototype.buildTokenLists=function(area_nodes,target){if(this.cslXml.getNodeValue(area_nodes)){CSL.makeBuilder(this,target)("undefined"==typeof area_nodes.length?area_nodes:area_nodes[0])}},CSL.Engine.prototype.setStyleAttributes=function(){var dummy,attributes,attrname;(dummy={}).name=this.cslXml.nodename(this.cslXml.dataObj),attributes=this.cslXml.attributes(this.cslXml.dataObj);for(attrname in attributes)attributes.hasOwnProperty(attrname)&&CSL.Attributes[attrname].call(dummy,this,attributes[attrname])},CSL.Engine.prototype.getTerm=function(term,form,plural,gender,mode,forceDefaultLocale){term&&term.match(/[A-Z]/)&&term===term.toUpperCase()&&(CSL.debug("Warning: term key is in uppercase form: "+term),term=term.toLowerCase());var lang;lang=forceDefaultLocale?this.opt["default-locale"][0]:this.opt.lang;var ret=CSL.Engine.getField(CSL.LOOSE,this.locale[lang].terms,term,form,plural,gender);if(ret||"range-delimiter"!==term||(ret="–"),void 0===ret){if(mode===CSL.STRICT)throw'Error in getTerm: term "'+term+'" does not exist.';mode===CSL.TOLERANT&&(ret="")}return ret&&(this.tmp.cite_renders_content=!0),ret},CSL.Engine.prototype.getDate=function(form,forceDefaultLocale){var lang;return lang=forceDefaultLocale?this.opt["default-locale"]:this.opt.lang,!!this.locale[lang].dates[form]&&this.locale[lang].dates[form]},CSL.Engine.prototype.getOpt=function(arg){return"undefined"!=typeof this.locale[this.opt.lang].opts[arg]&&this.locale[this.opt.lang].opts[arg]},CSL.Engine.prototype.getVariable=function(Item,varname,form,plural){return CSL.Engine.getField(CSL.LOOSE,Item,varname,form,plural)},CSL.Engine.prototype.getDateNum=function(ItemField,partname){return void 0===ItemField?0:ItemField[partname]},CSL.Engine.getField=function(mode,hash,term,form,plural,gender){var ret,forms,f,pos,len,hashterm;if(ret="","undefined"==typeof hash[term]){if(mode===CSL.STRICT)throw'Error in getField: term "'+term+'" does not exist.';return undefined}for(hashterm=gender&&hash[term][gender]?hash[term][gender]:hash[term],forms=[],"symbol"===form?forms=["symbol","short"]:"verb-short"===form?forms=["verb-short","verb"]:"long"!==form&&(forms=[form]),len=(forms=forms.concat(["long"])).length,pos=0;pos<len;pos+=1)if(f=forms[pos],"string"==typeof hashterm||"number"==typeof hashterm)ret=hashterm;else if("undefined"!=typeof hashterm[f]){ret="string"==typeof hashterm[f]||"number"==typeof hashterm[f]?hashterm[f]:"number"==typeof plural?hashterm[f][plural]:hashterm[f][0];break}return ret},CSL.Engine.prototype.configureTokenLists=function(){var area,pos,len;for(len=CSL.AREAS.length,pos=0;pos<len;pos+=1){var tokens=this[area=CSL.AREAS[pos]].tokens;this.configureTokenList(tokens)}return this.version=CSL.version,this.state},CSL.Engine.prototype.configureTokenList=function(tokens){var dateparts_master,token,dateparts,ppos,pppos,lllen;for(dateparts_master=["year","month","day"],ppos=tokens.length-1;ppos>-1;ppos+=-1){if("date"===(token=tokens[ppos]).name&&CSL.END===token.tokentype&&(dateparts=[]),"date-part"===token.name&&token.strings.name)for(lllen=dateparts_master.length,pppos=0;pppos<lllen;pppos+=1)dateparts_master[pppos]===token.strings.name&&dateparts.push(token.strings.name);"date"===token.name&&CSL.START===token.tokentype&&(dateparts.reverse(),token.dateparts=dateparts),token.next=ppos+1,token.name&&CSL.Node[token.name].configure&&CSL.Node[token.name].configure.call(token,this,ppos)}},CSL.Engine.prototype.retrieveItems=function(ids){var ret;ret=[];for(var i=0,ilen=ids.length;i<ilen;i+=1)ret.push(this.retrieveItem(""+ids[i]));return ret},CSL.ITERATION=0,CSL.Engine.prototype.retrieveItem=function(id){var Item,m;if(this.tmp.loadedItemIDs[id])return this.registry.refhash[id];if(this.tmp.loadedItemIDs[id]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var i=0,ilen=this.opt["default-locale"].length;i<ilen;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(var i=0,ilen=this.opt["locale-translit"].length;i<ilen;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(var i=0,ilen=this.opt["locale-translat"].length;i<ilen;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(CSL.ITERATION+=1,Item=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+id))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(Item.multi){if(Item.multi._keys)for(var field in Item.multi._keys)for(var key in Item.multi._keys[field])key!==key.toLowerCase()&&(Item.multi._keys[field][key.toLowerCase()]=Item.multi._keys[field][key],delete Item.multi._keys[field][key]);if(Item.multi.main)for(var field in Item.multi.main)Item.multi.main[field]=Item.multi.main[field].toLowerCase()}for(var i=0,ilen=CSL.CREATORS.length;i>ilen;i+=1){var ctype=CSL.CREATORS[i];if(Item[ctype]&&Item[ctype].multi)for(var j=0,jlen=Item[ctype].length;j<jlen;j+=1){var creator=Item[ctype][j];if(creator.multi){if(creator.multi._key)for(var key in creator.multi._key)key!==key.toLowerCase()&&(creator.multi._key[key.toLowerCase()]=creator.multi._key[key],delete creator.multi._key[key]);creator.multi.main&&(creator.multi.main=creator.multi.main.toLowerCase())}}}}if(this.sys.getLanguageName&&Item.language&&Item.language){Item.language=Item.language.toLowerCase();var lst=Item.language.split("<");if(lst.length>0){var languageName=this.sys.getLanguageName(lst[0]);languageName&&(Item["language-name"]=languageName)}if(2===lst.length){var originalLanguage=this.sys.getLanguageName(lst[1]);originalLanguage&&(Item["language-name-original"]=originalLanguage)}}Item.page&&(Item["page-first"]=Item.page,"\\"!==(m=(""+Item.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(Item["page-first"]=m[0])),this.opt.development_extensions.field_hack&&Item.note&&CSL.parseNoteFieldHacks(Item,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var i=1,ilen=CSL.DATE_VARIABLES.length;i<ilen;i+=1){var dateobj=Item[CSL.DATE_VARIABLES[i]];dateobj&&(this.opt.development_extensions.raw_date_parsing&&dateobj.raw&&(dateobj=this.fun.dateparser.parseDateToObject(dateobj.raw)),Item[CSL.DATE_VARIABLES[i]]=this.dateParseArray(dateobj))}if(this.opt.development_extensions.static_statute_locator&&Item.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(Item.type)>-1){var varname,elements=["type","title","jurisdiction","genre","volume","container-title"],legislation_id=[];for(i=0,ilen=elements.length;i<ilen;i+=1)Item[varname=elements[i]]&&legislation_id.push(Item[varname]);for(i=0,(elements=["original-date","issued"]).length;i<ilen;i+=1)if(varname=elements[i],Item[varname]&&Item[varname].year){var value=Item[varname].year;legislation_id.push(value);break}Item.legislation_id=legislation_id.join("::")}this.opt.development_extensions.force_jurisdiction&&"string"==typeof Item.authority&&(Item.authority=[{literal:Item.authority}]),Item["title-short"]||(Item["title-short"]=Item.shortTitle),this.opt.development_extensions.main_title_from_short_title&&CSL.extractTitleAndSubtitle(Item);var isLegalType=["bill","legal_case","legislation","gazette","regulation"].indexOf(Item.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&isLegalType&&(Item.jurisdiction||(Item.jurisdiction="us")),!isLegalType&&Item.title&&this.sys.getAbbreviation){Item.jurisdiction||!0;jurisdiction=this.transform.loadAbbreviation(Item.jurisdiction,"title",Item.title,Item.type,!0);this.transform.abbrevs[jurisdiction].title&&this.transform.abbrevs[jurisdiction].title[Item.title]&&(Item["title-short"]=this.transform.abbrevs[jurisdiction].title[Item.title])}if(Item["container-title-short"]||(Item["container-title-short"]=Item.journalAbbreviation),Item["container-title"]&&this.sys.getAbbreviation){var jurisdiction=this.transform.loadAbbreviation(Item.jurisdiction,"container-title",Item["container-title"]);this.transform.abbrevs[jurisdiction]["container-title"]&&this.transform.abbrevs[jurisdiction]["container-title"][Item["container-title"]]&&(Item["container-title-short"]=this.transform.abbrevs[jurisdiction]["container-title"][Item["container-title"]])}return this.registry.refhash[id]=Item,Item},CSL.Engine.prototype.setOpt=function(token,name,value){"style"===token.name||"cslstyle"===token.name?(this.opt.inheritedAttributes[name]=value,this.citation.opt.inheritedAttributes[name]=value,this.bibliography.opt.inheritedAttributes[name]=value):["citation","bibliography"].indexOf(token.name)>-1?this[token.name].opt.inheritedAttributes[name]=value:token.strings[name]=value},CSL.Engine.prototype.inheritOpt=function(token,attrname,parentname,defaultValue){if("undefined"!=typeof token.strings[attrname])return token.strings[attrname];var parentValue=this[this.tmp.root].opt.inheritedAttributes[parentname||attrname];return void 0!==parentValue?parentValue:defaultValue},CSL.Engine.prototype.remapSectionVariable=function(inputList){for(var i=0,ilen=inputList.length;i<ilen;i+=1){var Item=inputList[i][0],item=inputList[i][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(Item.type)>-1){item.locator&&(item.locator=item.locator.trim(),(m=item.locator.match(CSL.STATUTE_SUBDIV_PLAIN_REGEX))||(item.label?item.locator=CSL.STATUTE_SUBDIV_STRINGS_REVERSE[item.label]+" "+item.locator:item.locator="p. "+item.locator));var sectionMasterLabel=null;if(Item.section&&(Item.section=Item.section.trim(),(m=Item.section.match(CSL.STATUTE_SUBDIV_PLAIN_REGEX))?sectionMasterLabel=m[0].trim():(Item.section="sec. "+Item.section,sectionMasterLabel="sec.")),Item.section)if(item.locator){var m=item.locator.match(/^([^ ]*)\s*(.*)/),space=" ";m?("p."===m[1]&&"p."!==sectionMasterLabel&&(item.locator=m[2]),["[","(",".",",",";",":","?"].indexOf(item.locator.slice(0,1))>-1&&(space="")):space="",item.locator=Item.section+space+item.locator}else item.locator=Item.section;item.label=""}}},CSL.Engine.prototype.setNumberLabels=function(Item){if(Item.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(Item.type)>-1&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var value=""+Item.number,firstword=(value=value.split("\\").join("")).split(/\s+/)[0],firstlabel=CSL.STATUTE_SUBDIV_STRINGS[firstword];if(firstlabel){var m=value.match(CSL.STATUTE_SUBDIV_GROUPED_REGEX),splt=value.split(CSL.STATUTE_SUBDIV_PLAIN_REGEX);if(splt.length>1){for(var lst=[],j=1,jlen=splt.length;j<jlen;j+=1){m[j-1].replace(/^\s*/,"");lst.push(splt[j].replace(/\s*$/,"").replace(/^\s*/,""))}value=lst.join(" ")}else value=splt[0];this.tmp.shadow_numbers.number.label=firstlabel,this.tmp.shadow_numbers.number.values.push(["Blob",value,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",value,!1]),this.tmp.shadow_numbers.number.numeric=!0}},CSL.substituteOne=function(template){return function(state,list){return list?template.replace("%%STRING%%",list):""}},CSL.substituteTwo=function(template){return function(param){var template2=template.replace("%%PARAM%%",param);return function(state,list){return list?template2.replace("%%STRING%%",list):""}}},CSL.Mode=function(mode){var decorations,params,param,func,val,args;decorations={},params=CSL.Output.Formats[mode];for(param in params)if("@"===param.slice(0,1)){if(func=!1,val=params[param],args=param.split("/"),"string"==typeof val&&val.indexOf("%%STRING%%")>-1)func=val.indexOf("%%PARAM%%")>-1?CSL.substituteTwo(val):CSL.substituteOne(val);else if("boolean"!=typeof val||val){if("function"!=typeof val)throw"CSL.Compiler: Bad "+mode+" config entry for "+param+": "+val;func=val}else func=CSL.Output.Formatters.passthrough;1===args.length?decorations[args[0]]=func:2===args.length&&(decorations[args[0]]||(decorations[args[0]]={}),decorations[args[0]][args[1]]=func)}else decorations[param]=params[param];return decorations},CSL.setDecorations=function(state,attributes){var ret,key,pos;ret=[];for(pos in CSL.FORMAT_KEY_SEQUENCE)attributes[key=CSL.FORMAT_KEY_SEQUENCE[pos]]&&(ret.push([key,attributes[key]]),delete attributes[key]);return ret},CSL.Doppeler=function(rexStr,stringMangler){function split(str){stringMangler&&(str=stringMangler(str));var match=str.match(matchRex);if(!match)return{tags:[],strings:[str]};var split=str.split(splitRex);return{tags:match,strings:split,origStrings:split.slice()}}function join(obj){for(var lst=obj.strings.slice(-1),i=obj.tags.length-1;i>-1;i--)lst.push(obj.tags[i]),lst.push(obj.strings[i]);return lst.reverse(),lst.join("")}this.split=split,this.join=join;var matchRex=new RegExp("("+rexStr+")","g"),splitRex=new RegExp(rexStr,"g")},CSL.Engine.prototype.normalDecorIsOrphan=function(blob,params){if("normal"===params[1]){for(var all_the_decor,use_param=!1,k=(all_the_decor="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(blob.alldecor):blob.alldecor).length-1;k>-1;k+=-1)for(var n=all_the_decor[k].length-1;n>-1;n+=-1)all_the_decor[k][n][0]===params[0]&&"normal"!==all_the_decor[k][n][1]&&(use_param=!0);if(!use_param)return!0}return!1},CSL.getJurisdictionNameAndSuppress=function(state,jurisdictionID,jurisdictionName){var ret=null;if(jurisdictionName||(jurisdictionName=state.sys.getHumanForm(jurisdictionID)),jurisdictionName){var code=jurisdictionID.split(":"),name=jurisdictionName.split("|"),valid=!1;if(1===code.length&&2===name.length?valid=!0:code.length>1&&name.length===code.length&&(valid=!0),valid){for(var stub,mask=0,i=0,ilen=code.length;i<ilen;i++)stub=code.slice(0,i+1).join(":"),state.opt.suppressedJurisdictions[stub]&&(mask=i+1);ret=0===mask?1===code.length?name[0]:name.join("|"):1===mask&&1===code.length?"":name.slice(mask).join("|")}else ret=name.join("|")}else ret=jurisdictionID;return ret},CSL.Engine.prototype.getCitationLabel=function(Item){var label="",params=this.getTrigraphParams(),config=params[0],myname=this.getTerm("reference","short",0);void 0===myname&&(myname="reference"),myname=(myname=myname.replace(".","")).slice(0,1).toUpperCase()+myname.slice(1);for(var i=0,ilen=CSL.CREATORS.length;i<ilen;i+=1){var n=CSL.CREATORS[i];if(Item[n]){var names=Item[n];config=names.length>params.length?params[params.length-1]:params[names.length-1];for(var j=0,jlen=names.length;j<jlen&&j!==config.authors.length;j+=1){var name=this.nameOutput.getName(names[j],"locale-translit",!0).name;name&&name.family?myname=(myname=name.family).replace(/^([ \'\u2019a-z]+\s+)/,""):name&&name.literal&&(myname=name.literal);var m=myname.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(m&&(myname=myname.slice(m[1].length)),!(myname=myname.replace(CSL.ROMANESQUE_NOT_REGEXP,"")))break;(myname=myname.slice(0,config.authors[j])).length>1?myname=myname.slice(0,1).toUpperCase()+myname.slice(1).toLowerCase():1===myname.length&&(myname=myname.toUpperCase()),label+=myname}break}}if(!label&&Item.title){for(var skipWords=this.locale[this.opt.lang].opts["skip-words"],lst=Item.title.split(/\s+/),i=lst.length-1;i>-1;i--)skipWords.indexOf(lst[i])>-1&&(lst=lst.slice(0,i).concat(lst.slice(i+1)));var str=lst.join("");(str=str.slice(0,params[0].authors[0])).length>1?str=str.slice(0,1).toUpperCase()+str.slice(1).toLowerCase():1===str.length&&(str=str.toUpperCase()),label=str}var year="0000";return Item.issued&&Item.issued.year&&(year=""+Item.issued.year),year=year.slice(-1*config.year),label+=year},CSL.Engine.prototype.getTrigraphParams=function(){var params=[],ilst=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var i=0,ilen=ilst.length;i<ilen;i+=1){for(var str=ilst[i],config={authors:[],year:0},j=0,jlen=str.length;j<jlen;j+=1)switch(str.slice(j,j+1)){case"A":config.authors.push(1);break;case"a":config.authors[config.authors.length-1]+=1;break;case"0":config.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}params.push(config)}return params},CSL.Engine.prototype.setOutputFormat=function(mode){this.opt.mode=mode,this.fun.decorate=CSL.Mode(mode),this.output[mode]||(this.output[mode]={},this.output[mode].tmp={})},CSL.Engine.prototype.getSortFunc=function(){return function(a,b){return a=a.split("-"),b=b.split("-"),a.length<b.length?1:a.length>b.length?-1:(a=a.slice(-1)[0],b=b.slice(-1)[0],a.length<b.length?1:a.length>b.length?-1:0)}},CSL.Engine.prototype.setLangTagsForCslSort=function(tags){var i,ilen;if(tags)for(this.opt["locale-sort"]=[],i=0,ilen=tags.length;i<ilen;i+=1)this.opt["locale-sort"].push(tags[i]);this.opt["locale-sort"].sort(this.getSortFunc())},CSL.Engine.prototype.setLangTagsForCslTransliteration=function(tags){var i,ilen;if(this.opt["locale-translit"]=[],tags)for(i=0,ilen=tags.length;i<ilen;i+=1)this.opt["locale-translit"].push(tags[i]);this.opt["locale-translit"].sort(this.getSortFunc())},CSL.Engine.prototype.setLangTagsForCslTranslation=function(tags){var i,ilen;if(this.opt["locale-translat"]=[],tags)for(i=0,ilen=tags.length;i<ilen;i+=1)this.opt["locale-translat"].push(tags[i]);this.opt["locale-translat"].sort(this.getSortFunc())},CSL.Engine.prototype.setLangPrefsForCites=function(obj,conv){var opt=this.opt["cite-lang-prefs"];conv||(conv=function(key){return key.toLowerCase()});for(var segments=["Persons","Institutions","Titles","Journals","Publishers","Places"],i=0,ilen=segments.length;i<ilen;i+=1){var clientSegment=conv(segments[i]),citeprocSegment=segments[i].toLowerCase();if(obj[clientSegment]){for(var supplements=[];obj[clientSegment].length>1;)supplements.push(obj[clientSegment].pop());var sortval={orig:1,translit:2,translat:3};for(2===supplements.length&&sortval[supplements[0]]<sortval[supplements[1]]&&supplements.reverse();supplements.length;)obj[clientSegment].push(supplements.pop());for(var lst=opt[citeprocSegment];lst.length;)lst.pop();for(var j=0,jlen=obj[clientSegment].length;j<jlen;j+=1)lst.push(obj[clientSegment][j])}}},CSL.Engine.prototype.setLangPrefsForCiteAffixes=function(affixList){if(affixList&&48===affixList.length){for(var value,affixes=this.opt.citeAffixes,count=0,settings=["persons","institutions","titles","journals","publishers","places"],forms=["translit","orig","translit","translat"],i=0,ilen=settings.length;i<ilen;i+=1)for(var j=0,jlen=forms.length;j<jlen;j+=1)value="",count%8==4?affixes[settings[i]]["locale-"+forms[j]].prefix||affixes[settings[i]]["locale-"+forms[j]].suffix||(value=affixList[count]?affixList[count]:"",affixes[settings[i]]["locale-"+forms[j]].prefix=value,value=affixList[count]?affixList[count+1]:"",affixes[settings[i]]["locale-"+forms[j]].suffix=value):(value=affixList[count]?affixList[count]:"",affixes[settings[i]]["locale-"+forms[j]].prefix=value,value=affixList[count]?affixList[count+1]:"",affixes[settings[i]]["locale-"+forms[j]].suffix=value),count+=2;this.opt.citeAffixes=affixes}},CSL.Engine.prototype.setAutoVietnameseNamesOption=function(arg){this.opt["auto-vietnamese-names"]=!!arg},CSL.Engine.prototype.setAbbreviations=function(arg){this.sys.setAbbreviations&&this.sys.setAbbreviations(arg)},CSL.Engine.prototype.setSuppressTrailingPunctuation=function(arg){this.citation.opt.suppressTrailingPunctuation=!!arg},CSL.Output={},CSL.Output.Queue=function(state){this.levelname=["top"],this.state=state,this.queue=[],this.empty=new CSL.Token("empty");var tokenstore={};tokenstore.empty=this.empty,this.formats=new CSL.Stack(tokenstore),this.current=new CSL.Stack(this.queue)},CSL.Output.Queue.prototype.pop=function(){var drip=this.current.value();return drip.length?drip.pop():drip.blobs.pop()},CSL.Output.Queue.prototype.getToken=function(name){return this.formats.value()[name]},CSL.Output.Queue.prototype.mergeTokenStrings=function(base,modifier){var base_token,modifier_token,ret,key;if(base_token=this.formats.value()[base],modifier_token=this.formats.value()[modifier],ret=base_token,modifier_token){base_token||((base_token=new CSL.Token(base,CSL.SINGLETON)).decorations=[]),ret=new CSL.Token(base,CSL.SINGLETON),key="";for(key in base_token.strings)base_token.strings.hasOwnProperty(key)&&(ret.strings[key]=base_token.strings[key]);for(key in modifier_token.strings)modifier_token.strings.hasOwnProperty(key)&&(ret.strings[key]=modifier_token.strings[key]);ret.decorations=base_token.decorations.concat(modifier_token.decorations)}return ret},CSL.Output.Queue.prototype.addToken=function(name,modifier,token){var newtok,attr;if(newtok=new CSL.Token("output"),"string"==typeof token&&(token=this.formats.value()[token]),token&&token.strings){for(attr in token.strings)token.strings.hasOwnProperty(attr)&&(newtok.strings[attr]=token.strings[attr]);newtok.decorations=token.decorations}"string"==typeof modifier&&(newtok.strings.delimiter=modifier),this.formats.value()[name]=newtok},CSL.Output.Queue.prototype.pushFormats=function(tokenstore){tokenstore||(tokenstore={}),tokenstore.empty=this.empty,this.formats.push(tokenstore)},CSL.Output.Queue.prototype.popFormats=function(tokenstore){this.formats.pop()},CSL.Output.Queue.prototype.startTag=function(name,token){var tokenstore={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(token=this.empty,name="empty"),tokenstore[name]=token,this.pushFormats(tokenstore),this.openLevel(name)},CSL.Output.Queue.prototype.endTag=function(name){this.closeLevel(name),this.popFormats()},CSL.Output.Queue.prototype.openLevel=function(token,ephemeral){var blob,curr;if("object"==typeof token)blob=new CSL.Blob(undefined,token);else if(void 0===token)blob=new CSL.Blob(undefined,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[token])throw'CSL processor error: call to nonexistent format token "'+token+'"';blob=new CSL.Blob(undefined,this.formats.value()[token],token)}curr=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(blob.strings.prefix=this.checkNestedBrace.update(blob.strings.prefix)),curr.push(blob),this.current.push(blob)},CSL.Output.Queue.prototype.closeLevel=function(name){name&&name!==this.current.value().levelname&&CSL.error("Level mismatch error:  wanted "+name+" but found "+this.current.value().levelname);var blob=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(blob.strings.suffix=this.checkNestedBrace.update(blob.strings.suffix))},CSL.Output.Queue.prototype.append=function(str,tokname,notSerious,ignorePredecessor,noStripPeriods){var token,blob,curr,useblob=!0;if(notSerious&&(ignorePredecessor=!0),this.state.tmp["doing-macro-with-date"]&&!notSerious){if("macro-with-date"!==tokname)return!1;"macro-with-date"===tokname&&(tokname="empty")}if(void 0===str)return!1;if("number"==typeof str&&(str=""+str),!notSerious&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(blob=!1,tokname?"literal"===tokname?(token=!0,useblob=!1):token="string"==typeof tokname?this.formats.value()[tokname]:tokname:token=this.formats.value().empty,!token)throw"CSL processor error: unknown format token name: "+tokname;if(token.strings&&"undefined"==typeof token.strings.delimiter&&(token.strings.delimiter=""),"string"==typeof str&&str.length&&(str=str.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=str.slice(-1),str=str.replace(/\s+'/g," '"),notSerious||(str=str.replace(/^'/g," '")),ignorePredecessor?notSerious&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),blob=new CSL.Blob(str,token),void 0===(curr=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),curr=this.current.value()),"string"==typeof blob.blobs&&(ignorePredecessor?notSerious&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),notSerious||this.state.parallel.AppendBlobPointer(curr),"string"==typeof str){blob.strings["text-case"]&&(blob.blobs=CSL.Output.Formatters[blob.strings["text-case"]](this.state,str)),this.state.tmp.strip_periods&&!noStripPeriods&&(blob.blobs=blob.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var i=blob.decorations.length-1;i>-1;i+=-1)"@quotes"===blob.decorations[i][0]&&"false"!==blob.decorations[i][1]&&(blob.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),blob.blobs.match(CSL.ROMANESQUE_REGEXP)||"@font-style"===blob.decorations[i][0]&&(blob.decorations=blob.decorations.slice(0,i).concat(blob.decorations.slice(i+1)));curr.push(blob),this.state.fun.flipflopper.processTags(blob)}else useblob?curr.push(blob):curr.push(str);return!0},CSL.Output.Queue.prototype.string=function(state,myblobs,blob){var b,txt_esc=CSL.getSafeEscape(this.state),blobs=myblobs.slice(),ret=[];if(0===blobs.length)return ret;var blob_delimiter="";blob?blob_delimiter=blob.strings.delimiter:(state.tmp.count_offset_characters=!1,state.tmp.offset_characters=0),blob&&blob.new_locale&&(blob.old_locale=state.opt.lang,state.opt.lang=blob.new_locale);var blobjr,use_suffix,use_prefix,params;for(i=0,ilen=blobs.length;i<ilen;i+=1){if((blobjr=blobs[i]).strings.first_blob&&(state.tmp.count_offset_characters=blobjr.strings.first_blob),"string"==typeof blobjr.blobs){if("number"==typeof blobjr.num)ret.push(blobjr);else if(blobjr.blobs){var blen=(b=txt_esc(blobjr.blobs)).length;if(!state.tmp.suppress_decorations)for(j=0,jlen=blobjr.decorations.length;j<jlen;j+=1)"@showid"!==(params=blobjr.decorations[j])[0]&&(state.normalDecorIsOrphan(blobjr,params)||(b=state.fun.decorate[params[0]][params[1]].call(blobjr,state,b,params[2])));if(b&&b.length){if(b=txt_esc(blobjr.strings.prefix)+b+txt_esc(blobjr.strings.suffix),(state.opt.development_extensions.csl_reverse_lookup_support||state.sys.csl_reverse_lookup_support)&&!state.tmp.suppress_decorations)for(j=0,jlen=blobjr.decorations.length;j<jlen;j+=1)"@showid"===(params=blobjr.decorations[j])[0]&&(b=state.fun.decorate[params[0]][params[1]].call(blobjr,state,b,params[2]));ret.push(b),state.tmp.count_offset_characters&&(state.tmp.offset_characters+=blen+blobjr.strings.suffix.length+blobjr.strings.prefix.length)}}}else if(blobjr.blobs.length){var addtoret=state.output.string(state,blobjr.blobs,blobjr);if(blob&&"string"!==addtoret&&addtoret.length>1&&blobjr.strings.delimiter)for(var numberSeen=!1,j=0,jlen=addtoret.length;j<jlen;j++)"string"!=typeof addtoret[j]?numberSeen=!0:numberSeen&&(addtoret[j]=blobjr.strings.delimiter+addtoret[j]);ret=ret.concat(addtoret)}blobjr.strings.first_blob&&(state.registry.registry[blobjr.strings.first_blob].offset=state.tmp.offset_characters,state.tmp.count_offset_characters=!1)}for(i=0,ilen=ret.length-1;i<ilen;i+=1)"number"!=typeof ret[i].num||"number"!=typeof ret[i+1].num||ret[i+1].UGLY_DELIMITER_SUPPRESS_HACK||(ret[i].strings.suffix=ret[i].strings.suffix+(blob_delimiter||""),ret[i+1].successor_prefix="",ret[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var span_split=0;for(i=0,ilen=ret.length;i<ilen;i+=1)"string"==typeof ret[i]&&(span_split=parseInt(i,10)+1,i<ret.length-1&&"object"==typeof ret[i+1]&&(blob_delimiter&&!ret[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(ret[i]+=txt_esc(blob_delimiter)),ret[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(blob&&(blob.decorations.length||blob.strings.suffix))span_split=ret.length;else if(blob&&blob.strings.prefix)for(var i=0,ilen=ret.length;i<ilen;i++)if("undefined"!=typeof ret[i].num){span_split=i,0===i&&(ret[i].strings.prefix=blob.strings.prefix+ret[i].strings.prefix);break}var blobs_start=state.output.renderBlobs(ret.slice(0,span_split),blob_delimiter,!1,blob);if(blobs_start&&blob&&(blob.decorations.length||blob.strings.suffix||blob.strings.prefix)){if(!state.tmp.suppress_decorations)for(i=0,ilen=blob.decorations.length;i<ilen;i+=1)params=blob.decorations[i],["@cite","@bibliography","@display","@showid"].indexOf(params[0])>-1||state.normalDecorIsOrphan(blobjr,params)||"string"==typeof blobs_start&&(blobs_start=state.fun.decorate[params[0]][params[1]].call(blob,state,blobs_start,params[2]));if(b=blobs_start,use_suffix=blob.strings.suffix,b&&b.length&&(b=txt_esc(use_prefix=blob.strings.prefix)+b+txt_esc(use_suffix),state.tmp.count_offset_characters&&(state.tmp.offset_characters+=use_prefix.length+use_suffix.length)),blobs_start=b,!state.tmp.suppress_decorations)for(i=0,ilen=blob.decorations.length;i<ilen;i+=1)params=blob.decorations[i],-1!==["@cite","@bibliography","@display","@showid"].indexOf(params[0])&&"string"==typeof blobs_start&&(blobs_start=state.fun.decorate[params[0]][params[1]].call(blob,state,blobs_start,params[2]))}var blobs_end=ret.slice(span_split,ret.length);return!blobs_end.length&&blobs_start?ret=[blobs_start]:blobs_end.length&&!blobs_start?ret=blobs_end:blobs_start&&blobs_end.length&&(ret=[blobs_start].concat(blobs_end)),void 0===blob?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),state.tmp.suppress_decorations&&(ret=state.output.renderBlobs(ret,undefined,!1))):"boolean"==typeof blob&&(ret=state.output.renderBlobs(ret,undefined,!0)),blob&&blob.new_locale&&(state.opt.lang=blob.old_locale),ret},CSL.Output.Queue.prototype.clearlevel=function(){var blob,pos,len;for(len=(blob=this.current.value()).blobs.length,pos=0;pos<len;pos+=1)blob.blobs.pop()},CSL.Output.Queue.prototype.renderBlobs=function(blobs,delim,in_cite,parent){var state,ret,use_delim,blob,pos,len,ppos,llen,str,params,txt_esc;if(txt_esc=CSL.getSafeEscape(this.state),delim||(delim=""),state=this.state,ret="",[],use_delim="",len=blobs.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===len&&"object"==typeof blobs[0]&&parent)return blobs[0].strings.prefix=parent.strings.prefix+blobs[0].strings.prefix,blobs[0].strings.suffix=blobs[0].strings.suffix+parent.strings.suffix,blobs[0].decorations=blobs[0].decorations.concat(parent.decorations),blobs[0].params=parent.params,blobs[0];var start=!0;for(pos=0;pos<len;pos+=1)blobs[pos].checkNext?(blobs[pos].checkNext(blobs[pos+1],start),start=!1):start=!blobs[pos+1]||!blobs[pos+1].splice_prefix;var doit=!0;for(pos=blobs.length-1;pos>0;pos+=-1)blobs[pos].checkLast?doit&&blobs[pos].checkLast(blobs[pos-1])&&(doit=!1):doit=!0;for(len=blobs.length,pos=0;pos<len;pos+=1)if(blob=blobs[pos],ret&&(use_delim=delim),"string"==typeof blob)ret+=txt_esc(use_delim),ret+=blob,state.tmp.count_offset_characters&&(state.tmp.offset_characters+=use_delim.length);else if(in_cite)ret=ret?[ret,blob]:[blob];else if(blob.status!==CSL.SUPPRESS){var strlen=(str=blob.particle?blob.particle+blob.num:blob.formatter.format(blob.num,blob.gender)).replace(/<[^>]*>/g,"").length;this.append(str,"empty",!0);var str_blob=this.pop(),count_offset_characters=state.tmp.count_offset_characters;if(str=this.string(state,[str_blob],!1),state.tmp.count_offset_characters=count_offset_characters,blob.strings["text-case"]&&(str=CSL.Output.Formatters[blob.strings["text-case"]](this.state,str)),str&&this.state.tmp.strip_periods&&(str=str.replace(/\.([^a-z]|$)/g,"$1")),!state.tmp.suppress_decorations)for(llen=blob.decorations.length,ppos=0;ppos<llen;ppos+=1)params=blob.decorations[ppos],state.normalDecorIsOrphan(blob,params)||(str=state.fun.decorate[params[0]][params[1]].call(blob,state,str,params[2]));str=txt_esc(blob.strings.prefix)+str+txt_esc(blob.strings.suffix);var addme="";blob.status===CSL.END?addme=txt_esc(blob.range_prefix):blob.status===CSL.SUCCESSOR?addme=txt_esc(blob.successor_prefix):blob.status===CSL.START?addme=pos>0&&!blob.suppress_splice_prefix?txt_esc(blob.splice_prefix):"":blob.status===CSL.SEEN&&(addme=txt_esc(blob.splice_prefix)),ret+=addme,ret+=str,state.tmp.count_offset_characters&&(state.tmp.offset_characters+=addme.length+blob.strings.prefix.length+strlen+blob.strings.suffix.length)}return ret},CSL.Output.Queue.purgeEmptyBlobs=function(parent){if("object"==typeof parent&&"object"==typeof parent.blobs&&parent.blobs.length)for(var i=parent.blobs.length-1;i>-1;i--){CSL.Output.Queue.purgeEmptyBlobs(parent.blobs[i]);var child=parent.blobs[i];if(!child||!child.blobs||!child.blobs.length){for(var buf=[];parent.blobs.length-1>i;)buf.push(parent.blobs.pop());for(parent.blobs.pop();buf.length;)parent.blobs.push(buf.pop())}}},CSL.Output.Queue.adjust=function(punctInQuote){function blobIsNumber(blob){return"number"==typeof blob.num||blob.blobs&&1===blob.blobs.length&&"number"==typeof blob.blobs[0].num}function blobEndsInNumber(blob){return"number"==typeof blob.num||!(!blob.blobs||"object"!=typeof blob.blobs)&&(!!blobEndsInNumber(blob.blobs[blob.blobs.length-1])||void 0)}function blobHasDecorations(blob,includeQuotes){var ret=!1,decorlist=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(includeQuotes&&decorlist.push("@quotes"),blob.decorations)for(var i=0,ilen=blob.decorations.length;i<ilen;i++)if(decorlist.indexOf(blob.decorations[i][0])>-1){ret=!0;break}return ret}function blobHasDescendantQuotes(blob){if(blob.decorations)for(var i=0,ilen=blob.decorations.length;i<ilen;i++)if("@quotes"===blob.decorations[i][0]&&"false"!==blob.decorations[i][1])return!0;return"object"==typeof blob.blobs&&blobHasDescendantQuotes(blob.blobs[blob.blobs.length-1])}function blobHasDescendantMergingPunctuation(parentChar,blob){var childChar=blob.strings.suffix.slice(-1);childChar||"string"!=typeof blob.blobs||(childChar=blob.blobs.slice(-1));var mergedChars=RtoL_MAP[parentChar][childChar];return!(!mergedChars||1!==mergedChars.length)||"object"==typeof blob.blobs&&!!blobHasDescendantMergingPunctuation(parentChar,blob.blobs[blob.blobs.length-1])}function matchLastChar(blob,chr){if(!PUNCT[chr])return!1;if("string"==typeof blob.blobs)return blob.blobs.slice(-1)===chr;var child=blob.blobs[blob.blobs.length-1];return!!child&&(child.strings.suffix.slice(-1)?child.strings.suffix.slice(-1)==chr:matchLastChar(child,chr))}function mergeChars(First,first,Second,second,merge_right){function cullRight(){SecondStrings[second]=SecondStrings[second].slice(1)}function cullLeft(){FirstStrings[first]=FirstStrings[first].slice(0,-1)}function addRight(chr){SecondStrings[second]=chr+SecondStrings[second]}function addLeft(chr){FirstStrings[first]+=chr}function matchOnRight(){return RtoL_MAP[secondChar]}function matchOnLeft(){return LtoR_MAP[firstChar]}function mergeToRight(){var chr=LtoR_MAP[firstChar][secondChar];"string"==typeof chr?(cullLeft(),cullRight(),addRight(chr)):(addRight(firstChar),cullLeft())}function mergeToLeft(){var chr=RtoL_MAP[secondChar][firstChar];"string"==typeof chr?(cullLeft(),cullRight(),addLeft(chr)):(addLeft(secondChar),cullRight())}FirstStrings="blobs"===first?First:First.strings,SecondStrings="blobs"===second?Second:Second.strings;var firstChar=FirstStrings[first].slice(-1),secondChar=SecondStrings[second].slice(0,1),cull=merge_right?cullLeft:cullRight,match=merge_right?matchOnLeft:matchOnRight,merge=merge_right?mergeToRight:mergeToLeft;firstChar===secondChar?cull():match()&&merge()}function upward(parent){if(parent.blobs&&"string"==typeof parent.blobs)return void(PUNCT[parent.strings.suffix.slice(0,1)]&&parent.strings.suffix.slice(0,1)===parent.blobs.slice(-1)&&(parent.strings.suffix=parent.strings.suffix.slice(1)));if("object"==typeof parent&&"object"==typeof parent.blobs&&parent.blobs.length)for(var parentDecorations=blobHasDecorations(parent,!0),i=parent.blobs.length-1;i>-1;i--){parent.blobs.length;this.upward(parent.blobs[i]);var parentStrings=parent.strings,childStrings=parent.blobs[i].strings;if(0===i){" "===parentStrings.prefix.slice(-1)&&" "===childStrings.prefix.slice(0,1)&&(childStrings.prefix=childStrings.prefix.slice(1));childChar=childStrings.prefix.slice(0,1);parentDecorations||!PUNCT_OR_SPACE[childChar]||parentStrings.prefix||(parentStrings.prefix+=childChar,childStrings.prefix=childStrings.prefix.slice(1))}if(i===parent.blobs.length-1){var childChar=childStrings.suffix.slice(-1);!parentDecorations&&[" "].indexOf(childChar)>-1&&(parentStrings.suffix.slice(0,1)!==childChar&&(parentStrings.suffix=childChar+parentStrings.suffix),childStrings.suffix=childStrings.suffix.slice(0,-1))}parentStrings.delimiter&&i>0&&PUNCT_OR_SPACE[parentStrings.delimiter.slice(-1)]&&parentStrings.delimiter.slice(-1)===childStrings.prefix.slice(0,1)&&(childStrings.prefix=childStrings.prefix.slice(1))}}function leftward(parent){if("object"==typeof parent&&"object"==typeof parent.blobs&&parent.blobs.length)for(var i=parent.blobs.length-1;i>-1;i--)if(this.leftward(parent.blobs[i]),i<parent.blobs.length-1&&!parent.strings.delimiter){var child=parent.blobs[i],childChar=child.strings.suffix.slice(-1),sibling=parent.blobs[i+1],siblingChar=sibling.strings.prefix.slice(0,1),hasDecorations=blobHasDecorations(child)||blobHasDecorations(sibling),hasNumber="number"==typeof childChar||"number"==typeof siblingChar;if(!hasDecorations&&!hasNumber&&PUNCT[siblingChar]&&!hasNumber){var suffixAndPrefixMatch=siblingChar===child.strings.suffix.slice(-1),suffixAndFieldMatch=!child.strings.suffix&&"string"==typeof child.blobs&&child.blobs.slice(-1)===siblingChar;suffixAndPrefixMatch||suffixAndFieldMatch?sibling.strings.prefix=sibling.strings.prefix.slice(1):mergeChars(child,"suffix",sibling,"prefix")}}}function downward(parent,top){if(parent.blobs&&"string"==typeof parent.blobs)return void(PUNCT[parent.strings.suffix.slice(0,1)]&&parent.strings.suffix.slice(0,1)===parent.blobs.slice(-1)&&(parent.strings.suffix=parent.strings.suffix.slice(1)));if("object"==typeof parent&&"object"==typeof parent.blobs&&parent.blobs.length){for(var parentStrings=parent.strings,i=0,ilen=parent.blobs.length;i<ilen;i++)if(blobIsNumber(parent.blobs[i])){!0;break}if(parentStrings.delimiter&&PUNCT[parentStrings.delimiter.slice(0,1)]){for(var delimChar=parentStrings.delimiter.slice(0,1),i=parent.blobs.length-2;i>-1;i--)(childStrings=parent.blobs[i].strings).suffix.slice(-1)!==delimChar&&(childStrings.suffix+=delimChar);parentStrings.delimiter=parentStrings.delimiter.slice(1)}blobHasDecorations(parent,!0),blobIsNumber(parent);for(i=parent.blobs.length-1;i>-1;i--){var child=parent.blobs[i],childStrings=parent.blobs[i].strings,childDecorations=blobHasDecorations(child,!0),childIsNumber=blobIsNumber(child);if(i===parent.blobs.length-1){var parentChar=parentStrings.suffix.slice(0,1),allowMigration=!1;PUNCT[parentChar]&&!(allowMigration=blobHasDescendantMergingPunctuation(parentChar,child))&&punctInQuote&&(allowMigration=blobHasDescendantQuotes(child)),allowMigration&&PUNCT[parentChar]&&(blobEndsInNumber(child)||("string"==typeof child.blobs?mergeChars(child,"blobs",parent,"suffix"):mergeChars(child,"suffix",parent,"suffix"),"."===parentStrings.suffix.slice(0,1)&&(childStrings.suffix+=parentStrings.suffix.slice(0,1),parentStrings.suffix=parentStrings.suffix.slice(1))))," "===childStrings.suffix.slice(-1)&&" "===parentStrings.suffix.slice(0,1)&&(parentStrings.suffix=parentStrings.suffix.slice(1)),PUNCT_OR_SPACE[childStrings.suffix.slice(0,1)]&&("string"==typeof child.blobs&&child.blobs.slice(-1)===childStrings.suffix.slice(0,1)&&(childStrings.suffix=childStrings.suffix.slice(1)),childStrings.suffix.slice(-1)===parentStrings.suffix.slice(0,1)&&(parentStrings.suffix=parentStrings.suffix.slice(0,-1))),matchLastChar(parent,parent.strings.suffix.slice(0,1))&&(parent.strings.suffix=parent.strings.suffix.slice(1))}else if(parentStrings.delimiter)PUNCT_OR_SPACE[parentStrings.delimiter.slice(0,1)]&&parentStrings.delimiter.slice(0,1)===childStrings.suffix.slice(-1)&&(parent.blobs[i].strings.suffix=parent.blobs[i].strings.suffix.slice(0,-1));else{var siblingStrings=parent.blobs[i+1].strings;blobIsNumber(child)||childDecorations||!PUNCT_OR_SPACE[childStrings.suffix.slice(-1)]||childStrings.suffix.slice(-1)!==siblingStrings.prefix.slice(0,1)||(siblingStrings.prefix=siblingStrings.prefix.slice(1))}childIsNumber||childDecorations||!PUNCT[childStrings.suffix.slice(0,1)]||"string"!=typeof child.blobs||mergeChars(child,"blobs",child,"suffix"),this.downward(parent.blobs[i])}}}function swapToTheLeft(child){var childChar=child.strings.suffix.slice(0,1);if("string"==typeof child.blobs)for(;SWAP_IN[childChar];)mergeChars(child,"blobs",child,"suffix"),childChar=child.strings.suffix.slice(0,1);else for(;SWAP_IN[childChar];)mergeChars(child.blobs[child.blobs.length-1],"suffix",child,"suffix"),childChar=child.strings.suffix.slice(0,1)}function swapToTheRight(child){if("string"==typeof child.blobs)for(childChar=child.blobs.slice(-1);SWAP_OUT[childChar];)mergeChars(child,"blobs",child,"suffix",!0),childChar=child.blobs.slice(-1);else for(var childChar=child.blobs[child.blobs.length-1].strings.suffix.slice(-1);SWAP_OUT[childChar];)mergeChars(child.blobs[child.blobs.length-1],"suffix",child,"suffix",!0),childChar=child.blobs[child.blobs.length-1].strings.suffix.slice(-1)}function fix(parent){if("object"==typeof parent&&"object"==typeof parent.blobs&&parent.blobs.length){for(var lastChar,i=0,ilen=parent.blobs.length;i<ilen;i++){for(var child=parent.blobs[i],quoteSwap=!1,j=0,jlen=child.decorations.length;j<jlen;j++){var decoration=child.decorations[j];"@quotes"===decoration[0]&&"false"!==decoration[1]&&(quoteSwap=!0)}quoteSwap&&(punctInQuote?swapToTheLeft(child):swapToTheRight(child)),lastChar=this.fix(parent.blobs[i]),child.blobs&&"string"==typeof child.blobs&&(lastChar=child.blobs.slice(-1))}return lastChar}}var NO_SWAP_IN={";":!0,":":!0},NO_SWAP_OUT={".":!0,"!":!0,"?":!0};this.upward=upward,this.leftward=leftward,this.downward=downward,this.fix=fix;var LtoR_MAP={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},SWAP_IN={},SWAP_OUT={},PUNCT={},PUNCT_OR_SPACE={};for(var key in LtoR_MAP)PUNCT[key]=!0,PUNCT_OR_SPACE[key]=!0,NO_SWAP_IN[key]||(SWAP_IN[key]=!0),NO_SWAP_OUT[key]||(SWAP_OUT[key]=!0);PUNCT_OR_SPACE[" "]=!0,PUNCT_OR_SPACE[" "]=!0;var RtoL_MAP={};for(var key in LtoR_MAP)for(var subkey in LtoR_MAP[key])RtoL_MAP[subkey]||(RtoL_MAP[subkey]={}),RtoL_MAP[subkey][key]=LtoR_MAP[key][subkey]},CSL.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=CSL.NONE,this.bib_mode=CSL.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_parsing_for_plurals=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.flip_parentheses_to_braces=!0,this.development_extensions.jurisdiction_subfield=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.clobber_locator_if_no_statute_section=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.allow_force_lowercase=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.rtl_support=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0},CSL.Engine.Tmp=function(){this.names_max=new CSL.Stack,this.names_base=new CSL.Stack,this.givens_base=new CSL.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new CSL.Stack(0,CSL.LITERAL),this.element_rendered_ok=!1,this.element_trace=new CSL.Stack("style"),this.nameset_counter=0,this.group_context=new CSL.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:undefined,label_form:undefined,parallel_conditions:undefined,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new CSL.Stack(0,CSL.LITERAL),this.decorations=new CSL.Stack,this.tokenstore_stack=new CSL.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new CSL.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new CSL.AmbigConfig,this.bib_sort_keys=[],this.prefix=new CSL.Stack("",CSL.LITERAL),this.suffix=new CSL.Stack("",CSL.LITERAL),this.delimiter=new CSL.Stack("",CSL.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={}},CSL.Engine.Fun=function(state){this.match=new CSL.Util.Match,this.suffixator=new CSL.Util.Suffixator(CSL.SUFFIX_CHARS),this.romanizer=new CSL.Util.Romanizer,this.ordinalizer=new CSL.Util.Ordinalizer(state),this.long_ordinalizer=new CSL.Util.LongOrdinalizer},CSL.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new CSL.Stack(0,CSL.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1},CSL.Engine.Configure=function(){this.fail=[],this.succeed=[]},CSL.Engine.Citation=function(state){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new CSL.Registry.Comparifier(state,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},CSL.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},CSL.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="bibliography"},CSL.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},CSL.Engine.prototype.previewCitationCluster=function(citation,citationsPre,citationsPost,newMode){var oldMode=this.opt.mode;this.setOutputFormat(newMode);var ret=this.processCitationCluster(citation,citationsPre,citationsPost,CSL.PREVIEW);return this.setOutputFormat(oldMode),ret[1]},CSL.Engine.prototype.appendCitationCluster=function(citation){for(var citationsPre=[],len=this.registry.citationreg.citationByIndex.length,pos=0;pos<len;pos+=1){var c=this.registry.citationreg.citationByIndex[pos];citationsPre.push([""+c.citationID,c.properties.noteIndex])}return this.processCitationCluster(citation,citationsPre,[])[1]},CSL.Engine.prototype.processCitationCluster=function(citation,citationsPre,citationsPost,flag){var c,i,ilen,j,jlen,k,klen,n,nlen,key,Item,item,noteCitations,textCitations,m,citationsInNote;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[];var return_data={bibchange:!1};this.setCitationId(citation);var oldCitationList,oldItemList,oldAmbigs;if(flag===CSL.PREVIEW){oldCitationList=this.registry.citationreg.citationByIndex.slice(),oldItemList=this.registry.reflist.slice();var newCitationList=citationsPre.concat([[""+citation.citationID,citation.properties.noteIndex]]).concat(citationsPost),newItemIds={},newItemIdsList=[];for(i=0,ilen=newCitationList.length;i<ilen;i+=1)for(j=0,jlen=(c=this.registry.citationreg.citationById[newCitationList[i][0]]).citationItems.length;j<jlen;j+=1)newItemIds[c.citationItems[j].id]=!0,newItemIdsList.push(""+c.citationItems[j].id);for(oldAmbigs={},i=0,ilen=oldItemList.length;i<ilen;i+=1)if(!newItemIds[oldItemList[i].id]){var oldAkey=this.registry.registry[oldItemList[i].id].ambig,ids=this.registry.ambigcites[oldAkey];if(ids)for(j=0,jlen=ids.length;j<jlen;j+=1)oldAmbigs[ids[j]]=CSL.cloneAmbigConfig(this.registry.registry[ids[j]].disambig)}}this.tmp.taintedCitationIDs={};var sortedItems=[],rerunAkeys={};for(i=0,ilen=citation.citationItems.length;i<ilen;i+=1){item={};for(key in citation.citationItems[i])item[key]=citation.citationItems[i][key];if((Item=this.retrieveItem(""+item.id)).id&&this.transform.loadAbbreviation("default","hereinafter",Item.id),item=CSL.parseLocator.call(this,item),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[Item,item]]),this.opt.development_extensions.locator_label_parse&&item.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(Item.type)&&(!item.label||"page"===item.label)&&(m=CSL.LOCATOR_LABELS_REGEXP.exec(item.locator))){var tryLabel=CSL.LOCATOR_LABELS_MAP[m[2]];this.getTerm(tryLabel)&&(item.label=tryLabel,item.locator=m[3])}var newitem=[Item,item];sortedItems.push(newitem),citation.citationItems[i].item=Item}citation.sortedItems=sortedItems;var citationByIndex=[];for(i=0,ilen=citationsPre.length;i<ilen;i+=1)c=citationsPre[i],this.registry.citationreg.citationById[c[0]].properties.noteIndex=c[1],citationByIndex.push(this.registry.citationreg.citationById[c[0]]);for(citationByIndex.push(citation),i=0,ilen=citationsPost.length;i<ilen;i+=1)c=citationsPost[i],this.registry.citationreg.citationById[c[0]].properties.noteIndex=c[1],citationByIndex.push(this.registry.citationreg.citationById[c[0]]);this.registry.citationreg.citationByIndex=citationByIndex,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===CSL.POSITION&&(textCitations=[],noteCitations=[],citationsInNote={});var update_items=[];for(i=0,ilen=citationByIndex.length;i<ilen;i+=1){for(citationByIndex[i].properties.index=i,j=0,jlen=citationByIndex[i].sortedItems.length;j<jlen;j+=1)item=citationByIndex[i].sortedItems[j],this.registry.citationreg.citationsByItemId[item[1].id]||(this.registry.citationreg.citationsByItemId[item[1].id]=[],update_items.push(""+item[1].id)),-1===this.registry.citationreg.citationsByItemId[item[1].id].indexOf(citationByIndex[i])&&this.registry.citationreg.citationsByItemId[item[1].id].push(citationByIndex[i]);this.opt.update_mode===CSL.POSITION&&(citationByIndex[i].properties.noteIndex?noteCitations.push(citationByIndex[i]):(citationByIndex[i].properties.noteIndex=0,textCitations.push(citationByIndex[i])))}if(flag!==CSL.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(update_items,null,null,!0),!this.opt.citation_number_sort&&sortedItems&&sortedItems.length>1&&this.citation_sort.tokens.length>0){for(i=0,ilen=sortedItems.length;i<ilen;i+=1)sortedItems[i][1].sortkeys=CSL.getSortKeys.call(this,sortedItems[i][0],"citation_sort");if(this.opt.grouped_sort&&!citation.properties.unsorted){for(i=0,ilen=sortedItems.length;i<ilen;i+=1){var sortkeys=sortedItems[i][1].sortkeys;this.tmp.authorstring_request=!0;var mydisambig=this.registry.registry[sortedItems[i][0].id].disambig;this.tmp.authorstring_request=!0,CSL.getAmbiguousCite.call(this,sortedItems[i][0],mydisambig);var authorstring=this.registry.authorstrings[sortedItems[i][0].id];this.tmp.authorstring_request=!1,sortedItems[i][1].sortkeys=[authorstring].concat(sortkeys)}sortedItems.sort(this.citation.srt.compareCompositeKeys);var lastauthor=!1,thiskey=!1,thisauthor=!1;for(i=0,ilen=sortedItems.length;i<ilen;i+=1)sortedItems[i][1].sortkeys[0]!==lastauthor&&(thisauthor=sortedItems[i][1].sortkeys[0],thiskey=sortedItems[i][1].sortkeys[1]),sortedItems[i][1].sortkeys[0]=""+thiskey+i,lastauthor=thisauthor}citation.properties.unsorted||sortedItems.sort(this.citation.srt.compareCompositeKeys)}var citations;if(this.opt.update_mode===CSL.POSITION)for(i=0;i<2;i+=1){var first_ref={},last_ref={};for(j=0,jlen=(citations=[textCitations,noteCitations][i]).length;j<jlen;j+=1){var onecitation=citations[j];for(citations[j].properties.noteIndex||(citations[j].properties.noteIndex=0),citations[j].properties.noteIndex=parseInt(citations[j].properties.noteIndex,10),j>0&&citations[j-1].properties.noteIndex>citations[j].properties.noteIndex&&(citationsInNote={},first_ref={},last_ref={}),k=0,klen=onecitation.sortedItems.length;k<klen;k+=1)this.registry.registry[onecitation.sortedItems[k][1].id].parallel||(citationsInNote[onecitation.properties.noteIndex]?citationsInNote[onecitation.properties.noteIndex]+=1:citationsInNote[onecitation.properties.noteIndex]=1);for(k=0,klen=citations[j].sortedItems.length;k<klen;k+=1){var myid=(item=citations[j].sortedItems[k])[0].id,mylocator=item[1].locator,mylabel=item[1].label;item[0].legislation_id&&(myid=item[0].legislation_id);var incitationid;if(k>0&&(incitationid=onecitation.sortedItems[k-1][0].legislation_id?onecitation.sortedItems[k-1][0].legislation_id:onecitation.sortedItems[k-1][1].id),flag!==CSL.PREVIEW||onecitation.citationID==citation.citationID){var oldvalue={};if(oldvalue.position=item[1].position,oldvalue["first-reference-note-number"]=item[1]["first-reference-note-number"],oldvalue["near-note"]=item[1]["near-note"],item[1]["first-reference-note-number"]=0,item[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[myid]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var oldCount=this.registry.registry[myid]["citation-count"],newCount=this.registry.citationreg.citationsByItemId[myid].length;if(this.registry.registry[myid]["citation-count"]=this.registry.citationreg.citationsByItemId[myid].length,"number"==typeof oldCount){if(oldCount<2!==newCount<2)for(var l=0,llen=this.registry.citationreg.citationsByItemId[myid].length;l<llen;l++)rerunAkeys[this.registry.registry[myid].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[myid][l].citationID]=!0}else for(var l=0,llen=this.registry.citationreg.citationsByItemId[myid].length;l<llen;l++)rerunAkeys[this.registry.registry[myid].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[myid][l].citationID]=!0}var oldlastid;if("undefined"==typeof first_ref[myid])first_ref[myid]=onecitation.properties.noteIndex,this.registry.registry[myid]&&(this.registry.registry[myid]["first-reference-note-number"]=onecitation.properties.noteIndex),last_ref[myid]=onecitation.properties.noteIndex,item[1].position=CSL.POSITION_FIRST;else{var ibidme=!1,suprame=!1;if(j>0&&(oldlastid=citations[j-1].sortedItems.slice(-1)[0][1].id,citations[j-1].sortedItems[0].slice(-1)[0].legislation_id&&(oldlastid=citations[j-1].sortedItems[0].slice(-1)[0].legislation_id)),j>0&&0===parseInt(k,10)&&citations[j-1].properties.noteIndex!==citations[j].properties.noteIndex){var items=citations[j-1].sortedItems,useme=!1,oldid=citations[j-1].sortedItems[0][0].id;for(citations[j-1].sortedItems[0][0].legislation_id&&(oldid=citations[j-1].sortedItems[0][0].legislation_id),(oldid==myid&&citations[j-1].properties.noteIndex>=citations[j].properties.noteIndex-1||citations[j-1].sortedItems[0][1].id==this.registry.registry[item[1].id].parallel)&&(1!==citationsInNote[citations[j-1].properties.noteIndex]&&0!==citations[j-1].properties.noteIndex||(useme=!0)),n=0,nlen=items.slice(1).length;n<nlen;n+=1){var itmp=items.slice(1)[n];this.registry.registry[itmp[1].id].parallel&&this.registry.registry[itmp[1].id].parallel!=this.registry.registry[itmp[1].id]||(useme=!1)}useme?ibidme=!0:suprame=!0}else k>0&&incitationid==myid?ibidme=!0:0===k&&citations[j-1].properties.noteIndex==citations[j].properties.noteIndex&&citations[j-1].sortedItems.length&&oldlastid==myid?ibidme=!0:suprame=!0;var prev,prev_locator,prev_label,curr_locator;if(ibidme&&((prev=k>0?onecitation.sortedItems[k-1][1]:citations[j-1].sortedItems[0][1]).locator?(prev_label=prev.label?prev.label:"",prev_locator=""+prev.locator+prev_label):prev_locator=prev.locator,curr_locator=mylocator?""+mylocator+(mylabel||""):mylocator),ibidme&&prev_locator&&!curr_locator&&(ibidme=!1,suprame=!0),ibidme&&(!prev_locator&&curr_locator?item[1].position=CSL.POSITION_IBID_WITH_LOCATOR:prev_locator||curr_locator?prev_locator&&curr_locator===prev_locator?item[1].position=CSL.POSITION_IBID:prev_locator&&curr_locator&&curr_locator!==prev_locator?item[1].position=CSL.POSITION_IBID_WITH_LOCATOR:(ibidme=!1,suprame=!0):item[1].position=CSL.POSITION_IBID),suprame&&(item[1].position=CSL.POSITION_SUBSEQUENT),(suprame||ibidme)&&first_ref[myid]!=onecitation.properties.noteIndex&&(item[1]["first-reference-note-number"]=first_ref[myid],this.registry.registry[myid])){var oldFirst=this.registry.citationreg.citationsByItemId[myid][0].properties.noteIndex,newFirst=onecitation.properties.noteIndex;this.registry.registry[myid]["first-reference-note-number"]=newFirst<oldFirst?newFirst:oldFirst}}if(onecitation.properties.noteIndex){var note_distance=parseInt(onecitation.properties.noteIndex,10)-parseInt(last_ref[myid],10);item[1].position!==CSL.POSITION_FIRST&&note_distance<=this.citation.opt["near-note-distance"]&&(item[1]["near-note"]=!0),last_ref[myid]=onecitation.properties.noteIndex}if(onecitation.citationID!=citation.citationID)for(n=0,nlen=CSL.POSITION_TEST_VARS.length;n<nlen;n+=1){var param=CSL.POSITION_TEST_VARS[n];item[1][param]!==oldvalue[param]&&(this.registry.registry[myid]&&"first-reference-note-number"===param&&(rerunAkeys[this.registry.registry[myid].ambig]=!0,this.tmp.taintedItemIDs[myid]=!0),this.tmp.taintedCitationIDs[onecitation.citationID]=!0)}this.sys.variableWrapper&&(item[1].index=onecitation.properties.index,item[1].noteIndex=onecitation.properties.noteIndex)}else"undefined"==typeof first_ref[item[1].id]?(first_ref[myid]=onecitation.properties.noteIndex,last_ref[myid]=onecitation.properties.noteIndex):last_ref[myid]=onecitation.properties.noteIndex}}}if(this.opt.citation_number_sort&&sortedItems&&sortedItems.length>1&&this.citation_sort.tokens.length>0&&!citation.properties.unsorted){for(i=0,ilen=sortedItems.length;i<ilen;i+=1)sortedItems[i][1].sortkeys=CSL.getSortKeys.call(this,sortedItems[i][0],"citation_sort");sortedItems.sort(this.citation.srt.compareCompositeKeys)}for(key in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(key)&&(citations=this.registry.citationreg.citationsByItemId[key]))for(i=0,ilen=citations.length;i<ilen;i+=1)this.tmp.taintedCitationIDs[citations[i].citationID]=!0;var ret=[];if(flag===CSL.PREVIEW){try{ret=this.process_CitationCluster.call(this,citation.sortedItems,citation.citationID)}catch(e){CSL.error("Error running CSL processor for preview: "+e)}for(this.registry.citationreg.citationByIndex=oldCitationList,this.registry.citationreg.citationById={},i=0,ilen=oldCitationList.length;i<ilen;i+=1)this.registry.citationreg.citationById[oldCitationList[i].citationID]=oldCitationList[i];var oldItemIds=[];for(i=0,ilen=oldItemList.length;i<ilen;i+=1)oldItemIds.push(""+oldItemList[i].id);this.updateItems(oldItemIds,null,null,!0);for(key in oldAmbigs)oldAmbigs.hasOwnProperty(key)&&(this.registry.registry[key].disambig=oldAmbigs[key])}else{for(var rerunAkey in rerunAkeys)this.disambiguate.run(rerunAkey,citation);var obj;for(key in this.tmp.taintedCitationIDs)if(key!=citation.citationID){var mycitation=this.registry.citationreg.citationById[key];if(!mycitation.properties.unsorted){for(i=0,ilen=mycitation.sortedItems.length;i<ilen;i+=1)mycitation.sortedItems[i][1].sortkeys=CSL.getSortKeys.call(this,mycitation.sortedItems[i][0],"citation_sort");mycitation.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=mycitation.properties.index,this.tmp.citation_note_index=mycitation.properties.noteIndex,this.tmp.citation_id=""+mycitation.citationID,(obj=[]).push(mycitation.properties.index),obj.push(this.process_CitationCluster.call(this,mycitation.sortedItems,mycitation.citationID)),obj.push(mycitation.citationID),ret.push(obj)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=citation.properties.index,this.tmp.citation_note_index=citation.properties.noteIndex,this.tmp.citation_id=""+citation.citationID,(obj=[]).push(citationsPre.length),obj.push(this.process_CitationCluster.call(this,sortedItems,citation.citationID)),obj.push(citation.citationID),ret.push(obj),ret.sort(function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0})}return return_data.citation_errors=this.tmp.citation_errors.slice(),[return_data,ret]},CSL.Engine.prototype.process_CitationCluster=function(sortedItems,citationID){return this.parallel.StartCitation(sortedItems),CSL.getCitationCluster.call(this,sortedItems,citationID)},CSL.Engine.prototype.makeCitationCluster=function(rawList){var inputList,newitem,pos,len,item,Item;for(inputList=[],len=rawList.length,pos=0;pos<len;pos+=1){item={};for(var key in rawList[pos])item[key]=rawList[pos][key];if(Item=this.retrieveItem(""+item.id),this.opt.development_extensions.locator_label_parse&&item.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(Item.type)&&(!item.label||"page"===item.label)){var m=CSL.LOCATOR_LABELS_REGEXP.exec(item.locator);if(m){var tryLabel=CSL.LOCATOR_LABELS_MAP[m[2]];this.getTerm(tryLabel)&&(item.label=tryLabel,item.locator=m[3])}}item.locator&&(item.locator=(""+item.locator).replace(/\s+$/,"")),newitem=[Item,item],inputList.push(newitem)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(inputList),inputList&&inputList.length>1&&this.citation_sort.tokens.length>0){for(len=inputList.length,pos=0;pos<len;pos+=1)inputList[pos][1].sortkeys=CSL.getSortKeys.call(this,inputList[pos][0],"citation_sort");inputList.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(inputList),CSL.getCitationCluster.call(this,inputList)},CSL.getAmbiguousCite=function(Item,disambig,visualForm,item){var ret,flags=this.tmp.group_context.tip,oldTermSiblingLayer={term_intended:flags.term_intended,variable_attempt:flags.variable_attempt,variable_success:flags.variable_success,output_tip:flags.output_tip,label_form:flags.label_form,parallel_conditions:flags.parallel_conditions,condition:flags.condition,force_suppress:flags.force_suppress,done_vars:flags.done_vars.slice()};this.tmp.disambig_request=disambig||!1;var itemSupp={position:1,"near-note":!0};item&&(itemSupp.locator=item.locator,itemSupp.label=item.label),this.registry.registry[Item.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[Item.id]&&this.registry.citationreg.citationsByItemId[Item.id].length&&visualForm&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(itemSupp["first-reference-note-number"]=this.registry.registry[Item.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,CSL.getCite.call(this,Item,itemSupp,null,!1);for(var i=0,ilen=this.output.queue.length;i<ilen;i+=1)CSL.Output.Queue.purgeEmptyBlobs(this.output.queue[i]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var j=0,jlen=this.output.queue.length;j<jlen;j+=1)this.output.adjust.upward(this.output.queue[j]),this.output.adjust.leftward(this.output.queue[j]),this.output.adjust.downward(this.output.queue[j]),this.output.adjust.fix(this.output.queue[j]);return ret=this.output.string(this,this.output.queue),this.tmp.just_looking=!1,this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.group_context.replace(oldTermSiblingLayer),ret},CSL.getSpliceDelimiter=function(last_collapsed,pos){if(last_collapsed&&!this.tmp.have_collapsed&&"string"==typeof this.citation.opt["after-collapse-delimiter"])this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==CSL.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[pos-1]){var alt_affixes=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[pos-1]];alt_affixes&&alt_affixes.delimiter&&(this.tmp.splice_delimiter=alt_affixes.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},CSL.getCitationCluster=function(inputList,citationID){var result,objects,myparams,len,pos,item,last_collapsed,params,empties,composite,compie,myblobs,Item,llen,ppos,obj,preceding_item,txt_esc,error_object;inputList=inputList||[],this.tmp.last_primary_names_string=!1,txt_esc=CSL.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",result="",objects=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.output.checkNestedBrace=new CSL.checkNestedBrace(this);var use_layout_prefix=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix),suppressTrailingPunctuation=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(suppressTrailingPunctuation=!0),citationID&&this.registry.citationreg.citationById[citationID].properties["suppress-trailing-punctuation"]&&(suppressTrailingPunctuation=!0),"note"===this.opt.xclass){for(var parasets=[],lastTitle=!1,lastID=!1,lst=[],i=0,ilen=inputList.length;i<ilen;i+=1){var type=inputList[i][0].type,title=inputList[i][0].title,position=inputList[i][1].position,id=inputList[i][0].id;title&&"legal_case"===type&&id!==lastID&&position&&(title===lastTitle&&0!==parasets.length||(lst=[],parasets.push(lst)),lst.push(inputList[i][1])),lastTitle=title,position,lastID=id}for(i=0,ilen=parasets.length;i<ilen;i+=1)if(!((lst=parasets[i]).length<2)){var locatorInLastPosition=lst.slice(-1)[0].locator;if(locatorInLastPosition)for(var j=0,jlen=lst.length-1;j<jlen;j+=1)lst[j].locator&&(locatorInLastPosition=!1);locatorInLastPosition&&(lst[0].locator=locatorInLastPosition,delete lst.slice(-1)[0].locator,lst[0].label=lst.slice(-1)[0].label,lst.slice(-1)[0].label&&delete lst.slice(-1)[0].label)}}for(myparams=[],len=inputList.length,pos=0;pos<len;pos+=1){if(Item=inputList[pos][0],item=inputList[pos][1],item=CSL.parseLocator.call(this,item),last_collapsed=this.tmp.have_collapsed,params={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var output=this.output;this.output=new CSL.Output.Queue(this),this.output.adjust=new CSL.Output.Queue.adjust,CSL.getAmbiguousCite.call(this,Item,null,!1,item),this.output=output}if(this.tmp.in_cite_predecessor=!1,pos>0?CSL.getCite.call(this,Item,item,""+inputList[pos-1][0].id,!0):(this.tmp.term_predecessor=!1,CSL.getCite.call(this,Item,item,null,!0)),this.tmp.cite_renders_content||(error_object={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+Item.id,citationItems_pos:pos,error_code:CSL.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(error_object)),pos===inputList.length-1&&this.parallel.ComposeSet(),params.splice_delimiter=CSL.getSpliceDelimiter.call(this,last_collapsed,pos),item&&item["author-only"]&&(this.tmp.suppress_decorations=!0),pos>0){var precedingEndsInPeriodOrComma=(preceding_item=inputList[pos-1][1]).suffix&&[".",","].indexOf(preceding_item.suffix.slice(-1))>-1,currentStartsWithPeriodOrComma=!preceding_item.suffix&&item.prefix&&[".",","].indexOf(item.prefix.slice(0,1))>-1;if(precedingEndsInPeriodOrComma||currentStartsWithPeriodOrComma){var spaceidx=params.splice_delimiter.indexOf(" ");params.splice_delimiter=spaceidx>-1&&!currentStartsWithPeriodOrComma?params.splice_delimiter.slice(spaceidx):""}}params.suppress_decorations=this.tmp.suppress_decorations,params.have_collapsed=this.tmp.have_collapsed,myparams.push(params)}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),empties=0,myblobs=this.output.queue.slice();this.citation.opt.layout_suffix,this.citation.opt.layout_delimiter;var suffix=this.citation.opt.layout_suffix,last_locale=this.tmp.cite_locales[this.tmp.cite_locales.length-1];last_locale&&this.tmp.cite_affixes[this.tmp.area][last_locale]&&this.tmp.cite_affixes[this.tmp.area][last_locale].suffix&&(suffix=this.tmp.cite_affixes[this.tmp.area][last_locale].suffix),CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(suffix.slice(0,1))>-1&&(suffix=suffix.slice(0,1));var delimiter=this.citation.opt.layout_delimiter;delimiter||(delimiter=""),CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(delimiter.slice(0,1))>-1&&(delimiter=delimiter.slice(0,1)),suffix=this.output.checkNestedBrace.update(suffix);for(var i=0,ilen=this.output.queue.length;i<ilen;i+=1)CSL.Output.Queue.purgeEmptyBlobs(this.output.queue[i]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(suppressTrailingPunctuation||(this.output.queue[this.output.queue.length-1].strings.suffix=suffix),this.output.queue[0].strings.prefix=use_layout_prefix)),this.opt.development_extensions.clean_up_csl_flaws)for(var j=0,jlen=this.output.queue.length;j<jlen;j+=1)this.output.adjust.upward(this.output.queue[j]),this.output.adjust.leftward(this.output.queue[j]),this.output.adjust.downward(this.output.queue[j]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[j]);for(pos=0,len=myblobs.length;pos<len;pos+=1){var buffer=[];if(this.output.queue=[myblobs[pos]],this.tmp.suppress_decorations=myparams[pos].suppress_decorations,this.tmp.splice_delimiter=myparams[pos].splice_delimiter,myblobs[pos].parallel_delimiter&&(this.tmp.splice_delimiter=myblobs[pos].parallel_delimiter),this.tmp.have_collapsed=myparams[pos].have_collapsed,composite=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof composite)return this.tmp.suppress_decorations=!1,composite;if("object"==typeof composite&&0===composite.length&&!item["suppress-author"])if(this.tmp.has_purged_parallel)composite.push("");else{var preStr=0===pos?txt_esc(this.citation.opt.layout_prefix):"",sufStr=pos===myblobs.length-1?txt_esc(this.citation.opt.layout_suffix):"";composite.push(preStr+"[CSL STYLE ERROR: reference with no printed form.]"+sufStr)}if(buffer.length&&"string"==typeof composite[0]){composite.reverse();var tmpstr=composite.pop();tmpstr&&","===tmpstr.slice(0,1)?buffer.push(tmpstr):"string"==typeof buffer.slice(-1)[0]&&","===buffer.slice(-1)[0].slice(-1)?buffer.push(" "+tmpstr):tmpstr&&buffer.push(txt_esc(this.tmp.splice_delimiter)+tmpstr)}else composite.reverse(),void 0!==(compie=composite.pop())&&(buffer.length&&"string"==typeof buffer[buffer.length-1]&&(buffer[buffer.length-1]+=compie.successor_prefix),buffer.push(compie));for(llen=composite.length,ppos=0;ppos<llen;ppos+=1)"string"!=typeof(obj=composite[ppos])?void 0!==(compie=composite.pop())&&buffer.push(compie):buffer.push(txt_esc(this.tmp.splice_delimiter)+obj);0!==buffer.length||inputList[pos][1]["suppress-author"]||(empties+=1),buffer.length>1&&"string"!=typeof buffer[0]&&(buffer=[this.output.renderBlobs(buffer)]),buffer.length&&("string"==typeof buffer[0]?pos>0&&(myblobs.length-1>pos&&myparams[pos+1].have_collapsed&&!myparams[pos].have_collapsed&&(this.tmp.splice_delimiter=myparams[pos-1].splice_delimiter),buffer[0]=txt_esc(this.tmp.splice_delimiter)+buffer[0]):buffer[0].splice_prefix=pos>0?this.tmp.splice_delimiter:""),objects=objects.concat(buffer)}if((result+=this.output.renderBlobs(objects))&&!this.tmp.suppress_decorations)for(len=this.citation.opt.layout_decorations.length,pos=0;pos<len;pos+=1)"normal"!==(params=this.citation.opt.layout_decorations[pos])[1]&&(item&&item["author-only"]||(result=this.fun.decorate[params[0]][params[1]](this,result)));return this.tmp.suppress_decorations=!1,result},CSL.getCite=function(Item,item,prevItemID,blockShadowNumberReset){var next,error_object;for(this.tmp.cite_renders_content=!1,this.parallel.StartCite(Item,item,prevItemID),CSL.citeStart.call(this,Item,item,blockShadowNumberReset),next=0,this.tmp.name_node={},this.nameOutput=new CSL.NameOutput(this,Item,item);next<this[this.tmp.area].tokens.length;)next=CSL.tokenExec.call(this,this[this.tmp.area].tokens[next],Item,item);return CSL.citeEnd.call(this,Item,item),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(error_object={index:this.tmp.bibliography_pos,itemID:""+Item.id,error_code:CSL.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(error_object)),""+Item.id},CSL.citeStart=function(Item,item,blockShadowNumberReset){if(blockShadowNumberReset||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[Item.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[Item.id].disambig,this.tmp.disambig_settings=this.registry.registry[Item.id].disambig):this.tmp.disambig_settings=new CSL.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[Item.id]){if(this.tmp.disambig_restore=CSL.cloneAmbigConfig(this.registry.registry[Item.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[Item.id].disambig.names.slice(),this.tmp.disambig_request.names=this.registry.registry[Item.id].disambig.names.slice()),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[Item.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[Item.id].disambig.givens.slice();for(var i=0,ilen=this.tmp.disambig_settings.givens.length;i<ilen;i+=1)this.tmp.disambig_settings.givens[i]=this.registry.registry[Item.id].disambig.givens[i].slice();for(var i=0,ilen=this.tmp.disambig_request.givens.length;i<ilen;i+=1)this.tmp.disambig_request.givens[i]=this.registry.registry[Item.id].disambig.givens[i].slice()}}else this.tmp.disambig_restore=new CSL.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&item&&!item.position&&this.registry.registry[Item.id]&&(this.tmp.disambig_restore=CSL.cloneAmbigConfig(this.registry.registry[Item.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},CSL.citeEnd=function(Item,item){if(this.tmp.disambig_restore){this.registry.registry[Item.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[Item.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,ilen=this.registry.registry[Item.id].disambig.givens.length;i<ilen;i+=1)this.registry.registry[Item.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,item&&item.suffix?this.tmp.last_suffix_used=item.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var buf=[],i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)buf.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=buf.length-1;i>-1;i+=-1)this.tmp.issued_date.list.push(buf.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},CSL.Engine.prototype.makeBibliography=function(bibsection){var ret,params,item,len,pos,entry_ids,entry_strings;if(!1,!this.bibliography.tokens.length)return!1;"string"==typeof bibsection&&(this.opt.citation_number_slug=bibsection,bibsection=!1),entry_ids=(ret=CSL.getBibliographyEntries.call(this,bibsection))[0],entry_strings=ret[1];var done=ret[2];for(params={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:entry_ids,bibliography_errors:this.tmp.bibliography_errors.slice(),done:done},this.bibliography.opt["second-field-align"]&&(params["second-field-align"]=this.bibliography.opt["second-field-align"]),0,len=this.registry.reflist.length,pos=0;pos<len;pos+=1)(item=this.registry.reflist[pos]).offset>params.maxoffset&&(params.maxoffset=item.offset);return this.bibliography.opt.hangingindent&&(params.hangingindent=this.bibliography.opt.hangingindent),params.bibstart=this.fun.decorate.bibstart,params.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[params,entry_strings]},CSL.getBibliographyEntries=function(bibsection){function eval_string(a,b){return a===b}function eval_list(a,lst){for(lllen=lst.length,pppos=0;pppos<lllen;pppos+=1)if(eval_string(a,lst[pppos]))return!0;return!1}function eval_spec(a,b){return!("none"!==a&&a||b)||("string"==typeof b?eval_string(a,b):!!b&&eval_list(a,b))}var ret,input,include,anymatch,allmatch,bib_entry,res,item,spec,lllen,pppos,topblobs,entry_item_ids,collapse_parallel,i,ilen,skips,sortedItems,eyetem,entry_item_data;ret=[],entry_item_data=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,input=bibsection&&bibsection.page_start&&bibsection.page_length?this.registry.getSortedIds():this.retrieveItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,skips={};var page_item_count;if(bibsection&&bibsection.page_start&&bibsection.page_length&&(page_item_count=0,!0!==bibsection.page_start))for(i=0,ilen=input.length;i<ilen&&(skips[input[i]]=!0,bibsection.page_start!=input[i]);i+=1);var processed_item_ids=[];for(i=0,ilen=input.length;i<ilen;i+=1){if(bibsection&&bibsection.page_start&&bibsection.page_length){if(skips[input[i]])continue;if(item=this.retrieveItem(input[i]),page_item_count===bibsection.page_length)break}else if(item=input[i],skips[item.id])continue;if(bibsection){if(include=!0,bibsection.include){for(include=!1,j=0,jlen=bibsection.include.length;j<jlen;j+=1)if(spec=bibsection.include[j],eval_spec(spec.value,item[spec.field])){include=!0;break}}else if(bibsection.exclude){for(anymatch=!1,j=0,jlen=bibsection.exclude.length;j<jlen;j+=1)if(spec=bibsection.exclude[j],eval_spec(spec.value,item[spec.field])){anymatch=!0;break}anymatch&&(include=!1)}else if(bibsection.select){for(include=!1,allmatch=!0,j=0,jlen=bibsection.select.length;j<jlen;j+=1)eval_spec((spec=bibsection.select[j]).value,item[spec.field])||(allmatch=!1);allmatch&&(include=!0)}if(bibsection.quash){for(allmatch=!0,j=0,jlen=bibsection.quash.length;j<jlen;j+=1)eval_spec((spec=bibsection.quash[j]).value,item[spec.field])||(allmatch=!1);allmatch&&(include=!1)}if(!include)continue}if(bib_entry=new CSL.Token("group",CSL.START),bib_entry.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",bib_entry),item.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=item.system_id:this.output.current.value().system_id=item.id,sortedItems=[[{id:""+item.id},item]],entry_item_ids=[],!this.registry.registry[item.id].master||bibsection&&bibsection.page_start&&bibsection.page_length)this.registry.registry[item.id].siblings||(this.parallel.StartCitation(sortedItems),this.tmp.term_predecessor=!1,entry_item_ids.push(""+CSL.getCite.call(this,item)),bibsection&&bibsection.page_start&&bibsection.page_length&&(page_item_count+=1));else{for(collapse_parallel=!0,this.parallel.StartCitation(sortedItems),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,entry_item_ids.push(""+CSL.getCite.call(this,item)),skips[item.id]=!0,j=0,jlen=this.registry.registry[item.id].siblings.length;j<jlen;j+=1){var k=this.registry.registry[item.id].siblings[j];eyetem=this.retrieveItem(k),entry_item_ids.push(""+CSL.getCite.call(this,eyetem)),skips[eyetem.id]=!0}this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}entry_item_data.push(""),this.tmp.bibliography_pos+=1,processed_item_ids.push(entry_item_ids),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(collapse_parallel||!this.output.queue[0].blobs[0].blobs[0].strings?(topblobs=this.output.queue[0].blobs,collapse_parallel=!1):topblobs=this.output.queue[0].blobs[0].blobs,topblobs[0].strings.prefix=this.bibliography.opt.layout_prefix+topblobs[0].strings.prefix);for(var j=0,jlen=this.output.queue.length;j<jlen;j+=1)CSL.Output.Queue.purgeEmptyBlobs(this.output.queue[j]);for(var j=0,jlen=this.output.queue.length;j<jlen;j+=1)this.output.adjust.upward(this.output.queue[j]),this.output.adjust.leftward(this.output.queue[j]),this.output.adjust.downward(this.output.queue[j],!0),this.output.adjust.fix(this.output.queue[j]);if(!(res=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===CSL.NUMERIC){var err=ret.length+1+". [CSL STYLE ERROR: reference with no printed form.]";res=CSL.Output.Formats[this.opt.mode]["@bibliography/entry"](this,err)}res&&ret.push(res)}var done=!1;if(bibsection&&bibsection.page_start&&bibsection.page_length){var last_expected_id=input.slice(-1)[0],last_seen_id=processed_item_ids.slice(-1)[0];last_expected_id&&last_seen_id&&last_expected_id!=last_seen_id||(done=!0)}return this.tmp.disambig_override=!1,[processed_item_ids,ret,done]},CSL.Engine.prototype.setCitationId=function(citation,force){var ret,id,direction;if(ret=!1,!citation.citationID||force){for(id=Math.floor(1e14*Math.random());;){if(direction=0,!this.registry.citationreg.citationById[id]){citation.citationID="a"+id.toString(32);break}id+=1===(direction=!direction&&id<5e13?1:-1)?1:-1}ret=""+id}return this.registry.citationreg.citationById[citation.citationID]=citation,ret},CSL.Engine.prototype.rebuildProcessorState=function(citations,mode,uncitedItemIDs){citations||(citations=[]),mode||(mode="html");for(var doneIDs={},itemIDs=[],i=0,ilen=citations.length;i<ilen;i+=1)for(var j=0,jlen=citations[i].citationItems.length;j<jlen;j+=1){var itemID=""+citations[i].citationItems[j].id;doneIDs[itemID]||itemIDs.push(itemID),doneIDs[itemID]=!0}this.updateItems(itemIDs);var pre=[],post=[],ret=[],oldMode=this.opt.mode;this.setOutputFormat(mode);for(var i=0,ilen=citations.length;i<ilen;i+=1){var res=this.processCitationCluster(citations[i],pre,post,CSL.ASSUME_ALL_ITEMS_REGISTERED);pre.push([citations[i].citationID,citations[i].properties.noteIndex]);for(var j=0,jlen=res[1].length;j<jlen;j+=1){var index=res[1][j][0];ret[index]=[pre[index][0],pre[index][1],res[1][j][1]]}}return this.updateUncitedItems(uncitedItemIDs),this.setOutputFormat(oldMode),ret},CSL.Engine.prototype.restoreProcessorState=function(citations){var i,ilen,j,jlen,item,Item,newitem,citationList,itemList,sortedItems;citationList=[],itemList=[],citations||(citations=[]);var indexNumbers=[],citationIds={};for(i=0,ilen=citations.length;i<ilen;i+=1)citationIds[citations[i].citationID]&&this.setCitationId(citations[i],!0),citationIds[citations[i].citationID]=!0,indexNumbers.push(citations[i].properties.index);var oldCitations=citations.slice();for(oldCitations.sort(function(a,b){return a.properties.index<b.properties.index?-1:a.properties.index>b.properties.index?1:0}),i=0,ilen=oldCitations.length;i<ilen;i+=1)oldCitations[i].properties.index=i;for(i=0,ilen=oldCitations.length;i<ilen;i+=1){for(sortedItems=[],j=0,jlen=oldCitations[i].citationItems.length;j<jlen;j+=1)"undefined"==typeof(item=oldCitations[i].citationItems[j]).sortkeys&&(item.sortkeys=[]),newitem=[Item=this.retrieveItem(""+item.id),item],sortedItems.push(newitem),oldCitations[i].citationItems[j].item=Item,itemList.push(""+item.id);oldCitations[i].properties.unsorted||sortedItems.sort(this.citation.srt.compareCompositeKeys),oldCitations[i].sortedItems=sortedItems,this.registry.citationreg.citationById[oldCitations[i].citationID]=oldCitations[i]}for(this.updateItems(itemList),i=0,ilen=citations.length;i<ilen;i+=1)citationList.push([""+citations[i].citationID,citations[i].properties.noteIndex]);var ret=[];return citations&&citations.length?ret=this.processCitationCluster(citations[0],[],citationList.slice(1)):(this.registry=new CSL.Registry(this),this.tmp=new CSL.Engine.Tmp,this.disambiguate=new CSL.Disambiguation(this)),ret},CSL.Engine.prototype.updateItems=function(idList,nosort,rerun_ambigs,implicitUpdate){var oldArea=this.tmp.area,oldRoot=this.tmp.root,oldExtension=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",implicitUpdate||(this.tmp.loadedItemIDs={}),this.registry.init(idList),rerun_ambigs)for(var ambig in this.registry.ambigcites)this.registry.ambigsTouched[ambig]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),nosort||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=oldExtension,this.tmp.area=oldArea,this.tmp.root=oldRoot,this.registry.getSortedIds()},CSL.Engine.prototype.updateUncitedItems=function(idList,nosort){var oldArea=this.tmp.area,oldRoot=this.tmp.root,oldExtension=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},idList||(idList=[]),"object"==typeof idList)if("undefined"==typeof idList.length){idHash=idList;idList=[];for(var key in idHash)idList.push(key)}else if("number"==typeof idList.length)for(var idHash={},i=0,ilen=idList.length;i<ilen;i+=1)idHash[idList[i]]=!0;return this.registry.init(idList,!0),this.registry.dopurge(idHash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),nosort||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=oldExtension,this.tmp.area=oldArea,this.tmp.root=oldRoot,this.registry.getSortedIds()},CSL.localeResolve=function(langstr,defaultLocale){var ret,langlst;return defaultLocale||(defaultLocale="en-US"),langstr||(langstr=defaultLocale),ret={},langlst=langstr.split(/[\-_]/),ret.base=CSL.LANG_BASES[langlst[0]],"undefined"==typeof ret.base?{base:defaultLocale,best:langstr,bare:langlst[0]}:(1===langlst.length&&(ret.generic=!0),1===langlst.length||"x"===langlst[1]?ret.best=ret.base.replace("_","-"):ret.best=langlst.slice(0,2).join("-"),ret.base=ret.base.replace("_","-"),ret.bare=langlst[0],ret)},CSL.Engine.prototype.localeConfigure=function(langspec,beShy){var localexml;if((!beShy||!this.locale[langspec.best])&&(localexml=CSL.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(localexml,"en-US",langspec.best),"en-US"!==langspec.best&&(langspec.base!==langspec.best&&(localexml=CSL.setupXml(this.sys.retrieveLocale(langspec.base)),this.localeSet(localexml,langspec.base,langspec.best)),localexml=CSL.setupXml(this.sys.retrieveLocale(langspec.best)),this.localeSet(localexml,langspec.best,langspec.best)),this.localeSet(this.cslXml,"",langspec.best),this.localeSet(this.cslXml,langspec.bare,langspec.best),langspec.base!==langspec.best&&this.localeSet(this.cslXml,langspec.base,langspec.best),this.localeSet(this.cslXml,langspec.best,langspec.best),"undefined"==typeof this.locale[langspec.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(langspec.best.slice(0,2).toLowerCase())>-1?this.locale[langspec.best].terms["page-range-delimiter"]="-":this.locale[langspec.best].terms["page-range-delimiter"]="–"),"undefined"==typeof this.locale[langspec.best].terms["year-range-delimiter"]&&(this.locale[langspec.best].terms["year-range-delimiter"]="–"),"undefined"==typeof this.locale[langspec.best].terms["citation-range-delimiter"]&&(this.locale[langspec.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var localeLists=["default-locale","locale-sort","locale-translit","locale-translat"],i=0,ilen=localeLists.length;i<ilen;i+=1)for(var j=0,jlen=this.opt[localeLists[i]].length;j<jlen;j+=1)this.opt[localeLists[i]][j]=this.opt[localeLists[i]][j].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},CSL.Engine.prototype.localeSet=function(myxml,lang_in,lang_out){var blob,locale,nodes,attributes,pos,term,form,termname,styleopts,date,attrname,len,genderform,target;if(lang_in=lang_in.replace("_","-"),lang_out=lang_out.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(lang_in=lang_in.toLowerCase(),lang_out=lang_out.toLowerCase()),this.locale[lang_out]||(this.locale[lang_out]={},this.locale[lang_out].terms={},this.locale[lang_out].opts={},this.locale[lang_out].opts["skip-words"]=CSL.SKIP_WORDS,this.locale[lang_out].opts["leading-noise-words"]||(this.locale[lang_out].opts["leading-noise-words"]=[]),this.locale[lang_out].dates={},this.locale[lang_out].ord={"1.0.1":!1,keys:{}},this.locale[lang_out]["noun-genders"]={}),locale=myxml.makeXml(),myxml.nodeNameIs(myxml.dataObj,"locale"))locale=myxml.dataObj;else for(nodes=myxml.getNodesByName(myxml.dataObj,"locale"),pos=0,len=myxml.numberofnodes(nodes);pos<len;pos+=1)if(blob=nodes[pos],myxml.getAttributeValue(blob,"lang","xml")===lang_in){locale=blob;break}for(nodes=myxml.getNodesByName(locale,"type"),i=0,ilen=myxml.numberofnodes(nodes);i<ilen;i+=1){var typenode=nodes[i],type=myxml.getAttributeValue(typenode,"name"),gender=myxml.getAttributeValue(typenode,"gender");this.opt.gender[type]=gender}if(myxml.getNodesByName(locale,"term","ordinal").length){for(var key in this.locale[lang_out].ord.keys)delete this.locale[lang_out].terms[key];this.locale[lang_out].ord={"1.0.1":!1,keys:{}}}nodes=myxml.getNodesByName(locale,"term");var ordinals101={"last-digit":{},"last-two-digits":{},"whole-number":{}},ordinals101_toggle=!1,genderized_terms={};for(pos=0,len=myxml.numberofnodes(nodes);pos<len;pos+=1){if(term=nodes[pos],"sub verbo"===(termname=myxml.getAttributeValue(term,"name"))&&(termname="sub-verbo"),"ordinal"===termname.slice(0,7)){myxml.getNodeValue(term);if("ordinal"===termname)ordinals101_toggle=!0;else{var match=myxml.getAttributeValue(term,"match"),termstub=termname.slice(8);(genderform=myxml.getAttributeValue(term,"gender-form"))||(genderform="neuter"),match||(match="last-two-digits","0"===termstub.slice(0,1)&&(match="last-digit")),"0"===termstub.slice(0,1)&&(termstub=termstub.slice(1)),ordinals101[match][termstub]||(ordinals101[match][termstub]={}),ordinals101[match][termstub][genderform]=termname}this.locale[lang_out].ord.keys[termname]=!0}"undefined"==typeof this.locale[lang_out].terms[termname]&&(this.locale[lang_out].terms[termname]={}),form="long",genderform=!1,myxml.getAttributeValue(term,"form")&&(form=myxml.getAttributeValue(term,"form")),myxml.getAttributeValue(term,"gender-form")&&(genderform=myxml.getAttributeValue(term,"gender-form")),myxml.getAttributeValue(term,"gender")&&(this.locale[lang_out]["noun-genders"][termname]=myxml.getAttributeValue(term,"gender")),genderform?(this.locale[lang_out].terms[termname][genderform]={},this.locale[lang_out].terms[termname][genderform][form]=[],target=this.locale[lang_out].terms[termname][genderform],genderized_terms[termname]=!0):(this.locale[lang_out].terms[termname][form]=[],target=this.locale[lang_out].terms[termname]),myxml.numberofnodes(myxml.getNodesByName(term,"multiple"))?(target[form][0]=myxml.getNodeValue(term,"single"),target[form][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),target[form][1]=myxml.getNodeValue(term,"multiple"),target[form][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(target[form]=myxml.getNodeValue(term),target[form].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(ordinals101_toggle){for(var ikey in genderized_terms){var gender_segments={},form_segments=0;for(var jkey in this.locale[lang_out].terms[ikey])["masculine","feminine"].indexOf(jkey)>-1?gender_segments[jkey]=this.locale[lang_out].terms[ikey][jkey]:form_segments+=1;if(!form_segments)if(gender_segments.feminine)for(var jkey in gender_segments.feminine)this.locale[lang_out].terms[ikey][jkey]=gender_segments.feminine[jkey];else if(gender_segments.masculine)for(var jkey in gender_segments.masculine)this.locale[lang_out].terms[ikey][jkey]=gender_segments.masculine[jkey]}this.locale[lang_out].ord["1.0.1"]=ordinals101}for(termname in this.locale[lang_out].terms)for(i=0,ilen=2;i<ilen;i+=1)if(genderform=CSL.GENDERS[i],this.locale[lang_out].terms[termname][genderform])for(form in this.locale[lang_out].terms[termname])this.locale[lang_out].terms[termname][genderform][form]||(this.locale[lang_out].terms[termname][genderform][form]=this.locale[lang_out].terms[termname][form]);for(nodes=myxml.getNodesByName(locale,"style-options"),pos=0,len=myxml.numberofnodes(nodes);pos<len;pos+=1){styleopts=nodes[pos],attributes=myxml.attributes(styleopts);for(attrname in attributes)if(attributes.hasOwnProperty(attrname))if("@punctuation-in-quote"===attrname||"@limit-day-ordinals-to-day-1"===attrname)"true"===attributes[attrname]?this.locale[lang_out].opts[attrname.slice(1)]=!0:this.locale[lang_out].opts[attrname.slice(1)]=!1;else if("@jurisdiction-preference"===attrname){var jurisdiction_preference=attributes[attrname].split(/\s*,\s*/);this.locale[lang_out].opts[attrname.slice(1)]=jurisdiction_preference}else if("@skip-words"===attrname){var skip_words=attributes[attrname].split(/\s*,\s*/);this.locale[lang_out].opts[attrname.slice(1)]=skip_words}else if("@leading-noise-words"===attrname){var val=attributes[attrname].split(/\s*,\s*/);this.locale[lang_out].opts["leading-noise-words"]=val}else if("@name-as-sort-order"===attrname){this.locale[lang_out].opts["name-as-sort-order"]={};for(var i=0,ilen=(lst=attributes[attrname].split(/\s+/)).length;i<ilen;i+=1)this.locale[lang_out].opts["name-as-sort-order"][lst[i]]=!0}else if("@name-as-reverse-order"===attrname){this.locale[lang_out].opts["name-as-reverse-order"]={};for(var i=0,ilen=(lst=attributes[attrname].split(/\s+/)).length;i<ilen;i+=1)this.locale[lang_out].opts["name-as-reverse-order"][lst[i]]=!0}else if("@name-never-short"===attrname){this.locale[lang_out].opts["name-never-short"]={};for(var lst=attributes[attrname].split(/\s+/),i=0,ilen=lst.length;i<ilen;i+=1)this.locale[lang_out].opts["name-never-short"][lst[i]]=!0}}for(nodes=myxml.getNodesByName(locale,"date"),pos=0,len=myxml.numberofnodes(nodes);pos<len;pos+=1)date=nodes[pos],this.locale[lang_out].dates[myxml.getAttributeValue(date,"form")]=date},CSL.getLocaleNames=function(myxml,preferredLocale){function extendLocaleList(localeList,locale){var forms=["base","best"];if(locale){normalizedLocale=CSL.localeResolve(locale);for(var i=0,ilen=forms.length;i<ilen;i++)normalizedLocale[forms[i]]&&-1===localeList.indexOf(normalizedLocale[forms[i]])&&localeList.push(normalizedLocale[forms[i]])}}var stylexml=CSL.setupXml(myxml),localeIDs=["en-US"];extendLocaleList(localeIDs,preferredLocale);var styleNode=stylexml.getNodesByName(stylexml.dataObj,"style")[0],defaultLocale=stylexml.getAttributeValue(styleNode,"default-locale");extendLocaleList(localeIDs,defaultLocale);for(var nodeNames=["layout","if","else-if","condition"],i=0,ilen=nodeNames.length;i<ilen;i++)!function(nodeName){for(var nodes=stylexml.getNodesByName(stylexml.dataObj,nodeName),i=0,ilen=nodes.length;i<ilen;i++){var nodeLocales=stylexml.getAttributeValue(nodes[i],"locale");if(nodeLocales)for(var j=0,jlen=(nodeLocales=nodeLocales.split(/ +/)).length;j<jlen;j++)this.extendLocaleList(localeIDs,nodeLocales[j])}}(stylexml);return localeIDs},CSL.Node={},CSL.Node.bibliography={build:function(state,target){if(this.tokentype===CSL.START){state.build.area="bibliography",state.build.root="bibliography",state.build.extension="";var func=function(state,Item){state.tmp.area="bibliography",state.tmp.root="bibliography",state.tmp.extension=""};this.execs.push(func)}target.push(this)}},CSL.Node.choose={build:function(state,target){var func;this.tokentype===CSL.START&&(func=function(state,Item){state.tmp.jump.push(undefined,CSL.LITERAL)}),this.tokentype===CSL.END&&(func=function(state,Item){state.tmp.jump.pop()}),this.execs.push(func),target.push(this)},configure:function(state,pos){this.tokentype===CSL.END?(state.configure.fail.push(pos),state.configure.succeed.push(pos)):(state.configure.fail.pop(),state.configure.succeed.pop())}},CSL.Node.citation={build:function(state,target){if(this.tokentype===CSL.START){state.build.area="citation",state.build.root="citation",state.build.extension="";var func=function(state,Item){state.tmp.area="citation",state.tmp.root="citation",state.tmp.extension=""};this.execs.push(func)}if(this.tokentype===CSL.END){if(state.opt.grouped_sort="in-text"===state.opt.xclass&&state.citation.opt.collapse&&state.citation.opt.collapse.length||state.citation.opt.cite_group_delimiter&&state.citation.opt.cite_group_delimiter.length&&state.opt.update_mode!==CSL.POSITION&&state.opt.update_mode!==CSL.NUMERIC,state.opt.grouped_sort&&state.citation_sort.opt.sort_directions.length){var firstkey=state.citation_sort.opt.sort_directions[0].slice();state.citation_sort.opt.sort_directions=[firstkey].concat(state.citation_sort.opt.sort_directions)}state.citation.srt=new CSL.Registry.Comparifier(state,"citation_sort")}target.push(this)}},CSL.Node["#comment"]={build:function(state,target){}},CSL.Node.date={build:function(state,target){var func,date_obj,len,pos,part,dpx,parts,mypos,start,end;this.tokentype!==CSL.START&&this.tokentype!==CSL.SINGLETON||(state.build.date_parts=[],state.build.date_variables=this.variables,state.build.extension||CSL.Util.substituteStart.call(this,state,target),func=state.build.extension?CSL.dateMacroAsSortKey:function(state,Item,item){var dp;if(state.tmp.element_rendered_ok=!1,state.tmp.donesies=[],state.tmp.dateparts=[],dp=[],!this.variables.length||state.tmp.just_looking&&"accessed"===this.variables[0])state.tmp.date_object=!1;else{for(void 0===(date_obj=Item[this.variables[0]])&&(date_obj={"date-parts":[[0]]},state.opt.development_extensions.locator_date_and_revision&&item&&"locator-date"===this.variables[0]&&item["locator-date"]&&(date_obj=item["locator-date"])),state.tmp.date_object=date_obj,len=this.dateparts.length,pos=0;pos<len;pos+=1)part=this.dateparts[pos],"undefined"!=typeof state.tmp.date_object[part+"_end"]?dp.push(part):"month"===part&&"undefined"!=typeof state.tmp.date_object.season_end&&dp.push(part);for(dpx=[],len=(parts=["year","month","day"]).length,pos=0;pos<len;pos+=1)dp.indexOf(parts[pos])>-1&&dpx.push(parts[pos]);for(dp=dpx.slice(),mypos=2,len=dp.length,pos=0;pos<len;pos+=1)if(part=dp[pos],start=state.tmp.date_object[part],end=state.tmp.date_object[part+"_end"],start!==end){mypos=pos;break}state.tmp.date_collapse_at=dp.slice(mypos)}},this.execs.push(func),func=function(state,Item){if(Item[this.variables[0]]&&(state.parallel.StartVariable(this.variables[0]),state.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===Item.type&&!state.tmp.extension&&""+Item["collection-number"]==""+state.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var key in state.tmp.date_object)if(state.tmp.date_object.hasOwnProperty(key)&&"year"===key.slice(0,4)){state.tmp.issued_date={};var lst=state.output.current.mystack.slice(-2)[0].blobs;state.tmp.issued_date.list=lst,state.tmp.issued_date.pos=lst.length-1}},this.execs.push(func)),state.build.extension||this.tokentype!==CSL.END&&this.tokentype!==CSL.SINGLETON||(func=function(state,Item){Item[this.variables[0]]&&(state.output.endTag(),state.parallel.CloseVariable(this.variables[0]))},this.execs.push(func)),target.push(this),this.tokentype!==CSL.END&&this.tokentype!==CSL.SINGLETON||state.build.extension||CSL.Util.substituteEnd.call(this,state,target)}},CSL.Node["date-part"]={build:function(state,target){var func,pos,len,first_date,value,value_end,real,have_collapsed,invoked,precondition,known_year,bc,ad,bc_end,ad_end,ready,curr,dcurr,number,num,formatter,item,i,ilen;this.strings.form||(this.strings.form="long"),state.build.date_parts.push(this.strings.name);var date_variable=state.build.date_variables[0];func=function(state,Item){if(state.tmp.date_object){if(first_date=!0,value="",value_end="",state.tmp.donesies.push(this.strings.name),state.tmp.date_object.literal&&"year"===this.strings.name&&(state.parallel.AppendToVariable(state.tmp.date_object.literal),state.output.append(state.tmp.date_object.literal,this)),state.tmp.date_object&&(value=state.tmp.date_object[this.strings.name],value_end=state.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==value||state.tmp.suppress_decorations||(value=!1),real=!state.tmp.suppress_decorations,have_collapsed=state.tmp.have_collapsed,invoked="year-suffix"===state[state.tmp.area].opt.collapse||"year-suffix-ranged"===state[state.tmp.area].opt.collapse,precondition=state.opt["disambiguate-add-year-suffix"],real&&precondition&&invoked&&(state.tmp.years_used.push(value),(known_year=state.tmp.last_years_used.length>=state.tmp.years_used.length)&&have_collapsed&&state.tmp.last_years_used[state.tmp.years_used.length-1]===value&&(value=!1)),void 0!==value){bc=!1,ad=!1,bc_end=!1,ad_end=!1,"year"===this.strings.name&&(parseInt(value,10)<500&&parseInt(value,10)>0&&(ad=state.getTerm("ad")),parseInt(value,10)<0&&(bc=state.getTerm("bc"),value=-1*parseInt(value,10)),value_end&&(parseInt(value_end,10)<500&&parseInt(value_end,10)>0&&(ad_end=state.getTerm("ad")),parseInt(value_end,10)<0&&(bc_end=state.getTerm("bc"),value_end=-1*parseInt(value_end,10)))),state.parallel.AppendToVariable(value);for(var monthnameid=""+state.tmp.date_object.month;monthnameid.length<2;)monthnameid="0"+monthnameid;monthnameid="month-"+monthnameid;var gender=state.locale[state.opt.lang]["noun-genders"][monthnameid];if(this.strings.form){var myform=this.strings.form;if("day"===this.strings.name&&"ordinal"===myform&&state.locale[state.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+value!="1"&&(myform="numeric"),value=CSL.Util.Dates[this.strings.name][myform](state,value,gender,this.default_locale),"month"===this.strings.name)if(state.tmp.strip_periods)value=value.replace(/\./g,"");else for(i=0,ilen=this.decorations.length;i<ilen;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){value=value.replace(/\./g,"");break}if(value_end)if(value_end=CSL.Util.Dates[this.strings.name][myform](state,value_end,gender,"accessed"===date_variable,"_end"),state.tmp.strip_periods)value_end=value_end.replace(/\./g,"");else for(i=0,ilen=this.decorations.length;i<ilen;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){value_end=value_end.replace(/\./g,"");break}}if(state.output.openLevel("empty"),state.tmp.date_collapse_at.length){for(ready=!0,len=state.tmp.date_collapse_at.length,pos=0;pos<len;pos+=1)if(item=state.tmp.date_collapse_at[pos],-1===state.tmp.donesies.indexOf(item)){ready=!1;break}if(ready){if(""+value_end!="0"){if(0===state.dateput.queue.length&&(first_date=!0),state.opt["year-range-format"]&&"expanded"!==state.opt["year-range-format"]&&!state.tmp.date_object.day&&!state.tmp.date_object.month&&!state.tmp.date_object.season&&"year"===this.strings.name&&value&&value_end){value_end=state.fun.year_mangler(value+"-"+value_end,!0);var range_delimiter=state.getTerm("year-range-delimiter");value_end=value_end.slice(value_end.indexOf(range_delimiter)+1)}state.dateput.append(value_end,this),first_date&&(state.dateput.current.value()[0].strings.prefix="")}state.output.append(value,this),(curr=state.output.current.value()).blobs[curr.blobs.length-1].strings.suffix="",state.output.append(state.getTerm("year-range-delimiter"),"empty"),dcurr=state.dateput.current.value(),curr.blobs=curr.blobs.concat(dcurr),state.dateput.string(state,state.dateput.queue),state.tmp.date_collapse_at=[]}else state.output.append(value,this),state.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+value_end!="0"&&(0===state.dateput.queue.length&&(first_date=!0),state.dateput.openLevel("empty"),state.dateput.append(value_end,this),first_date&&(state.dateput.current.value().blobs[0].strings.prefix=""),bc&&state.dateput.append(bc),ad&&state.dateput.append(ad),state.dateput.closeLevel())}else state.output.append(value,this);bc&&state.output.append(bc),ad&&state.output.append(ad),state.output.closeLevel()}else"month"===this.strings.name&&state.tmp.date_object.season&&((value=""+state.tmp.date_object.season)&&value.match(/^[1-4]$/)?(state.tmp.group_context.tip.variable_success=!0,state.output.append(state.getTerm("season-0"+value),this)):value&&state.output.append(value,this));state.tmp.value=[],!Item[date_variable]||!value&&!state.tmp.have_collapsed||state.opt.has_year_suffix||"year"!==this.strings.name||state.tmp.just_looking||state.registry.registry[Item.id]&&!1!==state.registry.registry[Item.id].disambig.year_suffix&&!state.tmp.has_done_year_suffix&&(state.tmp.has_done_year_suffix=!0,num=parseInt(state.registry.registry[Item.id].disambig.year_suffix,10),number=new CSL.NumericBlob(!1,num,this,Item.id),this.successor_prefix=state[state.build.area].opt.layout_delimiter,this.splice_prefix=state[state.build.area].opt.layout_delimiter,formatter=new CSL.Util.Suffixator(CSL.SUFFIX_CHARS),number.setFormatter(formatter),"year-suffix-ranged"===state[state.tmp.area].opt.collapse&&(number.range_prefix=state.getTerm("citation-range-delimiter")),state[state.tmp.area].opt.cite_group_delimiter?number.successor_prefix=state[state.tmp.area].opt.cite_group_delimiter:state[state.tmp.area].opt["year-suffix-delimiter"]?number.successor_prefix=state[state.tmp.area].opt["year-suffix-delimiter"]:number.successor_prefix=state[state.tmp.area].opt.layout_delimiter,number.UGLY_DELIMITER_SUPPRESS_HACK=!0,state.output.append(number,"literal"))}},this.execs.push(func),target.push(this)}},CSL.Node["else-if"]={build:function(state,target){CSL.Conditions.TopNode.call(this,state,target),target.push(this)},configure:function(state,pos){CSL.Conditions.Configure.call(this,state,pos)}},CSL.Node["else"]={build:function(state,target){target.push(this)},configure:function(state,pos){this.tokentype===CSL.START&&(state.configure.fail[state.configure.fail.length-1]=pos)}},CSL.Node["et-al"]={build:function(state,target){if("citation"===state.build.area||"bibliography"===state.build.area){var func=function(state,Item,item){state.tmp.etal_node=this,"string"==typeof this.strings.term&&(state.tmp.etal_term=this.strings.term)};this.execs.push(func)}target.push(this)}},CSL.Node.group={build:function(state,target,realGroup){var func,execs;if(this.realGroup=realGroup,this.tokentype===CSL.START&&(CSL.Util.substituteStart.call(this,state,target),state.build.substitute_level.value()&&state.build.substitute_level.replace(state.build.substitute_level.value()+1),this.juris||target.push(this),func=function(state,Item){if(state.output.startTag("group",this),this.strings.label_form_override&&(state.tmp.group_context.tip.label_form||(state.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.realGroup){var condition=!1,force_suppress=!1;state.tmp.group_context.mystack.length&&(state.output.current.value().parent=state.tmp.group_context.tip.output_tip);var label_form=state.tmp.group_context.tip.label_form;label_form||(label_form=this.strings.label_form_override),state.tmp.group_context.tip.condition?(condition=state.tmp.group_context.tip.condition,force_suppress=state.tmp.group_context.tip.force_suppress):this.strings.reject?(condition={test:this.strings.reject,not:!0},force_suppress=!0,done_vars=[]):this.strings.require&&(condition={test:this.strings.require,not:!1},done_vars=[]),state.tmp.group_context.push({term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:state.tmp.group_context.tip.variable_success,output_tip:state.output.current.tip,label_form:label_form,parallel_conditions:this.strings.set_parallel_condition,condition:condition,force_suppress:force_suppress,done_vars:state.tmp.group_context.tip.done_vars.slice()})}},(execs=[]).push(func),this.execs=execs.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(state.build["publisher-special"]=!0,func=function(state,Item){if(this.strings["subgroup-delimiter"]&&Item.publisher&&Item["publisher-place"]){var publisher_lst=Item.publisher.split(/;\s*/),publisher_place_lst=Item["publisher-place"].split(/;\s*/);publisher_lst.length>1&&publisher_lst.length===publisher_place_lst.length&&(state.publisherOutput=new CSL.PublisherOutput(state,this),state.publisherOutput["publisher-list"]=publisher_lst,state.publisherOutput["publisher-place-list"]=publisher_place_lst)}},this.execs.push(func)),this.juris)){for(var x=0,xlen=target.length;x<xlen;x++)target[x];var choose_start=new CSL.Token("choose",CSL.START);CSL.Node.choose.build.call(choose_start,state,target);var if_start=new CSL.Token("if",CSL.START);func=function(macroName){return function(Item){if(!state.sys.retrieveStyleModule||!CSL.MODULE_MACROS[macroName]||!Item.jurisdiction)return!1;var jurisdictionList=state.getJurisdictionList(Item.jurisdiction);if(!state.opt.jurisdictions_seen[jurisdictionList[0]]){var res=state.retrieveAllStyleModules(jurisdictionList);for(var jurisdiction in res){var macroCount=0;state.juris[jurisdiction]={};for(var myXml=CSL.setupXml(res[jurisdiction]),myNodes=myXml.getNodesByName(myXml.dataObj,"law-module"),i=0,ilen=myNodes.length;i<ilen;i++){var myTypes=myXml.getAttributeValue(myNodes[i],"types");if(myTypes){state.juris[jurisdiction].types={};for(var j=0,jlen=(myTypes=myTypes.split(/\s+/)).length;j<jlen;j++)state.juris[jurisdiction].types[myTypes[j]]=!0}}state.juris[jurisdiction].types||(state.juris[jurisdiction].types=CSL.MODULE_TYPES);for(var i=0,ilen=(myNodes=myXml.getNodesByName(myXml.dataObj,"macro")).length;i<ilen;i++){var myName=myXml.getAttributeValue(myNodes[i],"name");CSL.MODULE_MACROS[myName]?(macroCount++,state.juris[jurisdiction][myName]=[],state.buildTokenLists(myNodes[i],state.juris[jurisdiction][myName]),state.configureTokenList(state.juris[jurisdiction][myName])):CSL.debug('CSL: skipping non-modular macro name "'+myName+'" in module context')}}}for(var i=0,ilen=jurisdictionList.length;i<ilen;i++){jurisdiction=jurisdictionList[i];if(state.juris[jurisdiction]&&state.juris[jurisdiction].types[Item.type])return Item["best-jurisdiction"]=jurisdiction,!0}return!1}}(this.juris),if_start.tests.push(func),if_start.test=state.fun.match.any(if_start,state,if_start.tests),target.push(if_start);var text_node=new CSL.Token("text",CSL.SINGLETON);func=function(state,Item,item){var next=0;if(state.juris[Item["best-jurisdiction"]][this.juris])for(;next<state.juris[Item["best-jurisdiction"]][this.juris].length;)next=CSL.tokenExec.call(state,state.juris[Item["best-jurisdiction"]][this.juris][next],Item,item)},text_node.juris=this.juris,text_node.execs.push(func),target.push(text_node);var if_end=new CSL.Token("if",CSL.END);CSL.Node["if"].build.call(if_end,state,target);var else_start=new CSL.Token("else",CSL.START);CSL.Node["else"].build.call(else_start,state,target)}if(this.tokentype===CSL.END&&(state.build["publisher-special"]&&(state.build["publisher-special"]=!1,"string"==typeof state[state.build.root].opt["name-delimiter"]&&(func=function(state,Item){state.publisherOutput&&(state.publisherOutput.render(),state.publisherOutput=!1)},this.execs.push(func))),func=function(state,Item){if(state.output.endTag(),this.realGroup){var flags=state.tmp.group_context.pop();if(state.tmp.group_context.tip.condition&&(state.tmp.group_context.tip.force_suppress=flags.force_suppress),!flags.force_suppress&&(flags.variable_success||flags.term_intended&&!flags.variable_attempt)){this.isJurisLocatorLabel||(state.tmp.group_context.tip.variable_success=!0);var blobs=state.output.current.value().blobs,pos=state.output.current.value().blobs.length-1;if(!state.tmp.just_looking&&"undefined"!=typeof flags.parallel_conditions){var parallel_condition_object={blobs:blobs,conditions:flags.parallel_conditions,id:Item.id,pos:pos};state.parallel.parallel_conditional_blobs_list.push(parallel_condition_object)}}else{if(state.tmp.group_context.tip.variable_attempt=flags.variable_attempt,flags.force_suppress&&!state.tmp.group_context.tip.condition){state.tmp.group_context.tip.variable_attempt=!0,state.tmp.group_context.tip.variable_success=flags.variable_success_parent;for(var i=0,ilen=flags.done_vars.length;i<ilen;i++)state.tmp.done_vars.indexOf(flags.done_vars[i])>-1&&(state.tmp.done_vars=state.tmp.done_vars.slice(0,i).concat(state.tmp.done_vars.slice(i+1)))}state.output.current.value().blobs&&state.output.current.value().blobs.pop()}}},this.execs.push(func),this.juris)){var else_end=new CSL.Token("else",CSL.END);CSL.Node["else"].build.call(else_end,state,target);var choose_end=new CSL.Token("choose",CSL.END);CSL.Node.choose.build.call(choose_end,state,target)}this.tokentype===CSL.END&&(this.juris||target.push(this),state.build.substitute_level.value()&&state.build.substitute_level.replace(state.build.substitute_level.value()-1),CSL.Util.substituteEnd.call(this,state,target))}},CSL.Node["if"]={build:function(state,target){CSL.Conditions.TopNode.call(this,state,target),target.push(this)},configure:function(state,pos){CSL.Conditions.Configure.call(this,state,pos)}},CSL.Node.conditions={build:function(state,target){this.tokentype===CSL.START&&state.tmp.conditions.addMatch(this.match),this.tokentype===CSL.END&&state.tmp.conditions.matchCombine()}},CSL.Node.condition={build:function(state,target){if(this.tokentype===CSL.SINGLETON){var test=state.fun.match[this.match](this,state,this.tests);state.tmp.conditions.addTest(test)}}},CSL.Conditions={},CSL.Conditions.TopNode=function(state,target){var func;this.tokentype!==CSL.START&&this.tokentype!==CSL.SINGLETON||(this.locale&&(state.opt.lang=this.locale),this.tests&&this.tests.length?this.test=state.fun.match[this.match](this,state,this.tests):state.tmp.conditions=new CSL.Conditions.Engine(state,this)),this.tokentype!==CSL.END&&this.tokentype!==CSL.SINGLETON||(func=function(state,Item){return this.locale_default&&(state.output.current.value().old_locale=this.locale_default,state.output.closeLevel("empty"),state.opt.lang=this.locale_default),this[state.tmp.jump.value()]},this.execs.push(func),this.locale_default&&(state.opt.lang=this.locale_default))},CSL.Conditions.Configure=function(state,pos){this.tokentype===CSL.START?(this.fail=state.configure.fail.slice(-1)[0],this.succeed=this.next,state.configure.fail[state.configure.fail.length-1]=pos):this.tokentype===CSL.SINGLETON?(this.fail=this.next,this.succeed=state.configure.succeed.slice(-1)[0],state.configure.fail[state.configure.fail.length-1]=pos):(this.succeed=state.configure.succeed.slice(-1)[0],this.fail=this.next)},CSL.Conditions.Engine=function(state,token){this.token=token,this.state=state},CSL.Conditions.Engine.prototype.addTest=function(test){this.token.tests.push(test)},CSL.Conditions.Engine.prototype.addMatch=function(match){this.token.match=match},CSL.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},CSL.Node.info={build:function(state,target){this.tokentype===CSL.START?state.build.skip="info":state.build.skip=!1}},CSL.Node.institution={build:function(state,target){if([CSL.SINGLETON,CSL.START].indexOf(this.tokentype)>-1){var func=function(state,Item){"string"==typeof this.strings.delimiter?state.tmp.institution_delimiter=this.strings.delimiter:state.tmp.institution_delimiter=state.tmp.name_delimiter;"text"===state.inheritOpt(this,"and")?this.and_term=state.getTerm("and","long",0):"symbol"===state.inheritOpt(this,"and")?state.opt.development_extensions.expect_and_symbol_form?this.and_term=state.getTerm("and","symbol",0):this.and_term="&":"none"===state.inheritOpt(this,"and")&&(this.and_term=state.tmp.institution_delimiter),"undefined"==typeof this.and_term&&state.tmp.and_term&&(this.and_term=state.getTerm("and","long",0)),CSL.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof state.tmp.institution_delimiter&&(this.and_prefix_multiple=state.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===state.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=state.tmp.institution_delimiter:"never"===state.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},"undefined"!=typeof this.and_term?(state.output.append(this.and_term,"empty",!0),this.and.single=state.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,state.output.append(this.and_term,"empty",!0),this.and.multiple=state.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new CSL.Blob(state.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new CSL.Blob(state.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),state.nameOutput.institution=this};this.execs.push(func)}target.push(this)},configure:function(state,pos){[CSL.SINGLETON,CSL.START].indexOf(this.tokentype)>-1&&(state.build.has_institution=!0)}},CSL.Node["institution-part"]={build:function(state,target){var func;"long"===this.strings.name?func=this.strings["if-short"]?function(state,Item){state.nameOutput.institutionpart["long-with-short"]=this}:function(state,Item){state.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(func=function(state,Item){state.nameOutput.institutionpart.short=this}),this.execs.push(func),target.push(this)}},CSL.Node.key={build:function(state,target){target=state[state.build.root+"_sort"].tokens;var func,start_key=new CSL.Token("key",CSL.START);state.tmp.root=state.build.root,start_key.strings["et-al-min"]=state.inheritOpt(this,"et-al-min"),start_key.strings["et-al-use-first"]=state.inheritOpt(this,"et-al-use-first"),start_key.strings["et-al-use-last"]=state.inheritOpt(this,"et-al-use-last"),func=function(state,Item){state.tmp.done_vars=[]},start_key.execs.push(func),state.opt.citation_number_sort_direction=this.strings.sort_direction,func=function(state,Item){state.output.openLevel("empty")},start_key.execs.push(func);var sort_direction=[];if(this.strings.sort_direction===CSL.DESCENDING?(sort_direction.push(1),sort_direction.push(-1)):(sort_direction.push(-1),sort_direction.push(1)),state[state.build.area].opt.sort_directions.push(sort_direction),CSL.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(state.build.date_key=!0),func=function(state,Item){state.tmp.sort_key_flag=!0,state.inheritOpt(this,"et-al-min")&&(state.tmp["et-al-min"]=state.inheritOpt(this,"et-al-min")),state.inheritOpt(this,"et-al-use-first")&&(state.tmp["et-al-use-first"]=state.inheritOpt(this,"et-al-use-first")),"boolean"==typeof state.inheritOpt(this,"et-al-use-last")&&(state.tmp["et-al-use-last"]=state.inheritOpt(this,"et-al-use-last"))},start_key.execs.push(func),target.push(start_key),this.variables.length){var variable=this.variables[0];if("citation-number"===variable&&("citation"===state.build.area&&"_sort"===state.build.extension&&(state.opt.citation_number_sort=!1),"bibliography"===state.build.root&&"_sort"===state.build.extension&&(state.opt.citation_number_sort_used=!1)),CSL.CREATORS.indexOf(variable)>-1){var names_start_token=new CSL.Token("names",CSL.START);names_start_token.tokentype=CSL.START,names_start_token.variables=this.variables,CSL.Node.names.build.call(names_start_token,state,target);var name_token=new CSL.Token("name",CSL.SINGLETON);name_token.tokentype=CSL.SINGLETON,name_token.strings["name-as-sort-order"]="all",name_token.strings["sort-separator"]=" ",name_token.strings["et-al-use-last"]=state.inheritOpt(this,"et-al-use-last"),name_token.strings["et-al-min"]=state.inheritOpt(this,"et-al-min"),name_token.strings["et-al-use-first"]=state.inheritOpt(this,"et-al-use-first"),CSL.Node.name.build.call(name_token,state,target);var institution_token=new CSL.Token("institution",CSL.SINGLETON);institution_token.tokentype=CSL.SINGLETON,CSL.Node.institution.build.call(institution_token,state,target);var names_end_token=new CSL.Token("names",CSL.END);names_end_token.tokentype=CSL.END,CSL.Node.names.build.call(names_end_token,state,target)}else{var single_text=new CSL.Token("text",CSL.SINGLETON);if(single_text.dateparts=this.dateparts,CSL.NUMERIC_VARIABLES.indexOf(variable)>-1)func=function(state,Item){var num;num=!1,(num="citation-number"===variable?state.registry.registry[Item.id].seq.toString():Item[variable])&&(num=CSL.Util.padding(num)),state.output.append(num,this)};else if("citation-label"===variable)func=function(state,Item){var trigraph=state.getCitationLabel(Item);state.output.append(trigraph,this)};else if(CSL.DATE_VARIABLES.indexOf(variable)>-1)func=CSL.dateAsSortKey,single_text.variables=this.variables;else if("title"===variable){func=state.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else func=function(state,Item){var varval=Item[variable];state.output.append(varval,"empty")};single_text.execs.push(func),target.push(single_text)}}else{var token=new CSL.Token("text",CSL.SINGLETON);token.postponed_macro=this.postponed_macro,CSL.expandMacro.call(state,token,target)}var end_key=new CSL.Token("key",CSL.END);func=function(state,Item){var keystring=state.output.string(state,state.output.queue);state.sys.normalizeUnicode&&(keystring=state.sys.normalizeUnicode(keystring)),""===(keystring=keystring?keystring.split(" ").join(state.opt.sort_sep)+state.opt.sort_sep:"")&&(keystring=undefined),("string"!=typeof keystring||state.tmp.empty_date)&&(keystring=undefined,state.tmp.empty_date=!1),state[state[state.tmp.area].root+"_sort"].keys.push(keystring),state.tmp.value=[]},end_key.execs.push(func),state.build.date_key&&("citation"===state.build.area&&"_sort"===state.build.extension&&(state[state.build.area].opt.sort_directions.push([-1,1]),func=function(state,Item){var year_suffix=state.registry.registry[Item.id].disambig.year_suffix;year_suffix||(year_suffix=0);var key=CSL.Util.padding(""+year_suffix);state[state.tmp.area].keys.push(key)},end_key.execs.push(func)),state.build.date_key=!1),func=function(state,Item){state.tmp["et-al-min"]=undefined,state.tmp["et-al-use-first"]=undefined,state.tmp["et-al-use-last"]=undefined,state.tmp.sort_key_flag=!1},end_key.execs.push(func),target.push(end_key)}},CSL.Node.label={build:function(state,target){if(this.strings.term){this.strings.form;var func=function(state,Item,item){var termtxt=CSL.evaluateLabel(this,state,Item,item);item&&"locator"===this.strings.term&&(state.parallel.StartVariable("label"),state.parallel.AppendToVariable(item.label),item.section_form_override=this.strings.form),termtxt&&(state.tmp.group_context.tip.term_intended=!0),CSL.UPDATE_GROUP_CONTEXT_CONDITION(state,termtxt),-1===termtxt.indexOf("%s")&&state.output.append(termtxt,this),item&&"locator"===this.strings.term&&state.parallel.CloseVariable()};this.execs.push(func)}else{var namevars=state.build.names_variables.slice(-1)[0];state.build.name_label||(state.build.name_label={});for(var i=0,ilen=namevars.length;i<ilen;i+=1)state.build.name_label[namevars[i]]||(state.build.name_label[namevars[i]]={});if(state.build.name_flag)for(var i=0,ilen=namevars.length;i<ilen;i+=1)state.build.name_label[namevars[i]].after=this;else for(var i=0,ilen=namevars.length;i<ilen;i+=1)state.build.name_label[namevars[i]].before=this}target.push(this)}},CSL.Node.layout={build:function(state,target){function setSuffix(){"bibliography"===state.build.area&&(suffix_token=new CSL.Token("text",CSL.SINGLETON),func=function(state,Item,item){var suffix;state.tmp.cite_locales[state.tmp.cite_locales.length-1];suffix=state.tmp.cite_affixes[state.tmp.area][state.tmp.last_cite_locale]?state.tmp.cite_affixes[state.tmp.area][state.tmp.last_cite_locale].suffix:state.bibliography.opt.layout_suffix;var topblob=state.output.current.value();state.opt.using_display?topblob.blobs[topblob.blobs.length-1].strings.suffix=suffix:topblob.strings.suffix=suffix,state.bibliography.opt["second-field-align"]&&state.output.endTag("bib_other")},suffix_token.execs.push(func),target.push(suffix_token))}var func,prefix_token,suffix_token,tok;this.tokentype===CSL.START&&(this.locale_raw?state.build.current_default_locale=this.locale_raw:state.build.current_default_locale=state.opt["default-locale"],func=function(state,Item,item){state.opt.development_extensions.apply_citation_wrapper&&state.sys.wrapCitationEntry&&!state.tmp.just_looking&&Item.system_id&&"citation"===state.tmp.area&&(cite_entry=new CSL.Token("group",CSL.START),cite_entry.decorations=[["@cite","entry"]],state.output.startTag("cite_entry",cite_entry),state.output.current.value().item_id=Item.system_id,item&&(state.output.current.value().locator_txt=item.locator_txt,state.output.current.value().suffix_txt=item.suffix_txt))},this.execs.push(func)),this.tokentype!==CSL.START||state.tmp.cite_affixes[state.build.area]||(func=function(state,Item){state.tmp.done_vars=[],!state.tmp.just_looking&&state.registry.registry[Item.id].parallel&&state.tmp.done_vars.push("first-reference-note-number"),state.tmp.rendered_name=!1},this.execs.push(func),func=function(state,Item){state.tmp.sort_key_flag=!1},this.execs.push(func),func=function(state,Item){state.tmp.nameset_counter=0},this.execs.push(func),func=function(state,Item){var tok=new CSL.Token;state.opt.development_extensions.rtl_support&&["ar","he","fa","ur","yi","ps","syr"].indexOf(Item.language)>-1&&((tok=new CSL.Token).strings.prefix="‫",tok.strings.suffix="‬"),state.output.openLevel(tok)},this.execs.push(func),target.push(this),state.opt.development_extensions.rtl_support,"citation"===state.build.area&&(prefix_token=new CSL.Token("text",CSL.SINGLETON),func=function(state,Item,item){var sp;if(item&&item.prefix){sp="";var test_prefix=item.prefix.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),test_char=test_prefix.slice(-1);test_prefix.match(CSL.ENDSWITH_ROMANESQUE_REGEXP)?sp=" ":CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(test_char)>-1?sp=" ":test_char.match(/[\)\],0-9]/)&&(sp=" ");var ignorePredecessor=!1;CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(test_char)>-1&&item.prefix.trim().indexOf(" ")>-1&&(state.tmp.term_predecessor=!1,ignorePredecessor=!0),prefix=(item.prefix+sp).replace(/\s+/g," "),state.tmp.just_looking||(prefix=state.output.checkNestedBrace.update(prefix)),state.output.append(prefix,this,!1,ignorePredecessor)}},prefix_token.execs.push(func),target.push(prefix_token)));var my_tok;if(this.locale_raw&&((my_tok=new CSL.Token("dummy",CSL.START)).locale=this.locale_raw,my_tok.strings.delimiter=this.strings.delimiter,my_tok.strings.suffix=this.strings.suffix,state.tmp.cite_affixes[state.build.area]||(state.tmp.cite_affixes[state.build.area]={})),this.tokentype===CSL.START&&(state.build.layout_flag=!0,this.locale_raw||(state[state.tmp.area].opt.topdecor=[this.decorations],state[state.tmp.area+"_sort"].opt.topdecor=[this.decorations],state[state.build.area].opt.layout_prefix=this.strings.prefix,state[state.build.area].opt.layout_suffix=this.strings.suffix,state[state.build.area].opt.layout_delimiter=this.strings.delimiter,state[state.build.area].opt.layout_decorations=this.decorations,state.tmp.cite_affixes[state.build.area]&&(tok=new CSL.Token("else",CSL.START),CSL.Node["else"].build.call(tok,state,target))),this.locale_raw)){if(state.build.layout_locale_flag)my_tok.name="else-if",CSL.Attributes["@locale-internal"].call(my_tok,state,this.locale_raw),CSL.Node["else-if"].build.call(my_tok,state,target);else{var choose_tok=new CSL.Token("choose",CSL.START);CSL.Node.choose.build.call(choose_tok,state,target),my_tok.name="if",CSL.Attributes["@locale-internal"].call(my_tok,state,this.locale_raw),CSL.Node["if"].build.call(my_tok,state,target)}state.tmp.cite_affixes[state.build.area][my_tok.locale]={},state.tmp.cite_affixes[state.build.area][my_tok.locale].delimiter=this.strings.delimiter,state.tmp.cite_affixes[state.build.area][my_tok.locale].suffix=this.strings.suffix}this.tokentype===CSL.END&&(this.locale_raw&&(setSuffix(),state.build.layout_locale_flag?(my_tok.name="else-if",my_tok.tokentype=CSL.END,CSL.Attributes["@locale-internal"].call(my_tok,state,this.locale_raw),CSL.Node["else-if"].build.call(my_tok,state,target)):(my_tok.name="if",my_tok.tokentype=CSL.END,CSL.Attributes["@locale-internal"].call(my_tok,state,this.locale_raw),CSL.Node["if"].build.call(my_tok,state,target),state.build.layout_locale_flag=!0)),this.locale_raw||(setSuffix(),state.tmp.cite_affixes[state.build.area]&&state.build.layout_locale_flag&&(tok=new CSL.Token("else",CSL.END),CSL.Node["else"].build.call(tok,state,target),tok=new CSL.Token("choose",CSL.END),CSL.Node.choose.build.call(tok,state,target)),state.build_layout_locale_flag=!0,"citation"===state.build.area&&(suffix_token=new CSL.Token("text",CSL.SINGLETON),func=function(state,Item,item){var sp;if(item&&item.suffix){sp="",(item.suffix.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(item.suffix.slice(0,1))>-1)&&(sp=" ");var suffix=item.suffix;state.tmp.just_looking||(suffix=state.output.checkNestedBrace.update(suffix)),state.output.append(sp+suffix,this)}},suffix_token.execs.push(func),target.push(suffix_token)),func=function(state,Item){state.output.closeLevel()},this.execs.push(func),func=function(state,Item){state.opt.development_extensions.apply_citation_wrapper&&state.sys.wrapCitationEntry&&!state.tmp.just_looking&&Item.system_id&&"citation"===state.tmp.area&&state.output.endTag()},this.execs.push(func),target.push(this),state.build.layout_flag=!1,state.build.layout_locale_flag=!1))}},CSL.Node.macro={build:function(state,target){}},CSL.NameOutput=function(state,Item,item,variables){this.debug=!1,this.state=state,this.Item=Item,this.item=item,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},CSL.NameOutput.prototype.init=function(names){this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=names,this.variables=names.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var i=0,ilen=this.variables.length;i<ilen;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this["et-al"]=undefined,this["with"]=undefined,this.name=undefined,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length},CSL.NameOutput.prototype.reinit=function(names,labelVariable){if(this.labelVariable=labelVariable,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=names.variables;var oldval=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,ilen=this.variables.length;i<ilen;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,CSL.LITERAL),this.state.tmp.value=oldval}},CSL.NameOutput.prototype.outputNames=function(){var variables=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=CSL.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",i=0,ilen=this.family.execs.length;i<ilen;i+=1)this.family.execs[i].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=CSL.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",i=0,ilen=this.given.execs.length;i<ilen;i+=1)this.given.execs[i].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"===this.name.strings.form)return void((this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0));this.setEtAlParameters(),this.setCommonTerm(),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var blob_list=[];for(i=0,ilen=variables.length;i<ilen;i+=1){var v=variables[i],institution_sets=[],institutions=!1,varblob=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var j=0,jlen=this.institutions[v].length;j<jlen;j+=1)institution_sets.push(this.joinPersonsAndInstitutions([this.persons[v][j],this.institutions[v][j]]));if(this.institutions[v].length){var pos=this.nameset_base+this.variable_offset[v];this.freeters[v].length&&(pos+=1),institutions=this.joinInstitutionSets(institution_sets,pos)}varblob=this.joinFreetersAndInstitutionSets([this.freeters[v],institutions])}else varblob=this._join([this.freeters[v]],"");if(varblob&&(this.state.tmp.extension||(varblob=this._applyLabels(varblob,v)),blob_list.push(varblob)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),i=0,ilen=blob_list.length;i<ilen;i+=1)this.state.output.append(blob_list[i],"literal",!0);this.state.output.closeLevel("empty");var blob=this.state.output.pop(),namesToken=CSL.Util.cloneToken(this.names);if(this.state.output.append(blob,namesToken),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.state.tmp.name_node.top=this.state.output.current.value(),"authority"!==variables[0]){var name_node_string=[],nameobjs=this.Item[variables[0]];if(nameobjs)for(var i=0,ilen=nameobjs.length;i<ilen;i+=1)substring=CSL.Util.Names.getRawName(nameobjs[i]),substring&&name_node_string.push(substring);(name_node_string=name_node_string.join(", "))&&(this.state.tmp.name_node.string=name_node_string)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type){var author_title=[];this.state.tmp.first_name_string&&author_title.push(this.state.tmp.first_name_string),this.Item.title&&author_title.push(this.Item.title),(author_title=author_title.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",author_title),this.state.transform.abbrevs["default"].classic[author_title]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs["default"].classic[author_title],"empty",!0),blob=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(blob)))}this._collapseAuthor(),this.variables=[]},CSL.NameOutput.prototype._applyLabels=function(blob,v){var txt;if(!this.label||!this.label[this.labelVariable])return blob;var plural=0,num=this.freeters_count[v]+this.institutions_count[v];if(num>1)plural=1;else{for(var i=0,ilen=this.persons[v].length;i<ilen;i+=1)num+=this.persons_count[v][i];num>1&&(plural=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(plural=this.label[this.labelVariable].before.strings.plural),txt=this._buildLabel(v,plural,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(txt,this.label[this.labelVariable].before,!0),this.state.output.append(blob,"literal",!0),this.state.output.closeLevel("empty"),blob=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(plural=this.label[this.labelVariable].after.strings.plural),txt=this._buildLabel(v,plural,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(blob,"literal",!0),this.state.output.append(txt,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),blob=this.state.output.pop()),blob},CSL.NameOutput.prototype._buildLabel=function(term,plural,position,v){this.common_term&&(term=this.common_term);var ret=!1,node=this.label[v][position];return node&&(ret=CSL.castLabel(this.state,node,term,plural,CSL.TOLERANT)),ret},CSL.NameOutput.prototype._collapseAuthor=function(){var myqueue,mystr,oldchars;0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.item&&this.item["suppress-author"]&&this._first_creator_variable==this.variables[0]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(mystr="",myqueue=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,oldchars=this.state.tmp.offset_characters,myqueue&&(mystr=this.state.output.string(this.state,myqueue,!1)),this.state.tmp.offset_characters=oldchars,this.state.registry.authorstrings[this.Item.id]=mystr):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(mystr="",myqueue=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,oldchars=this.state.tmp.offset_characters,myqueue&&(mystr=this.state.output.string(this.state,myqueue,!1)),mystr===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=oldchars),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=mystr,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=oldchars,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1))))},CSL.NameOutput.prototype.isPerson=function(value){return!(value.literal||!value.given&&value.family&&value.isInstitution)},CSL.NameOutput.prototype.truncatePersonalNameLists=function(){var v,i,ilen,chopvar;this.freeters_count={},this.persons_count={},this.institutions_count={};for(v in this.freeters)this.freeters.hasOwnProperty(v)&&(this.freeters_count[v]=this.freeters[v].length,this.freeters[v]=this._truncateNameList(this.freeters,v));for(v in this.persons)if(this.persons.hasOwnProperty(v))for(this.institutions_count[v]=this.institutions[v].length,this._truncateNameList(this.institutions,v),this.persons[v]=this.persons[v].slice(0,this.institutions[v].length),this.persons_count[v]=[],j=0,jlen=this.persons[v].length;j<jlen;j+=1)this.persons_count[v][j]=this.persons[v][j].length,this.persons[v][j]=this._truncateNameList(this.persons,v,j);if((chopvar=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&v)||this._please_chop)for(i=0,ilen=this.variables.length;i<ilen;i+=1){v=this.variables[i],this.freeters[v].length&&(this._please_chop===v?(this.freeters[v]=this.freeters[v].slice(1),this.freeters_count[v]+=-1,this._please_chop=!1):chopvar&&!this._please_chop&&(this.freeters[v]=this.freeters[v].slice(0,1),this.freeters_count[v]=1,this.institutions[v]=[],this.persons[v]=[],this._please_chop=chopvar));for(var j=0,jlen=this.persons[v].length;j<jlen;j++)if(this.persons[v][j].length){if(this._please_chop===v){this.persons[v][j]=this.persons[v][j].slice(1),this.persons_count[v][j]+=-1,this._please_chop=!1;break}if(chopvar&&!this._please_chop){this.freeters[v]=this.persons[v][j].slice(0,1),this.freeters_count[v]=1,this.institutions[v]=[],this.persons[v]=[],[],this._please_chop=chopvar;break}}this.institutions[v].length&&(this._please_chop===v?(this.institutions[v]=this.institutions[v].slice(1),this.institutions_count[v]+=-1,this._please_chop=!1):chopvar&&!this._please_chop&&(this.institutions[v]=this.institutions[v].slice(0,1),this.institutions_count[v]=1,[],this._please_chop=chopvar))}for(i=0,ilen=this.variables.length;i<ilen;i+=1){this.institutions[v].length&&(this.nameset_offset+=1);for(var j=0,jlen=this.persons[v].length;j<jlen;j++)this.persons[v][j].length&&(this.nameset_offset+=1)}},CSL.NameOutput.prototype._truncateNameList=function(container,variable,index){var lst;if(lst=void 0===index?container[variable]:container[variable][index],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&lst.length>50&&lst.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var limit=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;lst=lst.slice(0,limit+1).concat(lst.slice(-1))}return lst},CSL.NameOutput.prototype.divideAndTransliterateNames=function(){var i,ilen,j,jlen,Item=this.Item,variables=this.variables;for(this.varnames=variables.slice(),this.freeters={},this.persons={},this.institutions={},i=0,ilen=variables.length;i<ilen;i+=1){var v=variables[i];this.variable_offset[v]=this.nameset_offset;var values=this._normalizeVariableValue(Item,v);if(this.name.strings["suppress-min"]&&values.length>=this.name.strings["suppress-min"]&&(values=[]),this.name.strings["suppress-max"]&&values.length<=this.name.strings["suppress-max"]&&(values=[]),this._getFreeters(v,values),this._getPersonsAndInstitutions(v,values),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[v]=[],j=0,jlen=this.persons[v].length;j<jlen;j+=1)this.persons[v][j]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[v]=[],this.freeters[v]=this.freeters[v].concat(this.persons[v]),j=0,jlen=this.persons[v].length;j<jlen;j+=1)for(var k=0,klen=this.persons[v][j].length;k<klen;k+=1)this.freeters[v].push(this.persons[v][j][k]);this.persons[v]=[]}}},CSL.NameOutput.prototype._normalizeVariableValue=function(Item,variable){var names;return"string"==typeof Item[variable]||"number"==typeof Item[variable]?(CSL.debug('name variable "'+variable+'" is string or number, not array. Attempting to fix.'),names=[{literal:Item[variable]+""}]):Item[variable]?"number"!=typeof Item[variable].length?(CSL.debug('name variable "'+variable+'" is object, not array. Attempting to fix.'),Item[variable]=[Item[variable]],names=Item[variable].slice()):names=Item[variable].slice():names=[],names},CSL.NameOutput.prototype._getFreeters=function(v,values){if(this.freeters[v]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(i=values.length-1;i>-1&&this.isPerson(values[i]);i--)(value=this._checkNickname(values.pop()))&&this.freeters[v].push(value);else for(var i=values.length-1;i>-1;i--){value=values.pop();if(this.isPerson(value))var value=this._checkNickname(value);this.freeters[v].push(value)}this.freeters[v].reverse(),this.freeters[v].length&&(this.nameset_offset+=1)},CSL.NameOutput.prototype._getPersonsAndInstitutions=function(v,values){if(this.persons[v]=[],this.institutions[v]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var persons=[],has_affiliates=!1,first=!0,i=values.length-1;i>-1;i+=-1)if(this.isPerson(values[i])){var value=this._checkNickname(values[i]);value&&persons.push(value)}else has_affiliates=!0,this.institutions[v].push(values[i]),first||(persons.reverse(),this.persons[v].push(persons),persons=[]),first=!1;has_affiliates&&(persons.reverse(),this.persons[v].push(persons),this.persons[v].reverse(),this.institutions[v].reverse())}},CSL.NameOutput.prototype._clearValues=function(values){for(var i=values.length-1;i>-1;i+=-1)values.pop()},CSL.NameOutput.prototype._checkNickname=function(name){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var author="";if((author=CSL.Util.Names.getRawName(name))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){this.state.transform.loadAbbreviation("default","nickname",author);var myLocalName=this.state.transform.abbrevs["default"].nickname[author];myLocalName&&(name="!here>>>"!==myLocalName&&{family:myLocalName,given:""})}}return name},CSL.NameOutput.prototype.joinPersons=function(blobs,pos,j,tokenname){return tokenname||(tokenname="name"),void 0===j?1===this.etal_spec[pos].freeters?this._joinEtAl(blobs,tokenname):2===this.etal_spec[pos].freeters?this._joinEllipsis(blobs,tokenname):this.state.tmp.sort_key_flag?this._join(blobs," "):this._joinAnd(blobs,tokenname):1===this.etal_spec[pos].persons[j]?this._joinEtAl(blobs,tokenname):2===this.etal_spec[pos].persons[j]?this._joinEllipsis(blobs,tokenname):this.state.tmp.sort_key_flag?this._join(blobs," "):this._joinAnd(blobs,tokenname)},CSL.NameOutput.prototype.joinInstitutionSets=function(blobs,pos){return 1===this.etal_spec[pos].institutions?this._joinEtAl(blobs,"institution"):2===this.etal_spec[pos].institutions?this._joinEllipsis(blobs,"institution"):this._joinAnd(blobs,"institution")},CSL.NameOutput.prototype.joinPersonsAndInstitutions=function(blobs){return this._join(blobs,this.state.tmp.name_delimiter)},CSL.NameOutput.prototype.joinFreetersAndInstitutionSets=function(blobs){return this._join(blobs,"[never here]",this["with"].single,this["with"].multiple)},CSL.NameOutput.prototype._joinEtAl=function(blobs,tokenname){var blob=this._join(blobs,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(tokenname)),this.state.output.current.value().strings.delimiter="",this.state.output.append(blob,"literal",!0),blobs.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===blobs.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},CSL.NameOutput.prototype._joinEllipsis=function(blobs,tokenname){return this._join(blobs,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,tokenname)},CSL.NameOutput.prototype._joinAnd=function(blobs,tokenname){return this._join(blobs,this.state.inheritOpt(this[tokenname],"delimiter",tokenname+"-delimiter",", "),this[tokenname].and.single,this[tokenname].and.multiple,tokenname)},CSL.NameOutput.prototype._join=function(blobs,delimiter,single,multiple,tokenname){var i,ilen;if(!blobs)return!1;for(i=blobs.length-1;i>-1;i+=-1)blobs[i]&&0!==blobs[i].length&&blobs[i].blobs.length||(blobs=blobs.slice(0,i).concat(blobs.slice(i+1)));if(!blobs.length)return!1;if(single&&2===blobs.length)single&&(single=new CSL.Blob(single.blobs,single)),blobs=[blobs[0],single,blobs[1]];else{var delimiter_offset;for(delimiter_offset=multiple?2:1,i=0,ilen=blobs.length-delimiter_offset;i<ilen;i+=1)blobs[i].strings.suffix+=delimiter;if(blobs.length>1){var blob=blobs.pop();multiple?(multiple=new CSL.Blob(multiple.blobs,multiple),blobs.push(multiple)):(single&&(single=new CSL.Blob(single.blobs,single)),blobs.push(single)),blobs.push(blob)}}for(this.state.output.openLevel(),single&&multiple&&(this.state.output.current.value().strings.delimiter=""),i=0,ilen=blobs.length;i<ilen;i+=1)this.state.output.append(blobs[i],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},CSL.NameOutput.prototype._getToken=function(tokenname){var token=this[tokenname];return"institution"===tokenname?new CSL.Token:token},CSL.NameOutput.prototype.setCommonTerm=function(){var varnames=this.variables.slice();if(varnames.sort(),this.common_term=varnames.join(""),!this.common_term)return!1;var has_term=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?has_term=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(has_term=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!has_term||this.variables.length<2)return void(this.common_term=!1);for(var freeters_offset=0,i=0,ilen=this.variables.length-1;i<ilen;i+=1){var v=this.variables[i],vv=this.variables[i+1];if(this.freeters[v].length||this.freeters[vv].length){if(this.etal_spec[v].freeters!==this.etal_spec[vv].freeters||!this._compareNamesets(this.freeters[v],this.freeters[vv]))return void(this.common_term=!1);freeters_offset+=1}if(this.persons[v].length!==this.persons[vv].length)return void(this.common_term=!1);for(var j=0,jlen=this.persons[v].length;j<jlen;j+=1)if(this.etal_spec[v].persons[j]!==this.etal_spec[vv].persons[j]||!this._compareNamesets(this.persons[v][j],this.persons[vv][j]))return void(this.common_term=!1)}},CSL.NameOutput.prototype._compareNamesets=function(base_nameset,nameset){if(base_nameset.length!==nameset.length)return!1;for(var i=0,ilen=nameset.length;i<ilen;i+=1){nameset[i];for(var j=0,jlen=CSL.NAME_PARTS.length;j<jlen;j+=1){var part=CSL.NAME_PARTS[j];if(!base_nameset[i]||base_nameset[i][part]!=nameset[i][part])return!1}}return!0},CSL.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var pos,i=0,ilen=this.variables.length;i<ilen;i+=1){var v=this.variables[i];pos=this.nameset_base+i,this.freeters[v].length&&(this.state.tmp.names_max.push(this.freeters[v].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,v,pos),this.names_count+=this.freeters[v].length),this.institutions[v].length&&(this.state.tmp.names_max.push(this.institutions[v].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,v,pos),this.persons[v]=this.persons[v].slice(0,this.institutions[v].length),this.names_count+=this.institutions[v].length);for(var j=0,jlen=this.persons[v].length;j<jlen;j+=1)this.persons[v][j].length&&(this.state.tmp.names_max.push(this.persons[v][j].length,"literal"),this._imposeNameConstraints(this.persons[v],this.persons_count[v],j,pos),this.names_count+=this.persons[v][j].length)}},CSL.NameOutput.prototype._imposeNameConstraints=function(lst,count,key,pos){var display_names=lst[key],discretionary_names_length=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[pos]?discretionary_names_length=this.state.tmp.disambig_request.names[pos]:count[key]>=this.etal_min&&(discretionary_names_length=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[pos]>this.etal_use_first?discretionary_names_length=count[key]<this.etal_min?count[key]:this.state.tmp.disambig_request.names[pos]:count[key]>=this.etal_min&&(discretionary_names_length=this.etal_use_first),this.etal_use_last&&discretionary_names_length>this.etal_min-2&&(discretionary_names_length=this.etal_min-2));var sane=this.etal_min>=this.etal_use_first,overlength=count[key]>discretionary_names_length;discretionary_names_length>count[key]&&(discretionary_names_length=display_names.length),sane&&overlength&&(this.etal_use_last?lst[key]=display_names.slice(0,discretionary_names_length).concat(display_names.slice(-1)):lst[key]=display_names.slice(0,discretionary_names_length)),this.state.tmp.disambig_settings.names[pos]=lst[key].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},CSL.NameOutput.prototype.disambigNames=function(){for(var pos,i=0,ilen=this.variables.length;i<ilen;i+=1){var v=this.variables[i];if(pos=this.nameset_base+i,this.freeters[v].length&&this._runDisambigNames(this.freeters[v],pos),this.institutions[v].length){"undefined"==typeof this.state.tmp.disambig_settings.givens[pos]&&(this.state.tmp.disambig_settings.givens[pos]=[]);for(var j=0,jlen=this.institutions[v].length;j<jlen;j+=1)"undefined"==typeof this.state.tmp.disambig_settings.givens[pos][j]&&this.state.tmp.disambig_settings.givens[pos].push(2)}for(var j=0,jlen=this.persons[v].length;j<jlen;j+=1)this.persons[v][j].length&&this._runDisambigNames(this.persons[v][j],pos)}},CSL.NameOutput.prototype._runDisambigNames=function(lst,pos){var myform,myinitials,param,i,ilen,paramx;for(i=0,ilen=lst.length;i<ilen;i+=1)if(lst[i].given||lst[i].family){if(myinitials=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,lst[i],i),void 0===this.state.tmp.disambig_settings.givens[pos])for(var j=0,jlen=pos+1;j<jlen;j+=1)this.state.tmp.disambig_settings.givens[j]||(this.state.tmp.disambig_settings.givens[j]=[]);if(void 0===this.state.tmp.disambig_settings.givens[pos][i]&&(myform=this.state.inheritOpt(this.name,"form","name-form","long"),param=this.state.registry.namereg.evalname(""+this.Item.id,lst[i],i,0,myform,myinitials),this.state.tmp.disambig_settings.givens[pos].push(param)),myform=this.state.inheritOpt(this.name,"form","name-form","long"),paramx=this.state.registry.namereg.evalname(""+this.Item.id,lst[i],i,0,myform,myinitials),this.state.tmp.disambig_request){var val=this.state.tmp.disambig_settings.givens[pos][i];1!==val||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&"undefined"!=typeof lst[i].given||(val=2),param=val,this.state.opt["disambiguate-add-givenname"]&&lst[i].given&&(param=this.state.registry.namereg.evalname(""+this.Item.id,lst[i],i,param,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else param=paramx;!this.state.tmp.just_looking&&this.item&&this.item.position===CSL.POSITION_FIRST&&paramx>param&&(param=paramx),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[pos][i]=param,"string"!=typeof myinitials||"undefined"!=typeof this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},CSL.NameOutput.prototype.getEtAlConfig=function(){var item=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===item&&(item={}),item.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},CSL.NameOutput.prototype.setEtAlParameters=function(){var i,ilen,j,jlen;for(i=0,ilen=this.variables.length;i<ilen;i+=1){var v=this.variables[i];for("undefined"==typeof this.etal_spec[v]&&(this.etal_spec[v]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+i]=this.etal_spec[v],this.freeters[v].length&&this._setEtAlParameter("freeters",v),j=0,jlen=this.persons[v].length;j<jlen;j+=1)"undefined"==typeof this.etal_spec[v][j]&&(this.etal_spec[v].persons[j]=0),this._setEtAlParameter("persons",v,j);this.institutions[v].length&&this._setEtAlParameter("institutions",v)}},CSL.NameOutput.prototype._setEtAlParameter=function(type,v,j){var lst,count;"persons"===type?(lst=this.persons[v][j],count=this.persons_count[v][j]):(lst=this[type][v],count=this[type+"_count"][v]),lst.length<count&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===type?this.etal_spec[v].persons[j]=2:this.etal_spec[v][type]=2:"persons"===type?this.etal_spec[v].persons[j]=1:this.etal_spec[v][type]=1:"persons"===type?this.etal_spec[v].persons[j]=0:this.etal_spec[v][type]=0},CSL.NameOutput.prototype.renderAllNames=function(){for(var pos,i=0,ilen=this.variables.length;i<ilen;i+=1){var v=this.variables[i];(this.freeters[v].length||this.institutions[v].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),pos=this.nameset_base+i,this.freeters[v].length&&(this.freeters[v]=this._renderNames(v,this.freeters[v],pos));for(var j=0,jlen=this.institutions[v].length;j<jlen;j+=1)this.persons[v][j]=this._renderNames(v,this.persons[v][j],pos,j)}this.renderInstitutionNames()},CSL.NameOutput.prototype.renderInstitutionNames=function(){for(var i=0,ilen=this.variables.length;i<ilen;i+=1)for(var v=this.variables[i],j=0,jlen=this.institutions[v].length;j<jlen;j+=1){var localesets,name=this.institutions[v][j];if(localesets=this.state.tmp.extension?["sort"]:name.isInstitution||name.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons,slot={primary:"locale-orig",secondary:!1,tertiary:!1},localesets)for(var slotnames=["primary","secondary","tertiary"],k=0,klen=slotnames.length;k<klen&&!(localesets.length-1<k);k+=1)localesets[k]&&(slot[slotnames[k]]="locale-"+localesets[k]);else slot.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(slot.secondary=!1,slot.tertiary=!1);this.setRenderedName(name);var institution=this._renderInstitutionName(v,name,slot,j);this.institutions[v][j]=institution}},CSL.NameOutput.prototype._renderInstitutionName=function(v,name,slot,j){res=this.getName(name,slot.primary,!0);var primary=res.name,usedOrig=res.usedOrig;primary&&(primary=this.fixupInstitution(primary,v,j)),secondary=!1,slot.secondary&&(res=this.getName(name,slot.secondary,!1,usedOrig),secondary=res.name,usedOrig=res.usedOrig,secondary&&(secondary=this.fixupInstitution(secondary,v,j))),tertiary=!1,slot.tertiary&&(res=this.getName(name,slot.tertiary,!1,usedOrig),tertiary=res.name,tertiary&&(tertiary=this.fixupInstitution(tertiary,v,j)));var n={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(primary&&(n.l.pri=primary.long,n.s.pri=primary.short.length?primary.short:primary.long),secondary&&(n.l.sec=secondary.long,n.s.sec=secondary.short.length?secondary.short:secondary.long),tertiary&&(n.l.ter=tertiary.long,n.s.ter=tertiary.short.length?tertiary.short:tertiary.long),this.institution.strings["institution-parts"]){case"short":primary.short.length?(short_style=this._getShortStyle(),institution=[this._composeOneInstitutionPart([n.s.pri,n.s.sec,n.s.ter],slot,short_style,v)]):(long_style=this._getLongStyle(primary,v,j),institution=[this._composeOneInstitutionPart([n.l.pri,n.l.sec,n.l.ter],slot,long_style,v)]);break;case"short-long":long_style=this._getLongStyle(primary,v,j),short_style=this._getShortStyle(),institution_short=this._renderOneInstitutionPart(primary.short,short_style),institution_long=this._composeOneInstitutionPart([n.l.pri,n.l.sec,n.l.ter],slot,long_style,v),institution=[institution_short,institution_long];break;case"long-short":long_style=this._getLongStyle(primary,v,j),short_style=this._getShortStyle(),institution_short=this._renderOneInstitutionPart(primary.short,short_style),institution_long=this._composeOneInstitutionPart([n.l.pri,n.l.sec,n.l.ter],slot,long_style,v),institution=[institution_long,institution_short];break;default:long_style=this._getLongStyle(primary,v,j),institution=[this._composeOneInstitutionPart([n.l.pri,n.l.sec,n.l.ter],slot,long_style,v)]}var blob=this._join(institution," ");return this.state.tmp.name_node.children.push(blob),blob},CSL.NameOutput.prototype._composeOneInstitutionPart=function(names,slot,style,v){var primary_tok,secondary_tok,tertiary_tok,primary=!1,secondary=!1,tertiary=!1;if(names[0]){if(primary_tok=CSL.Util.cloneToken(style),this.state.opt.citeAffixes[slot.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[slot.primary].prefix){for(var hasItalic=!1,i=0,ilen=primary_tok.decorations.length;i<ilen;i+=1)"@font-style"===style.decorations[i][0]&&"italic"===primary_tok.decorations[i][1]&&(hasItalic=!0);hasItalic||primary_tok.decorations.push(["@font-style","italic"])}primary=this._renderOneInstitutionPart(names[0],primary_tok)}names[1]&&(secondary=this._renderOneInstitutionPart(names[1],style)),names[2]&&(tertiary=this._renderOneInstitutionPart(names[2],style));var institutionblob;if(secondary||tertiary){this.state.output.openLevel("empty"),this.state.output.append(primary),secondary_tok=CSL.Util.cloneToken(style),slot.secondary&&(secondary_tok.strings.prefix=this.state.opt.citeAffixes.institutions[slot.secondary].prefix,secondary_tok.strings.suffix=this.state.opt.citeAffixes.institutions[slot.secondary].suffix,secondary_tok.strings.prefix||(secondary_tok.strings.prefix=" "));var secondary_outer=new CSL.Token;secondary_outer.decorations.push(["@font-style","normal"]),secondary_outer.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(secondary_outer),this.state.output.append(secondary,secondary_tok),this.state.output.closeLevel(),tertiary_tok=CSL.Util.cloneToken(style),slot.tertiary&&(tertiary_tok.strings.prefix=this.state.opt.citeAffixes.institutions[slot.tertiary].prefix,tertiary_tok.strings.suffix=this.state.opt.citeAffixes.institutions[slot.tertiary].suffix,tertiary_tok.strings.prefix||(tertiary_tok.strings.prefix=" "));var tertiary_outer=new CSL.Token;tertiary_outer.decorations.push(["@font-style","normal"]),tertiary_outer.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(tertiary_outer),this.state.output.append(tertiary,tertiary_tok),this.state.output.closeLevel(),this.state.output.closeLevel(),institutionblob=this.state.output.pop()}else institutionblob=primary;return institutionblob},CSL.NameOutput.prototype._renderOneInstitutionPart=function(blobs,style){for(var i=0,ilen=blobs.length;i<ilen;i+=1)if(blobs[i]){var str=blobs[i];if(this.state.tmp.strip_periods)str=str.replace(/\./g,"");else for(var j=0,jlen=style.decorations.length;j<jlen;j+=1)if("@strip-periods"===style.decorations[j][0]&&"true"===style.decorations[j][1]){str=str.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,CSL.LITERAL),"!here>>>"===str?blobs[i]=!1:(this.state.output.append(str,style,!0),blobs[i]=this.state.output.pop())}return"undefined"==typeof this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(blobs,this.institution.strings["part-separator"])},CSL.NameOutput.prototype._renderNames=function(v,values,pos,j){ret=!1;if(values.length){for(var names=[],i=0,ilen=values.length;i<ilen;i+=1){var ret,localesets,name=values[i];if(localesets=this.state.tmp.extension?["sort"]:name.isInstitution||name.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons,slot={primary:"locale-orig",secondary:!1,tertiary:!1},localesets)for(var slotnames=["primary","secondary","tertiary"],k=0,klen=slotnames.length;k<klen&&!(localesets.length-1<k);k+=1)slot[slotnames[k]]="locale-"+localesets[k];else slot.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(slot.secondary=!1,slot.tertiary=!1),this.setRenderedName(name),name.literal||name.isInstitution)names.push(this._renderInstitutionName(v,name,slot,j));else{var nameBlob=this._renderPersonalName(v,name,slot,pos,i,j),nameToken=CSL.Util.cloneToken(this.name);this.state.output.append(nameBlob,nameToken,!0),names.push(this.state.output.pop())}}ret=this.joinPersons(names,pos,j)}return ret},CSL.NameOutput.prototype._renderPersonalName=function(v,name,slot,pos,i,j){var res=this.getName(name,slot.primary,!0),primary=this._renderOnePersonalName(res.name,pos,i,j);secondary=!1,slot.secondary&&(res=this.getName(name,slot.secondary,!1,res.usedOrig)).name&&(secondary=this._renderOnePersonalName(res.name,pos,i,j)),tertiary=!1,slot.tertiary&&(res=this.getName(name,slot.tertiary,!1,res.usedOrig)).name&&(tertiary=this._renderOnePersonalName(res.name,pos,i,j));var personblob;return secondary||tertiary?(this.state.output.openLevel("empty"),this.state.output.append(primary),secondary_tok=new CSL.Token,slot.secondary&&(secondary_tok.strings.prefix=this.state.opt.citeAffixes.persons[slot.secondary].prefix,secondary_tok.strings.suffix=this.state.opt.citeAffixes.persons[slot.secondary].suffix,secondary_tok.strings.prefix||(secondary_tok.strings.prefix=" ")),this.state.output.append(secondary,secondary_tok),tertiary_tok=new CSL.Token,slot.tertiary&&(tertiary_tok.strings.prefix=this.state.opt.citeAffixes.persons[slot.tertiary].prefix,tertiary_tok.strings.suffix=this.state.opt.citeAffixes.persons[slot.tertiary].suffix,tertiary_tok.strings.prefix||(tertiary_tok.strings.prefix=" ")),this.state.output.append(tertiary,tertiary_tok),this.state.output.closeLevel(),personblob=this.state.output.pop()):personblob=primary,personblob},CSL.NameOutput.prototype._isRomanesque=function(name){var ret=2;if(name.family.replace(/\"/g,"").match(CSL.ROMANESQUE_REGEXP)||(ret=0),!ret&&name.given&&name.given.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)&&(ret=1),2==ret){if(name.multi&&name.multi.main)var top_locale=name.multi.main.slice(0,2);else this.Item.language&&(top_locale=this.Item.language.slice(0,2));["ja","zh"].indexOf(top_locale)>-1&&(ret=1)}return ret},CSL.NameOutput.prototype._renderOnePersonalName=function(value,pos,i,j){function hasJoiningPunctuation(blob){return!!blob&&("string"==typeof blob.blobs?["’","'","-"," "].indexOf(blob.blobs.slice(-1))>-1:hasJoiningPunctuation(blob.blobs[blob.blobs.length-1]))}var name=value,dropping_particle=this._droppingParticle(name,pos,j),family=this._familyName(name),non_dropping_particle=this._nonDroppingParticle(name),given=this._givenName(name,pos,i),suffix=this._nameSuffix(name);this._isShort(pos,i)&&!name["full-form-always"]&&(dropping_particle=!1,given=!1,suffix=!1);var sort_sep=this.state.inheritOpt(this.name,"sort-separator");sort_sep||(sort_sep="");var suffix_sep;suffix_sep=name["comma-suffix"]?", ":" ";var blob,merged,first,second,romanesque=this._isRomanesque(name),has_hyphenated_non_dropping_particle=hasJoiningPunctuation(non_dropping_particle);if(0===romanesque)blob=this._join([non_dropping_particle,family,given],"");else if(1===romanesque||name["static-ordering"])blob=this._join([non_dropping_particle,family,given]," ");else if(name["reverse-ordering"])blob=this._join([given,non_dropping_particle,family]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(first=this._join([non_dropping_particle,family,dropping_particle]," "),merged=this._join([first,given],this.state.opt.sort_sep),blob=this._join([merged,suffix]," ")):(second=this._join([given,dropping_particle,non_dropping_particle]," "),merged=this._join([family,second],this.state.opt.sort_sep),blob=this._join([merged,suffix]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===j||void 0===j))["Lord","Lady"].indexOf(name.given)>-1&&(sort_sep=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(second=this._join([given,dropping_particle],name["comma-dropping-particle"]+" "),(second=this._join([second,non_dropping_particle]," "))&&this.given&&(second.strings.prefix=this.given.strings.prefix,second.strings.suffix=this.given.strings.suffix),family&&this.family&&(family.strings.prefix=this.family.strings.prefix,family.strings.suffix=this.family.strings.suffix),merged=this._join([family,second],sort_sep),blob=this._join([merged,suffix],sort_sep)):((first=has_hyphenated_non_dropping_particle?this._join([non_dropping_particle,family],""):this._join([non_dropping_particle,family]," "))&&this.family&&(first.strings.prefix=this.family.strings.prefix,first.strings.suffix=this.family.strings.suffix),(second=this._join([given,dropping_particle],name["comma-dropping-particle"]+" "))&&this.given&&(second.strings.prefix=this.given.strings.prefix,second.strings.suffix=this.given.strings.suffix),merged=this._join([first,second],sort_sep),blob=this._join([merged,suffix],sort_sep));else{name["dropping-particle"]&&name.family&&!name["non-dropping-particle"]&&["'","ʼ","’","-"].indexOf(name["dropping-particle"].slice(-1))>-1&&(family=this._join([dropping_particle,family],""),dropping_particle=!1),this.state.tmp.term_predecessor;var space=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1&&(space=" "),has_hyphenated_non_dropping_particle?(second=this._join([non_dropping_particle,family],""),second=this._join([dropping_particle,second],space)):second=this._join([dropping_particle,non_dropping_particle,family],space),(second=this._join([second,suffix],suffix_sep))&&this.family&&(second.strings.prefix=this.family.strings.prefix,second.strings.suffix=this.family.strings.suffix),given&&this.given&&(given.strings.prefix=this.given.strings.prefix,given.strings.suffix=this.given.strings.suffix),second.strings.prefix&&(name["comma-dropping-particle"]=""),blob=this._join([given,second],name["comma-dropping-particle"]+space)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,CSL.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(blob),blob},CSL.NameOutput.prototype._isShort=function(pos,i){return 0===this.state.tmp.disambig_settings.givens[pos][i]},CSL.NameOutput.prototype._normalizeNameInput=function(value){var name={literal:value.literal,family:value.family,isInstitution:value.isInstitution,given:value.given,suffix:value.suffix,"comma-suffix":value["comma-suffix"],"non-dropping-particle":value["non-dropping-particle"],"dropping-particle":value["dropping-particle"],"static-ordering":value["static-ordering"],"static-particles":value["static-particles"],"reverse-ordering":value["reverse-ordering"],"full-form-always":value["full-form-always"],"parse-names":value["parse-names"],"comma-dropping-particle":"",block_initialize:value.block_initialize,multi:value.multi};return this._parseName(name),name},CSL.NameOutput.prototype._stripPeriods=function(tokname,str){var decor_tok=this[tokname+"_decor"];if(str)if(this.state.tmp.strip_periods)str=str.replace(/\./g,"");else if(decor_tok)for(var i=0,ilen=decor_tok.decorations.length;i<ilen;i+=1)if("@strip-periods"===decor_tok.decorations[i][0]&&"true"===decor_tok.decorations[i][1]){str=str.replace(/\./g,"");break}return str},CSL.NameOutput.prototype._nonDroppingParticle=function(name){var ndp=name["non-dropping-particle"];ndp&&this.state.tmp.sort_key_flag&&(ndp=ndp.replace(/[\'\u2019]/,""));var str=this._stripPeriods("family",ndp);return!!this.state.output.append(str,this.family_decor,!0)&&this.state.output.pop()},CSL.NameOutput.prototype._droppingParticle=function(name,pos,j){var dp=name["dropping-particle"];dp&&this.state.tmp.sort_key_flag&&(dp=dp.replace(/[\'\u2019]/,""));var str=this._stripPeriods("given",dp);if(name["dropping-particle"]&&name["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===j?this.etal_spec[pos].freeters=2:this.etal_spec[pos].persons=2:void 0===j?this.etal_spec[pos].freeters=1:this.etal_spec[pos].persons=1,name["comma-dropping-particle"]="";else if(this.state.output.append(str,this.given_decor,!0))return this.state.output.pop();return!1},CSL.NameOutput.prototype._familyName=function(name){var str=this._stripPeriods("family",name.family);return!!this.state.output.append(str,this.family_decor,!0)&&this.state.output.pop()},CSL.NameOutput.prototype._givenName=function(name,pos,i){if(!1===this.state.inheritOpt(this.name,"initialize"))name.family&&name.given&&!1===this.state.inheritOpt(this.name,"initialize")&&(name.given=CSL.Util.Names.initializeWith(this.state,name.given,this.state.inheritOpt(this.name,"initialize-with"),!0)),name.given=CSL.Util.Names.unInitialize(this.state,name.given);else if(name.family&&1===this.state.tmp.disambig_settings.givens[pos][i]&&!name.block_initialize){var initialize_with=this.state.inheritOpt(this.name,"initialize-with");name.given=CSL.Util.Names.initializeWith(this.state,name.given,initialize_with)}else name.given=CSL.Util.Names.unInitialize(this.state,name.given);var str=this._stripPeriods("given",name.given);return!!this.state.output.append(str,this.given_decor,!0)&&(ret=this.state.output.pop(),ret)},CSL.NameOutput.prototype._nameSuffix=function(name){var str=name.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(str=CSL.Util.Names.initializeWith(this.state,name.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var toSuffix="";return(str=this._stripPeriods("family",str))&&"."===str.slice(-1)&&(str=str.slice(0,-1),toSuffix="."),!!this.state.output.append(str,"empty",!0)&&(ret=this.state.output.pop(),ret.strings.suffix=toSuffix+ret.strings.suffix,ret)},CSL.NameOutput.prototype._getLongStyle=function(name,v,i){var long_style;return(long_style=name.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(long_style=new CSL.Token),long_style},CSL.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new CSL.Token},CSL.NameOutput.prototype._parseName=function(name){if(!name["parse-names"]&&"undefined"!=typeof name["parse-names"])return name;name.family&&!name.given&&name.isInstitution&&(name.literal=name.family,name.family=undefined,name.isInstitution=undefined);var noparse;name.family&&'"'===name.family.slice(0,1)&&'"'===name.family.slice(-1)||!name["parse-names"]&&"undefined"!=typeof name["parse-names"]?(name.family=name.family.slice(1,-1),noparse=!0,name["parse-names"]=0):noparse=!1,this.state.opt.development_extensions.parse_names&&!name["non-dropping-particle"]&&name.family&&!noparse&&name.given&&(name["static-particles"]||CSL.parseParticles(name,!0))},CSL.NameOutput.prototype.getName=function(name,slotLocaleset,fallback,stopOrig){if(stopOrig&&"locale-orig"===slotLocaleset)return{name:!1,usedOrig:stopOrig};name.family||(name.family=""),name.given||(name.given="");var name_params={};name_params["static-ordering"]=this.getStaticOrder(name);var foundTag=!0;if("locale-orig"!==slotLocaleset&&(foundTag=!1,name.multi)){var langTags=this.state.opt[slotLocaleset];for(i=0,ilen=langTags.length;i<ilen;i+=1)if(langTag=langTags[i],name.multi._key[langTag]){foundTag=!0;var isInstitution=name.isInstitution;(name=name.multi._key[langTag]).isInstitution=isInstitution,(name_params=this.getNameParams(langTag)).transliterated=!0;break}}if(!foundTag){var langTag=!1;name.multi&&name.multi.main?langTag=name.multi.main:this.Item.language&&(langTag=this.Item.language),langTag&&(name_params=this.getNameParams(langTag))}if(!fallback&&!foundTag)return{name:!1,usedOrig:stopOrig};name.family||(name.family=""),name.given||(name.given=""),!(name={family:name.family,given:name.given,"non-dropping-particle":name["non-dropping-particle"],"dropping-particle":name["dropping-particle"],suffix:name.suffix,"static-ordering":name_params["static-ordering"],"static-particles":name["static-particles"],"reverse-ordering":name_params["reverse-ordering"],"full-form-always":name_params["full-form-always"],"parse-names":name["parse-names"],"comma-suffix":name["comma-suffix"],"comma-dropping-particle":name["comma-dropping-particle"],transliterated:name_params.transliterated,block_initialize:name_params["block-initialize"],literal:name.literal,isInstitution:name.isInstitution,multi:name.multi}).literal&&!name.given&&name.family&&name.isInstitution&&(name.literal=name.family),name.literal&&(delete name.family,delete name.given),name=this._normalizeNameInput(name);var usedOrig;return usedOrig=stopOrig||!foundTag,{name:name,usedOrig:usedOrig}},CSL.NameOutput.prototype.getNameParams=function(langTag){var ret={},langspec=CSL.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),try_locale=this.state.locale[langspec.best]?langspec.best:this.state.opt["default-locale"][0],name_as_sort_order=this.state.locale[try_locale].opts["name-as-sort-order"],name_as_reverse_order=this.state.locale[try_locale].opts["name-as-reverse-order"],name_never_short=this.state.locale[try_locale].opts["name-never-short"],field_lang_bare=langTag.split("-")[0];return name_as_sort_order&&name_as_sort_order[field_lang_bare]&&(ret["static-ordering"]=!0,ret["reverse-ordering"]=!1),name_as_reverse_order&&name_as_reverse_order[field_lang_bare]&&(ret["reverse-ordering"]=!0,ret["static-ordering"]=!1),name_never_short&&name_never_short[field_lang_bare]&&(ret["full-form-always"]=!0),ret["static-ordering"]&&(ret["block-initialize"]=!0),ret},CSL.NameOutput.prototype.setRenderedName=function(name){if("bibliography"===this.state.tmp.area){for(var strname="",j=0,jlen=CSL.NAME_PARTS.length;j<jlen;j+=1)name[CSL.NAME_PARTS[j]]&&(strname+=name[CSL.NAME_PARTS[j]]);this.state.tmp.rendered_name.push(strname)}},CSL.NameOutput.prototype.fixupInstitution=function(name,varname,listpos){this.state.sys.getHumanForm&&"legal_case"===this.Item.type&&"authority"===varname&&(name.literal=this.state.sys.getHumanForm(this.Item.jurisdiction,name.literal)),name=this._splitInstitution(name,varname,listpos),this.institution.strings["reverse-order"]&&name.long.reverse();var long_form=name.long,short_form=name.long.slice(),use_short_form=!1;if(this.state.sys.getAbbreviation)for(var jurisdiction=this.Item.jurisdiction,j=0,jlen=long_form.length;j<jlen;j+=1)jurisdiction=this.state.transform.loadAbbreviation(jurisdiction,"institution-part",long_form[j]),this.state.transform.abbrevs[jurisdiction]["institution-part"][long_form[j]]&&(short_form[j]=this.state.transform.abbrevs[jurisdiction]["institution-part"][long_form[j]],use_short_form=!0);return name.short=use_short_form?short_form:[],name},CSL.NameOutput.prototype.getStaticOrder=function(name,refresh){var static_ordering_val=!1;return!refresh&&name["static-ordering"]?static_ordering_val=!0:0===this._isRomanesque(name)?static_ordering_val=!0:(!name.multi||!name.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?static_ordering_val=!0:name.multi&&name.multi.main&&["vi","hu"].indexOf(name.multi.main.slice(0,2))>-1?static_ordering_val=!0:this.state.opt["auto-vietnamese-names"]&&CSL.VIETNAMESE_NAMES.exec(name.family+" "+name.given)&&CSL.VIETNAMESE_SPECIALS.exec(name.family+name.given)&&(static_ordering_val=!0),static_ordering_val},CSL.NameOutput.prototype._splitInstitution=function(value,v,i){var ret={};!value.literal&&value.family&&(value.literal=value.family,delete value.family);var splitInstitution=value.literal.replace(/\s*\|\s*/g,"|");if(splitInstitution=splitInstitution.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var jurisdiction=this.Item.jurisdiction,j=splitInstitution.length;j>0;j+=-1){var str=splitInstitution.slice(0,j).join("|");if(jurisdiction=this.state.transform.loadAbbreviation(jurisdiction,"institution-entire",str),this.state.transform.abbrevs[jurisdiction]["institution-entire"][str]){var splitLst=this.state.transform.abbrevs[jurisdiction]["institution-entire"][str],splitSplitLst=(splitLst=this.state.transform.quashCheck(splitLst)).split(/>>[0-9]{4}>>/),m=splitLst.match(/>>([0-9]{4})>>/);if(splitLst=splitSplitLst.pop(),splitSplitLst.length>0&&this.Item["original-date"]&&this.Item["original-date"].year)for(var k=m.length-1;k>0&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(m[k],10));k+=-1)splitLst=splitSplitLst.pop();splitInstitution=[splitLst=splitLst.replace(/\s*\|\s*/g,"|")];break}}return splitInstitution.reverse(),ret.long=this._trimInstitution(splitInstitution,v,i),ret},CSL.NameOutput.prototype._trimInstitution=function(subunits,v,i){var use_first=!1,append_last=!1,s=subunits.slice(),stop_last=!1;return this.institution&&("undefined"!=typeof this.institution.strings["use-first"]&&(use_first=this.institution.strings["use-first"]),"undefined"!=typeof this.institution.strings["stop-last"]?stop_last=this.institution.strings["stop-last"]:"authority"===v&&this.state.tmp.authority_stop_last&&(stop_last=this.state.tmp.authority_stop_last),stop_last&&(s=s.slice(0,stop_last),subunits=subunits.slice(0,stop_last)),"undefined"!=typeof this.institution.strings["use-last"]&&(append_last=this.institution.strings["use-last"]),"authority"===v&&(stop_last&&(this.state.tmp.authority_stop_last=stop_last),append_last&&(this.state.tmp.authority_stop_last+=-1*append_last))),!1===use_first&&(0===this.persons[v].length&&(use_first=this.institution.strings["substitute-use-first"]),use_first||(use_first=0)),!1===append_last&&(append_last=use_first?0:subunits.length),use_first>subunits.length-append_last&&(use_first=subunits.length-append_last),subunits=subunits.slice(0,use_first),s=s.slice(use_first),append_last&&(append_last>s.length&&(append_last=s.length),append_last&&(subunits=subunits.concat(s.slice(s.length-append_last)))),subunits},CSL.PublisherOutput=function(state,group_tok){this.state=state,this.group_tok=group_tok,this.varlist=[]},CSL.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},CSL.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var and_term=!1;"text"===this.group_tok.strings.and?and_term=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(and_term="&");var tok=new CSL.Token;tok.strings.suffix=" ",tok.strings.prefix=" ",this.state.output.append(and_term,tok,!0);var no_delim=this.state.output.pop();tok.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(and_term,tok,!0);var with_delim=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,and_term&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=with_delim:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=no_delim,this.and_blob.multiple=no_delim):(this.and_blob.single=no_delim,this.and_blob.multiple=with_delim))},CSL.PublisherOutput.prototype.composeElements=function(){for(var i=0;i<2;i+=1)for(var varname=["publisher","publisher-place"][i],j=0,jlen=this["publisher-list"].length;j<jlen;j+=1){var str=this[varname+"-list"][j],tok=this[varname+"-token"];this.state.output.append(str,tok,!0),this[varname+"-list"][j]=this.state.output.pop()}},CSL.PublisherOutput.prototype.composePublishers=function(){for(var blobs,i=0,ilen=this["publisher-list"].length;i<ilen;i+=1){blobs=[this[this.varlist[0]+"-list"][i],this[this.varlist[1]+"-list"][i]],this["publisher-list"][i]=this._join(blobs,this.group_tok.strings.delimiter)}},CSL.PublisherOutput.prototype.joinPublishers=function(){var blobs=this["publisher-list"],publishers=(this.name_delimiter,this._join(blobs,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok));this.state.output.append(publishers,"literal")},CSL.PublisherOutput.prototype._join=CSL.NameOutput.prototype._join,CSL.PublisherOutput.prototype._getToken=CSL.NameOutput.prototype._getToken,CSL.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},CSL.evaluateLabel=function(node,state,Item,item){var myterm;"locator"===node.strings.term?(item&&item.label&&(myterm="sub verbo"===item.label?"sub-verbo":item.label),myterm||(myterm="page")):myterm=node.strings.term;var plural=node.strings.plural;if("number"!=typeof plural){var theItem="locator"===node.strings.term?item:Item;state.processNumber(!1,theItem,node.strings.term,Item.type),plural=state.tmp.shadow_numbers[node.strings.term].plural,state.tmp.shadow_numbers[node.strings.term].labelForm||state.tmp.shadow_numbers[node.strings.term].labelDecorations||(state.tmp.shadow_numbers[node.strings.term].labelForm=node.strings.form,state.tmp.shadow_numbers[node.strings.term].labelDecorations=node.decorations.slice()),["locator","number","page"].indexOf(node.strings.term)>-1&&state.tmp.shadow_numbers[node.strings.term].label&&(myterm=state.tmp.shadow_numbers[node.strings.term].label),node.decorations&&(state.opt.development_extensions.csl_reverse_lookup_support||state.sys.csl_reverse_lookup_support)&&(node.decorations.reverse(),node.decorations.push(["@showid","true",node.cslid]),node.decorations.reverse())}return CSL.castLabel(state,node,myterm,plural,CSL.TOLERANT)},CSL.castLabel=function(state,node,term,plural,mode){var label_form=node.strings.form;state.tmp.group_context.tip.label_form&&"static"!==label_form&&(label_form=state.tmp.group_context.tip.label_form);var ret=state.getTerm(term,label_form,plural,!1,mode,node.default_locale);if(state.tmp.strip_periods)ret=ret.replace(/\./g,"");else for(var i=0,ilen=node.decorations.length;i<ilen;i+=1)if("@strip-periods"===node.decorations[i][0]&&"true"===node.decorations[i][1]){ret=ret.replace(/\./g,"");break}return ret},CSL.Node.name={build:function(state,target){var func;if([CSL.SINGLETON,CSL.START].indexOf(this.tokentype)>-1){if("undefined"==typeof state.tmp.root){oldTmpRoot=undefined;state.tmp.root="citation"}else var oldTmpRoot=state.tmp.root;state.inheritOpt(this,"et-al-subsequent-min")&&state.inheritOpt(this,"et-al-subsequent-min")!==state.inheritOpt(this,"et-al-min")&&(state.opt.update_mode=CSL.POSITION),state.inheritOpt(this,"et-al-subsequent-use-first")&&state.inheritOpt(this,"et-al-subsequent-use-first")!==state.inheritOpt(this,"et-al-use-first")&&(state.opt.update_mode=CSL.POSITION),state.tmp.root=oldTmpRoot,func=function(state,Item){state.tmp.etal_term="et-al",state.tmp.name_delimiter=state.inheritOpt(this,"delimiter","name-delimiter",", "),state.tmp["delimiter-precedes-et-al"]=state.inheritOpt(this,"delimiter-precedes-et-al"),"text"===state.inheritOpt(this,"and")?this.and_term=state.getTerm("and","long",0):"symbol"===state.inheritOpt(this,"and")&&(state.opt.development_extensions.expect_and_symbol_form?this.and_term=state.getTerm("and","symbol",0):this.and_term="&"),state.tmp.and_term=this.and_term,CSL.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof state.tmp.name_delimiter&&(this.and_prefix_multiple=state.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===state.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=state.tmp.name_delimiter:"never"===state.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===state.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=state.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},state.inheritOpt(this,"and")?(state.output.append(this.and_term,"empty",!0),this.and.single=state.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,state.output.append(this.and_term,"empty",!0),this.and.multiple=state.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):state.tmp.name_delimiter&&(this.and.single=new CSL.Blob(state.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new CSL.Blob(state.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},state.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=state.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new CSL.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new CSL.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),"undefined"==typeof state.tmp["et-al-min"]&&(state.tmp["et-al-min"]=state.inheritOpt(this,"et-al-min")),"undefined"==typeof state.tmp["et-al-use-first"]&&(state.tmp["et-al-use-first"]=state.inheritOpt(this,"et-al-use-first")),"undefined"==typeof state.tmp["et-al-use-last"]&&(state.tmp["et-al-use-last"]=state.inheritOpt(this,"et-al-use-last")),state.nameOutput.name=this},state.build.name_flag=!0,this.execs.push(func)}target.push(this)}},CSL.Node["name-part"]={build:function(state,target){state.build[this.strings.name]=this}},CSL.Node.names={build:function(state,target){var func;if(this.tokentype!==CSL.START&&this.tokentype!==CSL.SINGLETON||(CSL.Util.substituteStart.call(this,state,target),state.build.substitute_level.push(1)),this.tokentype===CSL.SINGLETON&&(state.build.names_variables.push(this.variables),func=function(state,Item,item){var labelVariable=state.nameOutput.labelVariable;state.nameOutput.reinit(this,labelVariable)},this.execs.push(func)),this.tokentype===CSL.START&&(state.build.names_flag=!0,state.build.names_level+=1,1===state.build.names_level&&(state.build.names_variables=[],state.build.name_label={}),state.build.names_variables.push(this.variables),func=function(state,Item,item){state.tmp.can_substitute.push(!0),state.parallel.StartVariable("names",this.variables[0]),state.nameOutput.init(this)},this.execs.push(func)),this.tokentype===CSL.END){for(var i=0;i<3;i+=1){var key=["family","given","et-al"][i];this[key]=state.build[key],1===state.build.names_level&&(state.build[key]=undefined)}this.label=state.build.name_label,1===state.build.names_level&&(state.build.name_label={}),state.build.names_level+=-1,state.build.names_variables.pop(),func=function(state,Item,item){state.tmp.etal_node?this.etal_style=state.tmp.etal_node:this.etal_style="empty",this.etal_term=state.getTerm(state.tmp.etal_term,"long",0),CSL.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)?(this.etal_prefix_single=" ",this.etal_prefix_multiple=state.tmp.name_delimiter,"always"===state.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=state.tmp.name_delimiter:"never"===state.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===state.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=state.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix=""):(this.etal_prefix_single="",this.etal_prefix_multiple="",this.etal_suffix="");for(var i=0;i<3;i+=1){var key=["family","given"][i];state.nameOutput[key]=this[key]}state.nameOutput["with"]=this["with"];var with_default_prefix="",with_suffix="";CSL.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(with_default_prefix=" ",with_suffix=" ");var thewith={};thewith.single=new CSL.Blob("with"),thewith.single.strings.suffix=with_suffix,thewith.multiple=new CSL.Blob("with"),thewith.multiple.strings.suffix=with_suffix,"always"===state.inheritOpt(state.nameOutput.name,"delimiter-precedes-last")?(thewith.single.strings.prefix=state.inheritOpt(this,"delimiter","names-delimiter"),thewith.multiple.strings.prefix=state.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===state.inheritOpt(state.nameOutput.name,"delimiter-precedes-last")?(thewith.single.strings.prefix=with_default_prefix,thewith.multiple.strings.prefix=state.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===state.inheritOpt(state.nameOutput.name,"delimiter-precedes-last")?(thewith.single.strings.prefix=state.inheritOpt(this,"delimiter","names-delimiter"),thewith.multiple.strings.prefix=with_default_prefix):(thewith.single.strings.prefix=with_default_prefix,thewith.multiple.strings.prefix=with_default_prefix),state.nameOutput["with"]=thewith,state.nameOutput.label=this.label,state.nameOutput.etal_style=this.etal_style,state.nameOutput.etal_term=this.etal_term,state.nameOutput.etal_prefix_single=this.etal_prefix_single,state.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,state.nameOutput.etal_suffix=this.etal_suffix,state.nameOutput.outputNames(),state.tmp["et-al-use-first"]=undefined,state.tmp["et-al-min"]=undefined,state.tmp["et-al-use-last"]=undefined},this.execs.push(func),func=function(state,Item){state.tmp.can_substitute.pop()||state.tmp.can_substitute.replace(!1,CSL.LITERAL),state.parallel.CloseVariable("names"),1===state.tmp.can_substitute.mystack.length&&(state.tmp.can_block_substitute=!1)},this.execs.push(func),state.build.name_flag=!1}target.push(this),this.tokentype!==CSL.END&&this.tokentype!==CSL.SINGLETON||(state.build.substitute_level.pop(),CSL.Util.substituteEnd.call(this,state,target))}},CSL.Node.number={build:function(state,target){var func;CSL.Util.substituteStart.call(this,state,target),"roman"===this.strings.form?this.formatter=state.fun.romanizer:"ordinal"===this.strings.form?this.formatter=state.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=state.fun.long_ordinalizer),"undefined"==typeof this.successor_prefix&&(this.successor_prefix=state[state.build.area].opt.layout_delimiter),"undefined"==typeof this.splice_prefix&&(this.splice_prefix=state[state.build.area].opt.layout_delimiter),func=function(state,Item,item){if(0!==this.variables.length){if(void 0===item)var item={};var varname;if("locator"!==(varname=this.variables[0])||!state.tmp.just_looking){state.parallel.StartVariable(this.variables[0]),"locator"===this.variables[0]?state.parallel.AppendToVariable(Item.section):state.parallel.AppendToVariable(Item[this.variables[0]]);new RegExp("(?:&|, | and |"+state.getTerm("page-range-delimiter")+")");"collection-number"===varname&&"legal_case"===Item.type&&(state.tmp.renders_collection_number=!0);Item[this.variables[0]];this.strings.label_form_override&&this.strings.label_form_override;var node=this;if(state.tmp.group_context.tip.force_suppress)return!1;"locator"===varname?state.processNumber(node,item,varname,Item.type):(!state.tmp.group_context.tip.condition&&Item[varname]&&(state.tmp.just_did_number=!0),state.processNumber(node,Item,varname,Item.type)),CSL.Util.outputNumericField(state,varname,Item.id),state.parallel.CloseVariable("number"),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!state.tmp.just_looking&&(state.tmp.done_vars.push(this.variables_real[0]),state.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}}},this.execs.push(func),target.push(this),CSL.Util.substituteEnd.call(this,state,target)}},CSL.Node.sort={build:function(state,target){if(target=state[state.build.root+"_sort"].tokens,this.tokentype===CSL.START){"citation"===state.build.area&&(state.parallel.use_parallels=!1,state.opt.sort_citations=!0),state.build.area=state.build.root+"_sort",state.build.extension="_sort";func=function(state,Item){if(state.opt.has_layout_locale){for(var langForItem,langspec=CSL.localeResolve(Item.language,state.opt["default-locale"][0]),sort_locales=state[state.tmp.area.slice(0,-5)].opt.sort_locales,i=0,ilen=sort_locales.length;i<ilen&&((langForItem=sort_locales[i][langspec.bare])||(langForItem=sort_locales[i][langspec.best]),!langForItem);i+=1);langForItem||(langForItem=state.opt["default-locale"][0]),state.tmp.lang_sort_hold=state.opt.lang,state.opt.lang=langForItem}};this.execs.push(func)}if(this.tokentype===CSL.END){state.build.area=state.build.root,state.build.extension="";var func=function(state,Item){state.opt.has_layout_locale&&(state.opt.lang=state.tmp.lang_sort_hold,delete state.tmp.lang_sort_hold)};this.execs.push(func)}target.push(this)}},CSL.Node.substitute={build:function(state,target){var func;this.tokentype===CSL.START&&(func=function(state,Item){state.tmp.can_block_substitute=!0,state.tmp.value.length&&state.tmp.can_substitute.replace(!1,CSL.LITERAL)},this.execs.push(func)),target.push(this)}},CSL.Node.text={build:function(state,target){var func,form,plural,id,num,number,formatter,firstoutput,specialdelimiter,label,suffix,term;if(this.postponed_macro){var group_start=CSL.Util.cloneToken(this);group_start.name="group",group_start.tokentype=CSL.START,CSL.Node.group.build.call(group_start,state,target),CSL.expandMacro.call(state,this,target);var group_end=CSL.Util.cloneToken(this);group_end.name="group",group_end.tokentype=CSL.END,"juris-locator-label"===this.postponed_macro&&(group_end.isJurisLocatorLabel=!0),CSL.Node.group.build.call(group_end,state,target)}else{if(CSL.Util.substituteStart.call(this,state,target),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),form="long",plural=0,this.strings.form&&(form=this.strings.form),this.strings.plural&&(plural=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===state.build.root&&(state.opt.update_mode=CSL.NUMERIC),"bibliography"===state.build.root&&(state.opt.bib_mode=CSL.NUMERIC),"bibliography_sort"===state.build.area&&(state.opt.citation_number_sort_used=!0),"citation-number"===state[state.tmp.area].opt.collapse&&(this.range_prefix=state.getTerm("citation-range-delimiter")),this.successor_prefix=state[state.build.area].opt.layout_delimiter,this.splice_prefix=state[state.build.area].opt.layout_delimiter,func=function(state,Item,item){if(id=""+Item.id,!state.tmp.just_looking){if(item&&item["author-only"]){state.tmp.element_trace.replace("do-not-suppress-me");var reference_term=state.getTerm("reference","long","singular");void 0===reference_term&&(reference_term="reference"),term=CSL.Output.Formatters["capitalize-first"](state,reference_term),state.output.append(term+" "),state.tmp.last_element_trace=!0}item&&item["suppress-author"]&&(state.tmp.last_element_trace&&state.tmp.element_trace.replace("suppress-me"),state.tmp.last_element_trace=!1),num=state.registry.registry[id].seq,state.opt.citation_number_slug?state.output.append(state.opt.citation_number_slug,this):(number=new CSL.NumericBlob(!1,num,this,Item.id),state.tmp.in_cite_predecessor&&(state.tmp.just_looking,number.suppress_splice_prefix=!0),state.output.append(number,"literal"))}},this.execs.push(func)):"year-suffix"===this.variables_real[0]?(state.opt.has_year_suffix=!0,"year-suffix-ranged"===state[state.tmp.area].opt.collapse&&(this.range_prefix=state.getTerm("citation-range-delimiter")),this.successor_prefix=state[state.build.area].opt.layout_delimiter,state[state.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=state[state.build.area].opt["year-suffix-delimiter"]),func=function(state,Item){if(state.registry.registry[Item.id]&&!1!==state.registry.registry[Item.id].disambig.year_suffix&&!state.tmp.just_looking){num=parseInt(state.registry.registry[Item.id].disambig.year_suffix,10),state[state.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=state[state.tmp.area].opt.cite_group_delimiter),number=new CSL.NumericBlob(!1,num,this,Item.id),formatter=new CSL.Util.Suffixator(CSL.SUFFIX_CHARS),number.setFormatter(formatter),state.output.append(number,"literal"),firstoutput=!1;for(var i=0,ilen=state.tmp.group_context.mystack.length;i<ilen;i++)if(flags=state.tmp.group_context.mystack[i],!flags.variable_success&&(flags.variable_attempt||!flags.variable_attempt&&!flags.term_intended)){firstoutput=!0;break}specialdelimiter=state[state.tmp.area].opt["year-suffix-delimiter"],firstoutput&&specialdelimiter&&!state.tmp.sort_key_flag&&(state.tmp.splice_delimiter=state[state.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(func)):"citation-label"===this.variables_real[0]&&(state.opt.has_year_suffix=!0,func=function(state,Item){(label=Item["citation-label"])||(label=state.getCitationLabel(Item)),state.tmp.just_looking||(suffix="",state.registry.registry[Item.id]&&!1!==state.registry.registry[Item.id].disambig.year_suffix&&(num=parseInt(state.registry.registry[Item.id].disambig.year_suffix,10),suffix=state.fun.suffixator.format(num)),label+=suffix),state.output.append(label,this)},this.execs.push(func));else if(this.strings.term)func=function(state,Item,item){var myterm,gender=state.opt.gender[Item.type],term=this.strings.term;if(""!==(term=state.getTerm(term,form,plural,gender,CSL.TOLERANT,this.default_locale))&&(state.tmp.group_context.tip.term_intended=!0),CSL.UPDATE_GROUP_CONTEXT_CONDITION(state,term),myterm=state.tmp.term_predecessor||"in-text"===state.opt["class"]&&"citation"===state.tmp.area?term:CSL.Output.Formatters["capitalize-first"](state,term),state.tmp.strip_periods)myterm=myterm.replace(/\./g,"");else for(var i=0,ilen=this.decorations.length;i<ilen;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){myterm=myterm.replace(/\./g,"");break}state.output.append(myterm,this)},this.execs.push(func),state.build.term=!1,state.build.form=!1,state.build.plural=!1;else if(this.variables_real.length){if(func=function(state,Item,item){"locator"!==this.variables_real[0]&&(state.tmp.have_collapsed=!1);var parallel_variable=this.variables[0];"title"!==parallel_variable||"short"!==form&&!Item["title-short"]||(parallel_variable="title-short"),state.parallel.StartVariable(parallel_variable),state.parallel.AppendToVariable(Item[parallel_variable],parallel_variable),!state.tmp.group_context.tip.condition&&Item[this.variables[0]]&&(state.tmp.just_did_number=!1)},this.execs.push(func),CSL.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var abbrevfam=this.variables[0],abbrfall=!1,altvar=!1,transfall=!1;"short"===form?"container-title"===this.variables_real[0]?altvar="journalAbbreviation":"title"===this.variables_real[0]&&(altvar="title-short"):abbrevfam=!1,state.build.extension?transfall=!0:(transfall=!0,abbrfall=!0),func=state.transform.getOutputFunction(this.variables,abbrevfam,abbrfall,altvar,transfall)}else func=CSL.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(state,Item,item){item&&item[this.variables[0]]&&(state.processNumber(this,item,this.variables[0],Item.type),CSL.Util.outputNumericField(state,this.variables[0],Item.id),state.output.append(void 0,this,!1,!1,!0),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!state.tmp.just_looking&&state.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(state,Item){state.processNumber(this,Item,this.variables[0],Item.type),CSL.Util.outputNumericField(state,this.variables[0],Item.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(state,Item){var value;this.variables[0]&&(value=state.getVariable(Item,this.variables[0],form))&&(state.opt.development_extensions.wrap_url_and_doi?this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0]||(this.decorations=[["@"+this.variables[0],"true"]].concat(this.decorations)):this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(1)),state.output.append(value,this,!1,!1,!0))}:"section"===this.variables_real[0]?function(state,Item){var value;(value=state.getVariable(Item,this.variables[0],form))&&state.output.append(value,this)}:"hereinafter"===this.variables_real[0]?function(state,Item){var value=state.transform.abbrevs["default"].hereinafter[Item.id];value&&(state.output.append(value,this),state.tmp.group_context.tip.variable_success=!0)}:function(state,Item){var value;this.variables[0]&&(value=state.getVariable(Item,this.variables[0],form))&&(value=(value=""+value).split("\\").join(""),state.output.append(value,this))};this.execs.push(func),func=function(state,Item){state.parallel.CloseVariable("text")},this.execs.push(func)}else this.strings.value&&(func=function(state,Item){state.tmp.group_context.tip.term_intended=!0,CSL.UPDATE_GROUP_CONTEXT_CONDITION(state,this.strings.value,!0),state.output.append(this.strings.value,this)},this.execs.push(func));target.push(this),CSL.Util.substituteEnd.call(this,state,target)}}},CSL.Attributes={},CSL.Attributes["@genre"]=function(state,arg){arg=arg.replace("-"," ");var func=function(Item,item){return arg===Item.genre};this.tests.push(func)},CSL.Attributes["@disambiguate"]=function(state,arg){if("true"===arg){state.opt.has_disambiguate=!0;func=function(Item,item){return state.tmp.disambiguate_maxMax+=1,!!(state.tmp.disambig_settings.disambiguate&&state.tmp.disambiguate_count<state.tmp.disambig_settings.disambiguate)&&(state.tmp.disambiguate_count+=1,!0)};this.tests.push(func)}else if("check-ambiguity-and-backreference"===arg){var func=function(Item,item){return!!(state.registry.registry[Item.id].disambig.disambiguate&&state.registry.registry[Item.id]["citation-count"]>1)};this.tests.push(func)}},CSL.Attributes["@is-numeric"]=function(state,arg,joiner){for(var variables=arg.split(/\s+/),i=0;i<variables.length;i+=1)this.tests.push(function(variable){return function(Item,item){var myitem=Item;if(["locator","locator-extra"].indexOf(variable)>-1&&(myitem=item),void 0===myitem)return!1;if(CSL.NUMERIC_VARIABLES.indexOf(variable)>-1){if(state.tmp.shadow_numbers[variable]||state.processNumber(!1,myitem,variable,Item.type),myitem[variable]&&state.tmp.shadow_numbers[variable].numeric)return!0}else if(["title","locator-extra","version"].indexOf(variable)>-1&&myitem[variable]&&myitem[variable].slice(-1)===""+parseInt(myitem[variable].slice(-1),10))return!0;return!1}}(variables[i]))},CSL.Attributes["@is-uncertain-date"]=function(state,arg){for(var variables=arg.split(/\s+/),i=0,ilen=variables.length;i<ilen;i+=1)this.tests.push(function(myvariable){return function(Item,item){return!(!Item[myvariable]||!Item[myvariable].circa)}}(variables[i]))},CSL.Attributes["@locator"]=function(state,arg){for(var trylabels=arg.replace("sub verbo","sub-verbo"),i=0,ilen=(trylabels=trylabels.split(/\s+/)).length;i<ilen;i+=1)this.tests.push(function(trylabel){return function(Item,item){var label;return state.processNumber(!1,item,"locator"),label=state.tmp.shadow_numbers.locator.label,trylabel===label}}(trylabels[i]))},CSL.Attributes["@position"]=function(state,arg){var tryposition;state.opt.update_mode=CSL.POSITION,state.parallel.use_parallels=null;for(var trypositions=arg.split(/\s+/),i=0,ilen=trypositions.length;i<ilen;i+=1)"first"===(tryposition=trypositions[i])?tryposition=CSL.POSITION_FIRST:"subsequent"===tryposition?tryposition=CSL.POSITION_SUBSEQUENT:"ibid"===tryposition?tryposition=CSL.POSITION_IBID:"ibid-with-locator"===tryposition&&(tryposition=CSL.POSITION_IBID_WITH_LOCATOR),"near-note"===tryposition?this.tests.push(function(Item,item){return!!(item&&item.position>=CSL.POSITION_SUBSEQUENT&&item["near-note"])}):"far-note"===tryposition?this.tests.push(function(Item,item){return!(!item||item.position!=CSL.POSITION_SUBSEQUENT||item["near-note"])}):this.tests.push(function(tryposition){return function(Item,item){if("bibliography"===state.tmp.area)return!1;if(item&&"undefined"==typeof item.position&&(item.position=0),item&&"number"==typeof item.position){if(0===item.position&&0===tryposition)return!0;if(tryposition>0&&item.position>=tryposition)return!0}else if(0===tryposition)return!0;return!1}}(tryposition))},CSL.Attributes["@type"]=function(state,arg){for(var types=arg.split(/\s+/),tests=[],i=0,ilen=types.length;i<ilen;i+=1)tests.push(function(mytype){return function(Item,item){return!!(Item.type===mytype)}}(types[i]));this.tests.push(state.fun.match.any(this,state,tests))},CSL.Attributes["@variable"]=function(state,arg){var func;if(this.variables=arg.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)func=function(state,Item,item){for(i=this.variables.length-1;i>-1;i+=-1)this.variables.pop();for(var i=0,ilen=this.variables_real.length;i<ilen;i++)-1!==state.tmp.done_vars.indexOf(this.variables_real[i])||item&&"legal_case"===Item.type&&item["suppress-author"]&&"title"===this.variables_real[i]||this.variables.push(this.variables_real[i]),state.tmp.can_block_substitute&&state.tmp.done_vars.push(this.variables_real[i])},this.execs.push(func),func=function(state,Item,item){output=!1;for(var i=0,ilen=this.variables.length;i<ilen;i++){var variable=this.variables[i];if(["authority","committee"].indexOf(variable)>-1&&"string"==typeof Item[variable]&&"names"===this.name){var isValid=!0,rawNames=Item[variable].split(/\s*;\s*/),rawMultiNames={};if(Item.multi&&Item.multi._keys[variable])for(var langTag in Item.multi._keys[variable])if(rawMultiNames[langTag]=Item.multi._keys[variable][langTag].split(/\s*;\s*/),rawMultiNames[langTag].length!==rawNames.length){isValid=!1;break}isValid||(rawNames=[Item[variable]],rawMultiNames=Item.multi._keys[variable]);for(var j=0,jlen=rawNames.length;j<jlen;j++){var creatorParent={literal:rawNames[j],multi:{_key:{}}};for(var langTag in rawMultiNames){var creatorChild={literal:rawMultiNames[langTag][j]};creatorParent.multi._key[langTag]=creatorChild}rawNames[j]=creatorParent}Item[variable]=rawNames}if("short"!==this.strings.form||Item[variable]||("title"===variable?variable="title-short":"container-title"===variable&&(variable="journalAbbreviation")),"year-suffix"===variable){output=!0;break}if(CSL.DATE_VARIABLES.indexOf(variable)>-1){if(state.opt.development_extensions.locator_date_and_revision&&"locator-date"===variable){output=!0;break}if(Item[variable]){for(var key in Item[variable])if((-1!==this.dateparts.indexOf(key)||"literal"===key)&&Item[variable][key]){output=!0;break}if(output)break}}else{if("locator"===variable){item&&item.locator&&(output=!0);break}if("locator-extra"===variable){item&&item["locator-extra"]&&(output=!0);break}if(["citation-number","citation-label"].indexOf(variable)>-1){output=!0;break}if("first-reference-note-number"===variable){item&&item["first-reference-note-number"]&&(output=!0);break}if("hereinafter"===variable){state.transform.abbrevs["default"].hereinafter[Item.id]&&state.sys.getAbbreviation&&Item.id&&(output=!0);break}if("object"==typeof Item[variable]){Item[variable].length;break}if("string"==typeof Item[variable]&&Item[variable]){output=!0;break}if("number"==typeof Item[variable]){output=!0;break}}if(output)break}if(output){for(var i=0,ilen=this.variables_real.length;i<ilen;i++)"citation-number"===(variable=this.variables_real[i])&&"bibliography"===state.tmp.area||(state.tmp.cite_renders_content=!0),state.tmp.group_context.tip.variable_success=!0,state.tmp.can_substitute.value()&&"bibliography"===state.tmp.area&&"string"==typeof Item[variable]&&(state.tmp.name_node.top=state.output.current.value(),state.tmp.rendered_name.push(Item[variable]));state.tmp.can_substitute.replace(!1,CSL.LITERAL)}else state.tmp.group_context.tip.variable_attempt=!0},this.execs.push(func);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=0,ilen=this.variables.length;i<ilen;i+=1)this.tests.push(function(variable){return function(Item,item){var myitem=Item;if(item&&["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(variable)>-1&&(myitem=item),"hereinafter"===variable&&state.sys.getAbbreviation&&myitem.id){if(state.transform.abbrevs["default"].hereinafter[myitem.id])return!0}else if(myitem[variable]){if("number"==typeof myitem[variable]||"string"==typeof myitem[variable])return!0;if("object"==typeof myitem[variable])for(key in myitem[variable])if(myitem[variable][key])return!0}return!1}}(this.variables[i]))},CSL.Attributes["@page"]=function(state,arg){for(var trylabels=arg.replace("sub verbo","sub-verbo"),i=0,ilen=(trylabels=trylabels.split(/\s+/)).length;i<ilen;i+=1)this.tests.push(function(trylabel){return function(Item,item){var label;return state.processNumber(!1,Item,"page",Item.type),label=state.tmp.shadow_numbers.page.label?"sub verbo"===state.tmp.shadow_numbers.page.label?"sub-verbo":state.tmp.shadow_numbers.page.label:"page",trylabel===label}}(trylabels[i]))},CSL.Attributes["@number"]=function(state,arg){for(var trylabels=arg.replace("sub verbo","sub-verbo"),i=0,ilen=(trylabels=trylabels.split(/\s+/)).length;i<ilen;i+=1)this.tests.push(function(trylabel){return function(Item,item){var label;return state.processNumber(!1,Item,"number",Item.type),label=state.tmp.shadow_numbers.number.label?"sub verbo"===state.tmp.shadow_numbers.number.label?"sub-verbo":state.tmp.shadow_numbers.number.label:"number",trylabel===label}}(trylabels[i]))},CSL.Attributes["@jurisdiction"]=function(state,arg){for(var tryjurisdictions=arg.split(/\s+/),i=0,ilen=tryjurisdictions.length;i<ilen;i+=1)tryjurisdictions[i]=tryjurisdictions[i].split(":");for(var i=0,ilen=tryjurisdictions.length;i<ilen;i+=1){var tryjurisdictionSlice=tryjurisdictions[i].slice();this.tests.push(function(tryjurisdiction){return function(Item,item){if(!Item.jurisdiction)return!1;for(var jurisdictions=Item.jurisdiction.split(":"),i=0,ilen=jurisdictions.length;i<ilen;i+=1)jurisdictions[i]=jurisdictions[i].split(":");for(i=tryjurisdiction.length;i>0;i+=-1)if(tryjurisdiction.slice(0,i).join(":")!==jurisdictions.slice(0,i).join(":"))return!1;return!0}}(tryjurisdictionSlice))}},CSL.Attributes["@context"]=function(state,arg){var func=function(Item,item){return state.tmp.area.slice(0,arg.length)===arg};this.tests.push(func)},CSL.Attributes["@has-year-only"]=function(state,arg){for(var trydates=arg.split(/\s+/),i=0,ilen=trydates.length;i<ilen;i+=1)this.tests.push(function(trydate){return function(Item,item){var date=Item[trydate];return!(!date||date.month||date.season)}}(trydates[i]))},CSL.Attributes["@has-to-month-or-season"]=function(state,arg){for(var trydates=arg.split(/\s+/),i=0,ilen=trydates.length;i<ilen;i+=1)this.tests.push(function(trydate){return function(Item,item){var date=Item[trydate];return!(!date||!date.month&&!date.season||date.day)}}(trydates[i]))},CSL.Attributes["@has-day"]=function(state,arg){for(var trydates=arg.split(/\s+/),i=0,ilen=trydates.length;i<ilen;i+=1)this.tests.push(function(trydate){return function(Item,item){var date=Item[trydate];return!(!date||!date.day)}}(trydates[i]))},CSL.Attributes["@subjurisdictions"]=function(state,arg){var trysubjurisdictions=parseInt(arg,10),func=function(Item,item){var subjurisdictions=0;return Item.jurisdiction&&(subjurisdictions=Item.jurisdiction.split(":").length),subjurisdictions&&(subjurisdictions+=-1),subjurisdictions>=trysubjurisdictions};this.tests.push(func)},CSL.Attributes["@is-plural"]=function(state,arg){var func=function(Item,item){var nameList=Item[arg];if(nameList&&nameList.length){for(var persons=0,institutions=0,last_is_person=!1,i=0,ilen=nameList.length;i<ilen;i+=1)state.opt.development_extensions.spoof_institutional_affiliations&&(nameList[i].literal||nameList[i].isInstitution&&nameList[i].family&&!nameList[i].given)?(institutions+=1,last_is_person=!1):(persons+=1,last_is_person=!0);if(persons>1)return!0;if(institutions>1)return!0;if(institutions&&last_is_person)return!0}return!1};this.tests.push(func)},CSL.Attributes["@locale"]=function(state,arg){var ret,langspec,lang,lst,locale_default=state.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=arg,this.tokentype===CSL.START){var locales=arg.split(/\s+/),sort_locale={},localeMaster=CSL.localeResolve(locales[0],locale_default);localeMaster.generic?sort_locale[localeMaster.generic]=localeMaster.best:sort_locale[localeMaster.best]=localeMaster.best;for(var i=1,ilen=locales.length;i<ilen;i+=1){var localeServant=CSL.localeResolve(locales[i],locale_default);localeServant.generic?sort_locale[localeServant.generic]=localeMaster.best:sort_locale[localeServant.best]=localeMaster.best}state[state.build.area].opt.sort_locales.push(sort_locale)}state.opt.has_layout_locale=!0}else{lst=arg.split(/\s+/);var locale_bares=[];for(i=0,ilen=lst.length;i<ilen;i+=1)lang=lst[i],langspec=CSL.localeResolve(lang,locale_default),2===lst[i].length&&locale_bares.push(langspec.bare),state.localeConfigure(langspec,!0),lst[i]=langspec;var locale_list=lst.slice();this.tests.push(function(locale_list,locale_default,locale_bares){return function(Item,item){var res;ret=[],res=!1;var lang,langspec=!1;for(lang=Item.language?Item.language:locale_default,langspec=CSL.localeResolve(lang,locale_default),i=0,ilen=locale_list.length;i<ilen;i+=1)if(langspec.best===locale_list[i].best){res=!0;break}return!res&&locale_bares.indexOf(langspec.bare)>-1&&(res=!0),res}}(locale_list,locale_default,locale_bares))}},CSL.Attributes["@authority-residue"]=function(state,arg){this.tests.push(function(){var succeed="true"===arg;return function(Item,item){return Item.authority&&Item.authority[0]&&Item.authority[0].family&&Item.authority[0].family.split("|").length+state.tmp.authority_stop_last>0?succeed:!succeed}}())},CSL.Attributes["@locale-internal"]=function(state,arg){var ret,langspec,lang,lst,i,ilen;for(lst=arg.split(/\s+/),this.locale_bares=[],i=0,ilen=lst.length;i<ilen;i+=1)lang=lst[i],langspec=CSL.localeResolve(lang,state.opt["default-locale"][0]),2===lst[i].length&&this.locale_bares.push(langspec.bare),state.localeConfigure(langspec),lst[i]=langspec;this.locale_default=state.opt["default-locale"][0],this.locale=lst[0].best,this.locale_list=lst.slice();var me=this;this.tests.push(function(me){return function(Item,item){var res;ret=[],res=!1;var langspec=!1;if(Item.language&&(lang=Item.language,(langspec=CSL.localeResolve(lang,state.opt["default-locale"][0])).best===state.opt["default-locale"][0]&&(langspec=!1)),langspec){for(i=0,ilen=me.locale_list.length;i<ilen;i+=1)if(langspec.best===me.locale_list[i].best){state.opt.lang=me.locale,state.tmp.last_cite_locale=me.locale,state.output.openLevel("empty"),state.output.current.value().new_locale=me.locale,res=!0;break}!res&&me.locale_bares.indexOf(langspec.bare)>-1&&(state.opt.lang=me.locale,state.tmp.last_cite_locale=me.locale,state.output.openLevel("empty"),state.output.current.value().new_locale=me.locale,res=!0)}return res}}(me))},CSL.Attributes["@is-parallel"]=function(state,arg){for(var values=arg.split(" "),i=0,ilen=values.length;i<ilen;i+=1)"true"===values[i]?values[i]=!0:"false"===values[i]&&(values[i]=!1);this.strings.set_parallel_condition=values},CSL.Attributes["@require"]=function(state,arg){this.strings.require=arg},CSL.Attributes["@reject"]=function(state,arg){this.strings.reject=arg},CSL.Attributes["@gender"]=function(state,arg){this.gender=arg},CSL.Attributes["@cslid"]=function(state,arg){this.cslid=parseInt(arg,10)},CSL.Attributes["@label-form"]=function(state,arg){this.strings.label_form_override=arg},CSL.Attributes["@part-separator"]=function(state,arg){this.strings["part-separator"]=arg},CSL.Attributes["@leading-noise-words"]=function(state,arg){this["leading-noise-words"]=arg},CSL.Attributes["@name-never-short"]=function(state,arg){this["name-never-short"]=arg},CSL.Attributes["@class"]=function(state,arg){state.opt["class"]=arg},CSL.Attributes["@version"]=function(state,arg){state.opt.version=arg},CSL.Attributes["@value"]=function(state,arg){this.strings.value=arg},CSL.Attributes["@name"]=function(state,arg){this.strings.name=arg},CSL.Attributes["@form"]=function(state,arg){this.strings.form=arg},CSL.Attributes["@date-parts"]=function(state,arg){this.strings["date-parts"]=arg},CSL.Attributes["@range-delimiter"]=function(state,arg){this.strings["range-delimiter"]=arg},CSL.Attributes["@macro"]=function(state,arg){this.postponed_macro=arg},CSL.Attributes["@term"]=function(state,arg){this.strings.term="sub verbo"===arg?"sub-verbo":arg},CSL.Attributes["@xmlns"]=function(state,arg){},CSL.Attributes["@lang"]=function(state,arg){arg&&(state.build.lang=arg)},CSL.Attributes["@lingo"]=function(state,arg){},CSL.Attributes["@macro-has-date"]=function(state,arg){this["macro-has-date"]=!0},CSL.Attributes["@suffix"]=function(state,arg){this.strings.suffix=arg},CSL.Attributes["@prefix"]=function(state,arg){this.strings.prefix=arg},CSL.Attributes["@delimiter"]=function(state,arg){this.strings.delimiter=arg},CSL.Attributes["@match"]=function(state,arg){this.match=arg},CSL.Attributes["@names-min"]=function(state,arg){var val=parseInt(arg,10);state[state.build.area].opt.max_number_of_names<val&&(state[state.build.area].opt.max_number_of_names=val),this.strings["et-al-min"]=val},CSL.Attributes["@names-use-first"]=function(state,arg){this.strings["et-al-use-first"]=parseInt(arg,10)},CSL.Attributes["@names-use-last"]=function(state,arg){this.strings["et-al-use-last"]="true"===arg},CSL.Attributes["@sort"]=function(state,arg){"descending"===arg&&(this.strings.sort_direction=CSL.DESCENDING)},CSL.Attributes["@plural"]=function(state,arg){"always"===arg||"true"===arg?this.strings.plural=1:"never"===arg||"false"===arg?this.strings.plural=0:"contextual"===arg&&(this.strings.plural=!1)},CSL.Attributes["@has-publisher-and-publisher-place"]=function(state,arg){this.strings["has-publisher-and-publisher-place"]=!0},CSL.Attributes["@publisher-delimiter-precedes-last"]=function(state,arg){this.strings["publisher-delimiter-precedes-last"]=arg},CSL.Attributes["@publisher-delimiter"]=function(state,arg){this.strings["publisher-delimiter"]=arg},CSL.Attributes["@publisher-and"]=function(state,arg){this.strings["publisher-and"]=arg},CSL.Attributes["@newdate"]=function(state,arg){},CSL.Attributes["@givenname-disambiguation-rule"]=function(state,arg){CSL.GIVENNAME_DISAMBIGUATION_RULES.indexOf(arg)>-1&&(state.citation.opt["givenname-disambiguation-rule"]=arg)},CSL.Attributes["@collapse"]=function(state,arg){arg&&(state[this.name].opt.collapse=arg)},CSL.Attributes["@cite-group-delimiter"]=function(state,arg){arg&&(state[state.tmp.area].opt.cite_group_delimiter=arg)},CSL.Attributes["@names-delimiter"]=function(state,arg){state.setOpt(this,"names-delimiter",arg)},CSL.Attributes["@name-form"]=function(state,arg){state.setOpt(this,"name-form",arg)},CSL.Attributes["@subgroup-delimiter"]=function(state,arg){this.strings["subgroup-delimiter"]=arg},CSL.Attributes["@subgroup-delimiter-precedes-last"]=function(state,arg){this.strings["subgroup-delimiter-precedes-last"]=arg},CSL.Attributes["@name-delimiter"]=function(state,arg){state.setOpt(this,"name-delimiter",arg)},CSL.Attributes["@et-al-min"]=function(state,arg){var val=parseInt(arg,10);state[state.build.area].opt.max_number_of_names<val&&(state[state.build.area].opt.max_number_of_names=val),state.setOpt(this,"et-al-min",val)},CSL.Attributes["@et-al-use-first"]=function(state,arg){state.setOpt(this,"et-al-use-first",parseInt(arg,10))},CSL.Attributes["@et-al-use-last"]=function(state,arg){"true"===arg?state.setOpt(this,"et-al-use-last",!0):state.setOpt(this,"et-al-use-last",!1)},CSL.Attributes["@et-al-subsequent-min"]=function(state,arg){var val=parseInt(arg,10);state[state.build.area].opt.max_number_of_names<val&&(state[state.build.area].opt.max_number_of_names=val),state.setOpt(this,"et-al-subsequent-min",val)},CSL.Attributes["@et-al-subsequent-use-first"]=function(state,arg){state.setOpt(this,"et-al-subsequent-use-first",parseInt(arg,10))},CSL.Attributes["@suppress-min"]=function(state,arg){this.strings["suppress-min"]=parseInt(arg,10)},CSL.Attributes["@suppress-max"]=function(state,arg){this.strings["suppress-max"]=parseInt(arg,10)},CSL.Attributes["@and"]=function(state,arg){state.setOpt(this,"and",arg)},CSL.Attributes["@delimiter-precedes-last"]=function(state,arg){state.setOpt(this,"delimiter-precedes-last",arg)},CSL.Attributes["@delimiter-precedes-et-al"]=function(state,arg){state.setOpt(this,"delimiter-precedes-et-al",arg)},CSL.Attributes["@initialize-with"]=function(state,arg){state.setOpt(this,"initialize-with",arg)},CSL.Attributes["@initialize"]=function(state,arg){"false"===arg&&state.setOpt(this,"initialize",!1)},CSL.Attributes["@name-as-reverse-order"]=function(state,arg){this["name-as-reverse-order"]=arg},CSL.Attributes["@name-as-sort-order"]=function(state,arg){"style-options"===this.name?this["name-as-sort-order"]=arg:state.setOpt(this,"name-as-sort-order",arg)},CSL.Attributes["@sort-separator"]=function(state,arg){state.setOpt(this,"sort-separator",arg)},CSL.Attributes["@year-suffix-delimiter"]=function(state,arg){state[this.name].opt["year-suffix-delimiter"]=arg},CSL.Attributes["@after-collapse-delimiter"]=function(state,arg){state[this.name].opt["after-collapse-delimiter"]=arg},CSL.Attributes["@subsequent-author-substitute"]=function(state,arg){state[this.name].opt["subsequent-author-substitute"]=arg},CSL.Attributes["@subsequent-author-substitute-rule"]=function(state,arg){state[this.name].opt["subsequent-author-substitute-rule"]=arg},CSL.Attributes["@disambiguate-add-names"]=function(state,arg){"true"===arg&&(state.opt["disambiguate-add-names"]=!0)},CSL.Attributes["@disambiguate-add-givenname"]=function(state,arg){"true"===arg&&(state.opt["disambiguate-add-givenname"]=!0)},CSL.Attributes["@disambiguate-add-year-suffix"]=function(state,arg){"true"===arg&&"numeric"!==state.opt.xclass&&(state.opt["disambiguate-add-year-suffix"]=!0)},CSL.Attributes["@second-field-align"]=function(state,arg){"flush"!==arg&&"margin"!==arg||(state[this.name].opt["second-field-align"]=arg)},CSL.Attributes["@hanging-indent"]=function(state,arg){"true"===arg&&(state[this.name].opt.hangingindent=!0)},CSL.Attributes["@line-spacing"]=function(state,arg){arg&&arg.match(/^[.0-9]+$/)&&(state[this.name].opt["line-spacing"]=parseFloat(arg,10))},CSL.Attributes["@entry-spacing"]=function(state,arg){arg&&arg.match(/^[.0-9]+$/)&&(state[this.name].opt["entry-spacing"]=parseFloat(arg,10))},CSL.Attributes["@near-note-distance"]=function(state,arg){state[this.name].opt["near-note-distance"]=parseInt(arg,10)},CSL.Attributes["@text-case"]=function(state,arg){var func=function(state,Item){if("normal"===arg)this.text_case_normal=!0;else if(this.strings["text-case"]=arg,"title"===arg){state.opt["default-locale"][0].slice(0,2);Item.jurisdiction&&(this.strings["text-case"]="passthrough")}};this.execs.push(func)},CSL.Attributes["@page-range-format"]=function(state,arg){state.opt["page-range-format"]=arg},CSL.Attributes["@year-range-format"]=function(state,arg){state.opt["year-range-format"]=arg},CSL.Attributes["@default-locale"]=function(state,arg){if("style"===this.name){var lst,len,pos,m,ret;if(m=arg.match(/-x-(sort|translit|translat)-/g))for(pos=0,len=m.length;pos<len;pos+=1)m[pos]=m[pos].replace(/^-x-/,"").replace(/-$/,"");for(ret=[(lst=arg.split(/-x-(?:sort|translit|translat)-/))[0]],pos=1,len=lst.length;pos<len;pos+=1)ret.push(m[pos-1]),ret.push(lst[pos]);for(len=(lst=ret.slice()).length,pos=1;pos<len;pos+=2)state.opt["locale-"+lst[pos]].push(lst[pos+1].replace(/^\s*/g,"").replace(/\s*$/g,""));lst.length?state.opt["default-locale"]=lst.slice(0,1):state.opt["default-locale"]=["en"]}else"true"===arg&&(this.default_locale=!0)},CSL.Attributes["@default-locale-sort"]=function(state,arg){state.opt["default-locale-sort"]=arg},CSL.Attributes["@demote-non-dropping-particle"]=function(state,arg){state.opt["demote-non-dropping-particle"]=arg},CSL.Attributes["@initialize-with-hyphen"]=function(state,arg){"false"===arg&&(state.opt["initialize-with-hyphen"]=!1)},CSL.Attributes["@institution-parts"]=function(state,arg){this.strings["institution-parts"]=arg},CSL.Attributes["@if-short"]=function(state,arg){"true"===arg&&(this.strings["if-short"]=!0)},CSL.Attributes["@substitute-use-first"]=function(state,arg){this.strings["substitute-use-first"]=parseInt(arg,10)},CSL.Attributes["@use-first"]=function(state,arg){this.strings["use-first"]=parseInt(arg,10)},CSL.Attributes["@stop-last"]=function(state,arg){this.strings["stop-last"]=-1*parseInt(arg,10)},CSL.Attributes["@use-last"]=function(state,arg){this.strings["use-last"]=parseInt(arg,10)},CSL.Attributes["@reverse-order"]=function(state,arg){"true"===arg&&(this.strings["reverse-order"]=!0)},CSL.Attributes["@display"]=function(state,arg){2===state.bibliography.tokens.length&&(state.opt.using_display=!0),this.strings.cls=arg},CSL.Stack=function(val,literal){this.mystack=[],(literal||val)&&this.mystack.push(val),this.tip=this.mystack[0]},CSL.Stack.prototype.push=function(val,literal){literal||val?this.mystack.push(val):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},CSL.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},CSL.Stack.prototype.replace=function(val,literal){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+val;this.mystack[this.mystack.length-1]=literal||val?val:"",this.tip=this.mystack[this.mystack.length-1]},CSL.Stack.prototype.pop=function(){var ret=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},ret},CSL.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},CSL.Stack.prototype.length=function(){return this.mystack.length},CSL.Parallel=function(state){this.state=state,this.sets=new CSL.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},CSL.Parallel.prototype.isMid=function(variable){return this.midVars.indexOf(variable)>-1},CSL.Parallel.prototype.StartCitation=function(sortedItems,out){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=sortedItems,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],this.out=out||this.state.output.queue,this.master_was_neutral_cite=!0)},CSL.Parallel.prototype.StartCite=function(Item,item,prevItemID){var position,pos,curr,master,last_id,prev_locator,curr_locator;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==Item.id&&this.ComposeSet(),this.sortedItemsPos+=1,item&&(position=item.position),this.try_cite=!0;for(var has_required_var=!1,i=0,ilen=CSL.PARALLEL_MATCH_VARS.length;i<ilen;i+=1)if(Item[CSL.PARALLEL_MATCH_VARS[i]]){has_required_var=!0;break}var basics_ok=!0,last_cite=this.sets.value().slice(-1)[0];if(last_cite&&last_cite.Item){var lastJuris=last_cite.Item.jurisdiction?last_cite.Item.jurisdiction.split(":")[0]:"",thisJuris=Item.jurisdiction?Item.jurisdiction.split(":")[0]:"";last_cite.Item.title!==Item.title?basics_ok=!1:lastJuris!==thisJuris?basics_ok=!1:last_cite.Item.type!==Item.type?basics_ok=!1:["article-journal","article-magazine"].indexOf(Item.type)>-1&&(this.state.opt.development_extensions.handle_parallel_articles&&last_cite.Item["container-title"]===Item["container-title"]||(basics_ok=!1))}if(basics_ok&&has_required_var&&-1!==CSL.PARALLEL_TYPES.indexOf(Item.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=position,this.cite.Item=Item,this.cite.itemId=""+Item.id,this.cite.prevItemID=""+prevItemID,this.target="front",["treaty"].indexOf(Item.type)>-1)this.ignoreVars=this.ignoreVarsOrders;else if(["article-journal","article-magazine"].indexOf(Item.type)>-1)this.ignoreVars=this.ignoreVarsOther;else if(item&&item.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var prev=this.sets.value()[this.sets.value().length-1];if(prev&&prev.back)for(i=prev.back.length-1;i>-1;i+=-1)prev.back[i]&&prev[prev.back[i]]&&delete prev[prev.back[i]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&this.sortedItemsPos>0&&this.sortedItemsPos<this.sortedItems.length){if(curr=this.sortedItems[this.sortedItemsPos][1],last_id=""+this.sortedItems[this.sortedItemsPos-1][1].id,master=this.state.registry.registry[last_id].parallel,prev_locator=!1,master==curr.id){for(pos=this.sortedItemsPos-1;pos>-1;pos+=-1)if(this.sortedItems[pos][1].id==Item.id){prev_locator=this.sortedItems[pos][1].locator;break}curr_locator=this.sortedItems[this.sortedItemsPos][1].locator,curr.position=!prev_locator&&curr_locator?CSL.POSITION_IBID_WITH_LOCATOR:curr_locator===prev_locator?CSL.POSITION_IBID:CSL.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[Item.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[Item.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[Item.id].parallel&&(this.force_collapse=!0)}},CSL.Parallel.prototype.StartVariable=function(variable,real_variable){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if(this.variable="names"===variable?variable+":"+this.target:variable,this.ignoreVars.indexOf(variable)>-1)return;"container-title"===variable&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var is_mid=this.isMid(variable);if("authority"===real_variable&&"names:front"===this.variable&&this.sets.value().length){var prev=this.sets.value()[this.sets.value().length-1].Item,thisAuthority=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(thisAuthority=this.cite.Item.authority[0].literal);var thatAuthority=!1;prev.authority&&prev.authority.length&&(thatAuthority=prev.authority[0].literal),thisAuthority!==thatAuthority&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&is_mid?this.target="mid":"mid"===this.target&&!is_mid&&this.cite.Item.title&&"names"!==variable?this.target="back":"back"===this.target&&is_mid&&(this.try_cite=!0,this.in_series=!1);"number"===variable?this.cite.front.push(this.variable):CSL.PARALLEL_COLLAPSING_MID_VARSET.indexOf(variable)>-1?["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},CSL.Parallel.prototype.AppendBlobPointer=function(blob){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1){if(["volume","page","page-first","issue"].indexOf(this.variable)>-1)return;if("container-title"===this.variable&&this.cite.mid.length>1)return}this.variable&&(this.try_cite||this.force_collapse)&&blob&&blob.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([blob,blob.blobs.length]))}}},CSL.Parallel.prototype.AppendToVariable=function(str,varname){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.try_cite||this.force_collapse)if(this.target,0){var prev=this.sets.value()[this.sets.value().length-1];prev&&prev[this.variable]&&prev[this.variable].value&&(this.data.value+="::"+str)}else this.data.value+="::"+str}},CSL.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,this.sets.value().length>0)){var prev=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!prev[this.variable]&&!this.data.value||prev[this.variable]&&this.data.value===prev[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?CSL.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)>-1&&(prev[this.variable]&&prev[this.variable].value===this.data.value?this.cite.front_collapse[this.variable]=!0:this.cite.front_collapse[this.variable]=!1):"back"===this.target&&prev[this.variable]&&this.data.value!==prev[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},CSL.Parallel.prototype.CloseCite=function(){var pos,len,use_journal_info,volume_pos,container_title_pos,section_pos;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(use_journal_info=!1,this.cite.front_collapse["container-title"]||(use_journal_info=!0),!1===this.cite.front_collapse.volume&&(use_journal_info=!0),!1===this.cite.front_collapse["collection-number"]&&(use_journal_info=!0),!1===this.cite.front_collapse.section&&(use_journal_info=!0),use_journal_info&&(this.cite.use_journal_info=!0,(section_pos=this.cite.front.indexOf("section"))>-1&&(this.cite.front=this.cite.front.slice(0,section_pos).concat(this.cite.front.slice(section_pos+1))),(volume_pos=this.cite.front.indexOf("volume"))>-1&&(this.cite.front=this.cite.front.slice(0,volume_pos).concat(this.cite.front.slice(volume_pos+1))),(container_title_pos=this.cite.front.indexOf("container-title"))>-1&&(this.cite.front=this.cite.front.slice(0,container_title_pos).concat(this.cite.front.slice(container_title_pos+1))),collection_number_pos=this.cite.front.indexOf("collection-number"),collection_number_pos>-1&&(this.cite.front=this.cite.front.slice(0,collection_number_pos).concat(this.cite.front.slice(collection_number_pos+1)))),this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){for(has_date=!1,pos=0,len=this.cite.back.length;pos<len;pos+=1)if("issued"===this.cite.back[pos]&&this.cite.issued&&this.cite.issued.value){has_date=!0;break}has_date||this.cite.back_forceme.push("issued")}else{var idx=this.cite.front.indexOf("issued");(-1===idx||this.master_was_neutral_cite)&&(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),idx>-1&&(this.sets.value()[this.sets.value().length-1].issued||(this.cite.front=this.cite.front.slice(0,idx).concat(this.cite.front.slice(idx+1)))),this.master_was_neutral_cite&&this.cite.mid.indexOf("names:mid")>-1&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},CSL.Parallel.prototype.ComposeSet=function(next_output_in_progress){var cite,pos,len;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var lengthCheck=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(len=this.sets.value().length,pos=0;pos<len;pos+=1)cite=this.sets.value()[pos],0===pos?this.delim_counter+=1:(!cite.Item.title&&cite.use_journal_info?this.delim_pointers.push(!1):this.delim_pointers.push(this.delim_counter),this.delim_counter+=1),CSL.POSITION_FIRST===cite.position&&(0===pos?(this.state.registry.registry[cite.itemId].master=!0,this.state.registry.registry[cite.itemId].siblings=[],this.state.registry.registry[cite.itemId].parallel=!1):cite.prevItemID&&(this.state.registry.registry[cite.prevItemID].parallel?this.state.registry.registry[cite.itemId].parallel=this.state.registry.registry[cite.prevItemID].parallel:this.state.registry.registry[cite.itemId].parallel=cite.prevItemID,this.state.registry.registry[cite.itemId].siblings=this.state.registry.registry[cite.prevItemID].siblings,this.state.registry.registry[cite.itemId].siblings||(this.state.registry.registry[cite.itemId].siblings=[],CSL.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[cite.itemId].siblings.push(cite.itemId)));this.sets.push([])}lengthCheck<2?this.purgeGroupsIfParallel(!1):this.purgeGroupsIfParallel(!0),this.in_series=!0}},CSL.Parallel.prototype.PruneOutputQueue=function(){var len,pos,series,ppos,llen,cite;if(this.use_parallels)for(len=this.sets.mystack.length,pos=0;pos<len;pos+=1)if((series=this.sets.mystack[pos]).length>1)for(llen=series.length,ppos=0;ppos<llen;ppos+=1)cite=series[ppos],0===ppos?this.purgeVariableBlobs(cite,cite.back):ppos===series.length-1?this.purgeVariableBlobs(cite,cite.front.concat(cite.back_forceme)):this.purgeVariableBlobs(cite,cite.front.concat(cite.back))},CSL.Parallel.prototype.purgeVariableBlobs=function(cite,varnames){var len,pos,varname,b,ppos,out;if(this.use_parallels){for("undefined"==typeof(out=this.state.output.current.value()).length&&(out=out.blobs),pos=0,len=this.delim_pointers.length;pos<len;pos+=1)!1!==(ppos=this.delim_pointers[pos])&&(out[ppos].parallel_delimiter=", ");for(pos=len=varnames.length-1;pos>-1;pos+=-1)if(varname=varnames[pos],cite[varname])for(ppos=cite[varname].blobs.length-1;ppos>-1;ppos+=-1)(b=cite[varname].blobs[ppos])[0].blobs=b[0].blobs.slice(0,b[1]).concat(b[0].blobs.slice(b[1]+1)),this.state.tmp.has_purged_parallel=!0,b[0]&&b[0].strings&&"string"==typeof b[0].strings.oops&&b[0].parent&&b[0].parent&&(b[0].parent.parent.strings.delimiter=b[0].strings.oops)}},CSL.Parallel.prototype.purgeGroupsIfParallel=function(original_condition){for(var i=this.parallel_conditional_blobs_list.length-1;i>-1;i+=-1){for(var obj=this.parallel_conditional_blobs_list[i],purgeme=!0,j=0,jlen=obj.conditions.length;j<jlen;j+=1)if(!obj.conditions[j]!=!!original_condition&&("master"!==obj.conditions[j]||this.state.registry.registry[obj.id].master)&&("servant"!==obj.conditions[j]||this.state.registry.registry[obj.id].parallel)){purgeme=!1;break}if(purgeme){for(var buffer=[];obj.blobs.length>obj.pos;)buffer.push(obj.blobs.pop());for(buffer.length&&buffer.pop();buffer.length;)obj.blobs.push(buffer.pop())}this.parallel_conditional_blobs_list.pop()}},CSL.Util={},CSL.Util.Match=function(){this.any=function(token,state,tests){return function(Item,item){for(var i=0,ilen=tests.length;i<ilen;i+=1)if(result=tests[i](Item,item),result)return!0;return!1}},this.none=function(token,state,tests){return function(Item,item){for(var i=0,ilen=tests.length;i<ilen;i+=1)if(result=tests[i](Item,item),result)return!1;return!0}},this.all=function(token,state,tests){return function(Item,item){for(var i=0,ilen=tests.length;i<ilen;i+=1)if(result=tests[i](Item,item),!result)return!1;return!0}},this[undefined]=this.all,this.nand=function(token,state,tests){return function(Item,item){for(var i=0,ilen=tests.length;i<ilen;i+=1)if(result=tests[i](Item,item),!result)return!0;return!1}}},CSL.Transform=function(state){function abbreviate(state,Item,altvar,basevalue,myabbrev_family,use_field){var value;if(!(myabbrev_family=CSL.FIELD_CATEGORY_REMAP[myabbrev_family]))return basevalue;var variable=myabbrev_family;if(value="",state.sys.getAbbreviation){var jurisdiction=state.transform.loadAbbreviation(Item.jurisdiction,myabbrev_family,basevalue,Item.type,!0);state.transform.abbrevs[jurisdiction][myabbrev_family]&&basevalue&&state.sys.getAbbreviation&&state.transform.abbrevs[jurisdiction][myabbrev_family][basevalue]&&(value=state.transform.abbrevs[jurisdiction][myabbrev_family][basevalue].replace("{stet}",basevalue))}return value||state.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===Item.type||!altvar||!Item[altvar]||!use_field||(value=Item[altvar]),value||(value=basevalue),value&&value.match(/^\!(?:[^>]+,)*here(?:,[^>]+)*>>>/)&&(value="jurisdiction"===variable&&["treaty","patent"].indexOf(Item.type)>-1&&value.replace(/^\![^>]*>>>\s*/,"")),value}function getFieldLocale(Item,field){var localeRex,ret=state.opt["default-locale"][0].slice(0,2);return localeRex=state.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),Item.language&&(m=(""+Item.language).match(localeRex),ret=m?m[1]:"tlh"),Item.multi&&Item.multi&&Item.multi.main&&Item.multi.main[field]&&(ret=Item.multi.main[field]),state.opt.development_extensions.strict_text_case_locales&&!state.opt.development_extensions.normalize_lang_keys_to_lowercase||(ret=ret.toLowerCase()),ret}function getTextSubField(Item,field,locale_type,use_default,stopOrig){var opt,o,opts,usedOrig=stopOrig,usingOrig=!1;if(!Item[field])return{name:"",usedOrig:stopOrig,token:CSL.Util.cloneToken(this)};ret={name:"",usedOrig:stopOrig,locale:getFieldLocale(Item,field)},opts=state.opt[locale_type];var hasVal=!1,jurisdictionName=!1;if("locale-orig"===locale_type)ret=stopOrig?{name:"",usedOrig:stopOrig}:{name:Item[field],usedOrig:!1,locale:getFieldLocale(Item,field)},hasVal=!0,usingOrig=!0;else if(use_default&&(void 0===opts||0===opts.length)){var ret={name:Item[field],usedOrig:!0,locale:getFieldLocale(Item,field)};hasVal=!0,usingOrig=!0}if(!hasVal){for(var i=0,ilen=opts.length;i<ilen;i+=1){if(opt=opts[i],o=opt.split(/[\-_]/)[0],opt&&Item.multi&&Item.multi._keys[field]&&Item.multi._keys[field][opt]){ret.name=Item.multi._keys[field][opt],ret.locale=opt,"jurisdiction"===field&&(jurisdictionName=ret.name);break}if(o&&Item.multi&&Item.multi._keys[field]&&Item.multi._keys[field][o]){ret.name=Item.multi._keys[field][o],ret.locale=o,"jurisdiction"===field&&(jurisdictionName=ret.name);break}}!ret.name&&use_default&&(ret={name:Item[field],usedOrig:!0,locale:getFieldLocale(Item,field)},usingOrig=!0)}if(ret.token=CSL.Util.cloneToken(this),state.sys.getHumanForm&&"jurisdiction"===field&&ret.name)ret.name=CSL.getJurisdictionNameAndSuppress(state,Item[field],jurisdictionName);else if(["title","container-title"].indexOf(field)>-1&&!(usedOrig||ret.token.strings["text-case"]&&"sentence"!==ret.token.strings["text-case"]&&"normal"!==ret.token.strings["text-case"])){var locale=!usingOrig&&ret.locale,seg=field.slice(0,-5),sentenceCase="sentence"===ret.token.strings["text-case"];ret.name=CSL.titlecaseSentenceOrNormal(state,Item,seg,locale,sentenceCase),delete ret.token.strings["text-case"]}return ret}function loadAbbreviation(jurisdiction,category,orig,itemType){return jurisdiction||(jurisdiction="default"),orig?(state.sys.getAbbreviation&&((jurisdiction=state.sys.getAbbreviation(state.opt.styleID,state.transform.abbrevs,jurisdiction,category,orig,itemType,!0))||(jurisdiction="default")),jurisdiction):(state.transform.abbrevs[jurisdiction]||(state.transform.abbrevs[jurisdiction]=new state.sys.AbbreviationSegments),state.transform.abbrevs[jurisdiction][category]||(state.transform.abbrevs[jurisdiction][category]={}),jurisdiction)}function publisherCheck(tok,Item,primary,myabbrev_family){var varname=tok.variables[0];if(state.publisherOutput&&primary){if(-1===["publisher","publisher-place"].indexOf(varname))return!1;state.publisherOutput[varname+"-token"]=tok,state.publisherOutput.varlist.push(varname);var lst=primary.split(/;\s*/);lst.length===state.publisherOutput[varname+"-list"].length&&(state.publisherOutput[varname+"-list"]=lst);for(var i=0,ilen=lst.length;i<ilen;i+=1)lst[i]=abbreviate(state,Item,!1,lst[i],myabbrev_family,!0);return state.tmp[varname+"-token"]=tok,!0}return!1}function getOutputFunction(variables,myabbrev_family,abbreviation_fallback,alternative_varname,transform_fallback){var localesets,langPrefs=CSL.LangPrefsMap[variables[0]];return localesets=!!langPrefs&&state.opt["cite-lang-prefs"][langPrefs],function(state,Item,item,usedOrig){var primary,primary_locale,secondary,secondary_locale,tertiary,tertiary_locale;if(!variables[0]||!Item[variables[0]]&&!Item[alternative_varname])return null;var slot={primary:!1,secondary:!1,tertiary:!1};if("_sort"===state.tmp.area.slice(-5))slot.primary="locale-sort";else if(localesets)for(var slotnames=["primary","secondary","tertiary"],i=0,ilen=slotnames.length;i<ilen&&!(localesets.length-1<i);i+=1)localesets[i]&&(slot[slotnames[i]]="locale-"+localesets[i]);else slot.primary="locale-orig";if("title-short"!==variables[0]&&("bibliography"===state.tmp.area||"citation"===state.tmp.area&&"note"===state.opt.xclass&&item&&!item.position)||(slot.secondary=!1,slot.tertiary=!1),state.tmp["publisher-list"])return"publisher"===variables[0]?state.tmp["publisher-token"]=this:"publisher-place"===variables[0]&&(state.tmp["publisher-place-token"]=this),null;var res=getTextSubField.call(this,Item,variables[0],slot.primary,!0);primary=res.name,primary_locale=res.locale;var primary_tok=res.token,primaryUsedOrig=res.usedOrig;if(publisherCheck(this,Item,primary,myabbrev_family))return null;if(secondary=!1,tertiary=!1,slot.secondary){secondary=(res=getTextSubField.call(this,Item,variables[0],slot.secondary,!1,res.usedOrig)).name,secondary_locale=res.locale;var secondary_tok=res.token}if(slot.tertiary){tertiary=(res=getTextSubField.call(this,Item,variables[0],slot.tertiary,!1,res.usedOrig)).name,tertiary_locale=res.locale;var tertiary_tok=res.token}myabbrev_family&&((primary=abbreviate(state,Item,alternative_varname,primary,myabbrev_family,!0))&&(primary=quashCheck(primary)),secondary=abbreviate(state,Item,!1,secondary,myabbrev_family,!0),tertiary=abbreviate(state,Item,!1,tertiary,myabbrev_family,!0));var primaryPrefix;if("locale-translit"===slot.primary&&(primaryPrefix=state.opt.citeAffixes[langPrefs][slot.primary].prefix),"<i>"===primaryPrefix&&"title"===variables[0]&&!primaryUsedOrig){for(var hasItalic=!1,i=0,ilen=primary_tok.decorations.length;i<ilen;i+=1)"@font-style"===primary_tok.decorations[i][0]&&"italic"===primary_tok.decorations[i][1]&&(hasItalic=!0);hasItalic||primary_tok.decorations.push(["@font-style","italic"])}if("en"!==primary_locale&&"title"===primary_tok.strings["text-case"]&&(primary_tok.strings["text-case"]="passthrough"),"title"===variables[0]&&(primary=CSL.demoteNoiseWords(state,primary,this["leading-noise-words"])),secondary||tertiary){if(state.output.openLevel("empty"),primary_tok.strings.suffix=primary_tok.strings.suffix.replace(/[ .,]+$/,""),state.output.append(primary,primary_tok),secondary){secondary_tok.strings.prefix=state.opt.citeAffixes[langPrefs][slot.secondary].prefix,secondary_tok.strings.suffix=state.opt.citeAffixes[langPrefs][slot.secondary].suffix,secondary_tok.strings.prefix||(secondary_tok.strings.prefix=" ");for(i=secondary_tok.decorations.length-1;i>-1;i+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(secondary_tok.decorations[i].join("/"))>-1&&(secondary_tok.decorations=secondary_tok.decorations.slice(0,i).concat(secondary_tok.decorations.slice(i+1)));"en"!==secondary_locale&&"title"===secondary_tok.strings["text-case"]&&(secondary_tok.strings["text-case"]="passthrough");var secondary_outer=new CSL.Token;secondary_outer.decorations.push(["@font-style","normal"]),secondary_outer.decorations.push(["@font-weight","normal"]),state.output.openLevel(secondary_outer),state.output.append(secondary,secondary_tok),state.output.closeLevel();var blob_obj=state.output.current.value(),blobs_pos=state.output.current.value().blobs.length-1;state.parallel.use_parallels&&(state.parallel.cite.front.push(variables[0]+":secondary"),state.parallel.cite[variables[0]+":secondary"]={blobs:[[blob_obj,blobs_pos]]})}if(tertiary){tertiary_tok.strings.prefix=state.opt.citeAffixes[langPrefs][slot.tertiary].prefix,tertiary_tok.strings.suffix=state.opt.citeAffixes[langPrefs][slot.tertiary].suffix,tertiary_tok.strings.prefix||(tertiary_tok.strings.prefix=" ");for(i=tertiary_tok.decorations.length-1;i>-1;i+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(tertiary_tok.decorations[i].join("/"))>-1&&(tertiary_tok.decorations=tertiary_tok.decorations.slice(0,i).concat(tertiary_tok.decorations.slice(i+1)));"en"!==tertiary_locale&&"title"===tertiary_tok.strings["text-case"]&&(tertiary_tok.strings["text-case"]="passthrough");var tertiary_outer=new CSL.Token;tertiary_outer.decorations.push(["@font-style","normal"]),tertiary_outer.decorations.push(["@font-weight","normal"]),state.output.openLevel(tertiary_outer),state.output.append(tertiary,tertiary_tok),state.output.closeLevel();var blob_obj=state.output.current.value(),blobs_pos=state.output.current.value().blobs.length-1;state.parallel.use_parallels&&(state.parallel.cite.front.push(variables[0]+":tertiary"),state.parallel.cite[variables[0]+":tertiary"]={blobs:[[blob_obj,blobs_pos]]})}state.output.closeLevel()}else state.output.append(primary,primary_tok);return null}}function quashCheck(value){var m=value.match(/^!([-,_a-z]+)>>>/);if(m){var fields=m[1].split(",");value=value.slice(m[0].length);for(var i=0,ilen=fields.length;i<ilen;i+=1)-1===state.tmp.done_vars.indexOf(fields[i])&&state.tmp.done_vars.push(fields[i])}return value}this.abbrevs={},this.abbrevs["default"]=new state.sys.AbbreviationSegments,this.getTextSubField=getTextSubField,this.loadAbbreviation=loadAbbreviation,this.getOutputFunction=getOutputFunction,this.quashCheck=quashCheck},CSL.Token=function(name,tokentype){this.name=name,this.strings={},this.strings.delimiter=undefined,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=tokentype,this.evaluator=!1,this.tests=[],this.rawtests=[],this.succeed=!1,this.fail=!1,this.next=!1},CSL.Util.cloneToken=function(token){var newtok,key,pos,len;if("string"==typeof token)return token;newtok=new CSL.Token(token.name,token.tokentype);for(key in token.strings)token.strings.hasOwnProperty(key)&&(newtok.strings[key]=token.strings[key]);if(token.decorations)for(newtok.decorations=[],pos=0,len=token.decorations.length;pos<len;pos+=1)newtok.decorations.push(token.decorations[pos].slice());return token.variables&&(newtok.variables=token.variables.slice()),token.execs&&(newtok.execs=token.execs.slice(),newtok.tests=token.tests.slice(),newtok.rawtests=token.tests.slice()),newtok},CSL.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},CSL.Blob=function(str,token,levelname){var len,pos,key;if(this.levelname=levelname,token){this.strings={prefix:"",suffix:""};for(key in token.strings)token.strings.hasOwnProperty(key)&&(this.strings[key]=token.strings[key]);for(this.decorations=[],len=token.decorations===undefined?0:token.decorations.length,pos=0;pos<len;pos+=1)this.decorations.push(token.decorations[pos].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof str?str:str?[str]:[],this.alldecor=[this.decorations]},CSL.Blob.prototype.push=function(blob){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==blob&&(blob.alldecor=blob.alldecor.concat(this.alldecor),this.blobs.push(blob))},CSL.NumericBlob=function(particle,num,mother_token,id){this.id=id,this.alldecor=[],this.num=num,this.particle=particle,this.blobs=num.toString(),this.status=CSL.START,this.strings={},mother_token?(this.gender=mother_token.gender,this.decorations=mother_token.decorations,this.strings.prefix=mother_token.strings.prefix,this.strings.suffix=mother_token.strings.suffix,this.strings["text-case"]=mother_token.strings["text-case"],this.successor_prefix=mother_token.successor_prefix,this.range_prefix=mother_token.range_prefix,this.splice_prefix=mother_token.splice_prefix,this.formatter=mother_token.formatter,this.formatter||(this.formatter=new CSL.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new CSL.Output.DefaultFormatter)},CSL.NumericBlob.prototype.setFormatter=function(formatter){this.formatter=formatter,this.type=this.formatter.format(1)},CSL.Output.DefaultFormatter=function(){},CSL.Output.DefaultFormatter.prototype.format=function(num){return num.toString()},CSL.NumericBlob.prototype.checkNext=function(next,start){start?(this.status=CSL.START,"object"==typeof next&&(next.num===this.num+1?next.status=CSL.SUCCESSOR:next.status=CSL.SEEN)):next&&next.num&&this.type===next.type&&next.num===this.num+1?this.status===CSL.START||this.status===CSL.SEEN?next.status=CSL.SUCCESSOR:this.status!==CSL.SUCCESSOR&&this.status!==CSL.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(next.status=CSL.SUCCESSOR_OF_SUCCESSOR,this.status=CSL.SUPPRESS):next.status=CSL.SUCCESSOR):(this.status===CSL.SUCCESSOR_OF_SUCCESSOR&&(this.status=CSL.END),"object"==typeof next&&(next.status=CSL.SEEN))},CSL.NumericBlob.prototype.checkLast=function(last){return(this.status===CSL.SEEN||last.num!==this.num-1&&this.status===CSL.SUCCESSOR)&&(this.status=CSL.SUCCESSOR,!0)},CSL.Util.fixDateNode=function(parent,pos,node){var form,variable,datexml,subnode,partname,attr,val,prefix,suffix,children,key,subchildren,display,cslid,lingo=this.cslXml.getAttributeValue(node,"lingo"),default_locale=this.cslXml.getAttributeValue(node,"default-locale");this.build.date_key=!0,form=this.cslXml.getAttributeValue(node,"form");if(lingo=default_locale?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(node,"lingo"),!this.getDate(form,default_locale))return parent;var dateparts=this.cslXml.getAttributeValue(node,"date-parts");variable=this.cslXml.getAttributeValue(node,"variable"),prefix=this.cslXml.getAttributeValue(node,"prefix"),suffix=this.cslXml.getAttributeValue(node,"suffix"),display=this.cslXml.getAttributeValue(node,"display"),cslid=this.cslXml.getAttributeValue(node,"cslid"),datexml=this.cslXml.nodeCopy(this.getDate(form,default_locale)),this.cslXml.setAttribute(datexml,"lingo",this.opt.lang),this.cslXml.setAttribute(datexml,"form",form),this.cslXml.setAttribute(datexml,"date-parts",dateparts),this.cslXml.setAttribute(datexml,"cslid",cslid),this.cslXml.setAttribute(datexml,"variable",variable),this.cslXml.setAttribute(datexml,"default-locale",default_locale),prefix&&this.cslXml.setAttribute(datexml,"prefix",prefix),suffix&&this.cslXml.setAttribute(datexml,"suffix",suffix),display&&this.cslXml.setAttribute(datexml,"display",display),children=this.cslXml.children(datexml);for(key in children)subnode=children[key],"date-part"===this.cslXml.nodename(subnode)&&(partname=this.cslXml.getAttributeValue(subnode,"name"),default_locale&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(datexml,"date-part",partname,"@default-locale","true"));children=this.cslXml.children(node);for(key in children)if(subnode=children[key],"date-part"===this.cslXml.nodename(subnode)){partname=this.cslXml.getAttributeValue(subnode,"name"),subchildren=this.cslXml.attributes(subnode);for(attr in subchildren)"@name"!==attr&&(lingo&&lingo!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(attr)>-1||(val=subchildren[attr],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(datexml,"date-part",partname,attr,val)))}if("year"===this.cslXml.getAttributeValue(node,"date-parts"))this.cslXml.deleteNodeByNameAttribute(datexml,"month"),this.cslXml.deleteNodeByNameAttribute(datexml,"day");else if("year-month"===this.cslXml.getAttributeValue(node,"date-parts"))this.cslXml.deleteNodeByNameAttribute(datexml,"day");else if("month-day"===this.cslXml.getAttributeValue(node,"date-parts")){for(var childNodes=this.cslXml.children(datexml),i=1,ilen=this.cslXml.numberofnodes(childNodes);i<ilen;i++)if("year"===this.cslXml.getAttributeValue(childNodes[i],"name")){this.cslXml.setAttribute(childNodes[i-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(datexml,"year")}return this.cslXml.insertChildNodeAfter(parent,node,pos,datexml)},CSL.dateMacroAsSortKey=function(state,Item){CSL.dateAsSortKey.call(this,state,Item,!0)},CSL.dateAsSortKey=function(state,Item,isMacro){var dp,elem,value,e,yr,prefix,i,ilen,variable=this.variables[0],macroFlag="empty";for(isMacro&&state.tmp.extension&&(macroFlag="macro-with-date"),void 0===(dp=Item[variable])&&((dp={"date-parts":[[0]]}).year||(state.tmp.empty_date=!0)),"undefined"==typeof this.dateparts&&(this.dateparts=["year","month","day"]),dp.raw?dp=state.fun.dateparser.parseDateToArray(dp.raw):dp["date-parts"]&&(dp=state.dateParseArray(dp)),void 0===dp&&(dp={}),i=0,ilen=CSL.DATE_PARTS_INTERNAL.length;i<ilen;i+=1)value=0,"_end"===(e=elem=CSL.DATE_PARTS_INTERNAL[i]).slice(-4)&&(e=e.slice(0,-4)),dp[elem]&&this.dateparts.indexOf(e)>-1&&(value=dp[elem]),"year"===elem.slice(0,4)?(prefix="Y","-"===(yr=CSL.Util.Dates[e].numeric(state,value))[0]&&(prefix="X",yr=yr.slice(1),yr=9999-parseInt(yr,10)),state.output.append(CSL.Util.Dates[elem.slice(0,4)].numeric(state,prefix+yr),macroFlag)):((value=CSL.Util.Dates[e]["numeric-leading-zeros"](state,value))||(value="00"),state.output.append(value,macroFlag))},CSL.Engine.prototype.dateParseArray=function(date_obj){var ret,field,dp,exts;ret={};for(field in date_obj)if("date-parts"===field){(dp=date_obj["date-parts"]).length>1&&dp[0].length!==dp[1].length&&CSL.error("CSL data error: element mismatch in date range input."),exts=["","_end"];for(var i=0,ilen=dp.length;i<ilen;i+=1)for(var j=0,jlen=CSL.DATE_PARTS.length;j<jlen;j+=1)"undefined"==typeof dp[i][j]?ret[CSL.DATE_PARTS[j]+exts[i]]=dp[i][j]:ret[CSL.DATE_PARTS[j]+exts[i]]=parseInt(dp[i][j],10)}else date_obj.hasOwnProperty(field)&&("literal"===field&&"object"==typeof date_obj.literal&&"string"==typeof date_obj.literal.part?(CSL.debug("Warning: fixing up weird literal date value"),ret.literal=date_obj.literal.part):ret[field]=date_obj[field]);return ret},CSL.Util.Names={},CSL.Util.Names.compareNamesets=CSL.NameOutput.prototype._compareNamesets,CSL.Util.Names.unInitialize=function(state,name){var i,ilen,namelist,punctlist,ret;if(!name)return"";for(namelist=name.split(/(?:\-|\s+)/),punctlist=name.match(/(\-|\s+)/g),ret="",i=0,ilen=namelist.length;i<ilen;i+=1)CSL.ALL_ROMANESQUE_REGEXP.exec(namelist[i].slice(0,-1))&&namelist[i]&&namelist[i]!==namelist[i].toUpperCase()&&(namelist[i]=namelist[i].slice(0,1)+namelist[i].slice(1,2).toLowerCase()+namelist[i].slice(2)),ret+=namelist[i],i<ilen-1&&(ret+=punctlist[i]);return ret},CSL.Util.Names.initializeWith=function(state,name,terminator,normalizeOnly){var i,ilen,j,jlen,mm,lst,ret;if(!name)return"";if(terminator||(terminator=""),["Lord","Lady"].indexOf(name)>-1||!name.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)&&!terminator.match("%s"))return name;var namelist=name;if(!1===state.opt["initialize-with-hyphen"]&&(namelist=namelist.replace(/\-/g," ")),namelist=namelist.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),namelist=namelist.replace(/-([a-z])/g,"–$1"),mm=namelist.match(/[\-\s]+/g),0===(lst=namelist.split(/[\-\s]+/)).length)namelist=mm;else for(namelist=[lst[0]],i=1,ilen=lst.length;i<ilen;i+=1)namelist.push(mm[i-1]),namelist.push(lst[i]);for(i=(lst=namelist).length-1;i>-1;i+=-1)if(lst[i]&&lst[i].slice(0,-1).indexOf(".")>-1){var lstend=lst.slice(i+1),lstmid=lst[i].slice(0,-1).split(".");for(lst=lst.slice(0,i),j=0,jlen=lstmid.length;j<jlen;j+=1)lst.push(lstmid[j]+"."),j<lstmid.length-1&&lst.push(" ");lst=lst.concat(lstend)}return ret=normalizeOnly?CSL.Util.Names.doNormalize(state,lst,terminator):CSL.Util.Names.doInitialize(state,lst,terminator),ret=ret.replace(/\u2013([a-z])/g,"-$1")},CSL.Util.Names.doNormalize=function(state,namelist,terminator,mode){var i,ilen;terminator=terminator||"";var isAbbrev=[];for(i=0,ilen=namelist.length;i<ilen;i+=1)namelist[i].length>1&&"."===namelist[i].slice(-1)?(namelist[i]=namelist[i].slice(0,-1),isAbbrev.push(!0)):1===namelist[i].length&&namelist[i].toUpperCase()===namelist[i]?isAbbrev.push(!0):isAbbrev.push(!1);for(i=0,ilen=namelist.length;i<ilen;i+=2)isAbbrev[i]&&(i<namelist.length-2&&(namelist[i+1]="",(!terminator||terminator.slice(-1)&&" "!==terminator.slice(-1))&&namelist[i].length&&namelist[i].match(CSL.ALL_ROMANESQUE_REGEXP)&&(namelist[i].length>1||namelist[i+2].length>1)&&(namelist[i+1]=" "),namelist[i+2].length>1?namelist[i]=namelist[i]+terminator.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,""):namelist[i]=namelist[i]+terminator),i===namelist.length-1&&(namelist[i]=namelist[i]+terminator));return namelist.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},CSL.Util.Names.doInitialize=function(state,namelist,terminator,mode){var i,ilen,m,j,jlen,lst,n;for(i=0,ilen=namelist.length;i<ilen;i+=2)if(n=namelist[i])if(!(m=n.match(CSL.NAME_INITIAL_REGEXP))&&!n.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)&&n.length>1&&terminator.match("%s")&&(m=n.match(/(.)(.*)/)),m&&m[1]===m[1].toUpperCase()){var extra="";if(m[2]){var s="";for(j=0,jlen=(lst=m[2].split("")).length;j<jlen;j+=1){var c=lst[j];if(c!==c.toUpperCase())break;s+=c}s.length<m[2].length&&(extra=s.toLocaleLowerCase())}namelist[i]=m[1].toLocaleUpperCase()+extra,i<ilen-1?terminator.match("%s")?namelist[i]=terminator.replace("%s",namelist[i]):namelist[i+1].indexOf("-")>-1?namelist[i+1]=terminator+namelist[i+1]:namelist[i+1]=terminator:terminator.match("%s")?namelist[i]=terminator.replace("%s",namelist[i]):namelist.push(terminator)}else n.match(CSL.ROMANESQUE_REGEXP)&&(namelist[i]=" "+n);var ret=namelist.join("");return ret=ret.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},CSL.Util.Names.getRawName=function(name){var ret=[];return name.given&&ret.push(name.given),name.family&&ret.push(name.family),ret.join(" ")},CSL.Util.Dates={},CSL.Util.Dates.year={},CSL.Util.Dates.year.long=function(state,num){return num||(num="boolean"==typeof num?"":0),num.toString()},CSL.Util.Dates.year.imperial=function(state,num,end,makeShort){num||(num="boolean"==typeof num?"":0),end=end?"_end":"";var month=state.tmp.date_object["month"+end];for(month=month?""+month:"1";month.length<2;)month="0"+month;var day=state.tmp.date_object["day"+end];for(day=day?""+day:"1";day.length<2;)day="0"+day;var label,offset,date=parseInt(num+month+day,10);return date>=18680908&&date<19120730?(label="明治",offset=1867):date>=19120730&&date<19261225?(label="大正",offset=1911):date>=19261225&&date<19890108?(label="昭和",offset=1925):date>=19890108&&(label="平成",offset=1988),label&&offset&&(state.transform.abbrevs["default"].number[label]||state.transform.loadAbbreviation("default","number",label),state.transform.abbrevs["default"].number[label]&&(label=state.transform.abbrevs["default"].number[label]),year=label+(num-offset)),year},CSL.Util.Dates.year.short=function(state,num){if((num=num.toString())&&4===num.length)return num.substr(2)},CSL.Util.Dates.year.numeric=function(state,num){var m,pre;for((m=(num=""+num).match(/([0-9]*)$/))?(pre=num.slice(0,-1*m[1].length),num=m[1]):(pre=num,num="");num.length<4;)num="0"+num;return pre+num},CSL.Util.Dates.normalizeMonth=function(num,useSeason){var ret;if(num||(num=0),(num=""+num).match(/^[0-9]+$/)||(num=0),num=parseInt(num,10),useSeason){var res={stub:"month-",num:num};res.num<1||res.num>20?res.num=0:res.num>16?(res.stub="season-",res.num=res.num-16):res.num>12&&(res.stub="season-",res.num=res.num-12),ret=res}else(num<1||num>12)&&(num=0),ret=num;return ret},CSL.Util.Dates.month={},CSL.Util.Dates.month.numeric=function(state,num){return(num=CSL.Util.Dates.normalizeMonth(num))||(num=""),num},CSL.Util.Dates.month["numeric-leading-zeros"]=function(state,num){if(num=CSL.Util.Dates.normalizeMonth(num))for(num=""+num;num.length<2;)num="0"+num;else num="";return num},CSL.Util.Dates.month.long=function(state,num,gender,forceDefaultLocale){var res=CSL.Util.Dates.normalizeMonth(num,!0);if(num=res.num){for(num=""+num;num.length<2;)num="0"+num;num=state.getTerm(res.stub+num,"long",0,0,!1,forceDefaultLocale)}else num="";return num},CSL.Util.Dates.month.short=function(state,num,gender,forceDefaultLocale){var res=CSL.Util.Dates.normalizeMonth(num,!0);if(num=res.num){for(num=""+num;num.length<2;)num="0"+num;num=state.getTerm(res.stub+num,"short",0,0,!1,forceDefaultLocale)}else num="";return num},CSL.Util.Dates.day={},CSL.Util.Dates.day.numeric=function(state,num){return num.toString()},CSL.Util.Dates.day.long=CSL.Util.Dates.day.numeric,CSL.Util.Dates.day["numeric-leading-zeros"]=function(state,num){for(num||(num=0),num=num.toString();num.length<2;)num="0"+num;return num.toString()},CSL.Util.Dates.day.ordinal=function(state,num,gender){return state.fun.ordinalizer.format(num,gender)},CSL.Util.Sort={},CSL.Util.Sort.strip_prepositions=function(str){var m;return"string"==typeof str&&(m=str.toLocaleLowerCase(),m=str.match(/^((a|an|the)\s+)/)),m&&(str=str.substr(m[1].length)),str},CSL.Util.substituteStart=function(state,target){var element_trace,display,bib_first,func,choose_start,if_start,nodetypes;func=function(state,Item){for(var i=0,ilen=this.decorations.length;i<ilen;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){state.tmp.strip_periods+=1;break}},this.execs.push(func),this.decorations&&(state.opt.development_extensions.csl_reverse_lookup_support||state.sys.csl_reverse_lookup_support)&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),nodetypes=["number","date","names"],("text"===this.name&&!this.postponed_macro||nodetypes.indexOf(this.name)>-1)&&(element_trace=function(state,Item,item){"author"===state.tmp.element_trace.value()||"names"===this.name?item&&item["author-only"]?state.tmp.element_trace.push("do-not-suppress-me"):item&&item["suppress-author"]:item&&item["author-only"]?state.tmp.element_trace.push("suppress-me"):item&&item["suppress-author"]&&state.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(element_trace)),display=this.strings.cls,this.strings.cls=!1,0===state.build.render_nesting_level&&("bibliography"===state.build.area&&state.bibliography.opt["second-field-align"]?((bib_first=new CSL.Token("group",CSL.START)).decorations=[["@display","left-margin"]],func=function(state,Item){state.tmp.render_seen||(bib_first.strings.first_blob=Item.id,state.output.startTag("bib_first",bib_first))},bib_first.execs.push(func),target.push(bib_first)):CSL.DISPLAY_CLASSES.indexOf(display)>-1&&((bib_first=new CSL.Token("group",CSL.START)).decorations=[["@display",display]],func=function(state,Item){bib_first.strings.first_blob=Item.id,state.output.startTag("bib_first",bib_first)},bib_first.execs.push(func),target.push(bib_first)),state.build.cls=display),state.build.render_nesting_level+=1,1===state.build.substitute_level.value()&&(choose_start=new CSL.Token("choose",CSL.START),CSL.Node.choose.build.call(choose_start,state,target),func=function(Item,item){return!!state.tmp.can_substitute.value()},(if_start=new CSL.Token("if",CSL.START)).tests.push(func),if_start.test=state.fun.match.any(this,state,if_start.tests),target.push(if_start)),state.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(func=function(state,Item,item){if(!state.tmp.just_looking&&!state.tmp.suppress_decorations){variable_entry=new CSL.Token("text",CSL.START),variable_entry.decorations=[["@showid","true"]],state.output.startTag("variable_entry",variable_entry);var position=null;item&&(position=item.position),position||(position=0);var positionMap=["first","subsequent","ibid","ibid-with-locator"],noteNumber=0;item&&item.noteIndex&&(noteNumber=item.noteIndex);var firstReferenceNoteNumber=0;item&&item["first-reference-note-number"]&&(firstReferenceNoteNumber=item["first-reference-note-number"]);var citationNumber=0;item&&item["citation-number"]&&(citationNumber=item["citation-number"]);var index=0;item&&item.index&&(index=item.index);var params={itemData:Item,variableNames:this.variables,context:state.tmp.area,xclass:state.opt.xclass,position:positionMap[position],"note-number":noteNumber,"first-reference-note-number":firstReferenceNoteNumber,"citation-number":citationNumber,index:index,mode:state.opt.mode};state.output.current.value().params=params}},this.execs.push(func))},CSL.Util.substituteEnd=function(state,target){var func,bib_first_end,bib_other,if_end,choose_end,str;state.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(func=function(state,Item){state.tmp.just_looking||state.tmp.suppress_decorations||state.output.endTag("variable_entry")},this.execs.push(func)),func=function(state,Item){for(var i=0,ilen=this.decorations.length;i<ilen;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){state.tmp.strip_periods+=-1;break}},this.execs.push(func),state.build.render_nesting_level+=-1,0===state.build.render_nesting_level&&(state.build.cls?(func=function(state,Item){state.output.endTag("bib_first")},this.execs.push(func),state.build.cls=!1):"bibliography"===state.build.area&&state.bibliography.opt["second-field-align"]&&(func=function(state,Item){state.tmp.render_seen||state.output.endTag("bib_first")},(bib_first_end=new CSL.Token("group",CSL.END)).execs.push(func),target.push(bib_first_end),(bib_other=new CSL.Token("group",CSL.START)).decorations=[["@display","right-inline"]],func=function(state,Item){state.tmp.render_seen||(state.tmp.render_seen=!0,state.output.startTag("bib_other",bib_other))},bib_other.execs.push(func),target.push(bib_other))),1===state.build.substitute_level.value()&&(if_end=new CSL.Token("if",CSL.END),target.push(if_end),choose_end=new CSL.Token("choose",CSL.END),CSL.Node.choose.build.call(choose_end,state,target)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new CSL.Token("text",CSL.SINGLETON),func=function(state,Item){if("bibliography"===state.tmp.area&&"string"==typeof state.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||Item[this.variables_real])&&state.tmp.substituted_variable===this.variables_real){var i,ilen,subrule=state.bibliography.opt["subsequent-author-substitute-rule"];if(!state.tmp.suppress_decorations&&state.tmp.subsequent_author_substitute_ok&&state.tmp.rendered_name){if("partial-each"===subrule||"partial-first"===subrule){var dosub=!0,rendered_name=[];for(i=0,ilen=state.tmp.name_node.children.length;i<ilen;i+=1){var name=state.tmp.rendered_name[i];dosub&&state.tmp.last_rendered_name&&state.tmp.last_rendered_name.length>i-1&&name&&!name.localeCompare(state.tmp.last_rendered_name[i])?(str=new CSL.Blob(state[state.tmp.area].opt["subsequent-author-substitute"]),state.tmp.name_node.children[i].blobs=[str],"partial-first"===subrule&&(dosub=!1)):dosub=!1,rendered_name.push(name)}state.tmp.last_rendered_name=rendered_name}else if("complete-each"===subrule){if(rendered_name=state.tmp.rendered_name.join(",")){if(state.tmp.last_rendered_name&&!rendered_name.localeCompare(state.tmp.last_rendered_name))for(i=0,ilen=state.tmp.name_node.children.length;i<ilen;i+=1)str=new CSL.Blob(state[state.tmp.area].opt["subsequent-author-substitute"]),state.tmp.name_node.children[i].blobs=[str];state.tmp.last_rendered_name=rendered_name}}else(rendered_name=state.tmp.rendered_name.join(","))&&(state.tmp.last_rendered_name&&!rendered_name.localeCompare(state.tmp.last_rendered_name)&&(str=new CSL.Blob(state[state.tmp.area].opt["subsequent-author-substitute"]),state.tmp.label_blob?state.tmp.name_node.top.blobs=[str,state.tmp.label_blob]:state.tmp.name_node.top.blobs.length?state.tmp.name_node.top.blobs[0].blobs=[str]:state.tmp.name_node.top.blobs=[str],state.tmp.substituted_variable=this.variables_real),state.tmp.last_rendered_name=rendered_name);state.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(func)),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(func=function(state,Item){state.tmp.element_trace.pop()},this.execs.push(func))},CSL.Util.padding=function(num){var m=num.match(/\s*(-{0,1}[0-9]+)/);if(m)for((num=parseInt(m[1],10))<0&&(num=1e20+num),num=""+num;num.length<20;)num="0"+num;return num},CSL.Util.LongOrdinalizer=function(){},CSL.Util.LongOrdinalizer.prototype.init=function(state){this.state=state},CSL.Util.LongOrdinalizer.prototype.format=function(num,gender){num<10&&(num="0"+num);var ret=CSL.Engine.getField(CSL.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+num,"long",0,gender);return ret||(ret=this.state.fun.ordinalizer.format(num,gender)),this.state.tmp.cite_renders_content=!0,ret},CSL.Util.Ordinalizer=function(state){this.state=state,this.suffixes={}},CSL.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var i=0;i<3;i+=1){var gender=[undefined,"masculine","feminine"][i];this.suffixes[this.state.opt.lang][gender]=[];for(var j=1;j<5;j+=1){var ordinal=this.state.getTerm("ordinal-0"+j,"long",!1,gender);if(void 0===ordinal){delete this.suffixes[this.state.opt.lang][gender];break}this.suffixes[this.state.opt.lang][gender].push(ordinal)}}}},CSL.Util.Ordinalizer.prototype.format=function(num,gender){var str;str=""+(num=parseInt(num,10));var suffix="",trygenders=[];if(gender&&trygenders.push(gender),trygenders.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){suffix=this.state.getTerm("ordinal",!1,0,gender);for(var trygender,i=0,ilen=trygenders.length;i<ilen;i+=1){trygender=trygenders[i];var ordinfo=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(ordinfo["whole-number"][str]&&ordinfo["whole-number"][str][trygender]?suffix=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][str][trygender],!1,0,gender):ordinfo["last-two-digits"][str.slice(str.length-2)]&&ordinfo["last-two-digits"][str.slice(str.length-2)][trygender]?suffix=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][str.slice(str.length-2)][trygender],!1,0,gender):ordinfo["last-digit"][str.slice(str.length-1)]&&ordinfo["last-digit"][str.slice(str.length-1)][trygender]&&(suffix=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][str.slice(str.length-1)][trygender],!1,0,gender)),suffix)break}}else gender||(gender=undefined),this.state.fun.ordinalizer.init(),suffix=num/10%10==1||num>10&&num<20?this.suffixes[this.state.opt.lang][gender][3]:num%10==1&&num%100!=11?this.suffixes[this.state.opt.lang][gender][0]:num%10==2&&num%100!=12?this.suffixes[this.state.opt.lang][gender][1]:num%10==3&&num%100!=13?this.suffixes[this.state.opt.lang][gender][2]:this.suffixes[this.state.opt.lang][gender][3];return str=str+=suffix},CSL.Util.Romanizer=function(){},CSL.Util.Romanizer.prototype.format=function(num){var ret,pos,n,numstr,len;if(ret="",num<6e3)for((numstr=num.toString().split("")).reverse(),pos=0,n=0,len=numstr.length,pos=0;pos<len;pos+=1)n=parseInt(numstr[pos],10),ret=CSL.ROMAN_NUMERALS[pos][n]+ret;return ret},CSL.Util.Suffixator=function(slist){slist||(slist=CSL.SUFFIX_CHARS),this.slist=slist.split(",")},CSL.Util.Suffixator.prototype.format=function(N){var X;N+=1;var key="";do{X=N%26==0?26:N%26,key=this.slist[X-1]+key,N=(N-X)/26}while(0!==N);return key},CSL.Engine.prototype.processNumber=function(node,ItemObject,variable,type){function normalizeFieldValue(str,defaultLabel){var m=(str=str.trim()).match(/^([^ ]+)/);if(m&&!CSL.STATUTE_SUBDIV_STRINGS[m[1]]){var embeddedLabel=null;(embeddedLabel="locator"===variable?ItemObject.label?CSL.STATUTE_SUBDIV_STRINGS_REVERSE[ItemObject.label]:"p.":CSL.STATUTE_SUBDIV_STRINGS_REVERSE[variable])&&(str=embeddedLabel+" "+str)}return str}function composeNumberInfo(origLabel,label,val,joiningSuffix){joiningSuffix=joiningSuffix||"";var info={};if(label||CSL.STATUTE_SUBDIV_STRINGS_REVERSE[variable]||(label="var:"+variable),label){var m=label.match(/(\s*)([^\s]*)(\s*)/);info.label=m[2],info.origLabel=origLabel,info.labelSuffix=m[3]?m[3]:"",info.plural=0,info.labelVisibility=!1}return(m=val.match(/^([a-zA-Z0]*)([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(info.particle=m[1],info.value=m[2]):(info.particle="",info.value=val),info.joiningSuffix=joiningSuffix.replace(/\s*-\s*/,"-"),info}function fixupSubsections(elems){for(var i=elems.length-2;i>-1;i-=2)"-"===elems[i]&&elems[i-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&elems[i+1].match(/^[,a-zA-Z]+$/)&&(elems[i-1]=elems.slice(i-1,i+2).join(""),elems=elems.slice(0,i).concat(elems.slice(i+2)));return elems}function fixNumericAndCount(values,i,currentLabelInfo){var master=values[currentLabelInfo.pos],val=values[i].value,isEscapedHyphen="\\-"===master.joiningSuffix;val.particle&&val.particle!==master.particle&&(currentLabelInfo.collapsible=!1);var mVal=val.match(/^[0-9]+([-,:a-zA-Z]*)$/),mCurrentLabel=master.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);val&&mVal&&mCurrentLabel&&!isEscapedHyphen||(currentLabelInfo.collapsible=!1,val&&mCurrentLabel||(currentLabelInfo.numeric=!1),isEscapedHyphen&&currentLabelInfo.count--),(mVal&&mVal[1]||mCurrentLabel&&mCurrentLabel[1])&&(currentLabelInfo.collapsible=!1);var isCollapsible=currentLabelInfo.collapsible;!isCollapsible&&i>0&&val.match(/^[ivxlcmIVXLCM]+$/)&&values[i-1].value.match(/^[ivxlcmIVXLCM]+$/)&&(isCollapsible=!0);for(var j=currentLabelInfo.pos,jlen=values.length;j<jlen;j++)currentLabelInfo.label===values[j].label&&currentLabelInfo.count>1&&isCollapsible&&(values[j].plural=1),values[j].numeric=currentLabelInfo.numeric,values[j].collapsible=currentLabelInfo.collapsible;currentLabelInfo.label=values[i].label,currentLabelInfo.count=1,currentLabelInfo.pos=i,currentLabelInfo.numeric=!0,currentLabelInfo.collapsible=!0}function setStyling(values){var masterNode=CSL.Util.cloneToken(node),masterStyling=new CSL.Token;if(!me.tmp.just_looking){for(var j=masterNode.decorations.length-1;j>-1;j--)"@quotes"===masterNode.decorations[j][0]&&(masterStyling.decorations=masterStyling.decorations.concat(masterNode.decorations.slice(j,j+1)),masterNode.decorations=masterNode.decorations.slice(0,j).concat(masterNode.decorations.slice(j+1)));masterStyling.strings.prefix=masterNode.strings.prefix,masterNode.strings.prefix="",masterStyling.strings.suffix=masterNode.strings.suffix,masterNode.strings.suffix=""}var masterLabel=values.length?values[0].label:null;if(values.length){for(var i=0,ilen=values.length;i<ilen;i++){var val=values[i],newnode=CSL.Util.cloneToken(masterNode);newnode.gender=node.gender,masterLabel===val.label&&(newnode.formatter=node.formatter),val.numeric&&(newnode.successor_prefix=val.successor_prefix),newnode.strings.suffix=newnode.strings.suffix+stripHyphenBackslash(val.joiningSuffix),val.styling=newnode}me.tmp.just_looking||'"'===values[0].value.slice(0,1)&&'"'===values[values.length-1].value.slice(-1)&&(values[0].value=values[0].value.slice(1),values[values.length-1].value=values[values.length-1].value.slice(0,-1),masterStyling.decorations.push(["@quotes",!0]))}return masterStyling}function stripHyphenBackslash(joiningSuffix){return joiningSuffix.replace("\\-","-")}function fixupRangeDelimiter(variable,val,rangeDelimiter,isNumeric){var isPage=checkPage(variable,val);return checkTerm(variable,val)&&"-"===rangeDelimiter&&isNumeric&&((isPage||["locator","issue","volume","edition","number"].indexOf(variable)>-1)&&((rangeDelimiter=me.getTerm("page-range-delimiter"))||(rangeDelimiter="–")),"collection-number"===variable&&((rangeDelimiter=me.getTerm("year-range-delimiter"))||(rangeDelimiter="–"))),rangeDelimiter}function checkPage(variable,val){return"page"===variable||"locator"===variable&&["p."].indexOf(val.label)>-1}function checkTerm(variable,val){var ret=!0;return"locator"===variable&&(ret=!!me.getTerm(CSL.STATUTE_SUBDIV_STRINGS[val.label])),ret}function manglePageNumbers(values,i,currentInfo){if(!(i<1)&&2===currentInfo.count&&values[i-1].particle===values[i].particle){if("-"!==values[i-1].joiningSuffix)return void(currentInfo.count=1);if(!me.opt["page-range-format"]&&parseInt(values[i-1].value,10)>parseInt(values[i].value,10))return void(values[i-1].joiningSuffix=fixupRangeDelimiter(variable,values[i],values[i-1].joiningSuffix,!0));var val=values[i];if(checkPage(variable,val)){var str=values[i-1].particle+values[i-1].value+" - "+values[i].particle+values[i].value;str=me.fun.page_mangler(str)}else str=values[i-1].value+stripHyphenBackslash(values[i-1].joiningSuffix)+values[i].value;var m=str.match(/^([a-zA-Z]?0*)([0-9]+)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+)$/);if(m){var rangeDelimiter=m[3];rangeDelimiter=fixupRangeDelimiter(variable,val,rangeDelimiter,values[i].numeric),values[i-1].particle=m[1],values[i-1].value=m[2],values[i-1].joiningSuffix=rangeDelimiter,values[i].particle=m[4],values[i].value=m[5]}currentInfo.count=0}}function fixRanges(values){if(node&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator"].indexOf(variable)){for(var currentInfo={count:0,label:null,lastHadRangeDelimiter:!1},i=0,ilen=values.length;i<ilen;i++){var val=values[i];if(val.collapsible)currentInfo.label===val.label&&"-"===val.joiningSuffix?currentInfo.count=1:currentInfo.label===val.label&&"-"!==val.joiningSuffix?2===++currentInfo.count&&manglePageNumbers(values,i,currentInfo):currentInfo.label!==val.label?(currentInfo.label=val.label,currentInfo.count=1):(currentInfo.count=1,currentInfo.label=val.label);else{currentInfo.count=0,currentInfo.label=null;var isNumeric=val.numeric;i<values.length-1&&!isNumeric&&val.value.match(/^[ivxlcmIVXLCM]+$/)&&values[i+1].value.match(/^[ivxlcmIVXLCM]+$/)&&(isNumeric=!0),val.joiningSuffix=fixupRangeDelimiter(variable,val,val.joiningSuffix,isNumeric)}}2===currentInfo.count&&manglePageNumbers(values,values.length-1,currentInfo)}}var val,me=this;if(node&&this.tmp.shadow_numbers[variable]&&this.tmp.shadow_numbers[variable].values.length)return fixRanges(values=this.tmp.shadow_numbers[variable].values),void(this.tmp.shadow_numbers[variable].masterStyling=setStyling(values));if(this.tmp.shadow_numbers[variable]||(this.tmp.shadow_numbers[variable]={values:[]}),ItemObject){var languageRole=CSL.LangPrefsMap[variable];if(languageRole){var localeType=this.opt["cite-lang-prefs"][languageRole][0];val=(val=this.transform.getTextSubField(ItemObject,variable,"locale-"+localeType,!0)).name}else val=ItemObject[variable];if(val&&this.sys.getAbbreviation){var jurisdiction=this.transform.loadAbbreviation(ItemObject.jurisdiction,"number",val);this.transform.abbrevs[jurisdiction].number&&(this.transform.abbrevs[jurisdiction].number[val]?val=this.transform.abbrevs[jurisdiction].number[val]:"undefined"!=typeof this.transform.abbrevs[jurisdiction].number[val]&&delete this.transform.abbrevs[jurisdiction].number[val])}if(void 0!==val&&("string"==typeof val||"number"==typeof val)){"number"==typeof val&&(val=""+val);var defaultLabel=CSL.STATUTE_SUBDIV_STRINGS_REVERSE[variable];if(!this.tmp.shadow_numbers.values){var values=function(str,defaultLabel){var elems=[],m=(str=normalizeFieldValue(str,defaultLabel=defaultLabel||"")).match(/(,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/g);if(m){for(var i=0,ilen=(lst=str.split(/(?:,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/)).length-1;i<ilen;i++)elems.push(lst[i]),elems.push(m[i]);elems.push(lst[lst.length-1]),elems=fixupSubsections(elems)}else elems=[str];for(var values=[],label=defaultLabel,origLabel="",i=0,ilen=elems.length;i<ilen;i+=2)if(m=elems[i].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\. *)/g)){for(var lst=elems[i].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\. *)/),j=lst.length-1;j>0;j--)!lst[j-1]||lst[j].match(/^[0-9]+([-,:a-zA-Z]*)$/)&&lst[j-1].match(/^[0-9]+([-,:a-zA-Z]*)$/)||(lst[j-1]=lst[j-1]+m[j-1]+lst[j],lst=lst.slice(0,j).concat(lst.slice(j+1)),m=m.slice(0,j-1).concat(m.slice(j)));if(m.length>0&&0===i){var slug=m[0].trim();CSL.STATUTE_SUBDIV_STRINGS[slug]&&me.getTerm(CSL.STATUTE_SUBDIV_STRINGS[slug])&&(-1!==["locator","number"].indexOf(variable)||CSL.STATUTE_SUBDIV_STRINGS[slug]===variable)||(m=m.slice(1),lst[0]=lst[0]+" "+slug+" "+lst[1],lst=lst.slice(0,1).concat(lst.slice(2)))}for(var j=0,jlen=lst.length;j<jlen;j++)if(lst[j]||j===lst.length-1){label=m[j-1]?m[j-1]:label;var origLabel=j>1?m[j-1]:"",str=lst[j]?lst[j].trim():"";j===lst.length-1?values.push(composeNumberInfo(origLabel,label,str,elems[i+1])):values.push(composeNumberInfo(origLabel,label,str))}}else values.push(composeNumberInfo(origLabel,label,elems[i],elems[i+1]));return values}(val,defaultLabel);!function(values){for(var i=0,ilen=values.length-1;i<ilen;i++)!values[i].joiningSuffix&&values[i+1].label&&(values[i].joiningSuffix=" ")}(values),function(values){for(var currentLabelInfo={label:null,count:1,numeric:!0,collapsible:!0,pos:0},i=(values.length&&values[0].label,0),ilen=values.length;i<ilen;i++)values[i].label&&(values[i].label===currentLabelInfo.label?currentLabelInfo.count++:(fixNumericAndCount(values,i,currentLabelInfo),0===currentLabelInfo.pos?("locator"!==variable&&"number"!==variable||me.getTerm(CSL.STATUTE_SUBDIV_STRINGS[currentLabelInfo.label])||"var:"===currentLabelInfo.label.slice(0,4)||(values[currentLabelInfo.pos].labelVisibility=!0),-1===["locator","number"].indexOf(variable)&&CSL.STATUTE_SUBDIV_STRINGS[currentLabelInfo.label]!==variable&&"var:"!==currentLabelInfo.label.slice(0,4)&&(values[0].labelVisibility=!0)):values[i-1].label!==values[i].label&&"var:"!==currentLabelInfo.label.slice(0,4)&&(values[currentLabelInfo.pos].labelVisibility=!0)));fixNumericAndCount(values,values.length-1,currentLabelInfo),values.length&&values[0].numeric&&"number-of-"===variable.slice(0,10)&&parseInt(ItemObject[variable],10)>1&&(values[0].plural=1);for(var i=0,ilen=values.length;i<ilen;i++)if(!values[i].numeric){var origLabel=values[i].origLabel?values[i].origLabel:"";values[i].value=(origLabel+values[i].value).trim(),values[i].label!==values[0].label&&(values[i].label="")}}(values),this.tmp.shadow_numbers[variable].values=values}node&&(fixRanges(values),this.tmp.shadow_numbers[variable].masterStyling=setStyling(values)),function(shadow_numbers,variable,values){var obj=shadow_numbers[variable];values.length&&(obj.numeric=values[0].numeric,obj.collapsible=values[0].collapsible,obj.plural=values[0].plural,obj.label=CSL.STATUTE_SUBDIV_STRINGS[values[0].label],"number"===variable&&"issue"===obj.label&&me.getTerm("number")&&(obj.label="number"))}(this.tmp.shadow_numbers,variable,values)}}},CSL.Util.outputNumericField=function(state,varname,itemID){state.output.openLevel(state.tmp.shadow_numbers[varname].masterStyling);var embeddedLabelForm,nums=state.tmp.shadow_numbers[varname].values,masterLabel=nums.length?nums[0].label:null,labelForm=state.tmp.shadow_numbers[varname].labelForm;embeddedLabelForm=labelForm||"short";for(var labelDecorations=state.tmp.shadow_numbers[varname].labelDecorations,lastLabelName=null,i=0,ilen=nums.length;i<ilen;i++){var num=nums[i],label="";if(num.label){var labelName;(labelName="var:"===num.label.slice(0,4)?num.label.slice(4):CSL.STATUTE_SUBDIV_STRINGS[num.label])&&(label=num.label===masterLabel?state.getTerm(labelName,labelForm,num.plural):state.getTerm(labelName,embeddedLabelForm,num.plural))}var labelPlaceholderPos=-1;label&&(labelPlaceholderPos=label.indexOf("%s"));var numStyling=CSL.Util.cloneToken(num.styling);if(numStyling.formatter=num.styling.formatter,numStyling.type=num.styling.type,numStyling.num=num.styling.num,numStyling.gender=num.styling.gender,labelPlaceholderPos>0&&labelPlaceholderPos<label.length-2)numStyling.strings.prefix+=label.slice(0,labelPlaceholderPos),numStyling.strings.suffix=label.slice(labelPlaceholderPos+2)+numStyling.strings.suffix;else if(num.labelVisibility)if(label||(label=num.label,labelName=num.label),labelPlaceholderPos>0){var prefixLabelStyling=new CSL.Token;prefixLabelStyling.decorations=labelDecorations,state.output.append(label.slice(0,labelPlaceholderPos),prefixLabelStyling)}else labelPlaceholderPos!==label.length-2&&-1!==labelPlaceholderPos||state.output.append(label+num.labelSuffix,"empty");if(num.collapsible){if(num.value.match(/^[0-9]+$/))blob=new CSL.NumericBlob(num.particle,parseInt(num.value,10),numStyling,itemID);else var blob=new CSL.NumericBlob(num.particle,num.value,numStyling,itemID);"undefined"==typeof blob.gender&&(blob.gender=state.locale[state.opt.lang]["noun-genders"][varname]),state.output.append(blob,"literal")}else state.output.append(num.particle+num.value,numStyling);if(0===labelPlaceholderPos&&labelPlaceholderPos<label.length-2&&(null===lastLabelName&&(lastLabelName=labelName),labelName!==lastLabelName||i===nums.length-1)){var suffixLabelStyling=new CSL.Token;suffixLabelStyling.decorations=labelDecorations,state.output.append(label.slice(labelPlaceholderPos+2),suffixLabelStyling)}}state.output.closeLevel()},CSL.Util.PageRangeMangler={},CSL.Util.PageRangeMangler.getFunction=function(state,rangeType){var rangerex,pos,len,stringify,listify,expand,minimize,minimize_internal,chicago,lst,m,b,e,ret,begin,end,ret_func,range_delimiter=state.getTerm(rangeType+"-range-delimiter");rangerex=/([a-zA-Z]*)([0-9]+)\s*(?:\u2013|-)\s*([a-zA-Z]*)([0-9]+)/,stringify=function(lst){for(len=lst.length,pos=1;pos<len;pos+=2)"object"==typeof lst[pos]&&(lst[pos]=lst[pos].join(""));var ret=lst.join("");return ret=ret.replace(/([^\\])\-/g,"$1"+state.getTerm(rangeType+"-range-delimiter"))},listify=function(str){var m,lst,ret,this_range_delimiter="-"===range_delimiter?"":range_delimiter,delimRex=new RegExp("([^\\\\])[-"+this_range_delimiter+"\\u2013]","g");str=str.replace(delimRex,"$1 - ").replace(/\s+-\s+/g," - ");var rexm=new RegExp("([a-zA-Z]*[0-9]+\\s+\\-\\s+[a-zA-Z]*[0-9]+)","g"),rexlst=new RegExp("[a-zA-Z]*[0-9]+\\s+\\-\\s+[a-zA-Z]*[0-9]+");if(m=str.match(rexm),0===(lst=str.split(rexlst)).length)ret=m;else for(ret=[lst[0]],pos=1,len=lst.length;pos<len;pos+=1)ret.push(m[pos-1].replace(/\s*\-\s*/g,"-")),ret.push(lst[pos]);return ret},expand=function(str){for(lst=listify(str=""+str),len=lst.length,pos=1;pos<len;pos+=2)(m=lst[pos].match(rangerex))&&(m[3]&&m[1]!==m[3]||(m[4].length<m[2].length&&(m[4]=m[2].slice(0,m[2].length-m[4].length)+m[4]),parseInt(m[2],10)<parseInt(m[4],10)&&(m[3]=range_delimiter+m[1],lst[pos]=m.slice(1)))),"string"==typeof lst[pos]&&(lst[pos]=lst[pos].replace(/\-/g,range_delimiter));return lst},minimize=function(lst,minchars,isyear){len=lst.length;for(var i=1,ilen=lst.length;i<ilen;i+=2)lst[i][3]=minimize_internal(lst[i][1],lst[i][3],minchars,isyear),lst[i][2].slice(1)===lst[i][0]&&(lst[i][2]=range_delimiter);return stringify(lst)},minimize_internal=function(begin,end,minchars,isyear){if(minchars||(minchars=0),b=(""+begin).split(""),e=(""+end).split(""),(ret=e.slice()).reverse(),b.length===e.length)for(var i=0,ilen=b.length;i<ilen;i+=1){if(!(b[i]===e[i]&&ret.length>minchars)){if(minchars&&isyear&&3===ret.length){var front=b.slice(0,i);front.reverse(),ret=ret.concat(front)}break}ret.pop()}return ret.reverse(),ret.join("")},chicago=function(lst){for(len=lst.length,pos=1;pos<len;pos+=2)"object"==typeof lst[pos]&&(m=lst[pos],begin=parseInt(m[1],10),end=parseInt(m[3],10),begin>100&&begin%100&&parseInt(begin/100,10)===parseInt(end/100,10)?m[3]=""+end%100:begin>=1e4&&(m[3]=""+end%1e3)),m[2].slice(1)===m[0]&&(m[2]=range_delimiter);return stringify(lst)};var sniff=function(str,func,minchars,isyear){return func(expand(str=""+str),minchars,isyear)};return state.opt[rangeType+"-range-format"]?"expanded"===state.opt[rangeType+"-range-format"]?ret_func=function(str){return sniff(str,stringify)}:"minimal"===state.opt[rangeType+"-range-format"]?ret_func=function(str){return sniff(str,minimize)}:"minimal-two"===state.opt[rangeType+"-range-format"]?ret_func=function(str,isyear){return sniff(str,minimize,2,isyear)}:"chicago"===state.opt[rangeType+"-range-format"]&&(ret_func=function(str){return sniff(str,chicago)}):ret_func=function(str){return sniff(str,stringify)},ret_func},CSL.Util.FlipFlopper=function(state){function _setOuterQuoteForm(quot){var flip={" '":' "',' "':" '",'("':"('","('":'("'};_nestingData[quot].outer="true",_nestingData[flip[quot]].outer="inner"}function _getNestingOpenerParams(opener){var openers=[];for(var key of Object.keys(_nestingData))"quote"===_nestingData[opener].type&&_nestingData[opener]||openers.push(key);var ret=_nestingData[opener];return ret.opener=new RegExp("^(?:"+openers.map(function(str){return str.replace("(","\\(")}).join("|")+")"),ret}function _nestingFix(tag,pos){return _pushNestingState(tag,pos)}function _pushNestingState(tag,pos){return tag.match(_tagRex.open)?_tryOpen(tag,pos):_tryClose(tag,pos)}function _tryOpen(tag,pos){var params=_nestingState[_nestingState.length-1];return!params||tag.match(params.opener)?(_nestingState.push({type:_nestingParams[tag].type,opener:_nestingParams[tag].opener,closer:_nestingParams[tag].closer,pos:pos}),!1):(_nestingState.pop(),_nestingState.push({type:_nestingParams[tag].type,opener:_nestingParams[tag].opener,closer:_nestingParams[tag].closer,pos:pos}),{fixtag:params.pos})}function _tryClose(tag,pos){var params=_nestingState[_nestingState.length-1];return params&&tag===params.closer?(_nestingState.pop(),"nocase"===params.type&&{nocase:{open:params.pos,close:pos}}):params?{fixtag:params.pos}:{fixtag:pos}}function _doppelString(str){var match=(str=(str=str.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(_tagRex.matchAll);return match?{tags:match,strings:str.split(_tagRex.splitAll)}:{tags:[],strings:[str]}}function _apostropheForce(tag,str){if("'"===tag){if(str&&str.match(/^[^\.\?\:\;\ ]/))return!0}else if(" '"===tag&&str&&str.match(/^[\ ]/))return!0;return!1}function _undoppelToQueue(blob,doppel){function Stack(blob){this.stack=[blob],this.latest=blob,this.addStyling=function(str,decor){if(firstString&&(" "===str.slice(0,1)&&(str=str.slice(1))," "===str.slice(0,1)&&(str=str.slice(1)),firstString=!1),this.latest=this.stack[this.stack.length-1],decor){"string"==typeof this.latest.blobs&&((child=new CSL.Blob).blobs=this.latest.blobs,child.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[child]);var tok=new CSL.Token,newblob=new CSL.Blob(null,tok);if(newblob.alldecor=this.latest.alldecor.slice(),"@class"===decor[0]&&"nodecor"===decor[1]){for(var newdecorset=[],seen={},allTheDecor=[state[state.tmp.area].opt.layout_decorations].concat(newblob.alldecor),i=allTheDecor.length-1;i>-1;i--){var _decorset=allTheDecor[i];if(_decorset)for(var j=_decorset.length-1;j>-1;j--){var _olddecor=_decorset[j];["@font-weight","@font-style","@font-variant"].indexOf(_olddecor[0])>-1&&!seen[_olddecor[0]]&&("normal"!==decor[1]&&(newblob.decorations.push([_olddecor[0],"normal"]),newdecorset.push([_olddecor[0],"normal"])),seen[_olddecor[0]]=!0)}}newblob.alldecor.push(newdecorset)}else newblob.decorations.push(decor),newblob.alldecor.push([decor]);if(this.latest.blobs.push(newblob),this.stack.push(newblob),this.latest=newblob,str){tok=new CSL.Token;(newblob=new CSL.Blob(null,tok)).blobs=str,newblob.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(newblob)}}else if(str){var child=new CSL.Blob;child.blobs=str,child.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(child)}},this.popStyling=function(){this.stack.pop()}}var firstString=!0,tagReg=new _TagReg(blob);blob.blobs=[];var stack=new Stack(blob);doppel.strings.length&&stack.addStyling(doppel.strings[0]);for(var i=0,ilen=doppel.tags.length;i<ilen;i++){var tag=doppel.tags[i],str=doppel.strings[i+1];tag.match(_tagRex.open)?(tagReg.set(tag),stack.addStyling(str,tagReg.pair())):(tagReg.pop(),stack.popStyling(),stack.addStyling(str))}}function processTags(blob){var str=" "+blob.blobs,doppel=_doppelString(str);if(0!==doppel.tags.length){for(var quoteFormSeen=!1,i=0,ilen=doppel.tags.length;i<ilen;i++)if(_apostropheForce(tag=doppel.tags[i],str=doppel.strings[i+1]))doppel.strings[i+1]=" '"===tag?" ’"+doppel.strings[i+1]:"’"+doppel.strings[i+1],doppel.tags[i]="";else{for(var tagInfo;;){if(!(tagInfo=_nestingFix(tag,i)))break;if(!(Object.keys(tagInfo).indexOf("fixtag")>-1)){if(tagInfo.nocase){doppel.tags[tagInfo.nocase.open]="",doppel.tags[tagInfo.nocase.close]="";break}break}if(tag.match(_tagRex.close)&&"'"===tag?(doppel.strings[i+1]="’"+doppel.strings[i+1],doppel.tags[i]=""):(doppel.strings[tagInfo.fixtag+1]=doppel.tags[tagInfo.fixtag]+doppel.strings[tagInfo.fixtag+1],doppel.tags[tagInfo.fixtag]=""),!(_nestingState.length>0))break;_nestingState.pop()}tagInfo&&(tagInfo.fixtag||0===tagInfo.fixtag)&&(doppel.strings[i+1]=doppel.tags[i]+doppel.strings[i+1],doppel.tags[i]="")}for(i=_nestingState.length-1;i>-1;i--){var tagPos=_nestingState[i].pos;" '"===(tag=doppel.tags[tagPos])||"'"===tag?(doppel.strings[tagPos+1]=" ’"+doppel.strings[tagPos+1],doppel.tags[tagPos]=""):(doppel.strings[tagPos+1]=doppel.tags[tagPos]+doppel.strings[tagPos+1],doppel.tags[tagPos]=""),_nestingState.pop()}for(i=doppel.tags.length-1;i>-1;i--)doppel.tags[i]||(doppel.tags=doppel.tags.slice(0,i).concat(doppel.tags.slice(i+1)),doppel.strings[i]=doppel.strings[i]+doppel.strings[i+1],doppel.strings=doppel.strings.slice(0,i+1).concat(doppel.strings.slice(i+2)));for(var i=0,ilen=doppel.tags.length;i<ilen;i++){var tag=doppel.tags[i];[' "'," '",'("'].indexOf(tag)>-1&&(quoteFormSeen||(_setOuterQuoteForm(tag),quoteFormSeen=!0),doppel.strings[i]+=tag.slice(0,1))}_undoppelToQueue(blob,doppel)}}this.processTags=processTags;var _nestingState=[],_nestingData={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{"true":"inner",inner:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{"true":"inner",inner:"true"}}};_nestingData['("']=_nestingData[' "'],_nestingData["('"]=_nestingData[" '"];var localeOpenQuote=state.getTerm("open-quote"),localeCloseQuote=state.getTerm("close-quote"),localeOpenInnerQuote=state.getTerm("open-inner-quote"),localeCloseInnerQuote=state.getTerm("close-inner-quote");localeOpenQuote&&localeCloseQuote&&-1===[' "'," '",'"',"'"].indexOf(localeOpenQuote)&&(_nestingData[localeOpenQuote]=JSON.parse(JSON.stringify(_nestingData[' "'])),_nestingData[localeOpenQuote].opener=localeOpenQuote,_nestingData[localeOpenQuote].closer=localeCloseQuote),localeOpenInnerQuote&&localeCloseInnerQuote&&-1===[' "'," '",'"',"'"].indexOf(localeOpenInnerQuote)&&(_nestingData[localeOpenInnerQuote]=JSON.parse(JSON.stringify(_nestingData[" '"])),_nestingData[localeOpenInnerQuote].opener=localeOpenInnerQuote,_nestingData[localeOpenInnerQuote].closer=localeCloseInnerQuote);(function(){var ret={};for(var key of Object.keys(_nestingData))"quote"===_nestingData[key].type&&(ret[_nestingData[key].closer]=_nestingData[key])})(),function(){var ret={};for(var key of Object.keys(_nestingData))if("nocase"!==_nestingData[key].type){var attr=_nestingData[key].attr,outer=_nestingData[key].outer,inner=_nestingData[key].flipflop[_nestingData[key].outer];ret[attr+"/"+outer]=_nestingData[key],ret[attr+"/"+inner]=_nestingData[key]}}();var _nestingParams=function(){var ret={};for(var key of Object.keys(_nestingData))ret[key]=_getNestingOpenerParams(key);return ret}(),_tagRex=function(){var openers=[],closers=[],vals={};for(var opener in _nestingParams)openers.push(opener),vals[_nestingParams[opener].closer]=!0;for(var closer of Object.keys(vals))closers.push(closer);var all=openers.concat(closers).map(function(str){return str.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+all+"))","g"),splitAll:new RegExp("(?:"+all+")","g"),open:new RegExp("(^(?:"+openers.map(function(str){return str.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+closers.join("|")+")$)")}}(),_TagReg=function(blob){function set(tag){for(var attr=_nestingData[tag].attr,decor=null,i=_stack.length-1;i>-1;i--)if((_decor=_stack[i])[0]===attr){decor=_decor;break}if(!decor){var allTheDecor=[state[state.tmp.area].opt.layout_decorations].concat(blob.alldecor);outer:for(i=allTheDecor.length-1;i>-1;i--){var decorset=allTheDecor[i];if(decorset)for(var j=decorset.length-1;j>-1;j--){var _decor=decorset[j];if(_decor[0]===attr){decor=_decor;break outer}}}}decor=decor?[attr,_nestingData[tag].flipflop[decor[1]]]:[attr,_nestingData[tag].outer],_stack.push(decor)}function pair(){return _stack[_stack.length-1]}function pop(){_stack.pop()}this.set=set,this.pair=pair,this.pop=pop,_stack=[]}},CSL.Output.Formatters=new function(){function _capitalise(word,force){var m=word.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!m||m[2].match(/^[\u0370-\u03FF]$/)&&!m[3]?word:m[1]+m[2].toUpperCase()+m[3]}function _textcaseEngine(config,string){function pushQuoteState(tag,pos){return["“","‘",' "'," '"].indexOf(tag)>-1?tryOpen(tag,pos):tryClose(tag,pos)}function tryOpen(tag,pos){if(0===config.quoteState.length||tag===config.quoteState[config.quoteState.length-1].opener)return config.quoteState.push({opener:quoteParams[tag].opener,closer:quoteParams[tag].closer,pos:pos}),!1;var prevPos=config.quoteState[config.quoteState.length-1].pos;return config.quoteState.pop(),config.quoteState.push({opener:quoteParams[tag].opener,closer:quoteParams[tag].closer,positions:pos}),prevPos}function tryClose(tag,pos){if(!(config.quoteState.length>0&&tag===config.quoteState[config.quoteState.length-1].closer))return pos;config.quoteState.pop()}if(!string)return"";config.doppel=tagDoppel.split(string);var quoteParams={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};config.doppel.strings.length&&config.doppel.strings[0].trim()&&(config.doppel.strings[0]=config.capitaliseWords(config.doppel.strings[0],0,config.doppel.tags[0]));for(var i=0,ilen=config.doppel.tags.length;i<ilen;i++){var tag=config.doppel.tags[i],str=config.doppel.strings[i+1];if(null!==config.tagState&&(_tagParams[tag]?config.tagState.push(_tagParams[tag]):config.tagState.length&&tag===config.tagState[config.tagState.length-1]&&config.tagState.pop()),null!==config.afterPunct&&tag.match(/[\!\?\:]$/)&&(config.afterPunct=!0),0===config.tagState.length?config.doppel.strings[i+1]=config.capitaliseWords(str,i+1,config.doppel,config.doppel.tags[i+1]):config.doppel.strings[i+1].trim()&&(config.lastWordPos=null),null!==config.quoteState&&((quotePos=function(tag,positions){var m=tag.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(m)return pushQuoteState(m[1],positions)}(tag,i))||0===quotePos)){origChar=config.doppel.origStrings[quotePos+1].slice(0,1);config.doppel.strings[quotePos+1]=origChar+config.doppel.strings[quotePos+1].slice(1),config.lastWordPos=null}config.isFirst&&str.trim()&&(config.isFirst=!1),config.afterPunct&&str.trim()&&(config.afterPunct=!1)}if(config.quoteState)for(var i=0,ilen=config.quoteState.length;i<ilen;i++){var quotePos=config.quoteState[i].pos;if(void 0!==quotePos){var origChar=config.doppel.origStrings[quotePos+1].slice(0,1);config.doppel.strings[quotePos+1]=origChar+config.doppel.strings[quotePos+1].slice(1)}}if(config.lastWordPos){var lastWords=wordDoppel.split(config.doppel.strings[config.lastWordPos.strings]),lastWord=_capitalise(lastWords.strings[config.lastWordPos.words]);lastWords.strings[config.lastWordPos.words]=lastWord,config.doppel.strings[config.lastWordPos.strings]=wordDoppel.join(lastWords)}return tagDoppel.join(config.doppel)}function passthrough(state,str){return str}function lowercase(state,string){return _textcaseEngine({quoteState:null,capitaliseWords:function(str){for(var words=str.split(" "),i=0,ilen=words.length;i<ilen;i++){var word=words[i];word&&(words[i]=word.toLowerCase())}return words.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},string)}function uppercase(state,string){return _textcaseEngine({quoteState:null,capitaliseWords:function(str){for(var words=str.split(" "),i=0,ilen=words.length;i<ilen;i++){var word=words[i];word&&(words[i]=word.toUpperCase())}return words.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},string)}function sentence(state,string){var config={quoteState:[],capitaliseWords:function(str){for(var words=str.split(" "),i=0,ilen=words.length;i<ilen;i++){var word=words[i];word&&(config.isFirst?(words[i]=_capitalise(word),config.isFirst=!1):words[i]=word.toLowerCase())}return words.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return _textcaseEngine(config,string)}function title(state,string){var config={quoteState:[],capitaliseWords:function(str,i,followingTag){if(str.trim()){for(var words=str.split(/[ \u00A0]+/),wordle=wordDoppel.split(str),j=0,jlen=(words=wordle.strings).length;j<jlen;j++){var word=words[j];word&&(word.length>1&&!word.toLowerCase().match(config.skipWordsRex)?words[j]=_capitalise(words[j]):j===words.length-1&&"-"===followingTag?words[j]=_capitalise(words[j]):config.isFirst?words[j]=_capitalise(words[j]):config.afterPunct&&(words[j]=_capitalise(words[j])),config.afterPunct=!1,config.isFirst=!1,config.lastWordPos={strings:i,words:j})}str=wordDoppel.join(wordle)}return str},skipWordsRex:state.locale[state.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return _textcaseEngine(config,string)}function capitalizeFirst(state,string){var config={quoteState:[],capitaliseWords:function(str){for(var words=str.split(" "),i=0,ilen=words.length;i<ilen;i++){var word=words[i];if(word&&config.isFirst){words[i]=_capitalise(word),config.isFirst=!1;break}}return words.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return _textcaseEngine(config,string)}function capitalizeAll(state,string){return _textcaseEngine({quoteState:[],capitaliseWords:function(str){for(var words=str.split(" "),i=0,ilen=words.length;i<ilen;i++){var word=words[i];word&&(words[i]=_capitalise(word))}return words.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},string)}this.passthrough=passthrough,this.lowercase=lowercase,this.uppercase=uppercase,this.sentence=sentence,this.title=title,this["capitalize-first"]=capitalizeFirst,this["capitalize-all"]=capitalizeAll;tagDoppel=new CSL.Doppeler('(?:‘|’|“|”| "| \'|"|\'|[-/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(str){return str.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),wordDoppel=new CSL.Doppeler("(?:[   -​ 　]+)");var _tagParams={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>"}},CSL.Output.Formats=function(){},CSL.Output.Formats.prototype.html={text_escape:function(text){return text||(text=""),text.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(CSL.SUPERSCRIPTS_REGEXP,function(aChar){return"<sup>"+CSL.SUPERSCRIPTS[aChar]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":CSL.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":CSL.Output.Formatters.passthrough,"@strip-periods/false":CSL.Output.Formatters.passthrough,"@quotes/true":function(state,str){return void 0===str?state.getTerm("open-quote"):state.getTerm("open-quote")+str+state.getTerm("close-quote")},"@quotes/inner":function(state,str){return void 0===str?"’":state.getTerm("open-inner-quote")+str+state.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(state,str){return state.sys.wrapCitationEntry(str,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(state,str){var insert="";return state.sys.embedBibliographyEntry&&(insert=state.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+str+"</div>\n"+insert},"@display/block":function(state,str){return'\n\n    <div class="csl-block">'+str+"</div>\n"},"@display/left-margin":function(state,str){return'\n    <div class="csl-left-margin">'+str+"</div>"},"@display/right-inline":function(state,str){return'<div class="csl-right-inline">'+str+"</div>\n  "},"@display/indent":function(state,str){return'<div class="csl-indent">'+str+"</div>\n  "},"@showid/true":function(state,str,cslid){if(state.tmp.just_looking||state.tmp.suppress_decorations)return str;if(cslid)return'<span class="'+state.opt.nodenames[cslid]+'" cslid="'+cslid+'">'+str+"</span>";if(this.params&&"string"==typeof str){var prePunct="";if(str){var m=str.match(CSL.VARIABLE_WRAPPER_PREPUNCT_REX);prePunct=m[1],str=m[2]}var postPunct="";return str&&CSL.SWAPPING_PUNCTUATION.indexOf(str.slice(-1))>-1&&(postPunct=str.slice(-1),str=str.slice(0,-1)),state.sys.variableWrapper(this.params,prePunct,str,postPunct)}return str},"@URL/true":function(state,str){return'<a href="'+str+'">'+str+"</a>"},"@DOI/true":function(state,str){return'<a href="http://dx.doi.org/'+str+'">'+str+"</a>"}},CSL.Output.Formats.prototype.text={text_escape:function(text){return text||(text=""),text},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":CSL.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":CSL.Output.Formatters.passthrough,"@strip-periods/false":CSL.Output.Formatters.passthrough,"@quotes/true":function(state,str){return void 0===str?state.getTerm("open-quote"):state.getTerm("open-quote")+str+state.getTerm("close-quote")},"@quotes/inner":function(state,str){return void 0===str?"’":state.getTerm("open-inner-quote")+str+state.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(state,str){return state.sys.wrapCitationEntry(str,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(state,str){return str+"\n"},"@display/block":function(state,str){return"\n"+str},"@display/left-margin":function(state,str){return str},"@display/right-inline":function(state,str){return str},"@display/indent":function(state,str){return"\n    "+str},"@showid/true":function(state,str,cslid){return str},"@URL/true":function(state,str){return str},"@DOI/true":function(state,str){return str}},CSL.Output.Formats.prototype.rtf={text_escape:function(text){return text||(text=""),text.replace(/([\\{}])/g,"\\$1").replace(CSL.SUPERSCRIPTS_REGEXP,function(aChar){return"\\super "+CSL.SUPERSCRIPTS[aChar]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(aChar){return"\\uc0\\u"+aChar.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":CSL.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":CSL.Output.Formatters.passthrough,"@strip-periods/false":CSL.Output.Formatters.passthrough,"@quotes/true":function(state,str){return void 0===str?CSL.Output.Formats.rtf.text_escape(state.getTerm("open-quote")):CSL.Output.Formats.rtf.text_escape(state.getTerm("open-quote"))+str+CSL.Output.Formats.rtf.text_escape(state.getTerm("close-quote"))},"@quotes/inner":function(state,str){return void 0===str?CSL.Output.Formats.rtf.text_escape("’"):CSL.Output.Formats.rtf.text_escape(state.getTerm("open-inner-quote"))+str+CSL.Output.Formats.rtf.text_escape(state.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(state,str){return str},"@cite/entry":function(state,str){return state.sys.wrapCitationEntry(str,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(state,str){return str},"@display/left-margin":function(state,str){return str+"\\tab "},"@display/right-inline":function(state,str){return str+"\r\n"},"@display/indent":function(state,str){return"\n\\tab "+str+"\\line\r\n"},"@showid/true":function(state,str,cslid){if(state.tmp.just_looking||state.tmp.suppress_decorations)return str;var prePunct="";if(str){var m=str.match(CSL.VARIABLE_WRAPPER_PREPUNCT_REX);prePunct=m[1],str=m[2]}var postPunct="";return str&&CSL.SWAPPING_PUNCTUATION.indexOf(str.slice(-1))>-1&&(postPunct=str.slice(-1),str=str.slice(0,-1)),state.sys.variableWrapper(this.params,prePunct,str,postPunct)},"@URL/true":function(state,str){return str},"@DOI/true":function(state,str){return str}},CSL.Output.Formats=new CSL.Output.Formats,CSL.Registry=function(state){var ret,i,ilen;this.debug=!1,this.state=state,this.registry={},this.reflist=[],this.refhash={},this.namereg=new CSL.Registry.NameReg(state),this.citationreg=new CSL.Registry.CitationReg(state),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new CSL.Registry.Comparifier(state,"bibliography_sort"),this.getSortedIds=function(){for(ret=[],i=0,ilen=this.reflist.length;i<ilen;i+=1)ret.push(""+this.reflist[i].id);return ret},this.getSortedRegistryItems=function(){for(ret=[],i=0,ilen=this.reflist.length;i<ilen;i+=1)ret.push(this.reflist[i]);return ret}},CSL.Registry.prototype.init=function(itemIDs,uncited_flag){if(this.oldseq={},uncited_flag){this.uncited={};for(var i=0,ilen=itemIDs.length;i<ilen;i+=1)this.myhash[itemIDs[i]]||this.mylist.push(""+itemIDs[i]),this.uncited[itemIDs[i]]=!0,this.myhash[itemIDs[i]]=!0}else{for(var key in this.uncited)itemIDs.push(key);var myhash={};for(i=itemIDs.length-1;i>-1;i+=-1)myhash[itemIDs[i]]?itemIDs=itemIDs.slice(0,i).concat(itemIDs.slice(i+1)):myhash[itemIDs[i]]=!0;this.mylist=[];for(var i=0,ilen=itemIDs.length;i<ilen;i+=1)this.mylist.push(""+itemIDs[i]);this.myhash=myhash}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},CSL.Registry.prototype.dopurge=function(myhash){for(var i=this.mylist.length-1;i>-1;i+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[i]]||myhash[this.mylist[i]]||(delete this.myhash[this.mylist[i]],this.mylist=this.mylist.slice(0,i).concat(this.mylist.slice(i+1))));this.dodeletes(this.myhash)},CSL.Registry.prototype.dodeletes=function(myhash){var otheritems,key,ambig,pos,len,items,kkey,mypos,id;"string"==typeof myhash&&((myhash={})[myhash]=!0);for(key in this.registry)if(!myhash[key]){if(this.uncited[key])continue;otheritems=this.namereg.delitems(key);for(kkey in otheritems)this.refreshes[kkey]=!0;for(ambig=this.registry[key].ambig,(mypos=this.ambigcites[ambig].indexOf(key))>-1&&(items=this.ambigcites[ambig].slice(),this.ambigcites[ambig]=items.slice(0,mypos).concat(items.slice(mypos+1,items.length)),this.ambigresets[ambig]=this.ambigcites[ambig].length),len=this.ambigcites[ambig].length,pos=0;pos<len;pos+=1)id=""+this.ambigcites[ambig][pos],this.refreshes[id]=!0;if(this.registry[key].siblings)if(1==this.registry[key].siblings.length){var loneSiblingID=this.registry[key].siblings[0];this.registry[loneSiblingID].master=!0,this.registry[loneSiblingID].siblings.pop(),this.registry[loneSiblingID].parallel=!1}else if(this.registry[key].siblings.length>1){var removeIDs=[key];if(this.registry[key].master){var newmasterID=this.registry[key].siblings[0],newmaster=this.registry[newmasterID];newmaster.master=!0,newmaster.parallel=!1,removeIDs.push(newmasterID);for(var k=0,klen=this.registry[key].siblings.length;k<klen;k+=1)this.registry[this.registry[key].siblings[k]].parallel=newmasterID}for(var buffer=[],k=this.registry[key].siblings.length-1;k>-1;k+=-1){var siblingID=this.registry[key].siblings.pop();-1===removeIDs.indexOf(siblingID)&&buffer.push(siblingID)}for(k=buffer.length-1;k>-1;k+=-1)this.registry[key].siblings.push(buffer[k])}delete this.registry[key],delete this.refhash[key],this.return_data.bibchange=!0}},CSL.Registry.prototype.doinserts=function(mylist){var item,Item,akey,newitem,abase,i,ilen;for("string"==typeof mylist&&(mylist=[mylist]),i=0,ilen=mylist.length;i<ilen;i+=1)item=mylist[i],this.registry[item]||(Item=this.state.retrieveItem(item),akey=CSL.getAmbiguousCite.call(this.state,Item),this.ambigsTouched[akey]=!0,Item.legislation_id||(this.akeys[akey]=!0),newitem={id:""+item,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:Item},this.registry[item]=newitem,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[item]&&(this.registry[item]["first-reference-note-number"]=this.citationreg.citationsByItemId[item][0].properties.noteIndex),abase=CSL.getAmbigConfig.call(this.state),this.registerAmbigToken(akey,item,abase),this.touched[item]=!0,this.return_data.bibchange=!0)},CSL.Registry.prototype.rebuildlist=function(){var len,pos,item;for(this.reflist=[],this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used,len=this.mylist.length,pos=0;pos<len;pos+=1)item=this.mylist[pos],this.reflist.push(this.registry[item]),this.oldseq[item]=this.registry[item].seq,this.registry[item].seq=pos+1;this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used},CSL.Registry.prototype.dorefreshes=function(){var key,regtoken;for(key in this.refreshes)if(regtoken=this.registry[key]){regtoken.sortkeys=undefined,Item=this.state.retrieveItem(key),void 0===(akey=regtoken.ambig)&&(this.state.tmp.disambig_settings=!1,akey=CSL.getAmbiguousCite.call(this.state,Item),abase=CSL.getAmbigConfig.call(this.state),this.registerAmbigToken(akey,key,abase));for(var akkey in this.ambigresets)if(1===this.ambigresets[akkey]){var loneKey=this.ambigcites[akey][0],Item=this.state.retrieveItem(loneKey);this.registry[loneKey].disambig=new CSL.AmbigConfig,this.state.tmp.disambig_settings=!1;var akey=CSL.getAmbiguousCite.call(this.state,Item),abase=CSL.getAmbigConfig.call(this.state);this.registerAmbigToken(akey,loneKey,abase)}this.state.tmp.taintedItemIDs[key]=!0,this.ambigsTouched[akey]=!0,Item.legislation_id||(this.akeys[akey]=!0),this.touched[key]=!0}},CSL.Registry.prototype.setdisambigs=function(){var akey;this.leftovers=[];for(akey in this.ambigsTouched)this.state.disambiguate.run(akey);this.ambigsTouched={},this.akeys={}},CSL.Registry.prototype.renumber=function(){var len,pos,item;for(this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used,len=this.reflist.length,pos=0;pos<len;pos+=1)(item=this.reflist[pos]).seq=pos+1,this.state.opt.update_mode===CSL.NUMERIC&&item.seq!=this.oldseq[item.id]&&(this.state.tmp.taintedItemIDs[item.id]=!0),this.state.opt.bib_mode===CSL.NUMERIC&&item.seq!=this.oldseq[item.id]&&(this.return_data.bibchange=!0);this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used&&this.reflist.reverse()},CSL.Registry.prototype.setsortkeys=function(){for(var i=0,ilen=this.mylist.length;i<ilen;i+=1){var key=this.mylist[i];(this.touched[key]||this.state.tmp.taintedItemIDs[key]||!this.registry[key].sortkeys)&&(this.registry[key].sortkeys=CSL.getSortKeys.call(this.state,this.state.retrieveItem(key),"bibliography_sort"))}},CSL.Registry.prototype.sorttokens=function(){this.reflist.sort(this.sorter.compareKeys)},CSL.Registry.Comparifier=function(state,keyset){var sort_directions,len,pos,compareKeys,sortCompare=CSL.getSortCompare(state.opt["default-locale-sort"]);sort_directions=state[keyset].opt.sort_directions,this.compareKeys=function(a,b){for(len=a.sortkeys?a.sortkeys.length:0,pos=0;pos<len;pos+=1){var cmp=0;if(0<(cmp=a.sortkeys[pos]===b.sortkeys[pos]?0:"undefined"==typeof a.sortkeys[pos]?sort_directions[pos][1]:"undefined"==typeof b.sortkeys[pos]?sort_directions[pos][0]:sortCompare(a.sortkeys[pos],b.sortkeys[pos])))return sort_directions[pos][1];if(0>cmp)return sort_directions[pos][0]}return a.seq>b.seq?1:a.seq<b.seq?-1:0},compareKeys=this.compareKeys,this.compareCompositeKeys=function(a,b){return compareKeys(a[1],b[1])}},CSL.Registry.prototype.compareRegistryTokens=function(a,b){return a.seq>b.seq?1:a.seq<b.seq?-1:0},CSL.Registry.prototype.registerAmbigToken=function(akey,id,ambig_config){if(this.registry[id]&&this.registry[id].disambig&&this.registry[id].disambig.names)for(var i=0,ilen=ambig_config.names.length;i<ilen;i+=1)if(ambig_config.names[i]!==this.registry[id].disambig.names[i])this.state.tmp.taintedItemIDs[id]=!0;else if(ambig_config.givens[i])for(var j=0,jlen=ambig_config.givens[i].length;j<jlen;j+=1)ambig_config.givens[i][j]!==this.registry[id].disambig.givens[i][j]&&(this.state.tmp.taintedItemIDs[id]=!0);this.ambigcites[akey]||(this.ambigcites[akey]=[]),-1===this.ambigcites[akey].indexOf(""+id)&&this.ambigcites[akey].push(""+id),this.registry[id].ambig=akey;this.registry[id].disambig=CSL.cloneAmbigConfig(ambig_config)},CSL.getSortKeys=function(Item,key_type){var area,root,extension,strip_prepositions,len,pos;for(area=this.tmp.area,root=this.tmp.root,extension=this.tmp.extension,strip_prepositions=CSL.Util.Sort.strip_prepositions,this.tmp.area=key_type,this.tmp.root=key_type.indexOf("_")>-1?key_type.slice(0,-5):key_type,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,CSL.getCite.call(this,Item),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.disambig_override=!1,len=this[key_type].keys.length,pos=0;pos<len;pos+=1)this[key_type].keys[pos]=strip_prepositions(this[key_type].keys[pos]);return this.tmp.area=area,this.tmp.root=root,this.tmp.extension=extension,this[key_type].keys},CSL.Registry.NameReg=function(state){var pkey,ikey,skey,dagopt,gdropt,ret,items,strip_periods,set_keys,evalname,delitems,addname,key,myitems,i,ilen;this.state=state,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},strip_periods=function(str){return str||(str=""),str.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},set_keys=function(state,itemid,nameobj){pkey=strip_periods(nameobj.family);var m=(skey=strip_periods(nameobj.given)).match(/[,\!]* ([^,]+)$/);m&&m[1]===m[1].toLowerCase()&&(skey=skey.replace(/[,\!]* [^,]+$/,"")),ikey=CSL.Util.Names.initializeWith(state,skey,"%s"),"by-cite"===state.citation.opt["givenname-disambiguation-rule"]&&(pkey=""+itemid+pkey)},evalname=function(item_id,nameobj,namenum,request_base,form,initials){var param;if("bibliography"===state.tmp.area.slice(0,12)&&!form)return"string"==typeof initials?1:2;nameobj=state.nameOutput.getName(nameobj,"locale-translit",!0).name,set_keys(this.state,""+item_id,nameobj),param=2,dagopt=state.opt["disambiguate-add-givenname"];var gdropt_orig=gdropt=state.citation.opt["givenname-disambiguation-rule"];return"by-cite"===gdropt&&(gdropt="all-names"),"short"===form?param=0:"string"==typeof initials&&(param=1),"undefined"==typeof this.namereg[pkey]||"undefined"==typeof this.namereg[pkey].ikey[ikey]?param:"by-cite"===gdropt_orig&&param<=request_base?request_base:dagopt?"string"==typeof gdropt&&"primary-name"===gdropt.slice(0,12)&&namenum>0?param:(gdropt&&"all-names"!==gdropt&&"primary-name"!==gdropt?"all-names-with-initials"!==gdropt&&"primary-name-with-initials"!==gdropt||(param=this.namereg[pkey].count>1?1:0):(this.namereg[pkey].count>1&&(param=1),(this.namereg[pkey].ikey&&this.namereg[pkey].ikey[ikey].count>1||this.namereg[pkey].count>1&&"string"!=typeof initials)&&(param=2)),state.registry.registry[item_id]?param:"short"==form?0:"string"==typeof initials?1:void 0):param},delitems=function(ids){var pos,len,posB,id,fullkey;for("string"!=typeof ids&&"number"!=typeof ids||(ids=[""+ids]),ret={},len=ids.length,pos=0;pos<len;pos+=1)if(id=""+ids[pos],this.nameind[id]){for(fullkey in this.nameind[id])if(this.nameind[id].hasOwnProperty(fullkey)){if(key=fullkey.split("::"),pkey=key[0],ikey=key[1],skey=key[2],"undefined"==typeof this.namereg[pkey])continue;if(items=this.namereg[pkey].items,skey&&this.namereg[pkey].ikey[ikey]&&this.namereg[pkey].ikey[ikey].skey[skey]&&(myitems=this.namereg[pkey].ikey[ikey].skey[skey].items,(posB=myitems.indexOf(""+id))>-1&&(this.namereg[pkey].ikey[ikey].skey[skey].items=myitems.slice(0,posB).concat(myitems.slice([posB+1]))),0===this.namereg[pkey].ikey[ikey].skey[skey].items.length&&(delete this.namereg[pkey].ikey[ikey].skey[skey],this.namereg[pkey].ikey[ikey].count+=-1,this.namereg[pkey].ikey[ikey].count<2)))for(i=0,ilen=this.namereg[pkey].ikey[ikey].items.length;i<ilen;i+=1)state.tmp.taintedItemIDs[this.namereg[pkey].ikey[ikey].items[i]]=!0;if(ikey&&this.namereg[pkey].ikey[ikey]&&((posB=this.namereg[pkey].ikey[ikey].items.indexOf(""+id))>-1&&(items=this.namereg[pkey].ikey[ikey].items.slice(),this.namereg[pkey].ikey[ikey].items=items.slice(0,posB).concat(items.slice([posB+1]))),0===this.namereg[pkey].ikey[ikey].items.length&&(delete this.namereg[pkey].ikey[ikey],this.namereg[pkey].count+=-1,this.namereg[pkey].count<2)))for(i=0,ilen=this.namereg[pkey].items.length;i<ilen;i+=1)state.tmp.taintedItemIDs[this.namereg[pkey].items[i]]=!0;pkey&&((posB=this.namereg[pkey].items.indexOf(""+id))>-1&&(items=this.namereg[pkey].items.slice(),this.namereg[pkey].items=items.slice(0,posB).concat(items.slice([posB+1],items.length))),this.namereg[pkey].items.length<2&&delete this.namereg[pkey]),delete this.nameind[id][fullkey]}delete this.nameind[id],delete this.nameindpkeys[id]}return ret},addname=function(item_id,nameobj,pos){var i,ilen;if(nameobj=state.nameOutput.getName(nameobj,"locale-translit",!0).name,!state.citation.opt["givenname-disambiguation-rule"]||"primary-"!==state.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===pos){if(set_keys(this.state,""+item_id,nameobj),pkey&&("undefined"==typeof this.namereg[pkey]?(this.namereg[pkey]={},this.namereg[pkey].count=0,this.namereg[pkey].ikey={},this.namereg[pkey].items=[item_id]):-1===this.namereg[pkey].items.indexOf(item_id)&&this.namereg[pkey].items.push(item_id)),pkey&&ikey)if("undefined"==typeof this.namereg[pkey].ikey[ikey]){if(this.namereg[pkey].ikey[ikey]={},this.namereg[pkey].ikey[ikey].count=0,this.namereg[pkey].ikey[ikey].skey={},this.namereg[pkey].ikey[ikey].items=[item_id],this.namereg[pkey].count+=1,2===this.namereg[pkey].count)for(i=0,ilen=this.namereg[pkey].items.length;i<ilen;i+=1)state.tmp.taintedItemIDs[this.namereg[pkey].items[i]]=!0}else-1===this.namereg[pkey].ikey[ikey].items.indexOf(item_id)&&this.namereg[pkey].ikey[ikey].items.push(item_id);if(pkey&&ikey&&skey)if("undefined"==typeof this.namereg[pkey].ikey[ikey].skey[skey]){if(this.namereg[pkey].ikey[ikey].skey[skey]={},this.namereg[pkey].ikey[ikey].skey[skey].items=[item_id],this.namereg[pkey].ikey[ikey].count+=1,2===this.namereg[pkey].ikey[ikey].count)for(i=0,ilen=this.namereg[pkey].ikey[ikey].items.length;i<ilen;i+=1)state.tmp.taintedItemIDs[this.namereg[pkey].ikey[ikey].items[i]]=!0}else-1===this.namereg[pkey].ikey[ikey].skey[skey].items.indexOf(item_id)&&this.namereg[pkey].ikey[ikey].skey[skey].items.push(item_id);"undefined"==typeof this.nameind[item_id]&&(this.nameind[item_id]={},this.nameindpkeys[item_id]={}),pkey&&(this.nameind[item_id][pkey+"::"+ikey+"::"+skey]=!0,this.nameindpkeys[item_id][pkey]=this.namereg[pkey])}},this.addname=addname,this.delitems=delitems,this.evalname=evalname},CSL.Registry.CitationReg=function(state){this.citationById={},this.citationByIndex=[]},CSL.Disambiguation=function(state){this.state=state,this.sys=this.state.sys,this.registry=state.registry.registry,this.ambigcites=state.registry.ambigcites,this.configModes(),this.debug=!1},CSL.Disambiguation.prototype.run=function(akey){this.modes.length&&(this.akey=akey,this.initVars(akey)&&this.runDisambig())},CSL.Disambiguation.prototype.runDisambig=function(){var ismax;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;){this.listpos=0,this.base||(this.base=this.lists[0][0]);ismax=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(ismax)}this.lists=this.lists.slice(1)}},CSL.Disambiguation.prototype.scanItems=function(list){var otherItem;this.Item=list[1][0],this.ItemCite=CSL.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=list[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var clashes=0,pos=1,len=list[1].length;pos<len;pos+=1){otherItem=list[1][pos];var otherItemCite=CSL.getAmbiguousCite.call(this.state,otherItem,this.base,!0);this.ItemCite===otherItemCite?(clashes+=1,this.partners.push(otherItem)):this.nonpartners.push(otherItem)}this.clashes[0]=this.clashes[1],this.clashes[1]=clashes},CSL.Disambiguation.prototype.evalScan=function(maxed){this[this.modes[this.modeindex]](maxed),maxed&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},CSL.Disambiguation.prototype.disNames=function(ismax){if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(ismax&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var i=0,ilen=this.partners.length;i<ilen;i+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[i].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},CSL.Disambiguation.prototype.disExtraText=function(){var done=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(done=!0),done||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(done||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(done||this.modeindex===this.modes.length-1){for(var base=this.lists[this.listpos][0],i=0,ilen=this.lists[this.listpos][1].length;i<ilen;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,base);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(base=this.lists[this.listpos][0]).disambiguate=!0;for(var i=0,ilen=this.lists[this.listpos][1].length;i<ilen;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,base)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,ilen=this.lists[this.listpos][1].length;i<ilen;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},CSL.Disambiguation.prototype.disYears=function(){var tokens,token;tokens=[];var base=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,ilen=this.state.registry.mylist.length;i<ilen;i+=1)for(var origid=this.state.registry.mylist[i],j=0,jlen=this.lists[this.listpos][1].length;j<jlen;j+=1)if((token=this.lists[this.listpos][1][j]).id==origid){tokens.push(this.registry[token.id]);break}tokens.sort(this.state.registry.sorter.compareKeys);for(var pos=0,len=tokens.length;pos<len;pos+=1){base.year_suffix=""+pos;var oldBase=this.state.registry.registry[tokens[pos].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+tokens[pos].id,base),CSL.ambigConfigDiff(oldBase,base)&&(this.state.tmp.taintedItemIDs[tokens[pos].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},CSL.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1,!1;var maxed=!1,increment_names=!0;if("disNames"===this.modes[this.modeindex]){increment_names=!1,"number"!=typeof this.givensMax&&(increment_names=!0);var increment_namesets=!1;if("number"!=typeof this.namesMax&&(increment_namesets=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:increment_names=!0),"number"==typeof this.namesMax&&increment_names&&(this.state.opt["disambiguate-add-names"]?(increment_namesets=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):increment_namesets=!0):increment_namesets=!0),"number"==typeof this.namesetsMax&&increment_namesets)if(this.gnameset<this.namesetsMax)this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0;else;"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&"undefined"!=typeof this.base.givens[this.gnameset]&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(maxed=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return maxed},CSL.Disambiguation.prototype.initVars=function(akey){var myIds,myItemBundles,myItems;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=akey,this.maxNamesByItemId={},myItemBundles=[],!(myIds=this.ambigcites[akey])||!myIds.length)return!1;var myItem=this.state.retrieveItem(""+myIds[0]);if(this.getCiteData(myItem),this.base=CSL.getAmbigConfig.call(this.state),myIds&&myIds.length>1){myItemBundles.push([this.maxNamesByItemId[myItem.id],myItem]);for(var i=1,ilen=myIds.length;i<ilen;i+=1)myItem=this.state.retrieveItem(""+myIds[i]),this.getCiteData(myItem,this.base),myItemBundles.push([this.maxNamesByItemId[myItem.id],myItem]);myItemBundles.sort(function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:a[1].id>b[1].id?1:a[1].id<b[1].id?-1:0}),myItems=[];for(var i=0,ilen=myItemBundles.length;i<ilen;i+=1)myItems.push(myItemBundles[i][1]);this.lists.push([this.base,myItems]),this.Item=this.lists[0][1][0]}else this.Item=this.state.retrieveItem(""+myIds[0]);if(this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],0)for(var namesMax=this.base.names[0],i=1,ilen=this.base.names.length;i<ilen;i+=1)namesMax=Math.max(namesMax,this.base.names.names[i]);else this.namesMax=this.maxNamesByItemId[this.Item.id][0];return this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},CSL.Disambiguation.prototype.padBase=function(base){for(var i=0,ilen=base.names.length;i<ilen;i+=1){base.givens[i]||(base.givens[i]=[]);for(var j=0,jlen=base.names[i];j<jlen;j+=1)base.givens[i][j]||(base.givens[i][j]=0)}},CSL.Disambiguation.prototype.configModes=function(){var dagopt,gdropt;this.modes=[],dagopt=this.state.opt["disambiguate-add-givenname"],gdropt=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||dagopt&&"by-cite"===gdropt)&&this.modes.push("disNames"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")},CSL.Disambiguation.prototype.getCiteData=function(Item,base){if(!this.maxNamesByItemId[Item.id]){CSL.getAmbiguousCite.call(this.state,Item,base),base=CSL.getAmbigConfig.call(this.state),this.maxNamesByItemId[Item.id]=CSL.getMaxVals.call(this.state),this.state.registry.registry[Item.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,ilen=this.state.registry.registry[Item.id].disambig.givens.length;i<ilen;i+=1)this.state.registry.registry[Item.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[Item.id].disambig.names.length-1,this.base||(this.base=base,this.betterbase=CSL.cloneAmbigConfig(base)),base.names.length<this.base.names.length&&(this.base=base);for(var i=0,ilen=base.names.length;i<ilen;i+=1)base.names[i]>this.base.names[i]&&(this.base.givens[i]=base.givens[i].slice(),this.base.names[i]=base.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var j=0,jlen=this.base.givens.length;j<jlen;j+=1)this.betterbase.givens[j]=this.base.givens[j].slice()}},CSL.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},CSL.Engine.prototype.getJurisdictionList=function(jurisdiction){for(var jurisdictionList=[],jurisdictionElems=jurisdiction.split(":"),j=jurisdictionElems.length;j>0;j--)jurisdictionList.push(jurisdictionElems.slice(0,j).join(":"));return-1===jurisdictionList.indexOf("us")&&jurisdictionList.push("us"),jurisdictionList},CSL.Engine.prototype.retrieveAllStyleModules=function(jurisdictionList){var ret={},preferences=this.locale[this.opt.lang].opts["jurisdiction-preference"];preferences=preferences||[];for(var i=(preferences=[""].concat(preferences)).length-1;i>-1;i--)for(var preference=preferences[i],j=0,jlen=jurisdictionList.length;j<jlen;j++){var jurisdiction=jurisdictionList[j];if(!this.opt.jurisdictions_seen[jurisdiction]){var res=this.sys.retrieveStyleModule(jurisdiction,preference);(!res&&!preference||res)&&(this.opt.jurisdictions_seen[jurisdiction]=!0),res&&(ret[jurisdiction]=res)}}return ret},CSL.ParticleList=function(){var always_dropping_1=[[[0,1],null]],always_dropping_3=[[[0,3],null]],always_non_dropping_1=[[null,[0,1]]],always_non_dropping_2=[[null,[0,2]]],always_non_dropping_3=[[null,[0,3]]],either_1=[[null,[0,1]],[[0,1],null]],either_2=[[null,[0,2]],[[0,2],null]],either_1_dropping_best=[[[0,1],null],[null,[0,1]]],either_2_dropping_best=[[[0,2],null],[null,[0,2]]],either_3_dropping_best=[[[0,3],null],[null,[0,3]]],non_dropping_2_alt_dropping_1_non_dropping_1=[[null,[0,2]],[[0,1],[1,2]]];return PARTICLES=[["'s",always_non_dropping_1],["'s-",always_non_dropping_1],["'t",always_non_dropping_1],["a",always_non_dropping_1],["aan 't",always_non_dropping_2],["aan de",always_non_dropping_2],["aan den",always_non_dropping_2],["aan der",always_non_dropping_2],["aan het",always_non_dropping_2],["aan t",always_non_dropping_2],["aan",always_non_dropping_1],["ad-",either_1],["adh-",either_1],["af",either_1],["al",either_1],["al-",either_1],["am de",always_non_dropping_2],["am",always_non_dropping_1],["an-",either_1],["ar-",either_1],["as-",either_1],["ash-",either_1],["at-",either_1],["ath-",either_1],["auf dem",either_2_dropping_best],["auf den",either_2_dropping_best],["auf der",either_2_dropping_best],["auf ter",always_non_dropping_2],["auf",either_1_dropping_best],["aus 'm",either_2_dropping_best],["aus dem",either_2_dropping_best],["aus den",either_2_dropping_best],["aus der",either_2_dropping_best],["aus m",either_2_dropping_best],["aus",either_1_dropping_best],["aus'm",either_2_dropping_best],["az-",either_1],["aš-",either_1],["aḍ-",either_1],["aḏ-",either_1],["aṣ-",either_1],["aṭ-",either_1],["aṯ-",either_1],["aẓ-",either_1],["ben",always_non_dropping_1],["bij 't",always_non_dropping_2],["bij de",always_non_dropping_2],["bij den",always_non_dropping_2],["bij het",always_non_dropping_2],["bij t",always_non_dropping_2],["bij",always_non_dropping_1],["bin",always_non_dropping_1],["boven d",always_non_dropping_2],["boven d'",always_non_dropping_2],["d",always_non_dropping_1],["d'",either_1],["da",either_1],["dal",always_non_dropping_1],["dal'",always_non_dropping_1],["dall'",always_non_dropping_1],["dalla",always_non_dropping_1],["das",either_1],["de die le",always_non_dropping_3],["de die",always_non_dropping_2],["de l",always_non_dropping_2],["de l'",always_non_dropping_2],["de la",non_dropping_2_alt_dropping_1_non_dropping_1],["de las",non_dropping_2_alt_dropping_1_non_dropping_1],["de le",always_non_dropping_2],["de li",either_2],["de van der",always_non_dropping_3],["de",either_1],["de'",either_1],["deca",always_non_dropping_1],["degli",either_1],["dei",either_1],["del",either_1],["dela",always_dropping_1],["dell'",either_1],["della",either_1],["delle",either_1],["dello",either_1],["den",either_1],["der",either_1],["des",either_1],["di",either_1],["die le",always_non_dropping_2],["do",always_non_dropping_1],["don",always_non_dropping_1],["dos",either_1],["du",either_1],["ed-",either_1],["edh-",either_1],["el",either_1],["el-",either_1],["en-",either_1],["er-",either_1],["es-",either_1],["esh-",either_1],["et-",either_1],["eth-",either_1],["ez-",either_1],["eš-",either_1],["eḍ-",either_1],["eḏ-",either_1],["eṣ-",either_1],["eṭ-",either_1],["eṯ-",either_1],["eẓ-",either_1],["het",always_non_dropping_1],["i",always_non_dropping_1],["il",always_dropping_1],["im",always_non_dropping_1],["in 't",always_non_dropping_2],["in de",always_non_dropping_2],["in den",always_non_dropping_2],["in der",either_2],["in het",always_non_dropping_2],["in t",always_non_dropping_2],["in",always_non_dropping_1],["l",always_non_dropping_1],["l'",always_non_dropping_1],["la",always_non_dropping_1],["las",always_non_dropping_1],["le",always_non_dropping_1],["les",either_1],["lo",either_1],["los",always_non_dropping_1],["lou",always_non_dropping_1],["of",always_non_dropping_1],["onder 't",always_non_dropping_2],["onder de",always_non_dropping_2],["onder den",always_non_dropping_2],["onder het",always_non_dropping_2],["onder t",always_non_dropping_2],["onder",always_non_dropping_1],["op 't",always_non_dropping_2],["op de",either_2],["op den",always_non_dropping_2],["op der",always_non_dropping_2],["op gen",always_non_dropping_2],["op het",always_non_dropping_2],["op t",always_non_dropping_2],["op ten",always_non_dropping_2],["op",always_non_dropping_1],["over 't",always_non_dropping_2],["over de",always_non_dropping_2],["over den",always_non_dropping_2],["over het",always_non_dropping_2],["over t",always_non_dropping_2],["over",always_non_dropping_1],["s",always_non_dropping_1],["s'",always_non_dropping_1],["sen",always_dropping_1],["t",always_non_dropping_1],["te",always_non_dropping_1],["ten",always_non_dropping_1],["ter",always_non_dropping_1],["tho",always_non_dropping_1],["thoe",always_non_dropping_1],["thor",always_non_dropping_1],["to",always_non_dropping_1],["toe",always_non_dropping_1],["tot",always_non_dropping_1],["uijt 't",always_non_dropping_2],["uijt de",always_non_dropping_2],["uijt den",always_non_dropping_2],["uijt te de",always_non_dropping_3],["uijt ten",always_non_dropping_2],["uijt",always_non_dropping_1],["uit 't",always_non_dropping_2],["uit de",always_non_dropping_2],["uit den",always_non_dropping_2],["uit het",always_non_dropping_2],["uit t",always_non_dropping_2],["uit te de",always_non_dropping_3],["uit ten",always_non_dropping_2],["uit",always_non_dropping_1],["unter",always_non_dropping_1],["v",always_non_dropping_1],["v.",always_non_dropping_1],["v.d.",always_non_dropping_1],["van 't",always_non_dropping_2],["van de l",always_non_dropping_3],["van de l'",always_non_dropping_3],["van de",always_non_dropping_2],["van de",always_non_dropping_2],["van den",always_non_dropping_2],["van der",always_non_dropping_2],["van gen",always_non_dropping_2],["van het",always_non_dropping_2],["van la",always_non_dropping_2],["van t",always_non_dropping_2],["van ter",always_non_dropping_2],["van van de",always_non_dropping_3],["van",either_1],["vander",always_non_dropping_1],["vd",always_non_dropping_1],["ver",always_non_dropping_1],["vom und zum",always_dropping_3],["vom",either_1],["von 't",always_non_dropping_2],["von dem",either_2_dropping_best],["von den",either_2_dropping_best],["von der",either_2_dropping_best],["von t",always_non_dropping_2],["von und zu",either_3_dropping_best],["von zu",either_2_dropping_best],["von",either_1_dropping_best],["voor 't",always_non_dropping_2],["voor de",always_non_dropping_2],["voor den",always_non_dropping_2],["voor in 't",always_non_dropping_3],["voor in t",always_non_dropping_3],["voor",always_non_dropping_1],["vor der",either_2_dropping_best],["vor",either_1_dropping_best],["z",always_dropping_1],["ze",always_dropping_1],["zu",either_1_dropping_best],["zum",either_1],["zur",either_1]]}(),CSL.parseParticles=function(){function splitParticles(nameValue,firstNameFlag,caseOverride){var origNameValue=nameValue;nameValue=caseOverride?nameValue.toLowerCase():nameValue;var rex,particleList=[];firstNameFlag?(nameValue=nameValue.split("").reverse().join(""),rex=CSL.PARTICLE_GIVEN_REGEXP):rex=CSL.PARTICLE_FAMILY_REGEXP;for(var m=nameValue.match(rex);m;){var m1=firstNameFlag?m[1].split("").reverse().join(""):m[1],firstChar=!!m&&m1,hasParticle=!!(firstChar=!!firstChar&&m1.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&firstChar.toUpperCase()!==firstChar;if(!hasParticle)break;firstNameFlag?(particleList.push(origNameValue.slice(-1*m1.length)),origNameValue=origNameValue.slice(0,-1*m1.length)):(particleList.push(origNameValue.slice(0,m1.length)),origNameValue=origNameValue.slice(m1.length)),m=(nameValue=m[2]).match(rex)}if(firstNameFlag){nameValue=nameValue.split("").reverse().join(""),particleList.reverse();for(var i=1,ilen=particleList.length;i<ilen;i++)" "==particleList[i].slice(0,1)&&(particleList[i-1]+=" ");for(var i=0,ilen=particleList.length;i<ilen;i++)" "==particleList[i].slice(0,1)&&(particleList[i]=particleList[i].slice(1));nameValue=origNameValue.slice(0,nameValue.length)}else nameValue=origNameValue.slice(-1*nameValue.length);return[hasParticle,nameValue,particleList]}function trimLast(str){var lastChar=str.slice(-1);return str=str.trim()," "===lastChar&&["'","’"].indexOf(str.slice(-1))>-1&&(str+=" "),str}function parseSuffix(nameObj){if(!nameObj.suffix&&nameObj.given&&(m=nameObj.given.match(/(\s*,!*\s*)/),m)){idx=nameObj.given.indexOf(m[1]);var possible_suffix=nameObj.given.slice(idx+m[1].length),possible_comma=nameObj.given.slice(idx,idx+m[1].length).replace(/\s*/g,"");"et al"!==possible_suffix.replace(/\./g,"")||nameObj["dropping-particle"]?(2===possible_comma.length&&(nameObj["comma-suffix"]=!0),nameObj.suffix=possible_suffix):(nameObj["dropping-particle"]=possible_suffix,nameObj["comma-dropping-particle"]=","),nameObj.given=nameObj.given.slice(0,idx)}}return function(nameObj){var res=splitParticles(nameObj.family),lastNameValue=(res[0],res[1]),lastParticleList=res[2];nameObj.family=lastNameValue;var nonDroppingParticle=trimLast(lastParticleList.join(""));nonDroppingParticle&&(nameObj["non-dropping-particle"]=nonDroppingParticle),parseSuffix(nameObj);(res=splitParticles(nameObj.given,!0))[0];var firstNameValue=res[1],firstParticleList=res[2];nameObj.given=firstNameValue;var droppingParticle=firstParticleList.join("").trim();droppingParticle&&(nameObj["dropping-particle"]=droppingParticle)}}(),void 0!==module&&(module.exports=CSL)},{}],109:[function(require,module,exports){"use strict";function co(gen){var ctx=this,args=slice.call(arguments,1);return new Promise(function(resolve,reject){function onFulfilled(res){var ret;try{ret=gen.next(res)}catch(e){return reject(e)}next(ret)}function onRejected(err){var ret;try{ret=gen["throw"](err)}catch(e){return reject(e)}next(ret)}function next(ret){if(ret.done)return resolve(ret.value);var value=toPromise.call(ctx,ret.value);return value&&isPromise(value)?value.then(onFulfilled,onRejected):onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(ret.value)+'"'))}if("function"==typeof gen&&(gen=gen.apply(ctx,args)),!gen||"function"!=typeof gen.next)return resolve(gen);onFulfilled()})}function toPromise(obj){return obj?isPromise(obj)?obj:isGeneratorFunction(obj)||isGenerator(obj)?co.call(this,obj):"function"==typeof obj?thunkToPromise.call(this,obj):Array.isArray(obj)?arrayToPromise.call(this,obj):isObject(obj)?objectToPromise.call(this,obj):obj:obj}function thunkToPromise(fn){var ctx=this;return new Promise(function(resolve,reject){fn.call(ctx,function(err,res){if(err)return reject(err);arguments.length>2&&(res=slice.call(arguments,1)),resolve(res)})})}function arrayToPromise(obj){return Promise.all(obj.map(toPromise,this))}function objectToPromise(obj){for(var results=new obj.constructor,keys=Object.keys(obj),promises=[],i=0;i<keys.length;i++){var key=keys[i],promise=toPromise.call(this,obj[key]);promise&&isPromise(promise)?function(promise,key){results[key]=undefined,promises.push(promise.then(function(res){results[key]=res}))}(promise,key):results[key]=obj[key]}return Promise.all(promises).then(function(){return results})}function isPromise(obj){return"function"==typeof obj.then}function isGenerator(obj){return"function"==typeof obj.next&&"function"==typeof obj["throw"]}function isGeneratorFunction(obj){var constructor=obj.constructor;return!!constructor&&("GeneratorFunction"===constructor.name||"GeneratorFunction"===constructor.displayName||isGenerator(constructor.prototype))}function isObject(val){return Object==val.constructor}var slice=Array.prototype.slice;module.exports=co["default"]=co.co=co,co.wrap=function(fn){function createPromise(){return co.call(this,fn.apply(this,arguments))}return createPromise.__generatorFunction__=fn,createPromise}},{}],110:[function(require,module,exports){(function(Buffer){"use strict";function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}var util=require("util"),Stream=require("stream").Stream,DelayedStream=require("delayed-stream");module.exports=CombinedStream,util.inherits(CombinedStream,Stream),CombinedStream.create=function(options){var combinedStream=new this;options=options||{};for(var option in options)combinedStream[option]=options[option];return combinedStream},CombinedStream.isStreamLike=function(stream){return"function"!=typeof stream&&"string"!=typeof stream&&"boolean"!=typeof stream&&"number"!=typeof stream&&!Buffer.isBuffer(stream)},CombinedStream.prototype.append=function(stream){if(CombinedStream.isStreamLike(stream)){if(!(stream instanceof DelayedStream)){var newStream=DelayedStream.create(stream,{maxDataSize:Infinity,pauseStream:this.pauseStreams});stream.on("data",this._checkDataSize.bind(this)),stream=newStream}this._handleErrors(stream),this.pauseStreams&&stream.pause()}return this._streams.push(stream),this},CombinedStream.prototype.pipe=function(dest,options){return Stream.prototype.pipe.call(this,dest,options),this.resume(),dest},CombinedStream.prototype._getNext=function(){this._currentStream=null;var stream=this._streams.shift();return void 0===stream?void this.end():"function"!=typeof stream?void this._pipeNext(stream):void stream(function(stream){CombinedStream.isStreamLike(stream)&&(stream.on("data",this._checkDataSize.bind(this)),this._handleErrors(stream)),this._pipeNext(stream)}.bind(this))},CombinedStream.prototype._pipeNext=function(stream){if(this._currentStream=stream,CombinedStream.isStreamLike(stream))return stream.on("end",this._getNext.bind(this)),void stream.pipe(this,{end:!1});var value=stream;this.write(value),this._getNext()},CombinedStream.prototype._handleErrors=function(stream){var self=this;stream.on("error",function(err){self._emitError(err)})},CombinedStream.prototype.write=function(data){this.emit("data",data)},CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},CombinedStream.prototype.end=function(){this._reset(),this.emit("end")},CombinedStream.prototype.destroy=function(){this._reset(),this.emit("close")},CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var message="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(message))}},CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var self=this;this._streams.forEach(function(stream){stream.dataSize&&(self.dataSize+=stream.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},CombinedStream.prototype._emitError=function(err){this._reset(),this.emit("error",err)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":488,"delayed-stream":413,stream:610,util:635}],111:[function(require,module,exports){"use strict";require("../../modules/core.regexp.escape"),module.exports=require("../../modules/_core").RegExp.escape},{"../../modules/_core":132,"../../modules/core.regexp.escape":228}],112:[function(require,module,exports){"use strict";module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},{}],113:[function(require,module,exports){"use strict";var cof=require("./_cof");module.exports=function(it,msg){if("number"!=typeof it&&"Number"!=cof(it))throw TypeError(msg);return+it}},{"./_cof":127}],114:[function(require,module,exports){"use strict";var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;ArrayProto[UNSCOPABLES]==undefined&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},{"./_hide":149,"./_wks":226}],115:[function(require,module,exports){"use strict";module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||forbiddenField!==undefined&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},{}],116:[function(require,module,exports){"use strict";var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":158}],117:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),toIndex=require("./_to-index"),toLength=require("./_to-length");module.exports=[].copyWithin||function(target,start){var O=toObject(this),len=toLength(O.length),to=toIndex(target,len),from=toIndex(start,len),end=arguments.length>2?arguments[2]:undefined,count=Math.min((end===undefined?len:toIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},{"./_to-index":214,"./_to-length":217,"./_to-object":218}],118:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),toIndex=require("./_to-index"),toLength=require("./_to-length");module.exports=function(value){for(var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toIndex(aLen>1?arguments[1]:undefined,length),end=aLen>2?arguments[2]:undefined,endPos=end===undefined?length:toIndex(end,length);endPos>index;)O[index++]=value;return O}},{"./_to-index":214,"./_to-length":217,"./_to-object":218}],119:[function(require,module,exports){"use strict";var forOf=require("./_for-of");module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}},{"./_for-of":146}],120:[function(require,module,exports){"use strict";var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toIndex=require("./_to-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},{"./_to-index":214,"./_to-iobject":216,"./_to-length":217}],121:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),IObject=require("./_iobject"),toObject=require("./_to-object"),toLength=require("./_to-length"),asc=require("./_array-species-create");module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;length>index;index++)if((NO_HOLES||index in self)&&(val=self[index],res=f(val,index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},{"./_array-species-create":124,"./_ctx":134,"./_iobject":154,"./_to-length":217,"./_to-object":218}],122:[function(require,module,exports){"use strict";var aFunction=require("./_a-function"),toObject=require("./_to-object"),IObject=require("./_iobject"),toLength=require("./_to-length");module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},{"./_a-function":112,"./_iobject":154,"./_to-length":217,"./_to-object":218}],123:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),isArray=require("./_is-array"),SPECIES=require("./_wks")("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=undefined),isObject(C)&&null===(C=C[SPECIES])&&(C=undefined)),C===undefined?Array:C}},{"./_is-array":156,"./_is-object":158,"./_wks":226}],124:[function(require,module,exports){"use strict";var speciesConstructor=require("./_array-species-constructor");module.exports=function(original,length){return new(speciesConstructor(original))(length)}},{"./_array-species-constructor":123}],125:[function(require,module,exports){"use strict";var aFunction=require("./_a-function"),isObject=require("./_is-object"),invoke=require("./_invoke"),arraySlice=[].slice,factories={},construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};module.exports=Function.bind||function(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function bound(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}},{"./_a-function":112,"./_invoke":153,"./_is-object":158}],126:[function(require,module,exports){"use strict";var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return it===undefined?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},{"./_cof":127,"./_wks":226}],127:[function(require,module,exports){"use strict";var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],128:[function(require,module,exports){"use strict";var dP=require("./_object-dp").f,create=require("./_object-create"),redefineAll=require("./_redefine-all"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),defined=require("./_defined"),forOf=require("./_for-of"),$iterDefine=require("./_iter-define"),step=require("./_iter-step"),setSpecies=require("./_set-species"),DESCRIPTORS=require("./_descriptors"),fastKey=require("./_meta").fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=create(null),that._f=undefined,that._l=undefined,that[SIZE]=0,iterable!=undefined&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function(){for(var that=this,data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=undefined),delete data[entry.i];that._f=that._l=undefined,that[SIZE]=0},"delete":function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){anInstance(this,C,"forEach");for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(this,key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return defined(this[SIZE])}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:undefined,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=iterated,this._k=kind,this._l=undefined},function(){for(var that=this,kind=that._k,entry=that._l;entry&&entry.r;)entry=entry.p;return that._t&&(that._l=entry=entry?entry.n:that._t._f)?"keys"==kind?step(0,entry.k):"values"==kind?step(0,entry.v):step(0,[entry.k,entry.v]):(that._t=undefined,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},{"./_an-instance":115,"./_ctx":134,"./_defined":136,"./_descriptors":137,"./_for-of":146,"./_iter-define":162,"./_iter-step":164,"./_meta":171,"./_object-create":175,"./_object-dp":176,"./_redefine-all":195,"./_set-species":200}],129:[function(require,module,exports){"use strict";var classof=require("./_classof"),from=require("./_array-from-iterable");module.exports=function(NAME){return function(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},{"./_array-from-iterable":119,"./_classof":126}],130:[function(require,module,exports){"use strict";var redefineAll=require("./_redefine-all"),getWeak=require("./_meta").getWeak,anObject=require("./_an-object"),isObject=require("./_is-object"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),createArrayMethod=require("./_array-methods"),$has=require("./_has"),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},"delete":function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=id++,that._l=undefined,iterable!=undefined&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{"delete":function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(this)["delete"](key):data&&$has(data,this._i)&&delete data[this._i]},has:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(this).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return!0===data?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},{"./_an-instance":115,"./_an-object":116,"./_array-methods":121,"./_for-of":146,"./_has":148,"./_is-object":158,"./_meta":171,"./_redefine-all":195}],131:[function(require,module,exports){"use strict";var global=require("./_global"),$export=require("./_export"),redefine=require("./_redefine"),redefineAll=require("./_redefine-all"),meta=require("./_meta"),forOf=require("./_for-of"),anInstance=require("./_an-instance"),isObject=require("./_is-object"),fails=require("./_fails"),$iterDetect=require("./_iter-detect"),setToStringTag=require("./_set-to-string-tag"),inheritIfRequired=require("./_inherit-if-required");module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function(a){return IS_WEAK&&!isObject(a)?undefined:fn.call(this,0===a?0:a)}:"add"==KEY?function(a){return fn.call(this,0===a?0:a),this}:function(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||((C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return iterable!=undefined&&forOf(iterable,IS_MAP,that[ADDER],that),that})).prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},{"./_an-instance":115,"./_export":141,"./_fails":143,"./_for-of":146,"./_global":147,"./_inherit-if-required":152,"./_is-object":158,"./_iter-detect":163,"./_meta":171,"./_redefine":196,"./_redefine-all":195,"./_set-to-string-tag":201}],132:[function(require,module,exports){"use strict";var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core)},{}],133:[function(require,module,exports){"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},{"./_object-dp":176,"./_property-desc":194}],134:[function(require,module,exports){"use strict";var aFunction=require("./_a-function");module.exports=function(fn,that,length){if(aFunction(fn),that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":112}],135:[function(require,module,exports){"use strict";var anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");module.exports=function(hint){if("string"!==hint&&"number"!==hint&&"default"!==hint)throw TypeError("Incorrect hint");return toPrimitive(anObject(this),"number"!=hint)}},{"./_an-object":116,"./_to-primitive":219}],136:[function(require,module,exports){"use strict";module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},{}],137:[function(require,module,exports){"use strict";module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":143}],138:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":147,"./_is-object":158}],139:[function(require,module,exports){"use strict";module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],140:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie");module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},{"./_object-gops":182,"./_object-keys":185,"./_object-pie":186}],141:[function(require,module,exports){"use strict";var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),$export=function $export(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});IS_GLOBAL&&(source=name);for(key in source)out=((own=!IS_FORCED&&target&&target[key]!==undefined)?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{"./_core":132,"./_ctx":134,"./_global":147,"./_hide":149,"./_redefine":196}],142:[function(require,module,exports){"use strict";var MATCH=require("./_wks")("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},{"./_wks":226}],143:[function(require,module,exports){"use strict";module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],144:[function(require,module,exports){"use strict";var hide=require("./_hide"),redefine=require("./_redefine"),fails=require("./_fails"),defined=require("./_defined"),wks=require("./_wks");module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),fns=exec(defined,SYMBOL,""[KEY]),strfn=fns[0],rxfn=fns[1];fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})&&(redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)}))}},{"./_defined":136,"./_fails":143,"./_hide":149,"./_redefine":196,"./_wks":226}],145:[function(require,module,exports){"use strict";var anObject=require("./_an-object");module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},{"./_an-object":116}],146:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),anObject=require("./_an-object"),toLength=require("./_to-length"),getIterFn=require("./core.get-iterator-method"),BREAK={},RETURN={},_exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result};_exports.BREAK=BREAK,_exports.RETURN=RETURN},{"./_an-object":116,"./_ctx":134,"./_is-array-iter":155,"./_iter-call":160,"./_to-length":217,"./core.get-iterator-method":227}],147:[function(require,module,exports){"use strict";var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},{}],148:[function(require,module,exports){"use strict";var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],149:[function(require,module,exports){"use strict";var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{"./_descriptors":137,"./_object-dp":176,"./_property-desc":194}],150:[function(require,module,exports){"use strict";module.exports=require("./_global").document&&document.documentElement},{"./_global":147}],151:[function(require,module,exports){"use strict";module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":137,"./_dom-create":138,"./_fails":143}],152:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),setPrototypeOf=require("./_set-proto").set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},{"./_is-object":158,"./_set-proto":199}],153:[function(require,module,exports){"use strict";module.exports=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},{}],154:[function(require,module,exports){"use strict";var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},{"./_cof":127}],155:[function(require,module,exports){"use strict";var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{"./_iterators":165,"./_wks":226}],156:[function(require,module,exports){"use strict";var cof=require("./_cof");module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},{"./_cof":127}],157:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},{"./_is-object":158}],158:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(it){return"object"===(void 0===it?"undefined":_typeof(it))?null!==it:"function"==typeof it}},{}],159:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:"RegExp"==cof(it))}},{"./_cof":127,"./_is-object":158,"./_wks":226}],160:[function(require,module,exports){"use strict";var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];throw ret!==undefined&&anObject(ret.call(iterator)),e}}},{"./_an-object":116}],161:[function(require,module,exports){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":149,"./_object-create":175,"./_property-desc":194,"./_set-to-string-tag":201,"./_wks":226}],162:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),has=require("./_has"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:undefined,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},{"./_export":141,"./_has":148,"./_hide":149,"./_iter-create":161,"./_iterators":165,"./_library":167,"./_object-gpo":183,"./_redefine":196,"./_set-to-string-tag":201,"./_wks":226}],163:[function(require,module,exports){"use strict";var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},{"./_wks":226}],164:[function(require,module,exports){"use strict";module.exports=function(done,value){return{value:value,done:!!done}}},{}],165:[function(require,module,exports){"use strict";module.exports={}},{}],166:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject");module.exports=function(object,el){for(var key,O=toIObject(object),keys=getKeys(O),length=keys.length,index=0;length>index;)if(O[key=keys[index++]]===el)return key}},{"./_object-keys":185,"./_to-iobject":216}],167:[function(require,module,exports){"use strict";module.exports=!1},{}],168:[function(require,module,exports){"use strict";var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||-2e-17!=$expm1(-2e-17)?function(x){return 0==(x=+x)?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1},{}],169:[function(require,module,exports){"use strict";module.exports=Math.log1p||function(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)}},{}],170:[function(require,module,exports){"use strict";module.exports=Math.sign||function(x){return 0==(x=+x)||x!=x?x:x<0?-1:1}},{}],171:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==(void 0===it?"undefined":_typeof(it))?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},{"./_fails":143,"./_has":148,"./_is-object":158,"./_object-dp":176,"./_uid":223}],172:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},Map=require("./es6.map"),$export=require("./_export"),shared=require("./_shared")("metadata"),store=shared.store||(shared.store=new(require("./es6.weak-map"))),getOrCreateMetadataMap=function(target,targetKey,create){var targetMetadata=store.get(target);if(!targetMetadata){if(!create)return undefined;store.set(target,targetMetadata=new Map)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return undefined;targetMetadata.set(targetKey,keyMetadata=new Map)}return keyMetadata},ordinaryHasOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return metadataMap!==undefined&&metadataMap.has(MetadataKey)},ordinaryGetOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return metadataMap===undefined?undefined:metadataMap.get(MetadataKey)},ordinaryDefineOwnMetadata=function(MetadataKey,MetadataValue,O,P){getOrCreateMetadataMap(O,P,!0).set(MetadataKey,MetadataValue)},ordinaryOwnMetadataKeys=function(target,targetKey){var metadataMap=getOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){keys.push(key)}),keys},toMetaKey=function(it){return it===undefined||"symbol"==(void 0===it?"undefined":_typeof(it))?it:String(it)},exp=function(O){$export($export.S,"Reflect",O)};module.exports={store:store,map:getOrCreateMetadataMap,has:ordinaryHasOwnMetadata,get:ordinaryGetOwnMetadata,set:ordinaryDefineOwnMetadata,keys:ordinaryOwnMetadataKeys,key:toMetaKey,exp:exp}},{"./_export":141,"./_shared":203,"./es6.map":258,"./es6.weak-map":364}],173:[function(require,module,exports){"use strict";var global=require("./_global"),macrotask=require("./_task").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==require("./_cof")(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=undefined,e}}last=undefined,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:undefined};last&&(last.next=task),head||(head=task,notify()),last=task}}},{"./_cof":127,"./_global":147,"./_task":213}],174:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie"),toObject=require("./_to-object"),IObject=require("./_iobject"),$assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},{"./_fails":143,"./_iobject":154,"./_object-gops":182,"./_object-keys":185,"./_object-pie":186,"./_to-object":218}],175:[function(require,module,exports){"use strict";var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},_createDict=function(){var iframeDocument,iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",require("./_html").appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),_createDict=iframeDocument.F;i--;)delete _createDict.prototype[enumBugKeys[i]];return _createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=_createDict(),Properties===undefined?result:dPs(result,Properties)}},{"./_an-object":116,"./_dom-create":138,"./_enum-bug-keys":139,"./_html":150,"./_object-dps":177,"./_shared-key":202}],176:[function(require,module,exports){"use strict";var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"./_an-object":116,"./_descriptors":137,"./_ie8-dom-define":151,"./_to-primitive":219}],177:[function(require,module,exports){"use strict";var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":116,"./_descriptors":137,"./_object-dp":176,"./_object-keys":185}],178:[function(require,module,exports){"use strict";module.exports=require("./_library")||!require("./_fails")(function(){var K=Math.random();__defineSetter__.call(null,K,function(){}),delete require("./_global")[K]})},{"./_fails":143,"./_global":147,"./_library":167}],179:[function(require,module,exports){"use strict";var pIE=require("./_object-pie"),createDesc=require("./_property-desc"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),has=require("./_has"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},{"./_descriptors":137,"./_has":148,"./_ie8-dom-define":151,"./_object-pie":186,"./_property-desc":194,"./_to-iobject":216,"./_to-primitive":219}],180:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},toIObject=require("./_to-iobject"),gOPN=require("./_object-gopn").f,toString={}.toString,windowNames="object"==("undefined"==typeof window?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},{"./_object-gopn":181,"./_to-iobject":216}],181:[function(require,module,exports){"use strict";var $keys=require("./_object-keys-internal"),hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},{"./_enum-bug-keys":139,"./_object-keys-internal":184}],182:[function(require,module,exports){"use strict";exports.f=Object.getOwnPropertySymbols},{}],183:[function(require,module,exports){"use strict";var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},{"./_has":148,"./_shared-key":202,"./_to-object":218}],184:[function(require,module,exports){"use strict";var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},{"./_array-includes":120,"./_has":148,"./_shared-key":202,"./_to-iobject":216}],185:[function(require,module,exports){"use strict";var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":139,"./_object-keys-internal":184}],186:[function(require,module,exports){"use strict";exports.f={}.propertyIsEnumerable},{}],187:[function(require,module,exports){"use strict";var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":132,"./_export":141,"./_fails":143}],188:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject"),isEnum=require("./_object-pie").f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},{"./_object-keys":185,"./_object-pie":186,"./_to-iobject":216}],189:[function(require,module,exports){"use strict";var gOPN=require("./_object-gopn"),gOPS=require("./_object-gops"),anObject=require("./_an-object"),Reflect=require("./_global").Reflect;module.exports=Reflect&&Reflect.ownKeys||function(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},{"./_an-object":116,"./_global":147,"./_object-gopn":181,"./_object-gops":182}],190:[function(require,module,exports){"use strict";var $parseFloat=require("./_global").parseFloat,$trim=require("./_string-trim").trim;module.exports=1/$parseFloat(require("./_string-ws")+"-0")!=-Infinity?function(str){var string=$trim(String(str),3),result=$parseFloat(string);return 0===result&&"-"==string.charAt(0)?-0:result}:$parseFloat},{"./_global":147,"./_string-trim":211,"./_string-ws":212}],191:[function(require,module,exports){"use strict";var $parseInt=require("./_global").parseInt,$trim=require("./_string-trim").trim,ws=require("./_string-ws"),hex=/^[\-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},{"./_global":147,"./_string-trim":211,"./_string-ws":212}],192:[function(require,module,exports){"use strict";var path=require("./_path"),invoke=require("./_invoke"),aFunction=require("./_a-function");module.exports=function(){for(var fn=aFunction(this),length=arguments.length,pargs=Array(length),i=0,_=path._,holder=!1;length>i;)(pargs[i]=arguments[i++])===_&&(holder=!0);return function(){var args,that=this,aLen=arguments.length,j=0,k=0;if(!holder&&!aLen)return invoke(fn,pargs,that);if(args=pargs.slice(),holder)for(;length>j;j++)args[j]===_&&(args[j]=arguments[k++]);for(;aLen>k;)args.push(arguments[k++]);return invoke(fn,args,that)}}},{"./_a-function":112,"./_invoke":153,"./_path":193}],193:[function(require,module,exports){"use strict";module.exports=require("./_global")},{"./_global":147}],194:[function(require,module,exports){"use strict";module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],195:[function(require,module,exports){"use strict";var redefine=require("./_redefine");module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},{"./_redefine":196}],196:[function(require,module,exports){"use strict";var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),$toString=Function.toString,TPL=(""+$toString).split("toString");require("./_core").inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},{"./_core":132,"./_global":147,"./_has":148,"./_hide":149,"./_uid":223}],197:[function(require,module,exports){"use strict";module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part]}:replace;return function(it){return String(it).replace(regExp,replacer)}}},{}],198:[function(require,module,exports){"use strict";module.exports=Object.is||function(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},{}],199:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),anObject=require("./_an-object"),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):undefined),check:check}},{"./_an-object":116,"./_ctx":134,"./_is-object":158,"./_object-gopd":179}],200:[function(require,module,exports){"use strict";var global=require("./_global"),dP=require("./_object-dp"),DESCRIPTORS=require("./_descriptors"),SPECIES=require("./_wks")("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},{"./_descriptors":137,"./_global":147,"./_object-dp":176,"./_wks":226}],201:[function(require,module,exports){"use strict";var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},{"./_has":148,"./_object-dp":176,"./_wks":226}],202:[function(require,module,exports){"use strict";var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":203,"./_uid":223}],203:[function(require,module,exports){"use strict";var global=require("./_global"),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});module.exports=function(key){return store[key]||(store[key]={})}},{"./_global":147}],204:[function(require,module,exports){"use strict";var anObject=require("./_an-object"),aFunction=require("./_a-function"),SPECIES=require("./_wks")("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return C===undefined||(S=anObject(C)[SPECIES])==undefined?D:aFunction(S)}},{"./_a-function":112,"./_an-object":116,"./_wks":226}],205:[function(require,module,exports){"use strict";var fails=require("./_fails");module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},{"./_fails":143}],206:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":undefined:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536)}}},{"./_defined":136,"./_to-integer":215}],207:[function(require,module,exports){"use strict";var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},{"./_defined":136,"./_is-regexp":159}],208:[function(require,module,exports){"use strict";var $export=require("./_export"),fails=require("./_fails"),defined=require("./_defined"),createHTML=function(string,tag,attribute,value){var S=String(defined(string)),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+String(value).replace(/"/g,"&quot;")+'"'),p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML),$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}},{"./_defined":136,"./_export":141,"./_fails":143}],209:[function(require,module,exports){"use strict";var toLength=require("./_to-length"),repeat=require("./_string-repeat"),defined=require("./_defined");module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=fillString===undefined?" ":String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||""==fillStr)return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}},{"./_defined":136,"./_string-repeat":210,"./_to-length":217}],210:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(count){var str=String(defined(this)),res="",n=toInteger(count);if(n<0||n==Infinity)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(res+=str);return res}},{"./_defined":136,"./_to-integer":215}],211:[function(require,module,exports){"use strict";var $export=require("./_export"),defined=require("./_defined"),fails=require("./_fails"),spaces=require("./_string-ws"),space="["+spaces+"]",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||"​"!="​"[KEY]()}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter},{"./_defined":136,"./_export":141,"./_fails":143,"./_string-ws":212}],212:[function(require,module,exports){"use strict";module.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},{}],213:[function(require,module,exports){"use strict";var defer,channel,port,ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==require("./_cof")(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},{"./_cof":127,"./_ctx":134,"./_dom-create":138,"./_global":147,"./_html":150,"./_invoke":153}],214:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},{"./_to-integer":215}],215:[function(require,module,exports){"use strict";var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],216:[function(require,module,exports){"use strict";var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":136,"./_iobject":154}],217:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":215}],218:[function(require,module,exports){"use strict";var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":136}],219:[function(require,module,exports){"use strict";var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":158}],220:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};if(require("./_descriptors")){var LIBRARY=require("./_library"),global=require("./_global"),fails=require("./_fails"),$export=require("./_export"),$typed=require("./_typed"),$buffer=require("./_typed-buffer"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),propertyDesc=require("./_property-desc"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),toPrimitive=require("./_to-primitive"),has=require("./_has"),same=require("./_same-value"),classof=require("./_classof"),isObject=require("./_is-object"),toObject=require("./_to-object"),isArrayIter=require("./_is-array-iter"),create=require("./_object-create"),getPrototypeOf=require("./_object-gpo"),gOPN=require("./_object-gopn").f,getIterFn=require("./core.get-iterator-method"),uid=require("./_uid"),wks=require("./_wks"),createArrayMethod=require("./_array-methods"),createArrayIncludes=require("./_array-includes"),speciesConstructor=require("./_species-constructor"),ArrayIterators=require("./es6.array.iterator"),Iterators=require("./_iterators"),$iterDetect=require("./_iter-detect"),setSpecies=require("./_set-species"),arrayFill=require("./_array-fill"),arrayCopyWithin=require("./_array-copy-within"),$DP=require("./_object-dp"),$GOPD=require("./_object-gopd"),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ArrayProto=Array.prototype,$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,$map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)}),LITTLE_ENDIAN=fails(function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]}),FORCED_SET=!!Uint8Array&&!!Uint8Array.prototype.set&&fails(function(){new Uint8Array(1).set({})}),strictToLength=function(it,SAME){if(it===undefined)throw TypeError("Wrong length!");var number=+it,length=toLength(it);if(SAME&&!same(number,length))throw RangeError("Wrong length!");return length},toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){for(var index=0,length=list.length,result=allocate(C,length);length>index;)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function(source){var i,length,values,result,step,iterator,O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:undefined,mapping=mapfn!==undefined,iterFn=getIterFn(O);if(iterFn!=undefined&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}for(mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2)),i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function(){for(var index=0,length=arguments.length,result=allocate(this,length);length>index;)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:undefined)},every:function(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},fill:function(value){return arrayFill.apply(validate(this),arguments)},filter:function(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined))},find:function(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},findIndex:function(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},forEach:function(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},indexOf:function(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},includes:function(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},join:function(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:undefined)},reduce:function(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function(){for(var value,that=this,length=validate(that).length,middle=Math.floor(length/2),index=0;index<middle;)value=that[index],that[index++]=that[--length],that[length]=value;return that},some:function(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},sort:function(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function(begin,end){var O=validate(this),length=O.length,$begin=toIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((end===undefined?length:toIndex(end,length))-$begin))}},$slice=function(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError("Wrong length!");for(;index<len;)this[offset+index]=src[index++]},$iterators={entries:function(){return arrayEntries.call(validate(this))},keys:function(){return arrayKeys.call(validate(this))},values:function(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&"symbol"!=(void 0===key?"undefined":_typeof(key))&&key in target&&String(+key)==String(key)},$getDesc=function(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function(target,key,desc){return!(isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value"))||has(desc,"get")||has(desc,"set")||desc.configurable||has(desc,"writable")&&!desc.writable||has(desc,"enumerable")&&!desc.enumerable?dP(target,key,desc):(target[key]=desc.value,target)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){var NAME=KEY+((CLAMPED=!!CLAMPED)?"Clamped":"")+"Array",ISNT_UINT8="Uint8Array"!=NAME,GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray.prototype,getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)},setter=function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:255&value),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)},addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var buffer,byteLength,length,klass,index=0,offset=0;if(isObject(data)){if(!(data instanceof $ArrayBuffer||"ArrayBuffer"==(klass=classof(data))||"SharedArrayBuffer"==klass))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if($length===undefined){if($len%BYTES)throw RangeError("Wrong length!");if((byteLength=$len-offset)<0)throw RangeError("Wrong length!")}else if((byteLength=toLength($length)*BYTES)+offset>$len)throw RangeError("Wrong length!");length=byteLength/BYTES}else length=strictToLength(data,!0),buffer=new $ArrayBuffer(byteLength=length*BYTES);for(hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});index<length;)addElement(that,index++)}),TypedArrayPrototype=TypedArray.prototype=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):$iterDetect(function(iter){new TypedArray(null),new TypedArray(iter)},!0)||(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;return isObject(data)?data instanceof $ArrayBuffer||"ArrayBuffer"==(klass=classof(data))||"SharedArrayBuffer"==klass?$length!==undefined?new Base(data,toOffset($offset,BYTES),$length):$offset!==undefined?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(strictToLength(data,ISNT_UINT8))}),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){key in TypedArray||hide(TypedArray,key,Base[key])}),TypedArray.prototype=TypedArrayPrototype,LIBRARY||(TypedArrayPrototype.constructor=TypedArray));var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&("values"==$nativeIterator.name||$nativeIterator.name==undefined),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?new TypedArray(1)[TAG]==NAME:TAG in TypedArrayPrototype)||dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES,from:$from,of:$of}),"BYTES_PER_ELEMENT"in TypedArrayPrototype||hide(TypedArrayPrototype,"BYTES_PER_ELEMENT",BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),$export($export.P+$export.F*(TypedArrayPrototype.toString!=arrayToString),NAME,{toString:arrayToString}),$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,LIBRARY||CORRECT_ITER_NAME||hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}},{"./_an-instance":115,"./_array-copy-within":117,"./_array-fill":118,"./_array-includes":120,"./_array-methods":121,"./_classof":126,"./_ctx":134,"./_descriptors":137,"./_export":141,"./_fails":143,"./_global":147,"./_has":148,"./_hide":149,"./_is-array-iter":155,"./_is-object":158,"./_iter-detect":163,"./_iterators":165,"./_library":167,"./_object-create":175,"./_object-dp":176,"./_object-gopd":179,"./_object-gopn":181,"./_object-gpo":183,"./_property-desc":194,"./_redefine-all":195,"./_same-value":198,"./_set-species":200,"./_species-constructor":204,"./_to-index":214,"./_to-integer":215,"./_to-length":217,"./_to-object":218,"./_to-primitive":219,"./_typed":222,"./_typed-buffer":221,"./_uid":223,"./_wks":226,"./core.get-iterator-method":227,"./es6.array.iterator":239}],221:[function(require,module,exports){"use strict";var global=require("./_global"),DESCRIPTORS=require("./_descriptors"),LIBRARY=require("./_library"),$typed=require("./_typed"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),fails=require("./_fails"),anInstance=require("./_an-instance"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),gOPN=require("./_object-gopn").f,dP=require("./_object-dp").f,arrayFill=require("./_array-fill"),setToStringTag=require("./_set-to-string-tag"),$ArrayBuffer=global.ArrayBuffer,$DataView=global.DataView,Math=global.Math,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,$BUFFER=DESCRIPTORS?"_b":"buffer",$LENGTH=DESCRIPTORS?"_l":"byteLength",$OFFSET=DESCRIPTORS?"_o":"byteOffset",packIEEE754=function(value,mLen,nBytes){var e,m,c,buffer=Array(nBytes),eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?pow(2,-24)-pow(2,-77):0,i=0,s=value<0||0===value&&1/value<0?1:0;for((value=abs(value))!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));mLen>=8;buffer[i++]=255&m,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[i++]=255&e,e/=256,eLen-=8);return buffer[--i]|=128*s,buffer},unpackIEEE754=function(buffer,mLen,nBytes){var m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=127&s;for(s>>=7;nBits>0;e=256*e+buffer[i],i--,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[i],i--,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)},unpackI32=function(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]},packI8=function(it){return[255&it]},packI16=function(it){return[255&it,it>>8&255]},packI32=function(it){return[255&it,it>>8&255,it>>16&255,it>>24&255]},packF64=function(it){return packIEEE754(it,52,8)},packF32=function(it){return packIEEE754(it,23,4)},addGetter=function(C,key,internal){dP(C.prototype,key,{get:function(){return this[internal]}})},get=function(view,bytes,index,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError("Wrong index!");var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()},set=function(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError("Wrong index!");for(var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value),i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]},validateArrayBufferArguments=function(that,length){anInstance(that,$ArrayBuffer,"ArrayBuffer");var numberLength=+length,byteLength=toLength(numberLength);if(numberLength!=byteLength)throw RangeError("Wrong length!");return byteLength};if($typed.ABV){if(!fails(function(){new $ArrayBuffer})||!fails(function(){new $ArrayBuffer(.5)})){for(var key,ArrayBufferProto=($ArrayBuffer=function(length){return new BaseBuffer(validateArrayBufferArguments(this,length))}).prototype=BaseBuffer.prototype,keys=gOPN(BaseBuffer),j=0;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView.prototype.setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),!view.getInt8(0)&&view.getInt8(1)||redefineAll($DataView.prototype,{setInt8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}else $ArrayBuffer=function(length){var byteLength=validateArrayBufferArguments(this,length);this._b=arrayFill.call(Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function(buffer,byteOffset,byteLength){anInstance(this,$DataView,"DataView"),anInstance(buffer,$ArrayBuffer,"DataView");var bufferLength=buffer[$LENGTH],offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");if(byteLength=byteLength===undefined?bufferLength-offset:toLength(byteLength),offset+byteLength>bufferLength)throw RangeError("Wrong length!");this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},DESCRIPTORS&&(addGetter($ArrayBuffer,"byteLength","_l"),addGetter($DataView,"buffer","_b"),addGetter($DataView,"byteLength","_l"),addGetter($DataView,"byteOffset","_o")),redefineAll($DataView.prototype,{getInt8:function(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});setToStringTag($ArrayBuffer,"ArrayBuffer"),setToStringTag($DataView,"DataView"),hide($DataView.prototype,$typed.VIEW,!0),exports.ArrayBuffer=$ArrayBuffer,exports.DataView=$DataView},{"./_an-instance":115,"./_array-fill":118,"./_descriptors":137,"./_fails":143,"./_global":147,"./_hide":149,"./_library":167,"./_object-dp":176,"./_object-gopn":181,"./_redefine-all":195,"./_set-to-string-tag":201,"./_to-integer":215,"./_to-length":217,"./_typed":222}],222:[function(require,module,exports){"use strict";for(var Typed,global=require("./_global"),hide=require("./_hide"),uid=require("./_uid"),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!(!global.ArrayBuffer||!global.DataView),CONSTR=ABV,i=0,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");i<9;)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}},{"./_global":147,"./_hide":149,"./_uid":223}],223:[function(require,module,exports){"use strict";var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},{}],224:[function(require,module,exports){"use strict";var global=require("./_global"),core=require("./_core"),LIBRARY=require("./_library"),wksExt=require("./_wks-ext"),defineProperty=require("./_object-dp").f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},{"./_core":132,"./_global":147,"./_library":167,"./_object-dp":176,"./_wks-ext":225}],225:[function(require,module,exports){"use strict";exports.f=require("./_wks")},{"./_wks":226}],226:[function(require,module,exports){"use strict";var store=require("./_shared")("wks"),uid=require("./_uid"),_Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof _Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&_Symbol[name]||(USE_SYMBOL?_Symbol:uid)("Symbol."+name))}).store=store},{"./_global":147,"./_shared":203,"./_uid":223}],227:[function(require,module,exports){"use strict";var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":126,"./_core":132,"./_iterators":165,"./_wks":226}],228:[function(require,module,exports){"use strict";var $export=require("./_export"),$re=require("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function(it){return $re(it)}})},{"./_export":141,"./_replacer":197}],229:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.P,"Array",{copyWithin:require("./_array-copy-within")}),require("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":114,"./_array-copy-within":117,"./_export":141}],230:[function(require,module,exports){"use strict";var $export=require("./_export"),$every=require("./_array-methods")(4);$export($export.P+$export.F*!require("./_strict-method")([].every,!0),"Array",{every:function(callbackfn){return $every(this,callbackfn,arguments[1])}})},{"./_array-methods":121,"./_export":141,"./_strict-method":205}],231:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":114,"./_array-fill":118,"./_export":141}],232:[function(require,module,exports){"use strict";var $export=require("./_export"),$filter=require("./_array-methods")(2);$export($export.P+$export.F*!require("./_strict-method")([].filter,!0),"Array",{filter:function(callbackfn){return $filter(this,callbackfn,arguments[1])}})},{"./_array-methods":121,"./_export":141,"./_strict-method":205}],233:[function(require,module,exports){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}}),require("./_add-to-unscopables")(KEY)},{"./_add-to-unscopables":114,"./_array-methods":121,"./_export":141}],234:[function(require,module,exports){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(5),forced=!0;"find"in[]&&Array(1).find(function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}}),require("./_add-to-unscopables")("find")},{"./_add-to-unscopables":114,"./_array-methods":121,"./_export":141}],235:[function(require,module,exports){"use strict";var $export=require("./_export"),$forEach=require("./_array-methods")(0),STRICT=require("./_strict-method")([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},{"./_array-methods":121,"./_export":141,"./_strict-method":205}],236:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:undefined,mapping=mapfn!==undefined,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:undefined,2)),iterFn==undefined||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},{"./_create-property":133,"./_ctx":134,"./_export":141,"./_is-array-iter":155,"./_iter-call":160,"./_iter-detect":163,"./_to-length":217,"./_to-object":218,"./core.get-iterator-method":227}],237:[function(require,module,exports){"use strict";var $export=require("./_export"),$indexOf=require("./_array-includes")(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{indexOf:function(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},{"./_array-includes":120,"./_export":141,"./_strict-method":205}],238:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Array",{isArray:require("./_is-array")})},{"./_export":141,"./_is-array":156}],239:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=undefined,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{"./_add-to-unscopables":114,"./_iter-define":162,"./_iter-step":164,"./_iterators":165,"./_to-iobject":216}],240:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),arrayJoin=[].join;$export($export.P+$export.F*(require("./_iobject")!=Object||!require("./_strict-method")(arrayJoin)),"Array",{join:function(separator){return arrayJoin.call(toIObject(this),separator===undefined?",":separator)}})},{"./_export":141,"./_iobject":154,"./_strict-method":205,"./_to-iobject":216}],241:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{lastIndexOf:function(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),index<0&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}})},{"./_export":141,"./_strict-method":205,"./_to-integer":215,"./_to-iobject":216,"./_to-length":217}],242:[function(require,module,exports){"use strict";var $export=require("./_export"),$map=require("./_array-methods")(1);$export($export.P+$export.F*!require("./_strict-method")([].map,!0),"Array",{map:function(callbackfn){return $map(this,callbackfn,arguments[1])}})},{"./_array-methods":121,"./_export":141,"./_strict-method":205}],243:[function(require,module,exports){"use strict";var $export=require("./_export"),createProperty=require("./_create-property");$export($export.S+$export.F*require("./_fails")(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var index=0,aLen=arguments.length,result=new("function"==typeof this?this:Array)(aLen);aLen>index;)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})},{"./_create-property":133,"./_export":141,"./_fails":143}],244:[function(require,module,exports){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!0)}})},{"./_array-reduce":122,"./_export":141,"./_strict-method":205}],245:[function(require,module,exports){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduce,!0),"Array",{reduce:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})},{"./_array-reduce":122,"./_export":141,"./_strict-method":205}],246:[function(require,module,exports){"use strict";var $export=require("./_export"),html=require("./_html"),cof=require("./_cof"),toIndex=require("./_to-index"),toLength=require("./_to-length"),arraySlice=[].slice;$export($export.P+$export.F*require("./_fails")(function(){html&&arraySlice.call(html)}),"Array",{slice:function(begin,end){var len=toLength(this.length),klass=cof(this);if(end=end===undefined?len:end,"Array"==klass)return arraySlice.call(this,begin,end);for(var start=toIndex(begin,len),upTo=toIndex(end,len),size=toLength(upTo-start),cloned=Array(size),i=0;i<size;i++)cloned[i]="String"==klass?this.charAt(start+i):this[start+i];return cloned}})},{"./_cof":127,"./_export":141,"./_fails":143,"./_html":150,"./_to-index":214,"./_to-length":217}],247:[function(require,module,exports){"use strict";var $export=require("./_export"),$some=require("./_array-methods")(3);$export($export.P+$export.F*!require("./_strict-method")([].some,!0),"Array",{some:function(callbackfn){return $some(this,callbackfn,arguments[1])}})},{"./_array-methods":121,"./_export":141,"./_strict-method":205}],248:[function(require,module,exports){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),toObject=require("./_to-object"),fails=require("./_fails"),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(undefined)})||!fails(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function(comparefn){return comparefn===undefined?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},{"./_a-function":112,"./_export":141,"./_fails":143,"./_strict-method":205,"./_to-object":218}],249:[function(require,module,exports){"use strict";require("./_set-species")("Array")},{"./_set-species":200}],250:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":141}],251:[function(require,module,exports){"use strict";var $export=require("./_export"),fails=require("./_fails"),getTime=Date.prototype.getTime,lz=function(num){return num>9?num:"0"+num};$export($export.P+$export.F*(fails(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!fails(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=y<0?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}})},{"./_export":141,"./_fails":143}],252:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive");$export($export.P+$export.F*require("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(key){var O=toObject(this),pv=toPrimitive(O);return"number"!=typeof pv||isFinite(pv)?O.toISOString():null}})},{"./_export":141,"./_fails":143,"./_to-object":218,"./_to-primitive":219}],253:[function(require,module,exports){"use strict";var TO_PRIMITIVE=require("./_wks")("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||require("./_hide")(proto,TO_PRIMITIVE,require("./_date-to-primitive"))},{"./_date-to-primitive":135,"./_hide":149,"./_wks":226}],254:[function(require,module,exports){"use strict";var DateProto=Date.prototype,$toString=DateProto.toString,getTime=DateProto.getTime;new Date(NaN)+""!="Invalid Date"&&require("./_redefine")(DateProto,"toString",function(){var value=getTime.call(this);return value===value?$toString.call(this):"Invalid Date"})},{"./_redefine":196}],255:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.P,"Function",{bind:require("./_bind")})},{"./_bind":125,"./_export":141}],256:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),getPrototypeOf=require("./_object-gpo"),HAS_INSTANCE=require("./_wks")("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||require("./_object-dp").f(FunctionProto,HAS_INSTANCE,{value:function(O){if("function"!=typeof this||!isObject(O))return!1;if(!isObject(this.prototype))return O instanceof this;for(;O=getPrototypeOf(O);)if(this.prototype===O)return!0;return!1}})},{"./_is-object":158,"./_object-dp":176,"./_object-gpo":183,"./_wks":226}],257:[function(require,module,exports){"use strict";var dP=require("./_object-dp").f,createDesc=require("./_property-desc"),has=require("./_has"),FProto=Function.prototype,isExtensible=Object.isExtensible||function(){return!0};"name"in FProto||require("./_descriptors")&&dP(FProto,"name",{configurable:!0,get:function(){try{var that=this,name=(""+that).match(/^\s*function ([^ (]*)/)[1];return has(that,"name")||!isExtensible(that)||dP(that,"name",createDesc(5,name)),name}catch(e){return""}}})},{"./_descriptors":137,"./_has":148,"./_object-dp":176,"./_property-desc":194}],258:[function(require,module,exports){"use strict";var strong=require("./_collection-strong");module.exports=require("./_collection")("Map",function(get){return function(){return get(this,arguments.length>0?arguments[0]:undefined)}},{get:function(key){var entry=strong.getEntry(this,key);return entry&&entry.v},set:function(key,value){return strong.def(this,0===key?0:key,value)}},strong,!0)},{"./_collection":131,"./_collection-strong":128}],259:[function(require,module,exports){"use strict";var $export=require("./_export"),log1p=require("./_math-log1p"),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&710==Math.floor($acosh(Number.MAX_VALUE))&&$acosh(Infinity)==Infinity),"Math",{acosh:function(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})},{"./_export":141,"./_math-log1p":169}],260:[function(require,module,exports){"use strict";function asinh(x){return isFinite(x=+x)&&0!=x?x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1)):x}var $export=require("./_export"),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh})},{"./_export":141}],261:[function(require,module,exports){"use strict";var $export=require("./_export"),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function(x){return 0==(x=+x)?x:Math.log((1+x)/(1-x))/2}})},{"./_export":141}],262:[function(require,module,exports){"use strict";var $export=require("./_export"),sign=require("./_math-sign");$export($export.S,"Math",{cbrt:function(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})},{"./_export":141,"./_math-sign":170}],263:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{clz32:function(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})},{"./_export":141}],264:[function(require,module,exports){"use strict";var $export=require("./_export"),exp=Math.exp;$export($export.S,"Math",{cosh:function(x){return(exp(x=+x)+exp(-x))/2}})},{"./_export":141}],265:[function(require,module,exports){"use strict";var $export=require("./_export"),$expm1=require("./_math-expm1");$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})},{"./_export":141,"./_math-expm1":168}],266:[function(require,module,exports){"use strict";var $export=require("./_export"),sign=require("./_math-sign"),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126),roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};$export($export.S,"Math",{fround:function(x){var a,result,$abs=Math.abs(x),$sign=sign(x);return $abs<MIN32?$sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32:(a=(1+EPSILON32/EPSILON)*$abs,result=a-(a-$abs),result>MAX32||result!=result?$sign*Infinity:$sign*result)}})},{"./_export":141,"./_math-sign":170}],267:[function(require,module,exports){"use strict";var $export=require("./_export"),abs=Math.abs;$export($export.S,"Math",{hypot:function(value1,value2){for(var arg,div,sum=0,i=0,aLen=arguments.length,larg=0;i<aLen;)larg<(arg=abs(arguments[i++]))?(sum=sum*(div=larg/arg)*div+1,larg=arg):sum+=arg>0?(div=arg/larg)*div:arg;return larg===Infinity?Infinity:larg*Math.sqrt(sum)}})},{"./_export":141}],268:[function(require,module,exports){"use strict";var $export=require("./_export"),$imul=Math.imul;$export($export.S+$export.F*require("./_fails")(function(){return-5!=$imul(4294967295,5)||2!=$imul.length}),"Math",{imul:function(x,y){var xn=+x,yn=+y,xl=65535&xn,yl=65535&yn;return 0|xl*yl+((65535&xn>>>16)*yl+xl*(65535&yn>>>16)<<16>>>0)}})},{"./_export":141,"./_fails":143}],269:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{log10:function(x){return Math.log(x)/Math.LN10}})},{"./_export":141}],270:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{log1p:require("./_math-log1p")})},{"./_export":141,"./_math-log1p":169}],271:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{log2:function(x){return Math.log(x)/Math.LN2}})},{"./_export":141}],272:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{sign:require("./_math-sign")})},{"./_export":141,"./_math-sign":170}],273:[function(require,module,exports){"use strict";var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S+$export.F*require("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})},{"./_export":141,"./_fails":143,"./_math-expm1":168}],274:[function(require,module,exports){"use strict";var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S,"Math",{tanh:function(x){var a=expm1(x=+x),b=expm1(-x);return a==Infinity?1:b==Infinity?-1:(a-b)/(exp(x)+exp(-x))}})},{"./_export":141,"./_math-expm1":168}],275:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{trunc:function(it){return(it>0?Math.floor:Math.ceil)(it)}})},{"./_export":141}],276:[function(require,module,exports){"use strict";var global=require("./_global"),has=require("./_has"),cof=require("./_cof"),inheritIfRequired=require("./_inherit-if-required"),toPrimitive=require("./_to-primitive"),fails=require("./_fails"),gOPN=require("./_object-gopn").f,gOPD=require("./_object-gopd").f,dP=require("./_object-dp").f,$trim=require("./_string-trim").trim,$Number=global.Number,Base=$Number,proto=$Number.prototype,BROKEN_COF="Number"==cof(require("./_object-create")(proto)),TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2){var third,radix,maxCode,first=(it=TRIM?it.trim():$trim(it,3)).charCodeAt(0);if(43===first||45===first){if(88===(third=it.charCodeAt(2))||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var code,digits=it.slice(2),i=0,l=digits.length;i<l;i++)if((code=digits.charCodeAt(i))<48||code>maxCode)return NaN;return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):"Number"!=cof(that))?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var key,keys=require("./_descriptors")?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,require("./_redefine")(global,"Number",$Number)}},{"./_cof":127,"./_descriptors":137,"./_fails":143,"./_global":147,"./_has":148,"./_inherit-if-required":152,"./_object-create":175,"./_object-dp":176,"./_object-gopd":179,"./_object-gopn":181,"./_redefine":196,"./_string-trim":211,"./_to-primitive":219}],277:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":141}],278:[function(require,module,exports){"use strict";var $export=require("./_export"),_isFinite=require("./_global").isFinite;$export($export.S,"Number",{isFinite:function(it){return"number"==typeof it&&_isFinite(it)}})},{"./_export":141,"./_global":147}],279:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Number",{isInteger:require("./_is-integer")})},{"./_export":141,"./_is-integer":157}],280:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Number",{isNaN:function(number){return number!=number}})},{"./_export":141}],281:[function(require,module,exports){"use strict";var $export=require("./_export"),isInteger=require("./_is-integer"),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function(number){return isInteger(number)&&abs(number)<=9007199254740991}})},{"./_export":141,"./_is-integer":157}],282:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":141}],283:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":141}],284:[function(require,module,exports){"use strict";var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})},{"./_export":141,"./_parse-float":190}],285:[function(require,module,exports){"use strict";var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},{"./_export":141,"./_parse-int":191}],286:[function(require,module,exports){"use strict";var $export=require("./_export"),toInteger=require("./_to-integer"),aNumberValue=require("./_a-number-value"),repeat=require("./_string-repeat"),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",multiply=function(n,c){for(var i=-1,c2=c;++i<6;)c2+=n*data[i],data[i]=c2%1e7,c2=floor(c2/1e7)},divide=function(n){for(var i=6,c=0;--i>=0;)c+=data[i],data[i]=floor(c/n),c=c%n*1e7},numToString=function(){for(var i=6,s="";--i>=0;)if(""!==s||0===i||0!==data[i]){var t=String(data[i]);s=""===s?t:s+repeat.call("0",7-t.length)+t}return s},pow=function pow(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log=function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function(fractionDigits){var e,z,j,k,x=aNumberValue(this,ERROR),f=toInteger(fractionDigits),s="",m="0";if(f<0||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(x<=-1e21||x>=1e21)return String(x);if(x<0&&(s="-",x=-x),x>1e-21)if(e=log(x*pow(2,69,1))-69,z=e<0?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(multiply(0,z),j=f;j>=7;)multiply(1e7,0),j-=7;for(multiply(pow(10,j,1),0),j=e-1;j>=23;)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=numToString()}else multiply(0,z),multiply(1<<-e,0),m=numToString()+repeat.call("0",f);return m=f>0?s+((k=m.length)<=f?"0."+repeat.call("0",f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f)):s+m}})},{"./_a-number-value":113,"./_export":141,"./_fails":143,"./_string-repeat":210,"./_to-integer":215}],287:[function(require,module,exports){"use strict";var $export=require("./_export"),$fails=require("./_fails"),aNumberValue=require("./_a-number-value"),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return"1"!==$toPrecision.call(1,undefined)})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return precision===undefined?$toPrecision.call(that):$toPrecision.call(that,precision)}})},{"./_a-number-value":113,"./_export":141,"./_fails":143}],288:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")})},{"./_export":141,"./_object-assign":174}],289:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")})},{"./_export":141,"./_object-create":175}],290:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")})},{"./_descriptors":137,"./_export":141,"./_object-dps":177}],291:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})},{"./_descriptors":137,"./_export":141,"./_object-dp":176}],292:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},{"./_is-object":158,"./_meta":171,"./_object-sap":187}],293:[function(require,module,exports){"use strict";var toIObject=require("./_to-iobject"),$getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},{"./_object-gopd":179,"./_object-sap":187,"./_to-iobject":216}],294:[function(require,module,exports){"use strict";require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f})},{"./_object-gopn-ext":180,"./_object-sap":187}],295:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),$getPrototypeOf=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},{"./_object-gpo":183,"./_object-sap":187,"./_to-object":218}],296:[function(require,module,exports){"use strict";var isObject=require("./_is-object");require("./_object-sap")("isExtensible",function($isExtensible){return function(it){return!!isObject(it)&&(!$isExtensible||$isExtensible(it))}})},{"./_is-object":158,"./_object-sap":187}],297:[function(require,module,exports){"use strict";var isObject=require("./_is-object");require("./_object-sap")("isFrozen",function($isFrozen){return function(it){return!isObject(it)||!!$isFrozen&&$isFrozen(it)}})},{"./_is-object":158,"./_object-sap":187}],298:[function(require,module,exports){"use strict";var isObject=require("./_is-object");require("./_object-sap")("isSealed",function($isSealed){return function(it){return!isObject(it)||!!$isSealed&&$isSealed(it)}})},{"./_is-object":158,"./_object-sap":187}],299:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Object",{is:require("./_same-value")})},{"./_export":141,"./_same-value":198}],300:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function(it){return $keys(toObject(it))}})},{"./_object-keys":185,"./_object-sap":187,"./_to-object":218}],301:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function($preventExtensions){return function(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})},{"./_is-object":158,"./_meta":171,"./_object-sap":187}],302:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("seal",function($seal){return function(it){return $seal&&isObject(it)?$seal(meta(it)):it}})},{"./_is-object":158,"./_meta":171,"./_object-sap":187}],303:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Object",{setPrototypeOf:require("./_set-proto").set})},{"./_export":141,"./_set-proto":199}],304:[function(require,module,exports){"use strict";var classof=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0)},{"./_classof":126,"./_redefine":196,"./_wks":226}],305:[function(require,module,exports){"use strict";var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})},{"./_export":141,"./_parse-float":190}],306:[function(require,module,exports){"use strict";var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},{"./_export":141,"./_parse-int":191}],307:[function(require,module,exports){"use strict";var Internal,GenericPromiseCapability,Wrapper,LIBRARY=require("./_library"),global=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),TypeError=global.TypeError,process=global.process,$Promise=global.Promise,isNode="process"==classof(process=global.process),empty=function(){},USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[require("./_wks")("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),sameConstructor=function(a,b){return a===b||a===$Promise&&b===Wrapper},isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},newPromiseCapability=function(C){return sameConstructor($Promise,C)?new PromiseCapability(C):new GenericPromiseCapability(C)},PromiseCapability=GenericPromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0;chain.length>i;)!function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}}(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var abrupt,handler,console,value=promise._v;if(isUnhandled(promise)&&(abrupt=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=undefined,abrupt)throw abrupt.error})},isUnhandled=function isUnhandled(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if((reaction=chain[i++]).fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function $resolve(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function(executor){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=require("./_redefine-all")($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:undefined,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},"catch":function(onRejected){return this.then(undefined,onRejected)}}),PromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,"Promise"),require("./_set-species")("Promise"),Wrapper=require("./_core").Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){if(x instanceof $Promise&&sameConstructor(x.constructor,this))return x;var capability=newPromiseCapability(this);return(0,capability.resolve)(x),capability.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(iter){$Promise.all(iter)["catch"](empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,abrupt=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(undefined),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return abrupt&&reject(abrupt.error),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})},{"./_a-function":112,"./_an-instance":115,"./_classof":126,"./_core":132,"./_ctx":134,"./_export":141,"./_for-of":146,"./_global":147,"./_is-object":158,"./_iter-detect":163,"./_library":167,"./_microtask":173,"./_redefine-all":195,"./_set-species":200,"./_set-to-string-tag":201,"./_species-constructor":204,"./_task":213,"./_wks":226}],308:[function(require,module,exports){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),anObject=require("./_an-object"),rApply=(require("./_global").Reflect||{}).apply,fApply=Function.apply;$export($export.S+$export.F*!require("./_fails")(function(){rApply(function(){})}),"Reflect",{apply:function(target,thisArgument,argumentsList){var T=aFunction(target),L=anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}})},{"./_a-function":112,"./_an-object":116,"./_export":141,"./_fails":143,"./_global":147}],309:[function(require,module,exports){"use strict";var $export=require("./_export"),create=require("./_object-create"),aFunction=require("./_a-function"),anObject=require("./_an-object"),isObject=require("./_is-object"),fails=require("./_fails"),bind=require("./_bind"),rConstruct=(require("./_global").Reflect||{}).construct,NEW_TARGET_BUG=fails(function(){function F(){}return!(rConstruct(function(){},[],F)instanceof F)}),ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},{"./_a-function":112,"./_an-object":116,"./_bind":125,"./_export":141,"./_fails":143,"./_global":147,"./_is-object":158,"./_object-create":175}],310:[function(require,module,exports){"use strict";var dP=require("./_object-dp"),$export=require("./_export"),anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");$export($export.S+$export.F*require("./_fails")(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return dP.f(target,propertyKey,attributes),!0}catch(e){return!1}}})},{"./_an-object":116,"./_export":141,"./_fails":143,"./_object-dp":176,"./_to-primitive":219}],311:[function(require,module,exports){"use strict";var $export=require("./_export"),gOPD=require("./_object-gopd").f,anObject=require("./_an-object");$export($export.S,"Reflect",{deleteProperty:function(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return!(desc&&!desc.configurable)&&delete target[propertyKey]}})},{"./_an-object":116,"./_export":141,"./_object-gopd":179}],312:[function(require,module,exports){"use strict";var $export=require("./_export"),anObject=require("./_an-object"),Enumerate=function(iterated){this._t=anObject(iterated),this._i=0;var key,keys=this._k=[];for(key in iterated)keys.push(key)};require("./_iter-create")(Enumerate,"Object",function(){var key,that=this,keys=that._k;do{if(that._i>=keys.length)return{value:undefined,done:!0}}while(!((key=keys[that._i++])in that._t));return{value:key,done:!1}}),$export($export.S,"Reflect",{enumerate:function(target){return new Enumerate(target)}})},{"./_an-object":116,"./_export":141,"./_iter-create":161}],313:[function(require,module,exports){"use strict";var gOPD=require("./_object-gopd"),$export=require("./_export"),anObject=require("./_an-object");$export($export.S,"Reflect",{getOwnPropertyDescriptor:function(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})},{"./_an-object":116,"./_export":141,"./_object-gopd":179}],314:[function(require,module,exports){"use strict";var $export=require("./_export"),getProto=require("./_object-gpo"),anObject=require("./_an-object");$export($export.S,"Reflect",{getPrototypeOf:function(target){return getProto(anObject(target))}})},{"./_an-object":116,"./_export":141,"./_object-gpo":183}],315:[function(require,module,exports){"use strict";function get(target,propertyKey){var desc,proto,receiver=arguments.length<3?target:arguments[2];return anObject(target)===receiver?target[propertyKey]:(desc=gOPD.f(target,propertyKey))?has(desc,"value")?desc.value:desc.get!==undefined?desc.get.call(receiver):undefined:isObject(proto=getPrototypeOf(target))?get(proto,propertyKey,receiver):void 0}var gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),isObject=require("./_is-object"),anObject=require("./_an-object");$export($export.S,"Reflect",{get:get})},{"./_an-object":116,"./_export":141,"./_has":148,"./_is-object":158,"./_object-gopd":179,"./_object-gpo":183}],316:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Reflect",{has:function(target,propertyKey){return propertyKey in target}})},{"./_export":141}],317:[function(require,module,exports){"use strict";var $export=require("./_export"),anObject=require("./_an-object"),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function(target){return anObject(target),!$isExtensible||$isExtensible(target)}})},{"./_an-object":116,"./_export":141}],318:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Reflect",{ownKeys:require("./_own-keys")})},{"./_export":141,"./_own-keys":189}],319:[function(require,module,exports){"use strict";var $export=require("./_export"),anObject=require("./_an-object"),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function(target){anObject(target);try{return $preventExtensions&&$preventExtensions(target),!0}catch(e){return!1}}})},{"./_an-object":116,"./_export":141}],320:[function(require,module,exports){"use strict";var $export=require("./_export"),setProto=require("./_set-proto");setProto&&$export($export.S,"Reflect",{setPrototypeOf:function(target,proto){setProto.check(target,proto);try{return setProto.set(target,proto),!0}catch(e){return!1}}})},{"./_export":141,"./_set-proto":199}],321:[function(require,module,exports){"use strict";function set(target,propertyKey,V){var existingDescriptor,proto,receiver=arguments.length<4?target:arguments[3],ownDesc=gOPD.f(anObject(target),propertyKey);if(!ownDesc){if(isObject(proto=getPrototypeOf(target)))return set(proto,propertyKey,V,receiver);ownDesc=createDesc(0)}return has(ownDesc,"value")?!(!1===ownDesc.writable||!isObject(receiver))&&(existingDescriptor=gOPD.f(receiver,propertyKey)||createDesc(0),existingDescriptor.value=V,dP.f(receiver,propertyKey,existingDescriptor),!0):ownDesc.set!==undefined&&(ownDesc.set.call(receiver,V),!0)}var dP=require("./_object-dp"),gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),createDesc=require("./_property-desc"),anObject=require("./_an-object"),isObject=require("./_is-object");$export($export.S,"Reflect",{set:set})},{"./_an-object":116,"./_export":141,"./_has":148,"./_is-object":158,"./_object-dp":176,"./_object-gopd":179,"./_object-gpo":183,"./_property-desc":194}],322:[function(require,module,exports){"use strict";var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re2=/a/g,CORRECT_NEW=new $RegExp(/a/g)!==/a/g;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(/a/g)!=/a/g||$RegExp(re2)==re2||"/a/i"!=$RegExp(/a/g,"i")}))){$RegExp=function(p,f){var tiRE=this instanceof $RegExp,piRE=isRegExp(p),fiU=f===undefined;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};for(var keys=gOPN(Base),i=0;keys.length>i;)!function(key){key in $RegExp||dP($RegExp,key,{configurable:!0,get:function(){return Base[key]},set:function(it){Base[key]=it}})}(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp")},{"./_descriptors":137,"./_fails":143,"./_flags":145,"./_global":147,"./_inherit-if-required":152,"./_is-regexp":159,"./_object-dp":176,"./_object-gopn":181,"./_redefine":196,"./_set-species":200,"./_wks":226}],323:[function(require,module,exports){"use strict";require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")})},{"./_descriptors":137,"./_flags":145,"./_object-dp":176}],324:[function(require,module,exports){"use strict";require("./_fix-re-wks")("match",1,function(defined,MATCH,$match){return[function(regexp){var O=defined(this),fn=regexp==undefined?undefined:regexp[MATCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},$match]})},{"./_fix-re-wks":144}],325:[function(require,module,exports){"use strict";require("./_fix-re-wks")("replace",2,function(defined,REPLACE,$replace){return[function(searchValue,replaceValue){var O=defined(this),fn=searchValue==undefined?undefined:searchValue[REPLACE];return fn!==undefined?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]})},{"./_fix-re-wks":144}],326:[function(require,module,exports){"use strict";require("./_fix-re-wks")("search",1,function(defined,SEARCH,$search){return[function(regexp){var O=defined(this),fn=regexp==undefined?undefined:regexp[SEARCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},$search]})},{"./_fix-re-wks":144}],327:[function(require,module,exports){"use strict";require("./_fix-re-wks")("split",2,function(defined,SPLIT,$split){var isRegExp=require("./_is-regexp"),_split=$split,$push=[].push,LENGTH="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[LENGTH]||2!="ab".split(/(?:ab)*/)[LENGTH]||4!=".".split(/(.?)(.?)/)[LENGTH]||".".split(/()()/)[LENGTH]>1||"".split(/.?/)[LENGTH]){var NPCG=/()??/.exec("")[1]===undefined;$split=function(separator,limit){var string=String(this);if(separator===undefined&&0===limit)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var separator2,match,lastIndex,lastLength,i,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=limit===undefined?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");for(NPCG||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));(match=separatorCopy.exec(string))&&!((lastIndex=match.index+match[0][LENGTH])>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),!NPCG&&match[LENGTH]>1&&match[0].replace(separator2,function(){for(i=1;i<arguments[LENGTH]-2;i++)arguments[i]===undefined&&(match[i]=undefined)}),match[LENGTH]>1&&match.index<string[LENGTH]&&$push.apply(output,match.slice(1)),lastLength=match[0][LENGTH],lastLastIndex=lastIndex,output[LENGTH]>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++;return lastLastIndex===string[LENGTH]?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}}else"0".split(undefined,0)[LENGTH]&&($split=function(separator,limit){return separator===undefined&&0===limit?[]:_split.call(this,separator,limit)});return[function(separator,limit){var O=defined(this),fn=separator==undefined?undefined:separator[SPLIT];return fn!==undefined?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]})},{"./_fix-re-wks":144,"./_is-regexp":159}],328:[function(require,module,exports){"use strict";require("./es6.regexp.flags");var anObject=require("./_an-object"),$flags=require("./_flags"),DESCRIPTORS=require("./_descriptors"),$toString=/./.toString,define=function(fn){require("./_redefine")(RegExp.prototype,"toString",fn,!0)};require("./_fails")(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):undefined)}):"toString"!=$toString.name&&define(function(){return $toString.call(this)})},{"./_an-object":116,"./_descriptors":137,"./_fails":143,"./_flags":145,"./_redefine":196,"./es6.regexp.flags":323}],329:[function(require,module,exports){"use strict";var strong=require("./_collection-strong");module.exports=require("./_collection")("Set",function(get){return function(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function(value){return strong.def(this,value=0===value?0:value,value)}},strong)},{"./_collection":131,"./_collection-strong":128}],330:[function(require,module,exports){"use strict";require("./_string-html")("anchor",function(createHTML){return function(name){return createHTML(this,"a","name",name)}})},{"./_string-html":208}],331:[function(require,module,exports){"use strict";require("./_string-html")("big",function(createHTML){return function(){return createHTML(this,"big","","")}})},{"./_string-html":208}],332:[function(require,module,exports){"use strict";require("./_string-html")("blink",function(createHTML){return function(){return createHTML(this,"blink","","")}})},{"./_string-html":208}],333:[function(require,module,exports){"use strict";require("./_string-html")("bold",function(createHTML){return function(){return createHTML(this,"b","","")}})},{"./_string-html":208}],334:[function(require,module,exports){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!1);$export($export.P,"String",{codePointAt:function(pos){return $at(this,pos)}})},{"./_export":141,"./_string-at":206}],335:[function(require,module,exports){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),$endsWith="".endsWith;$export($export.P+$export.F*require("./_fails-is-regexp")("endsWith"),"String",{endsWith:function(searchString){var that=context(this,searchString,"endsWith"),endPosition=arguments.length>1?arguments[1]:undefined,len=toLength(that.length),end=endPosition===undefined?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},{"./_export":141,"./_fails-is-regexp":142,"./_string-context":207,"./_to-length":217}],336:[function(require,module,exports){"use strict";require("./_string-html")("fixed",function(createHTML){return function(){return createHTML(this,"tt","","")}})},{"./_string-html":208}],337:[function(require,module,exports){"use strict";require("./_string-html")("fontcolor",function(createHTML){return function(color){return createHTML(this,"font","color",color)}})},{"./_string-html":208}],338:[function(require,module,exports){"use strict";require("./_string-html")("fontsize",function(createHTML){return function(size){return createHTML(this,"font","size",size)}})},{"./_string-html":208}],339:[function(require,module,exports){"use strict";var $export=require("./_export"),toIndex=require("./_to-index"),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(x){for(var code,res=[],aLen=arguments.length,i=0;aLen>i;){if(code=+arguments[i++],toIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320))}return res.join("")}})},{"./_export":141,"./_to-index":214}],340:[function(require,module,exports){"use strict";var $export=require("./_export"),context=require("./_string-context");$export($export.P+$export.F*require("./_fails-is-regexp")("includes"),"String",{includes:function(searchString){return!!~context(this,searchString,"includes").indexOf(searchString,arguments.length>1?arguments[1]:undefined)}})},{"./_export":141,"./_fails-is-regexp":142,"./_string-context":207}],341:[function(require,module,exports){"use strict";require("./_string-html")("italics",function(createHTML){return function(){return createHTML(this,"i","","")}})},{"./_string-html":208}],342:[function(require,module,exports){"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:undefined,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},{"./_iter-define":162,"./_string-at":206}],343:[function(require,module,exports){"use strict";require("./_string-html")("link",function(createHTML){return function(url){return createHTML(this,"a","href",url)}})},{"./_string-html":208}],344:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),toLength=require("./_to-length");$export($export.S,"String",{raw:function(callSite){for(var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;len>i;)res.push(String(tpl[i++])),i<aLen&&res.push(String(arguments[i]));return res.join("")}})},{"./_export":141,"./_to-iobject":216,"./_to-length":217}],345:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.P,"String",{repeat:require("./_string-repeat")})},{"./_export":141,"./_string-repeat":210}],346:[function(require,module,exports){"use strict";require("./_string-html")("small",function(createHTML){return function(){return createHTML(this,"small","","")}})},{"./_string-html":208}],347:[function(require,module,exports){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),$startsWith="".startsWith;$export($export.P+$export.F*require("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(searchString){var that=context(this,searchString,"startsWith"),index=toLength(Math.min(arguments.length>1?arguments[1]:undefined,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},{"./_export":141,"./_fails-is-regexp":142,"./_string-context":207,"./_to-length":217}],348:[function(require,module,exports){"use strict";require("./_string-html")("strike",function(createHTML){return function(){return createHTML(this,"strike","","")}})},{"./_string-html":208}],349:[function(require,module,exports){"use strict";require("./_string-html")("sub",function(createHTML){return function(){return createHTML(this,"sub","","")}})},{"./_string-html":208}],350:[function(require,module,exports){"use strict";require("./_string-html")("sup",function(createHTML){return function(){return createHTML(this,"sup","","")}})},{"./_string-html":208}],351:[function(require,module,exports){"use strict";require("./_string-trim")("trim",function($trim){return function(){return $trim(this,3)}})},{"./_string-trim":211}],352:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},global=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),keyOf=require("./_keyof"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==_typeof($Symbol.iterator)?function(it){return"symbol"==(void 0===it?"undefined":_typeof(it))}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return P===undefined?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:undefined),$set=function $set(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;symbols.length>i;)wks(symbols[i++]);for(var symbols=$keys(wks.store),i=0;symbols.length>i;)wksDefine(symbols[i++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(key){if(isSymbol(key))return keyOf(SymbolRegistry,key);throw TypeError(key+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){if(it!==undefined&&!isSymbol(it)){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return"function"==typeof(replacer=args[1])&&($replacer=replacer),!$replacer&&isArray(replacer)||(replacer=function(key,value){if($replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}}),$Symbol.prototype[TO_PRIMITIVE]||require("./_hide")($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},{"./_an-object":116,"./_descriptors":137,"./_enum-keys":140,"./_export":141,"./_fails":143,"./_global":147,"./_has":148,"./_hide":149,"./_is-array":156,"./_keyof":166,"./_library":167,"./_meta":171,"./_object-create":175,"./_object-dp":176,"./_object-gopd":179,"./_object-gopn":181,"./_object-gopn-ext":180,"./_object-gops":182,"./_object-keys":185,"./_object-pie":186,"./_property-desc":194,"./_redefine":196,"./_set-to-string-tag":201,"./_shared":203,"./_to-iobject":216,"./_to-primitive":219,"./_uid":223,"./_wks":226,"./_wks-define":224,"./_wks-ext":225}],353:[function(require,module,exports){"use strict";var $export=require("./_export"),$typed=require("./_typed"),buffer=require("./_typed-buffer"),anObject=require("./_an-object"),toIndex=require("./_to-index"),toLength=require("./_to-length"),isObject=require("./_is-object"),ArrayBuffer=require("./_global").ArrayBuffer,speciesConstructor=require("./_species-constructor"),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW;$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,"ArrayBuffer",{isView:function(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}}),$export($export.P+$export.U+$export.F*require("./_fails")(function(){return!new $ArrayBuffer(2).slice(1,undefined).byteLength}),"ArrayBuffer",{slice:function(start,end){if($slice!==undefined&&end===undefined)return $slice.call(anObject(this),start);for(var len=anObject(this).byteLength,first=toIndex(start,len),final=toIndex(end===undefined?len:end,len),result=new(speciesConstructor(this,$ArrayBuffer))(toLength(final-first)),viewS=new $DataView(this),viewT=new $DataView(result),index=0;first<final;)viewT.setUint8(index++,viewS.getUint8(first++));return result}}),require("./_set-species")("ArrayBuffer")},{"./_an-object":116,"./_export":141,"./_fails":143,"./_global":147,"./_is-object":158,"./_set-species":200,"./_species-constructor":204,"./_to-index":214,"./_to-length":217,"./_typed":222,"./_typed-buffer":221}],354:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.G+$export.W+$export.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView})},{"./_export":141,"./_typed":222,"./_typed-buffer":221}],355:[function(require,module,exports){"use strict";require("./_typed-array")("Float32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],356:[function(require,module,exports){"use strict";require("./_typed-array")("Float64",8,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],357:[function(require,module,exports){"use strict";require("./_typed-array")("Int16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],358:[function(require,module,exports){"use strict";require("./_typed-array")("Int32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],359:[function(require,module,exports){"use strict";require("./_typed-array")("Int8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],360:[function(require,module,exports){"use strict";require("./_typed-array")("Uint16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],361:[function(require,module,exports){"use strict";require("./_typed-array")("Uint32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],362:[function(require,module,exports){"use strict";require("./_typed-array")("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":220}],363:[function(require,module,exports){"use strict";require("./_typed-array")("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}},!0)},{"./_typed-array":220}],364:[function(require,module,exports){"use strict";var InternalMap,each=require("./_array-methods")(0),redefine=require("./_redefine"),meta=require("./_meta"),assign=require("./_object-assign"),weak=require("./_collection-weak"),isObject=require("./_is-object"),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},wrapper=function(get){return function(){return get(this,arguments.length>0?arguments[0]:undefined)}},methods={get:function(key){if(isObject(key)){var data=getWeak(key);return!0===data?uncaughtFrozenStore(this).get(key):data?data[this._i]:undefined}},set:function(key,value){return weak.def(this,key,value)}},$WeakMap=module.exports=require("./_collection")("WeakMap",wrapper,methods,weak,!0,!0);7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)&&(assign((InternalMap=weak.getConstructor(wrapper)).prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))},{"./_array-methods":121,"./_collection":131,"./_collection-weak":130,"./_is-object":158,"./_meta":171,"./_object-assign":174,"./_redefine":196}],365:[function(require,module,exports){"use strict";var weak=require("./_collection-weak");require("./_collection")("WeakSet",function(get){return function(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function(value){return weak.def(this,value,!0)}},weak,!1,!0)},{"./_collection":131,"./_collection-weak":130}],366:[function(require,module,exports){"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}}),require("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":114,"./_array-includes":120,"./_export":141}],367:[function(require,module,exports){"use strict";var $export=require("./_export"),microtask=require("./_microtask")(),process=require("./_global").process,isNode="process"==require("./_cof")(process);$export($export.G,{asap:function(fn){var domain=isNode&&process.domain;microtask(domain?domain.bind(fn):fn)}})},{"./_cof":127,"./_export":141,"./_global":147,"./_microtask":173}],368:[function(require,module,exports){"use strict";var $export=require("./_export"),cof=require("./_cof");$export($export.S,"Error",{isError:function(it){return"Error"===cof(it)}})},{"./_cof":127,"./_export":141}],369:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.P+$export.R,"Map",{toJSON:require("./_collection-to-json")("Map")})},{"./_collection-to-json":129,"./_export":141}],370:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{iaddh:function(x0,x1,y0,y1){var $x0=x0>>>0,$y0=y0>>>0;return(x1>>>0)+(y1>>>0)+(($x0&$y0|($x0|$y0)&~($x0+$y0>>>0))>>>31)|0}})},{"./_export":141}],371:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{imulh:function(u,v){var $u=+u,$v=+v,u0=65535&$u,v0=65535&$v,u1=$u>>16,v1=$v>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>16)+((u0*v1>>>0)+(65535&t)>>16)}})},{"./_export":141}],372:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{isubh:function(x0,x1,y0,y1){var $x0=x0>>>0,$y0=y0>>>0;return(x1>>>0)-(y1>>>0)-((~$x0&$y0|~($x0^$y0)&$x0-$y0>>>0)>>>31)|0}})},{"./_export":141}],373:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"Math",{umulh:function(u,v){var $u=+u,$v=+v,u0=65535&$u,v0=65535&$v,u1=$u>>>16,v1=$v>>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>>16)+((u0*v1>>>0)+(65535&t)>>>16)}})},{"./_export":141}],374:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineGetter__:function(P,getter){$defineProperty.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})},{"./_a-function":112,"./_descriptors":137,"./_export":141,"./_object-dp":176,"./_object-forced-pam":178,"./_to-object":218}],375:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineSetter__:function(P,setter){$defineProperty.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})},{"./_a-function":112,"./_descriptors":137,"./_export":141,"./_object-dp":176,"./_object-forced-pam":178,"./_to-object":218}],376:[function(require,module,exports){"use strict";var $export=require("./_export"),$entries=require("./_object-to-array")(!0);$export($export.S,"Object",{entries:function(it){return $entries(it)}})},{"./_export":141,"./_object-to-array":188}],377:[function(require,module,exports){"use strict";var $export=require("./_export"),ownKeys=require("./_own-keys"),toIObject=require("./_to-iobject"),gOPD=require("./_object-gopd"),createProperty=require("./_create-property");$export($export.S,"Object",{getOwnPropertyDescriptors:function(object){for(var key,O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0;keys.length>i;)createProperty(result,key=keys[i++],getDesc(O,key));return result}})},{"./_create-property":133,"./_export":141,"./_object-gopd":179,"./_own-keys":189,"./_to-iobject":216}],378:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupGetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do{if(D=getOwnPropertyDescriptor(O,K))return D.get}while(O=getPrototypeOf(O))}})},{"./_descriptors":137,"./_export":141,"./_object-forced-pam":178,"./_object-gopd":179,"./_object-gpo":183,"./_to-object":218,"./_to-primitive":219}],379:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupSetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do{if(D=getOwnPropertyDescriptor(O,K))return D.set}while(O=getPrototypeOf(O))}})},{"./_descriptors":137,"./_export":141,"./_object-forced-pam":178,"./_object-gopd":179,"./_object-gpo":183,"./_to-object":218,"./_to-primitive":219}],380:[function(require,module,exports){"use strict";var $export=require("./_export"),$values=require("./_object-to-array")(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})},{"./_export":141,"./_object-to-array":188}],381:[function(require,module,exports){"use strict";var $export=require("./_export"),global=require("./_global"),core=require("./_core"),microtask=require("./_microtask")(),OBSERVABLE=require("./_wks")("observable"),aFunction=require("./_a-function"),anObject=require("./_an-object"),anInstance=require("./_an-instance"),redefineAll=require("./_redefine-all"),hide=require("./_hide"),forOf=require("./_for-of"),RETURN=forOf.RETURN,getMethod=function(fn){return null==fn?undefined:aFunction(fn)},cleanupSubscription=function(subscription){var cleanup=subscription._c;cleanup&&(subscription._c=undefined,cleanup())},subscriptionClosed=function(subscription){return subscription._o===undefined},closeSubscription=function(subscription){subscriptionClosed(subscription)||(subscription._o=undefined,cleanupSubscription(subscription))},Subscription=function(observer,subscriber){anObject(observer),this._c=undefined,this._o=observer,observer=new SubscriptionObserver(this);try{var cleanup=subscriber(observer),subscription=cleanup;null!=cleanup&&("function"==typeof cleanup.unsubscribe?cleanup=function(){subscription.unsubscribe()}:aFunction(cleanup),this._c=cleanup)}catch(e){return void observer.error(e)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function(){closeSubscription(this)}});var SubscriptionObserver=function(subscription){this._s=subscription};SubscriptionObserver.prototype=redefineAll({},{next:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;try{var m=getMethod(observer.next);if(m)return m.call(observer,value)}catch(e){try{closeSubscription(subscription)}finally{throw e}}}},error:function(value){var subscription=this._s;if(subscriptionClosed(subscription))throw value;var observer=subscription._o;subscription._o=undefined;try{var m=getMethod(observer.error);if(!m)throw value;value=m.call(observer,value)}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value},complete:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;subscription._o=undefined;try{var m=getMethod(observer.complete);value=m?m.call(observer,value):undefined}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value}}});var $Observable=function(subscriber){anInstance(this,$Observable,"Observable","_f")._f=aFunction(subscriber)};redefineAll($Observable.prototype,{subscribe:function(observer){return new Subscription(observer,this._f)},forEach:function(fn){var that=this;return new(core.Promise||global.Promise)(function(resolve,reject){aFunction(fn);var subscription=that.subscribe({next:function(value){try{return fn(value)}catch(e){reject(e),subscription.unsubscribe()}},error:reject,complete:resolve})})}}),redefineAll($Observable,{from:function(x){var C="function"==typeof this?this:$Observable,method=getMethod(anObject(x)[OBSERVABLE]);if(method){var observable=anObject(method.call(x));return observable.constructor===C?observable:new C(function(observer){return observable.subscribe(observer)})}return new C(function(observer){var done=!1;return microtask(function(){if(!done){try{if(forOf(x,!1,function(it){if(observer.next(it),done)return RETURN})===RETURN)return}catch(e){if(done)throw e;return void observer.error(e)}observer.complete()}}),function(){done=!0}})},of:function(){for(var i=0,l=arguments.length,items=Array(l);i<l;)items[i]=arguments[i++];return new("function"==typeof this?this:$Observable)(function(observer){var done=!1;return microtask(function(){if(!done){for(var i=0;i<items.length;++i)if(observer.next(items[i]),done)return;observer.complete()}}),function(){done=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),require("./_set-species")("Observable")},{"./_a-function":112,"./_an-instance":115,"./_an-object":116,"./_core":132,"./_export":141,"./_for-of":146,"./_global":147,"./_hide":149,"./_microtask":173,"./_redefine-all":195,"./_set-species":200,"./_wks":226}],382:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function(metadataKey,metadataValue,target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,anObject(target),toMetaKey(targetKey))}})},{"./_an-object":116,"./_metadata":172}],383:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function(metadataKey,target){var targetKey=arguments.length<3?undefined:toMetaKey(arguments[2]),metadataMap=getOrCreateMetadataMap(anObject(target),targetKey,!1);if(metadataMap===undefined||!metadataMap["delete"](metadataKey))return!1;if(metadataMap.size)return!0;var targetMetadata=store.get(target);return targetMetadata["delete"](targetKey),!!targetMetadata.size||store["delete"](target)}})},{"./_an-object":116,"./_metadata":172}],384:[function(require,module,exports){"use strict";var Set=require("./es6.set"),from=require("./_array-from-iterable"),metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function ordinaryMetadataKeys(O,P){var oKeys=ordinaryOwnMetadataKeys(O,P),parent=getPrototypeOf(O);if(null===parent)return oKeys;var pKeys=ordinaryMetadataKeys(parent,P);return pKeys.length?oKeys.length?from(new Set(oKeys.concat(pKeys))):pKeys:oKeys};metadata.exp({getMetadataKeys:function(target){return ordinaryMetadataKeys(anObject(target),arguments.length<2?undefined:toMetaKey(arguments[1]))}})},{"./_an-object":116,"./_array-from-iterable":119,"./_metadata":172,"./_object-gpo":183,"./es6.set":329}],385:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function ordinaryGetMetadata(MetadataKey,O,P){if(ordinaryHasOwnMetadata(MetadataKey,O,P))return ordinaryGetOwnMetadata(MetadataKey,O,P);var parent=getPrototypeOf(O);return null!==parent?ordinaryGetMetadata(MetadataKey,parent,P):undefined};metadata.exp({getMetadata:function(metadataKey,target){return ordinaryGetMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":116,"./_metadata":172,"./_object-gpo":183}],386:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function(target){return ordinaryOwnMetadataKeys(anObject(target),arguments.length<2?undefined:toMetaKey(arguments[1]))}})},{"./_an-object":116,"./_metadata":172}],387:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function(metadataKey,target){return ordinaryGetOwnMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":116,"./_metadata":172}],388:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function ordinaryHasMetadata(MetadataKey,O,P){if(ordinaryHasOwnMetadata(MetadataKey,O,P))return!0;var parent=getPrototypeOf(O);return null!==parent&&ordinaryHasMetadata(MetadataKey,parent,P)};metadata.exp({hasMetadata:function(metadataKey,target){return ordinaryHasMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":116,"./_metadata":172,"./_object-gpo":183}],389:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function(metadataKey,target){return ordinaryHasOwnMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":116,"./_metadata":172}],390:[function(require,module,exports){"use strict";var metadata=require("./_metadata"),anObject=require("./_an-object"),aFunction=require("./_a-function"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({metadata:function(metadataKey,metadataValue){return function(target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,(targetKey!==undefined?anObject:aFunction)(target),toMetaKey(targetKey))}}})},{"./_a-function":112,"./_an-object":116,"./_metadata":172}],391:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.P+$export.R,"Set",{toJSON:require("./_collection-to-json")("Set")})},{"./_collection-to-json":129,"./_export":141}],392:[function(require,module,exports){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!0);$export($export.P,"String",{at:function(pos){return $at(this,pos)}})},{"./_export":141,"./_string-at":206}],393:[function(require,module,exports){"use strict";var $export=require("./_export"),defined=require("./_defined"),toLength=require("./_to-length"),isRegExp=require("./_is-regexp"),getFlags=require("./_flags"),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(regexp,string){this._r=regexp,this._s=string};require("./_iter-create")($RegExpStringIterator,"RegExp String",function(){var match=this._r.exec(this._s);return{value:match,done:null===match}}),$export($export.P,"String",{matchAll:function(regexp){if(defined(this),!isRegExp(regexp))throw TypeError(regexp+" is not a regexp!");var S=String(this),flags="flags"in RegExpProto?String(regexp.flags):getFlags.call(regexp),rx=new RegExp(regexp.source,~flags.indexOf("g")?flags:"g"+flags);return rx.lastIndex=toLength(regexp.lastIndex),new $RegExpStringIterator(rx,S)}})},{"./_defined":136,"./_export":141,"./_flags":145,"./_is-regexp":159,"./_iter-create":161,"./_to-length":217}],394:[function(require,module,exports){"use strict";var $export=require("./_export"),$pad=require("./_string-pad");$export($export.P,"String",{padEnd:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,!1)}})},{"./_export":141,"./_string-pad":209}],395:[function(require,module,exports){"use strict";var $export=require("./_export"),$pad=require("./_string-pad");$export($export.P,"String",{padStart:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,!0)}})},{"./_export":141,"./_string-pad":209}],396:[function(require,module,exports){"use strict";require("./_string-trim")("trimLeft",function($trim){return function(){return $trim(this,1)}},"trimStart")},{"./_string-trim":211}],397:[function(require,module,exports){"use strict";require("./_string-trim")("trimRight",function($trim){return function(){return $trim(this,2)}},"trimEnd")},{"./_string-trim":211}],398:[function(require,module,exports){"use strict";require("./_wks-define")("asyncIterator")},{"./_wks-define":224}],399:[function(require,module,exports){"use strict";require("./_wks-define")("observable")},{"./_wks-define":224}],400:[function(require,module,exports){"use strict";var $export=require("./_export");$export($export.S,"System",{global:require("./_global")})},{"./_export":141,"./_global":147}],401:[function(require,module,exports){"use strict";for(var $iterators=require("./es6.array.iterator"),redefine=require("./_redefine"),global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var key,NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto){proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues;for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}},{"./_global":147,"./_hide":149,"./_iterators":165,"./_redefine":196,"./_wks":226,"./es6.array.iterator":239}],402:[function(require,module,exports){"use strict";var $export=require("./_export"),$task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},{"./_export":141,"./_task":213}],403:[function(require,module,exports){"use strict";var global=require("./_global"),$export=require("./_export"),invoke=require("./_invoke"),partial=require("./_partial"),navigator=global.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent),wrap=function(set){return MSIE?function(fn,time){return set(invoke(partial,[].slice.call(arguments,2),"function"==typeof fn?fn:Function(fn)),time)}:set};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},{"./_export":141,"./_global":147,"./_invoke":153,"./_partial":192}],404:[function(require,module,exports){"use strict";require("./modules/es6.symbol"),require("./modules/es6.object.create"),require("./modules/es6.object.define-property"),require("./modules/es6.object.define-properties"),require("./modules/es6.object.get-own-property-descriptor"),require("./modules/es6.object.get-prototype-of"),require("./modules/es6.object.keys"),require("./modules/es6.object.get-own-property-names"),require("./modules/es6.object.freeze"),require("./modules/es6.object.seal"),require("./modules/es6.object.prevent-extensions"),require("./modules/es6.object.is-frozen"),require("./modules/es6.object.is-sealed"),require("./modules/es6.object.is-extensible"),require("./modules/es6.object.assign"),require("./modules/es6.object.is"),require("./modules/es6.object.set-prototype-of"),require("./modules/es6.object.to-string"),require("./modules/es6.function.bind"),require("./modules/es6.function.name"),require("./modules/es6.function.has-instance"),require("./modules/es6.parse-int"),require("./modules/es6.parse-float"),require("./modules/es6.number.constructor"),require("./modules/es6.number.to-fixed"),require("./modules/es6.number.to-precision"),require("./modules/es6.number.epsilon"),require("./modules/es6.number.is-finite"),require("./modules/es6.number.is-integer"),require("./modules/es6.number.is-nan"),require("./modules/es6.number.is-safe-integer"),require("./modules/es6.number.max-safe-integer"),require("./modules/es6.number.min-safe-integer"),require("./modules/es6.number.parse-float"),require("./modules/es6.number.parse-int"),require("./modules/es6.math.acosh"),require("./modules/es6.math.asinh"),require("./modules/es6.math.atanh"),require("./modules/es6.math.cbrt"),require("./modules/es6.math.clz32"),require("./modules/es6.math.cosh"),require("./modules/es6.math.expm1"),require("./modules/es6.math.fround"),require("./modules/es6.math.hypot"),require("./modules/es6.math.imul"),require("./modules/es6.math.log10"),require("./modules/es6.math.log1p"),require("./modules/es6.math.log2"),require("./modules/es6.math.sign"),require("./modules/es6.math.sinh"),require("./modules/es6.math.tanh"),require("./modules/es6.math.trunc"),require("./modules/es6.string.from-code-point"),require("./modules/es6.string.raw"),require("./modules/es6.string.trim"),require("./modules/es6.string.iterator"),require("./modules/es6.string.code-point-at"),require("./modules/es6.string.ends-with"),require("./modules/es6.string.includes"),require("./modules/es6.string.repeat"),require("./modules/es6.string.starts-with"),require("./modules/es6.string.anchor"),require("./modules/es6.string.big"),require("./modules/es6.string.blink"),require("./modules/es6.string.bold"),require("./modules/es6.string.fixed"),require("./modules/es6.string.fontcolor"),require("./modules/es6.string.fontsize"),require("./modules/es6.string.italics"),require("./modules/es6.string.link"),require("./modules/es6.string.small"),require("./modules/es6.string.strike"),require("./modules/es6.string.sub"),require("./modules/es6.string.sup"),require("./modules/es6.date.now"),require("./modules/es6.date.to-json"),require("./modules/es6.date.to-iso-string"),require("./modules/es6.date.to-string"),require("./modules/es6.date.to-primitive"),require("./modules/es6.array.is-array"),require("./modules/es6.array.from"),require("./modules/es6.array.of"),require("./modules/es6.array.join"),require("./modules/es6.array.slice"),require("./modules/es6.array.sort"),require("./modules/es6.array.for-each"),require("./modules/es6.array.map"),require("./modules/es6.array.filter"),require("./modules/es6.array.some"),require("./modules/es6.array.every"),require("./modules/es6.array.reduce"),require("./modules/es6.array.reduce-right"),require("./modules/es6.array.index-of"),require("./modules/es6.array.last-index-of"),require("./modules/es6.array.copy-within"),require("./modules/es6.array.fill"),require("./modules/es6.array.find"),require("./modules/es6.array.find-index"),require("./modules/es6.array.species"),require("./modules/es6.array.iterator"),require("./modules/es6.regexp.constructor"),require("./modules/es6.regexp.to-string"),require("./modules/es6.regexp.flags"),require("./modules/es6.regexp.match"),require("./modules/es6.regexp.replace"),require("./modules/es6.regexp.search"),require("./modules/es6.regexp.split"),require("./modules/es6.promise"),require("./modules/es6.map"),require("./modules/es6.set"),require("./modules/es6.weak-map"),require("./modules/es6.weak-set"),require("./modules/es6.typed.array-buffer"),require("./modules/es6.typed.data-view"),require("./modules/es6.typed.int8-array"),require("./modules/es6.typed.uint8-array"),require("./modules/es6.typed.uint8-clamped-array"),require("./modules/es6.typed.int16-array"),require("./modules/es6.typed.uint16-array"),require("./modules/es6.typed.int32-array"),require("./modules/es6.typed.uint32-array"),require("./modules/es6.typed.float32-array"),require("./modules/es6.typed.float64-array"),require("./modules/es6.reflect.apply"),require("./modules/es6.reflect.construct"),require("./modules/es6.reflect.define-property"),require("./modules/es6.reflect.delete-property"),require("./modules/es6.reflect.enumerate"),require("./modules/es6.reflect.get"),require("./modules/es6.reflect.get-own-property-descriptor"),require("./modules/es6.reflect.get-prototype-of"),require("./modules/es6.reflect.has"),require("./modules/es6.reflect.is-extensible"),require("./modules/es6.reflect.own-keys"),require("./modules/es6.reflect.prevent-extensions"),require("./modules/es6.reflect.set"),require("./modules/es6.reflect.set-prototype-of"),require("./modules/es7.array.includes"),require("./modules/es7.string.at"),require("./modules/es7.string.pad-start"),require("./modules/es7.string.pad-end"),require("./modules/es7.string.trim-left"),require("./modules/es7.string.trim-right"),require("./modules/es7.string.match-all"),require("./modules/es7.symbol.async-iterator"),require("./modules/es7.symbol.observable"),require("./modules/es7.object.get-own-property-descriptors"),require("./modules/es7.object.values"),require("./modules/es7.object.entries"),require("./modules/es7.object.define-getter"),require("./modules/es7.object.define-setter"),require("./modules/es7.object.lookup-getter"),require("./modules/es7.object.lookup-setter"),require("./modules/es7.map.to-json"),require("./modules/es7.set.to-json"),require("./modules/es7.system.global"),require("./modules/es7.error.is-error"),require("./modules/es7.math.iaddh"),require("./modules/es7.math.isubh"),require("./modules/es7.math.imulh"),require("./modules/es7.math.umulh"),require("./modules/es7.reflect.define-metadata"),require("./modules/es7.reflect.delete-metadata"),require("./modules/es7.reflect.get-metadata"),require("./modules/es7.reflect.get-metadata-keys"),require("./modules/es7.reflect.get-own-metadata"),require("./modules/es7.reflect.get-own-metadata-keys"),require("./modules/es7.reflect.has-metadata"),require("./modules/es7.reflect.has-own-metadata"),require("./modules/es7.reflect.metadata"),require("./modules/es7.asap"),require("./modules/es7.observable"),require("./modules/web.timers"),require("./modules/web.immediate"),require("./modules/web.dom.iterable"),module.exports=require("./modules/_core")},{"./modules/_core":132,"./modules/es6.array.copy-within":229,"./modules/es6.array.every":230,"./modules/es6.array.fill":231,"./modules/es6.array.filter":232,"./modules/es6.array.find":234,"./modules/es6.array.find-index":233,"./modules/es6.array.for-each":235,"./modules/es6.array.from":236,"./modules/es6.array.index-of":237,"./modules/es6.array.is-array":238,"./modules/es6.array.iterator":239,"./modules/es6.array.join":240,"./modules/es6.array.last-index-of":241,"./modules/es6.array.map":242,"./modules/es6.array.of":243,"./modules/es6.array.reduce":245,"./modules/es6.array.reduce-right":244,"./modules/es6.array.slice":246,"./modules/es6.array.some":247,"./modules/es6.array.sort":248,"./modules/es6.array.species":249,"./modules/es6.date.now":250,"./modules/es6.date.to-iso-string":251,"./modules/es6.date.to-json":252,"./modules/es6.date.to-primitive":253,"./modules/es6.date.to-string":254,"./modules/es6.function.bind":255,"./modules/es6.function.has-instance":256,"./modules/es6.function.name":257,"./modules/es6.map":258,"./modules/es6.math.acosh":259,"./modules/es6.math.asinh":260,"./modules/es6.math.atanh":261,"./modules/es6.math.cbrt":262,"./modules/es6.math.clz32":263,"./modules/es6.math.cosh":264,"./modules/es6.math.expm1":265,"./modules/es6.math.fround":266,"./modules/es6.math.hypot":267,"./modules/es6.math.imul":268,"./modules/es6.math.log10":269,"./modules/es6.math.log1p":270,"./modules/es6.math.log2":271,"./modules/es6.math.sign":272,"./modules/es6.math.sinh":273,"./modules/es6.math.tanh":274,"./modules/es6.math.trunc":275,"./modules/es6.number.constructor":276,"./modules/es6.number.epsilon":277,"./modules/es6.number.is-finite":278,"./modules/es6.number.is-integer":279,"./modules/es6.number.is-nan":280,"./modules/es6.number.is-safe-integer":281,"./modules/es6.number.max-safe-integer":282,"./modules/es6.number.min-safe-integer":283,"./modules/es6.number.parse-float":284,"./modules/es6.number.parse-int":285,"./modules/es6.number.to-fixed":286,"./modules/es6.number.to-precision":287,"./modules/es6.object.assign":288,"./modules/es6.object.create":289,"./modules/es6.object.define-properties":290,"./modules/es6.object.define-property":291,"./modules/es6.object.freeze":292,"./modules/es6.object.get-own-property-descriptor":293,"./modules/es6.object.get-own-property-names":294,"./modules/es6.object.get-prototype-of":295,"./modules/es6.object.is":299,"./modules/es6.object.is-extensible":296,"./modules/es6.object.is-frozen":297,"./modules/es6.object.is-sealed":298,"./modules/es6.object.keys":300,"./modules/es6.object.prevent-extensions":301,"./modules/es6.object.seal":302,"./modules/es6.object.set-prototype-of":303,"./modules/es6.object.to-string":304,"./modules/es6.parse-float":305,"./modules/es6.parse-int":306,"./modules/es6.promise":307,"./modules/es6.reflect.apply":308,"./modules/es6.reflect.construct":309,"./modules/es6.reflect.define-property":310,"./modules/es6.reflect.delete-property":311,"./modules/es6.reflect.enumerate":312,"./modules/es6.reflect.get":315,"./modules/es6.reflect.get-own-property-descriptor":313,"./modules/es6.reflect.get-prototype-of":314,"./modules/es6.reflect.has":316,"./modules/es6.reflect.is-extensible":317,"./modules/es6.reflect.own-keys":318,"./modules/es6.reflect.prevent-extensions":319,"./modules/es6.reflect.set":321,"./modules/es6.reflect.set-prototype-of":320,"./modules/es6.regexp.constructor":322,"./modules/es6.regexp.flags":323,"./modules/es6.regexp.match":324,"./modules/es6.regexp.replace":325,"./modules/es6.regexp.search":326,"./modules/es6.regexp.split":327,"./modules/es6.regexp.to-string":328,"./modules/es6.set":329,"./modules/es6.string.anchor":330,"./modules/es6.string.big":331,"./modules/es6.string.blink":332,"./modules/es6.string.bold":333,"./modules/es6.string.code-point-at":334,"./modules/es6.string.ends-with":335,"./modules/es6.string.fixed":336,"./modules/es6.string.fontcolor":337,"./modules/es6.string.fontsize":338,"./modules/es6.string.from-code-point":339,"./modules/es6.string.includes":340,"./modules/es6.string.italics":341,"./modules/es6.string.iterator":342,"./modules/es6.string.link":343,"./modules/es6.string.raw":344,"./modules/es6.string.repeat":345,"./modules/es6.string.small":346,"./modules/es6.string.starts-with":347,"./modules/es6.string.strike":348,"./modules/es6.string.sub":349,"./modules/es6.string.sup":350,"./modules/es6.string.trim":351,"./modules/es6.symbol":352,"./modules/es6.typed.array-buffer":353,"./modules/es6.typed.data-view":354,"./modules/es6.typed.float32-array":355,"./modules/es6.typed.float64-array":356,"./modules/es6.typed.int16-array":357,"./modules/es6.typed.int32-array":358,"./modules/es6.typed.int8-array":359,"./modules/es6.typed.uint16-array":360,"./modules/es6.typed.uint32-array":361,"./modules/es6.typed.uint8-array":362,"./modules/es6.typed.uint8-clamped-array":363,"./modules/es6.weak-map":364,"./modules/es6.weak-set":365,"./modules/es7.array.includes":366,"./modules/es7.asap":367,"./modules/es7.error.is-error":368,"./modules/es7.map.to-json":369,"./modules/es7.math.iaddh":370,"./modules/es7.math.imulh":371,"./modules/es7.math.isubh":372,"./modules/es7.math.umulh":373,"./modules/es7.object.define-getter":374,"./modules/es7.object.define-setter":375,"./modules/es7.object.entries":376,"./modules/es7.object.get-own-property-descriptors":377,"./modules/es7.object.lookup-getter":378,"./modules/es7.object.lookup-setter":379,"./modules/es7.object.values":380,"./modules/es7.observable":381,"./modules/es7.reflect.define-metadata":382,"./modules/es7.reflect.delete-metadata":383,"./modules/es7.reflect.get-metadata":385,"./modules/es7.reflect.get-metadata-keys":384,"./modules/es7.reflect.get-own-metadata":387,"./modules/es7.reflect.get-own-metadata-keys":386,"./modules/es7.reflect.has-metadata":388,"./modules/es7.reflect.has-own-metadata":389,"./modules/es7.reflect.metadata":390,"./modules/es7.set.to-json":391,"./modules/es7.string.at":392,"./modules/es7.string.match-all":393,"./modules/es7.string.pad-end":394,"./modules/es7.string.pad-start":395,"./modules/es7.string.trim-left":396,"./modules/es7.string.trim-right":397,"./modules/es7.symbol.async-iterator":398,"./modules/es7.symbol.observable":399,"./modules/es7.system.global":400,"./modules/web.dom.iterable":401,"./modules/web.immediate":402,"./modules/web.timers":403}],405:[function(require,module,exports){(function(Buffer){"use strict";function isArray(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"===(void 0===arg?"undefined":_typeof(arg))}function isUndefined(arg){return void 0===arg}function isRegExp(re){return"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"===(void 0===arg?"undefined":_typeof(arg))&&null!==arg}function isDate(d){return"[object Date]"===objectToString(d)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"===(void 0===arg?"undefined":_typeof(arg))||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":488}],406:[function(require,module,exports){(function(Buffer){"use strict";function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(bn,enc,len){Array.isArray(bn)||(bn=bn.toArray());var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0),buf=Buffer.concat([zeros,buf])}return enc?buf.toString(enc):buf}var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){return inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc)),formatReturnValue(this.curve.keyFromPublic(other).getPublic().mul(this.keys.getPrivate()).getX(),enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[key.length-1]%2?key[0]=7:key[0]=6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this.keys._importPublic(pub),this},ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc));var _priv=new BN(priv);return _priv=_priv.toString(16),this.keys._importPrivate(_priv),this}}).call(this,require("buffer").Buffer)},{"bn.js":71,buffer:105,elliptic:427}],407:[function(require,module,exports){(function(Buffer){"use strict";function HashNoConstructor(hash){Base.call(this,"digest"),this._hash=hash,this.buffers=[]}function Hash(hash){Base.call(this,"digest"),this._hash=hash}var inherits=require("inherits"),md5=require("./md5"),rmd160=require("ripemd160"),sha=require("sha.js"),Base=require("cipher-base");inherits(HashNoConstructor,Base),HashNoConstructor.prototype._update=function(data){this.buffers.push(data)},HashNoConstructor.prototype._final=function(){var buf=Buffer.concat(this.buffers),r=this._hash(buf);return this.buffers=null,r},inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(alg){return alg=alg.toLowerCase(),"md5"===alg?new HashNoConstructor(md5):"rmd160"===alg||"ripemd160"===alg?new HashNoConstructor(rmd160):new Hash(sha(alg))}}).call(this,require("buffer").Buffer)},{"./md5":409,buffer:105,"cipher-base":107,inherits:487,ripemd160:576,"sha.js":579}],408:[function(require,module,exports){(function(Buffer){"use strict";function toArray(buf,bigEndian){if(buf.length%intSize!=0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){return Buffer.isBuffer(buf)||(buf=new Buffer(buf)),toBuffer(fn(toArray(buf,bigEndian),buf.length*chrsz),hashSize,bigEndian)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash}).call(this,require("buffer").Buffer)},{buffer:105}],409:[function(require,module,exports){"use strict";function core_md5(x,len){x[len>>5]|=128<<len%32,x[14+(len+64>>>9<<4)]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;b=md5_ii(b=md5_ii(b=md5_ii(b=md5_ii(b=md5_hh(b=md5_hh(b=md5_hh(b=md5_hh(b=md5_gg(b=md5_gg(b=md5_gg(b=md5_gg(b=md5_ff(b=md5_ff(b=md5_ff(b=md5_ff(b,c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+0],7,-680876936),b,c,x[i+1],12,-389564586),a,b,x[i+2],17,606105819),d,a,x[i+3],22,-1044525330),c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+4],7,-176418897),b,c,x[i+5],12,1200080426),a,b,x[i+6],17,-1473231341),d,a,x[i+7],22,-45705983),c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+8],7,1770035416),b,c,x[i+9],12,-1958414417),a,b,x[i+10],17,-42063),d,a,x[i+11],22,-1990404162),c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+12],7,1804603682),b,c,x[i+13],12,-40341101),a,b,x[i+14],17,-1502002290),d,a,x[i+15],22,1236535329),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+1],5,-165796510),b,c,x[i+6],9,-1069501632),a,b,x[i+11],14,643717713),d,a,x[i+0],20,-373897302),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+5],5,-701558691),b,c,x[i+10],9,38016083),a,b,x[i+15],14,-660478335),d,a,x[i+4],20,-405537848),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+9],5,568446438),b,c,x[i+14],9,-1019803690),a,b,x[i+3],14,-187363961),d,a,x[i+8],20,1163531501),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),b,c,x[i+2],9,-51403784),a,b,x[i+7],14,1735328473),d,a,x[i+12],20,-1926607734),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+5],4,-378558),b,c,x[i+8],11,-2022574463),a,b,x[i+11],16,1839030562),d,a,x[i+14],23,-35309556),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),b,c,x[i+4],11,1272893353),a,b,x[i+7],16,-155497632),d,a,x[i+10],23,-1094730640),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+13],4,681279174),b,c,x[i+0],11,-358537222),a,b,x[i+3],16,-722521979),d,a,x[i+6],23,76029189),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+9],4,-640364487),b,c,x[i+12],11,-421815835),a,b,x[i+15],16,530742520),d,a,x[i+2],23,-995338651),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+0],6,-198630844),b,c,x[i+7],10,1126891415),a,b,x[i+14],15,-1416354905),d,a,x[i+5],21,-57434055),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+12],6,1700485571),b,c,x[i+3],10,-1894986606),a,b,x[i+10],15,-1051523),d,a,x[i+1],21,-2054922799),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+8],6,1873313359),b,c,x[i+15],10,-30611744),a,b,x[i+6],15,-1560198380),d,a,x[i+13],21,1309151649),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+4],6,-145523070),b,c,x[i+11],10,-1120210379),a,b,x[i+2],15,718787259),d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=require("./helpers");module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":408}],410:[function(require,module,exports){(function(Buffer){"use strict";function Hmac(alg,key){Transform.call(this),alg=alg.toLowerCase(),"string"==typeof key&&(key=new Buffer(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;this._alg=alg,this._key=key,key.length>blocksize?key=createHash(alg).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=new Buffer(blocksize),opad=this._opad=new Buffer(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=createHash(alg).update(ipad)}var createHash=require("create-hash/browser"),inherits=require("inherits"),Transform=require("stream").Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(data,enc){return this._hash.update(data,enc),this},Hmac.prototype._transform=function(data,_,next){this._hash.update(data),next()},Hmac.prototype._flush=function(next){this.push(this.digest()),next()},Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)},module.exports=function(alg,key){return new Hmac(alg,key)}}).call(this,require("buffer").Buffer)},{buffer:105,"create-hash/browser":407,inherits:487,stream:610}],411:[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(require("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=require("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=require("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]}),exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]}),["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-cipher":89,"browserify-sign":96,"browserify-sign/algos":93,"create-ecdh":406,"create-hash":407,"create-hmac":410,"diffie-hellman":420,pbkdf2:530,"public-encrypt":535,randombytes:550}],412:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function deepFreeze(o){return Object.freeze(o),Object.getOwnPropertyNames(o).forEach(function(prop){!o.hasOwnProperty(prop)||null===o[prop]||"object"!==_typeof(o[prop])&&"function"!=typeof o[prop]||Object.isFrozen(o[prop])||deepFreeze(o[prop])}),o}},{}],413:[function(require,module,exports){"use strict";function DelayedStream(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}var Stream=require("stream").Stream,util=require("util");module.exports=DelayedStream,util.inherits(DelayedStream,Stream),DelayedStream.create=function(source,options){var delayedStream=new this;options=options||{};for(var option in options)delayedStream[option]=options[option];delayedStream.source=source;var realEmit=source.emit;return source.emit=function(){return delayedStream._handleEmit(arguments),realEmit.apply(source,arguments)},source.on("error",function(){}),delayedStream.pauseStream&&source.pause(),delayedStream},Object.defineProperty(DelayedStream.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),DelayedStream.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},DelayedStream.prototype.resume=function(){this._released||this.release(),this.source.resume()},DelayedStream.prototype.pause=function(){this.source.pause()},DelayedStream.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(args){this.emit.apply(this,args)}.bind(this)),this._bufferedEvents=[]},DelayedStream.prototype.pipe=function(){var r=Stream.prototype.pipe.apply(this,arguments);return this.resume(),r},DelayedStream.prototype._handleEmit=function(args){if(this._released)return void this.emit.apply(this,args);"data"===args[0]&&(this.dataSize+=args[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(args)},DelayedStream.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var message="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(message))}}},{stream:610,util:635}],414:[function(require,module,exports){"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede")},{"./des/cbc":415,"./des/cipher":416,"./des/des":417,"./des/ede":418,"./des/utils":419}],415:[function(require,module,exports){"use strict";function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options),this._cbcInit()}inherits(CBC,Base);for(var keys=Object.keys(proto),i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}return CBC.create=function(options){return new CBC(options)},CBC}var assert=require("minimalistic-assert"),inherits=require("inherits"),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var state=new CBCState(this.options.iv);this._cbcState=state},proto._update=function(inp,inOff,out,outOff){var state=this._cbcState,superProto=this.constructor.super_.prototype,iv=state.iv;if("encrypt"===this.type){for(i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:487,"minimalistic-assert":510}],416:[function(require,module,exports){"use strict";function Cipher(options){this.options=options,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=require("minimalistic-assert");module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(data){return 0===data.length?[]:"decrypt"===this.type?this._updateDecrypt(data):this._updateEncrypt(data)},Cipher.prototype._buffer=function(data,off){for(var min=Math.min(this.buffer.length-this.bufferOff,data.length-off),i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];return this.bufferOff+=min,min},Cipher.prototype._flushBuffer=function(out,off){return this._update(this.buffer,0,out,off),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(data){var inputOff=0,outputOff=0,count=(this.bufferOff+data.length)/this.blockSize|0,out=new Array(count*this.blockSize);0!==this.bufferOff&&(inputOff+=this._buffer(data,inputOff),this.bufferOff===this.buffer.length&&(outputOff+=this._flushBuffer(out,outputOff)));for(var max=data.length-(data.length-inputOff)%this.blockSize;inputOff<max;inputOff+=this.blockSize)this._update(data,inputOff,out,outputOff),outputOff+=this.blockSize;for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out},Cipher.prototype._updateDecrypt=function(data){for(var inputOff=0,outputOff=0,count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1,out=new Array(count*this.blockSize);count>0;count--)inputOff+=this._buffer(data,inputOff),outputOff+=this._flushBuffer(out,outputOff);return inputOff+=this._buffer(data,inputOff),out},Cipher.prototype.final=function(buffer){var first;buffer&&(first=this.update(buffer));var last;return last="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),first?first.concat(last):last},Cipher.prototype._pad=function(buffer,off){if(0===off)return!1;for(;off<buffer.length;)buffer[off++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);return this._update(this.buffer,0,out,0),out},Cipher.prototype._unpad=function(buffer){return buffer},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);return this._flushBuffer(out,0),this._unpad(out)}},{"minimalistic-assert":510}],417:[function(require,module,exports){"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state,this.deriveKeys(state,options.key)}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(state,key){state.keys=new Array(32),assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0),kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0),kL=state.tmp[0],kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift),kR=utils.r28shl(kR,shift),utils.pc2(kL,kR,state.keys,i)}},DES.prototype._update=function(inp,inOff,out,outOff){var state=this._desState,l=utils.readUInt32BE(inp,inOff),r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],"encrypt"===this.type?this._encrypt(state,l,r,state.tmp,0):this._decrypt(state,l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],utils.writeUInt32BE(out,l,outOff),utils.writeUInt32BE(out,r,outOff+4)},DES.prototype._pad=function(buffer,off){for(var value=buffer.length-off,i=off;i<buffer.length;i++)buffer[i]=value;return!0},DES.prototype._unpad=function(buffer){for(var pad=buffer[buffer.length-1],i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)},DES.prototype._encrypt=function(state,lStart,rStart,out,off){for(var l=lStart,r=rStart,i=0;i<state.keys.length;i+=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(r,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),t=r;r=(l^utils.permute(s))>>>0,l=t}utils.rip(r,l,out,off)},DES.prototype._decrypt=function(state,lStart,rStart,out,off){for(var l=rStart,r=lStart,i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(l,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),t=l;l=(r^utils.permute(s))>>>0,r=t}utils.rip(l,r,out,off)}},{"../des":414,inherits:487,"minimalistic-assert":510}],418:[function(require,module,exports){"use strict";function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8),k2=key.slice(8,16),k3=key.slice(16,24);this.ciphers="encrypt"===type?[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]:[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(options){return new EDE(options)},EDE.prototype._update=function(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff),state.ciphers[1]._update(out,outOff,out,outOff),state.ciphers[2]._update(out,outOff,out,outOff)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad},{"../des":414,inherits:487,"minimalistic-assert":510}],419:[function(require,module,exports){"use strict";exports.readUInt32BE=function(bytes,off){return(bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off])>>>0},exports.writeUInt32BE=function(bytes,value,off){bytes[0+off]=value>>>24,bytes[1+off]=value>>>16&255,bytes[2+off]=value>>>8&255,bytes[3+off]=255&value},exports.ip=function(inL,inR,out,off){for(var outL=0,outR=0,i=6;i>=0;i-=2){for(j=0;j<=24;j+=8)outL<<=1,outL|=inR>>>j+i&1;for(j=0;j<=24;j+=8)outL<<=1,outL|=inL>>>j+i&1}for(i=6;i>=0;i-=2){for(j=1;j<=25;j+=8)outR<<=1,outR|=inR>>>j+i&1;for(var j=1;j<=25;j+=8)outR<<=1,outR|=inL>>>j+i&1}out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.rip=function(inL,inR,out,off){for(var outL=0,outR=0,i=0;i<4;i++)for(j=24;j>=0;j-=8)outL<<=1,outL|=inR>>>j+i&1,outL<<=1,outL|=inL>>>j+i&1;for(i=4;i<8;i++)for(var j=24;j>=0;j-=8)outR<<=1,outR|=inR>>>j+i&1,outR<<=1,outR|=inL>>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.pc1=function(inL,inR,out,off){for(var outL=0,outR=0,i=7;i>=5;i--){for(j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(j=0;j<=24;j+=8)outL<<=1,outL|=inL>>j+i&1}for(j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(i=1;i<=3;i++){for(j=0;j<=24;j+=8)outR<<=1,outR|=inR>>j+i&1;for(j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1}for(var j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.r28shl=function(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(inL,inR,out,off){for(var outL=0,outR=0,len=pc2table.length>>>1,i=0;i<len;i++)outL<<=1,outL|=inL>>>pc2table[i]&1;for(i=len;i<pc2table.length;i++)outR<<=1,outR|=inR>>>pc2table[i]&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.expand=function(r,out,off){var outL=0,outR=0;outL=(1&r)<<5|r>>>27;for(i=23;i>=15;i-=4)outL<<=6,outL|=r>>>i&63;for(var i=11;i>=3;i-=4)outR|=r>>>i&63,outR<<=6;outR|=(31&r)<<1|r>>>31,out[off+0]=outL>>>0,out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(inL,inR){for(var out=0,i=0;i<4;i++)out<<=4,out|=sb=sTable[64*i+(b=inL>>>18-6*i&63)];for(i=0;i<4;i++){var b=inR>>>18-6*i&63,sb=sTable[256+64*i+b];out<<=4,out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(num){for(var out=0,i=0;i<permuteTable.length;i++)out<<=1,out|=num>>>permuteTable[i]&1;return out>>>0},exports.padSplit=function(num,size,group){for(var str=num.toString(2);str.length<size;)str="0"+str;for(var out=[],i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],420:[function(require,module,exports){(function(Buffer){"use strict";function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex"),gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}function createDiffieHellman(prime,enc,generator,genc){return Buffer.isBuffer(enc)||ENCODINGS[enc]===undefined?createDiffieHellman(prime,"binary",enc,generator):(enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,!0):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,!0)))}var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes.json"),DH=require("./lib/dh"),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(this,require("buffer").Buffer)},{"./lib/dh":421,"./lib/generatePrime":422,"./lib/primes.json":423,buffer:105}],421:[function(require,module,exports){(function(Buffer){"use strict";function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}function checkPrime(prime,generator){var gen=generator.toString("hex"),hex=[gen,prime.toString(16)].join("_");if(hex in primeCache)return primeCache[hex];var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,error+="02"===gen||"05"===gen?8:4,primeCache[hex]=error,error;millerRabin.test(prime.shrn(1))||(error+=2);var rem;switch(gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":(rem=prime.mod(TEN)).cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error,error}function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=undefined,this._priv=undefined,this._primeCode=undefined,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());return enc?buf.toString(enc):buf}var BN=require("bn.js"),millerRabin=new(require("miller-rabin")),TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(other){var secret=(other=(other=new BN(other)).toRed(this._prime)).redPow(this._priv).fromRed(),out=new Buffer(secret.toArray()),prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0),out=Buffer.concat([front,out])}return out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this.__gen=gen,this._gen=new BN(gen),this}}).call(this,require("buffer").Buffer)},{"./generatePrime":422,"bn.js":71,buffer:105,"miller-rabin":506,randombytes:550}],422:[function(require,module,exports){"use strict";function _getPrimes(){if(null!==primes)return primes;var res=[];res[0]=2;for(var i=1,k=3;k<1048576;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;j<i&&res[j]<=sqrt&&k%res[j]!=0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res,res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i]);return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){if(bits<16)return new BN(2===gen||5===gen?[140,123]:[140,39]);gen=new BN(gen);for(var num,n2;;){for(num=new BN(randomBytes(Math.ceil(bits/8)));num.bitLength()>bits;)num.ishrn(1);if(num.isEven()&&num.iadd(ONE),num.testn(1)||num.iadd(TWO),gen.cmp(TWO)){if(!gen.cmp(FIVE))for(;num.mod(TEN).cmp(THREE);)num.iadd(FOUR)}else for(;num.mod(TWENTYFOUR).cmp(ELEVEN);)num.iadd(FOUR);if(n2=num.shrn(1),simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num}}var randomBytes=require("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),millerRabin=new(require("miller-rabin")),ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),TEN=(new BN(16),new BN(8),new BN(10)),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),primes=(new BN(12),null)},{"bn.js":71,"miller-rabin":506,randombytes:550}],423:[function(require,module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],424:[function(require,module,exports){(function(Buffer){"use strict";function unstupid(hex,len){return hex.length>=len?hex:unstupid("0"+hex,len)}var crypto=require("crypto"),BigInteger=require("jsbn").BigInteger;require("./lib/ec.js").ECPointFp;exports.ECCurves=require("./lib/sec.js"),exports.ECKey=function(curve,key,isPublic){var priv,c=curve(),n=c.getN(),bytes=Math.floor(n.bitLength()/8);if(key)if(isPublic){var curve=c.getCurve();this.P=curve.decodePointHex(key.toString("hex"))}else{if(key.length!=bytes)return!1;priv=new BigInteger(key.toString("hex"),16)}else{var n1=n.subtract(BigInteger.ONE),r=new BigInteger(crypto.randomBytes(n.bitLength()));priv=r.mod(n1).add(BigInteger.ONE),this.P=c.getG().multiply(priv)}this.P&&(this.PublicKey=new Buffer(c.getCurve().encodeCompressedPointHex(this.P),"hex")),priv&&(this.PrivateKey=new Buffer(unstupid(priv.toString(16),2*bytes),"hex"),this.deriveSharedSecret=function(key){if(!key||!key.P)return!1;var S=key.P.multiply(priv);return new Buffer(unstupid(S.getX().toBigInteger().toString(16),2*bytes),"hex")})}}).call(this,require("buffer").Buffer)},{"./lib/ec.js":425,"./lib/sec.js":426,buffer:105,crypto:411,jsbn:498}],425:[function(require,module,exports){"use strict";function ECFieldElementFp(q,x){this.x=x,this.q=q}function feFpEquals(other){return other==this||this.q.equals(other.q)&&this.x.equals(other.x)}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(b){return new ECFieldElementFp(this.q,this.x.add(b.toBigInteger()).mod(this.q))}function feFpSubtract(b){return new ECFieldElementFp(this.q,this.x.subtract(b.toBigInteger()).mod(this.q))}function feFpMultiply(b){return new ECFieldElementFp(this.q,this.x.multiply(b.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(b){return new ECFieldElementFp(this.q,this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q))}function ECPointFp(curve,x,y,z){this.curve=curve,this.x=x,this.y=y,this.z=null==z?BigInteger.ONE:z,this.zinv=null}function pointFpGetX(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var r=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(r),this.curve.fromBigInteger(r)}function pointFpGetY(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var r=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(r),this.curve.fromBigInteger(r)}function pointFpEquals(other){if(other==this)return!0;if(this.isInfinity())return other.isInfinity();if(other.isInfinity())return this.isInfinity();return!!other.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(other.z)).mod(this.curve.q).equals(BigInteger.ZERO)&&other.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(other.z)).mod(this.curve.q).equals(BigInteger.ZERO)}function pointFpIsInfinity(){return null==this.x&&null==this.y||this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var u=b.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(b.z)).mod(this.curve.q),v=b.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(b.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(v))return BigInteger.ZERO.equals(u)?this.twice():this.curve.getInfinity();var THREE=new BigInteger("3"),x1=this.x.toBigInteger(),y1=this.y.toBigInteger(),v2=(b.x.toBigInteger(),b.y.toBigInteger(),v.square()),v3=v2.multiply(v),x1v2=x1.multiply(v2),zu2=u.square().multiply(this.z),x3=zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.q),y3=x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.q),z3=v3.multiply(this.z).multiply(b.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(x3),this.curve.fromBigInteger(y3),z3)}function pointFpTwice(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var THREE=new BigInteger("3"),x1=this.x.toBigInteger(),y1=this.y.toBigInteger(),y1z1=y1.multiply(this.z),y1sqz1=y1z1.multiply(y1).mod(this.curve.q),a=this.curve.a.toBigInteger(),w=x1.square().multiply(THREE);BigInteger.ZERO.equals(a)||(w=w.add(this.z.square().multiply(a)));var x3=(w=w.mod(this.curve.q)).square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.q),y3=w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.square().multiply(w)).mod(this.curve.q),z3=y1z1.square().multiply(y1z1).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(x3),this.curve.fromBigInteger(y3),z3)}function pointFpMultiply(k){if(this.isInfinity())return this;if(0==k.signum())return this.curve.getInfinity();var i,e=k,h=e.multiply(new BigInteger("3")),neg=this.negate(),R=this;for(i=h.bitLength()-2;i>0;--i){R=R.twice();var hBit=h.testBit(i);hBit!=e.testBit(i)&&(R=R.add(hBit?this:neg))}return R}function pointFpMultiplyTwo(j,x,k){var i;i=j.bitLength()>k.bitLength()?j.bitLength()-1:k.bitLength()-1;for(var R=this.curve.getInfinity(),both=this.add(x);i>=0;)R=R.twice(),j.testBit(i)?R=k.testBit(i)?R.add(both):R.add(this):k.testBit(i)&&(R=R.add(x)),--i;return R}function ECCurveFp(q,a,b){this.q=q,this.a=this.fromBigInteger(a),this.b=this.fromBigInteger(b),this.infinity=new ECPointFp(this,null,null),this.reducer=new Barrett(this.q)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(other){return other==this||this.q.equals(other.q)&&this.a.equals(other.a)&&this.b.equals(other.b)}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(x){return new ECFieldElementFp(this.q,x)}function curveReduce(x){this.reducer.reduce(x)}function curveFpEncodePointHex(p){if(p.isInfinity())return"00";var xHex=p.getX().toBigInteger().toString(16),yHex=p.getY().toBigInteger().toString(16),oLen=this.getQ().toString(16).length;for(oLen%2!=0&&oLen++;xHex.length<oLen;)xHex="0"+xHex;for(;yHex.length<oLen;)yHex="0"+yHex;return"04"+xHex+yHex}var BigInteger=require("jsbn").BigInteger,Barrett=BigInteger.prototype.Barrett;ECFieldElementFp.prototype.equals=feFpEquals,ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger,ECFieldElementFp.prototype.negate=feFpNegate,ECFieldElementFp.prototype.add=feFpAdd,ECFieldElementFp.prototype.subtract=feFpSubtract,ECFieldElementFp.prototype.multiply=feFpMultiply,ECFieldElementFp.prototype.square=feFpSquare,ECFieldElementFp.prototype.divide=feFpDivide,ECPointFp.prototype.getX=pointFpGetX,ECPointFp.prototype.getY=pointFpGetY,ECPointFp.prototype.equals=pointFpEquals,ECPointFp.prototype.isInfinity=pointFpIsInfinity,ECPointFp.prototype.negate=pointFpNegate,ECPointFp.prototype.add=pointFpAdd,ECPointFp.prototype.twice=pointFpTwice,ECPointFp.prototype.multiply=pointFpMultiply,ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo,ECCurveFp.prototype.getQ=curveFpGetQ,ECCurveFp.prototype.getA=curveFpGetA,ECCurveFp.prototype.getB=curveFpGetB,ECCurveFp.prototype.equals=curveFpEquals,ECCurveFp.prototype.getInfinity=curveFpGetInfinity,ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger,ECCurveFp.prototype.reduce=curveReduce,ECCurveFp.prototype.encodePointHex=curveFpEncodePointHex,ECCurveFp.prototype.decodePointHex=function(s){var yIsEven;switch(parseInt(s.substr(0,2),16)){case 0:return this.infinity;case 2:yIsEven=!1;case 3:yIsEven==undefined&&(yIsEven=!0);var len=s.length-2,xHex=s.substr(2,len),x=this.fromBigInteger(new BigInteger(xHex,16)),beta=x.multiply(x.square().add(this.getA())).add(this.getB()).sqrt();if(null==beta)throw"Invalid point compression";var betaValue=beta.toBigInteger();return betaValue.testBit(0)!=yIsEven&&(beta=this.fromBigInteger(this.getQ().subtract(betaValue))),new ECPointFp(this,x,beta);case 4:case 6:case 7:var len=(s.length-2)/2,xHex=s.substr(2,len),yHex=s.substr(len+2,len);return new ECPointFp(this,this.fromBigInteger(new BigInteger(xHex,16)),this.fromBigInteger(new BigInteger(yHex,16)));default:return null}},ECCurveFp.prototype.encodeCompressedPointHex=function(p){if(p.isInfinity())return"00";var xHex=p.getX().toBigInteger().toString(16),oLen=this.getQ().toString(16).length;for(oLen%2!=0&&oLen++;xHex.length<oLen;)xHex="0"+xHex;return(p.getY().toBigInteger().isEven()?"02":"03")+xHex},ECFieldElementFp.prototype.getR=function(){if(this.r!=undefined)return this.r;this.r=null;var bitLength=this.q.bitLength();return bitLength>128&&-1==this.q.shiftRight(bitLength-64).intValue()&&(this.r=BigInteger.ONE.shiftLeft(bitLength).subtract(this.q)),this.r},ECFieldElementFp.prototype.modMult=function(x1,x2){return this.modReduce(x1.multiply(x2))},ECFieldElementFp.prototype.modReduce=function(x){if(null!=this.getR()){for(var qLen=q.bitLength();x.bitLength()>qLen+1;){var u=x.shiftRight(qLen),v=x.subtract(u.shiftLeft(qLen));this.getR().equals(BigInteger.ONE)||(u=u.multiply(this.getR())),x=u.add(v)}for(;x.compareTo(q)>=0;)x=x.subtract(q)}else x=x.mod(q);return x},ECFieldElementFp.prototype.sqrt=function(){if(!this.q.testBit(0))throw"unsupported";if(this.q.testBit(1)){var z=new ECFieldElementFp(this.q,this.x.modPow(this.q.shiftRight(2).add(BigInteger.ONE),this.q));return z.square().equals(this)?z:null}var qMinusOne=this.q.subtract(BigInteger.ONE),legendreExponent=qMinusOne.shiftRight(1);if(!this.x.modPow(legendreExponent,this.q).equals(BigInteger.ONE))return null;var U,V,k=qMinusOne.shiftRight(2).shiftLeft(1).add(BigInteger.ONE),Q=this.x,fourQ=modDouble(modDouble(Q));do{var P;do{P=new BigInteger(this.q.bitLength(),new SecureRandom)}while(P.compareTo(this.q)>=0||!P.multiply(P).subtract(fourQ).modPow(legendreExponent,this.q).equals(qMinusOne));var result=this.lucasSequence(P,Q,k);if(U=result[0],V=result[1],this.modMult(V,V).equals(fourQ))return V.testBit(0)&&(V=V.add(q)),V=V.shiftRight(1),new ECFieldElementFp(q,V)}while(U.equals(BigInteger.ONE)||U.equals(qMinusOne));return null},ECFieldElementFp.prototype.lucasSequence=function(P,Q,k){for(var n=k.bitLength(),s=k.getLowestSetBit(),Uh=BigInteger.ONE,Vl=BigInteger.TWO,Vh=P,Ql=BigInteger.ONE,Qh=BigInteger.ONE,j=n-1;j>=s+1;--j)Ql=this.modMult(Ql,Qh),k.testBit(j)?(Qh=this.modMult(Ql,Q),Uh=this.modMult(Uh,Vh),Vl=this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql))),Vh=this.modReduce(Vh.multiply(Vh).subtract(Qh.shiftLeft(1)))):(Qh=Ql,Uh=this.modReduce(Uh.multiply(Vl).subtract(Ql)),Vh=this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql))),Vl=this.modReduce(Vl.multiply(Vl).subtract(Ql.shiftLeft(1))));Ql=this.modMult(Ql,Qh),Qh=this.modMult(Ql,Q),Uh=this.modReduce(Uh.multiply(Vl).subtract(Ql)),Vl=this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql))),Ql=this.modMult(Ql,Qh);for(j=1;j<=s;++j)Uh=this.modMult(Uh,Vl),Vl=this.modReduce(Vl.multiply(Vl).subtract(Ql.shiftLeft(1))),Ql=this.modMult(Ql,Ql);return[Uh,Vl]};var _exports={ECCurveFp:ECCurveFp,ECPointFp:ECPointFp,ECFieldElementFp:ECFieldElementFp};module.exports=_exports},{jsbn:498}],426:[function(require,module,exports){"use strict";function X9ECParameters(curve,g,n,h){this.curve=curve,this.g=g,this.n=n,this.h=h}function x9getCurve(){return this.curve}function x9getG(){return this.g}function x9getN(){return this.n}function x9getH(){return this.h}function fromHex(s){return new BigInteger(s,16)}function secp128r1(){var p=fromHex("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),a=fromHex("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),b=fromHex("E87579C11079F43DD824993C2CEE5ED3"),n=fromHex("FFFFFFFE0000000075A30D1B9038A115"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83"),n,h)}function secp160k1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),a=BigInteger.ZERO,b=fromHex("7"),n=fromHex("0100000000000000000001B8FA16DFAB9ACA16B6B3"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE"),n,h)}function secp160r1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),a=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),b=fromHex("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),n=fromHex("0100000000000000000001F4C8F927AED3CA752257"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32"),n,h)}function secp192k1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),a=BigInteger.ZERO,b=fromHex("3"),n=fromHex("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D"),n,h)}function secp192r1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),a=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),b=fromHex("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),n=fromHex("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811"),n,h)}function secp224r1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),a=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),b=fromHex("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),n=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34"),n,h)}function secp256r1(){var p=fromHex("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),a=fromHex("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),b=fromHex("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n=fromHex("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b);return new X9ECParameters(curve,curve.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),n,h)}var BigInteger=require("jsbn").BigInteger,ECCurveFp=require("./ec.js").ECCurveFp;X9ECParameters.prototype.getCurve=x9getCurve,X9ECParameters.prototype.getG=x9getG,X9ECParameters.prototype.getN=x9getN,X9ECParameters.prototype.getH=x9getH,module.exports={secp128r1:secp128r1,secp160k1:secp160k1,secp160r1:secp160r1,secp192k1:secp192k1,secp192r1:secp192r1,secp224r1:secp224r1,secp256r1:secp256r1}},{"./ec.js":425,jsbn:498}],427:[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec"),elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":442,"./elliptic/curve":430,"./elliptic/curves":433,"./elliptic/ec":434,"./elliptic/eddsa":437,"./elliptic/utils":441,brorand:72}],428:[function(require,module,exports){"use strict";function BaseCurve(type,conf){this.type=type,this.p=new BN(conf.p,16),this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=conf.n&&new BN(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);!adjustCount||adjustCount.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}var BN=require("bn.js"),utils=require("../../elliptic").utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,k){assert(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(k,1),I=(1<<doubles.step+1)-(doubles.step%2==0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){for(var nafW=0,k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(j=0;j<repr.length;j++)(nafW=repr[j])===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()));a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&0===naf[i];i--)k++;if(i>=0&&k++,acc=acc.dblp(k),i<0)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?z>0?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):z>0?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;i<len;i++){var nafPoints=(p=points[i])._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max);for(j=0;j<max;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a]),naf[b]=getNAF(coeffs[b],wndWidth[b]),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}for(var acc=this.jpoint(null,null,null),tmp=this._wnafT4,i=max;i>=0;i--){for(var k=0;i>=0;){for(var zero=!0,j=0;j<len;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),i<0)break;for(j=0;j<len;j++){var p,z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:z<0&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(i=0;i<len;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1==2*len)return 6===bytes[0]?assert(bytes[bytes.length-1]%2==0):7===bytes[0]&&assert(bytes[bytes.length-1]%2==1),this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return!!doubles&&doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r}},{"../../elliptic":427,"bn.js":71}],429:[function(require,module,exports){"use strict";function EdwardsCurve(conf){this.twisted=1!=(0|conf.a),this.mOneA=this.twisted&&-1==(0|conf.a),this.extended=this.mOneA,Base.call(this,"edwards",conf),this.a=new BN(conf.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|conf.c)}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=z?new BN(z,16):this.curve.one,this.t=t&&new BN(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromX=function(x,odd){(x=new BN(x,16)).red||(x=x.toRed(this.red));var x2=x.redSqr(),rhs=this.c2.redSub(this.a.redMul(x2)),lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2)),y2=rhs.redMul(lhs.redInvm()),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},EdwardsCurve.prototype.pointFromY=function(y,odd){(y=new BN(y,16)).red||(y=y.toRed(this.red));var y2=y.redSqr(),lhs=y2.redSub(this.one),rhs=y2.redMul(this.d).redAdd(this.one),x2=lhs.redMul(rhs.redInvm());if(0===x2.cmp(this.zero)){if(odd)throw new Error("invalid point");return this.point(this.zero,y)}var x=x2.redSqrt();if(0!==x.redSqr().redSub(x2).cmp(this.zero))throw new Error("invalid point");return x.isOdd()!==odd&&(x=x.redNeg()),this.point(x,y)},EdwardsCurve.prototype.validate=function(point){if(point.isInfinity())return!0;point.normalize();var x2=point.x.redSqr(),y2=point.y.redSqr(),lhs=x2.redMul(this.a).redAdd(y2),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),g=d.redAdd(b),f=g.redSub(c),h=d.redSub(b),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var nx,ny,nz,b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var f=(e=this.curve._mulA(c)).redAdd(d);if(this.zOne)nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),nz=f.redSqr().redSub(f).redSub(f);else{var h=this.z.redSqr(),j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j),ny=f.redMul(e.redSub(d)),nz=f.redMul(j)}}else{var e=c.redAdd(d),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j),ny=this.curve._mulC(e).redMul(c.redISub(d)),nz=e.redMul(j)}return this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),c=this.t.redMul(this.curve.dd).redMul(p.t),d=this.z.redMul(p.z.redAdd(p.z)),e=b.redSub(a),f=d.redSub(c),g=d.redAdd(c),h=b.redAdd(a),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projAdd=function(p){var ny,nz,a=this.z.redMul(p.z),b=a.redSqr(),c=this.x.redMul(p.x),d=this.y.redMul(p.y),e=this.curve.d.redMul(c).redMul(d),f=b.redSub(e),g=b.redAdd(e),tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(tmp);return this.curve.twisted?(ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c))),nz=f.redMul(g)):(ny=a.redMul(g).redMul(d.redSub(c)),nz=this.curve._mulC(f).redMul(g)),this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!1)},Point.prototype.jmulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(other){return this===other||0===this.getX().cmp(other.getX())&&0===this.getY().cmp(other.getY())},Point.prototype.eqXToP=function(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(this.z);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../../elliptic":427,"../curve":430,"bn.js":71,inherits:487}],430:[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base"),curve.short=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards")},{"./base":428,"./edwards":429,"./mont":431,"./short":432}],431:[function(require,module,exports){"use strict";function MontCurve(conf){Base.call(this,"mont",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(x,16),this.z=new BN(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=require("../curve"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,utils=require("../../elliptic").utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(point){var x=point.normalize().x,x2=x.redSqr(),rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);return 0===rhs.redSqrt().redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(bytes,enc){return this.point(utils.toArray(bytes,enc),1)},MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var aa=this.x.redAdd(this.z).redSqr(),bb=this.x.redSub(this.z).redSqr(),c=aa.redSub(bb),nx=aa.redMul(bb),nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var a=this.x.redAdd(this.z),b=this.x.redSub(this.z),c=p.x.redAdd(p.z),da=p.x.redSub(p.z).redMul(a),cb=c.redMul(b),nx=diff.z.redMul(da.redAdd(cb).redSqr()),nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),c=this,bits=[];0!==t.cmpn(0);t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--)0===bits[i]?(a=a.diffAdd(b,c),b=b.dbl()):(b=a.diffAdd(b,c),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(other){return 0===this.getX().cmp(other.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":427,"../curve":430,"bn.js":71,inherits:487}],432:[function(require,module,exports){"use strict";function ShortCurve(conf){Base.call(this,"short",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new BN(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=(beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1]).toRed(this.red)}if(conf.lambda)lambda=new BN(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}var basis;return basis=conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda),{beta:beta,lambda:lambda,basis:basis}}},ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:BN.mont(num),tinv=new BN(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);return[ntinv.redAdd(s).fromRed(),ntinv.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,r,x,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),i=0;0!==u.cmpn(0);){var q=v.div(u);r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2==++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr());return a2.sqr().add(b2.sqr()).cmp(len1)>=0&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b);return{k1:k.sub(p1).sub(p2),k2:q1.add(q2).neg()}},ShortCurve.prototype.pointFromX=function(x,odd){(x=new BN(x,16)).red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,jacobianResult),j=0;j<2*i;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,obj,red){function obj2point(obj){return curve.point(obj[0],obj[1],red)}"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new BN(k,16),this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed,negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;i<pow;i++)r=r.dbl();return r}for(var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy),i=0;i<pow;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=(yyyy8=yyyy8.redIAdd(yyyy8)).redIAdd(yyyy8),nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=(c8=c8.redIAdd(c8)).redIAdd(c8),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=(nz=this.y.redMul(this.z)).redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=(yyyy8=yyyy8.redIAdd(yyyy8)).redIAdd(yyyy8),ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta),beta8=(beta4=beta4.redIAdd(beta4)).redAdd(beta4);nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=(ggamma8=(ggamma8=ggamma8.redIAdd(ggamma8)).redIAdd(ggamma8)).redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx),t1=(jxd4=jxd4.redIAdd(jxd4)).redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=(jyd8=(jyd8=jyd8.redIAdd(jyd8)).redIAdd(jyd8)).redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy),ee=(e=(e=(e=e.redIAdd(e)).redAdd(e).redIAdd(e)).redISub(mm)).redSqr(),t=yyyy.redIAdd(yyyy);t=(t=(t=t.redIAdd(t)).redIAdd(t)).redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);yyu4=(yyu4=yyu4.redIAdd(yyu4)).redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=(nx=nx.redIAdd(nx)).redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=(ny=(ny=ny.redIAdd(ny)).redIAdd(ny)).redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new BN(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":427,"../curve":430,"bn.js":71,inherits:487}],433:[function(require,module,exports){"use strict";function PresetCurve(options){"short"===options.type?this.curve=new elliptic.curve.short(options):"edwards"===options.type?this.curve=new elliptic.curve.edwards(options):this.curve=new elliptic.curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}var curves=exports,hash=require("hash.js"),elliptic=require("../elliptic"),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"../elliptic":427,"./precomputed/secp256k1":440,"hash.js":470}],434:[function(require,module,exports){"use strict";function EC(options){if(!(this instanceof EC))return new EC(options);"string"==typeof options&&(assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options),options=elliptic.curves[options]),options instanceof elliptic.curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),this.hash=options.hash||options.curve.hash}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},BN=require("bn.js"),HmacDRBG=require("hmac-drbg"),elliptic=require("../../elliptic"),assert=elliptic.utils.assert,KeyPair=require("./key"),Signature=require("./signature");module.exports=EC,EC.prototype.keyPair=function(options){return new KeyPair(this,options)},EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function(options){options||(options={});for(var drbg=new HmacDRBG({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));;){var priv=new BN(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.ushrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,enc,options){"object"===(void 0===enc?"undefined":_typeof(enc))&&(options=enc,enc=null),options||(options={}),key=this.keyFromPrivate(key,enc),msg=this._truncateToN(new BN(msg,16));for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray("be",bytes),nonce=msg.toArray("be",bytes),drbg=new HmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||"utf8"}),ns1=this.n.sub(new BN(1)),iter=0;!0;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX(),r=kpX.umod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(0!==(s=s.umod(this.n)).cmpn(0)){var recoveryParam=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(r)?2:0);return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s),recoveryParam^=1),new Signature({r:r,s:s,recoveryParam:recoveryParam})}}}}}},EC.prototype.verify=function(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16)),key=this.keyFromPublic(key,enc);var r=(signature=new Signature(signature,"hex")).r,s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var sinv=s.invm(this.n),u1=sinv.mul(msg).umod(this.n),u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick)return!(p=this.g.mulAdd(u1,key.getPublic(),u2)).isInfinity()&&0===p.getX().umod(this.n).cmp(r);var p=this.g.jmulAdd(u1,key.getPublic(),u2);return!p.isInfinity()&&p.eqXToP(r)},EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits"),signature=new Signature(signature,enc);var n=this.n,e=new BN(msg),r=signature.r,s=signature.s,isYOdd=1&j,isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd);var rInv=signature.r.invm(n),s1=n.sub(e).mul(rInv).umod(n),s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)},EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){if(null!==(signature=new Signature(signature,enc)).recoveryParam)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":427,"./key":435,"./signature":436,"bn.js":71,"hmac-drbg":477}],435:[function(require,module,exports){"use strict";function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}var BN=require("bn.js"),assert=require("../../elliptic").utils.assert;module.exports=KeyPair,KeyPair.fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})},KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})},KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key,enc){if(key.x||key.y)return"mont"===this.ec.curve.type?assert(key.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert(key.x&&key.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(key.x,key.y));this.pub=this.ec.curve.decodePoint(key,enc)},KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":427,"bn.js":71}],436:[function(require,module,exports){"use strict";function Signature(options,enc){if(options instanceof Signature)return options;this._importDER(options,enc)||(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),options.recoveryParam===undefined?this.recoveryParam=null:this.recoveryParam=options.recoveryParam)}function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;for(var octetLen=15&initial,val=0,i=0,off=p.place;i<octetLen;i++,off++)val<<=8,val|=buf[off];return p.place=off,val}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&i<len;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(len<128)return void arr.push(len);var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}var BN=require("bn.js"),utils=require("../../elliptic").utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(data,enc){data=utils.toArray(data,enc);var p=new Position;if(48!==data[p.place++])return!1;if(getLength(data,p)+p.place!==data.length)return!1;if(2!==data[p.place++])return!1;var rlen=getLength(data,p),r=data.slice(p.place,rlen+p.place);if(p.place+=rlen,2!==data[p.place++])return!1;var slen=getLength(data,p);if(data.length!==slen+p.place)return!1;var s=data.slice(p.place,slen+p.place);return 0===r[0]&&128&r[1]&&(r=r.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new BN(r),this.s=new BN(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s)),r=rmPadding(r),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var arr=[2];constructLength(arr,r.length),(arr=arr.concat(r)).push(2),constructLength(arr,s.length);var backHalf=arr.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils.encode(res,enc)}},{"../../elliptic":427,"bn.js":71}],437:[function(require,module,exports){"use strict";function EDDSA(curve){if(assert("ed25519"===curve,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(curve);var curve=elliptic.curves[curve].curve;this.curve=curve,this.g=curve.g,this.g.precompute(curve.n.bitLength()+1),this.pointClass=curve.point().constructor,this.encodingLength=Math.ceil(curve.n.bitLength()/8),this.hash=hash.sha512}var hash=require("hash.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=require("./key"),Signature=require("./signature");module.exports=EDDSA,EDDSA.prototype.sign=function(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret),r=this.hashInt(key.messagePrefix(),message),R=this.g.mul(r),Rencoded=this.encodePoint(R),s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv()),S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})},EDDSA.prototype.verify=function(message,sig,pub){message=parseBytes(message),sig=this.makeSignature(sig);var key=this.keyFromPublic(pub),h=this.hashInt(sig.Rencoded(),key.pubBytes(),message),SG=this.g.mul(sig.S());return sig.R().add(key.pub().mul(h)).eq(SG)},EDDSA.prototype.hashInt=function(){for(var hash=this.hash(),i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(pub){return KeyPair.fromPublic(this,pub)},EDDSA.prototype.keyFromSecret=function(secret){return KeyPair.fromSecret(this,secret)},EDDSA.prototype.makeSignature=function(sig){return sig instanceof Signature?sig:new Signature(this,sig)},EDDSA.prototype.encodePoint=function(point){var enc=point.getY().toArray("le",this.encodingLength);return enc[this.encodingLength-1]|=point.getX().isOdd()?128:0,enc},EDDSA.prototype.decodePoint=function(bytes){var lastIx=(bytes=utils.parseBytes(bytes)).length-1,normed=bytes.slice(0,lastIx).concat(-129&bytes[lastIx]),xIsOdd=0!=(128&bytes[lastIx]),y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)},EDDSA.prototype.encodeInt=function(num){return num.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(bytes){return utils.intFromLE(bytes)},EDDSA.prototype.isPoint=function(val){return val instanceof this.pointClass}},{"../../elliptic":427,"./key":438,"./signature":439,"hash.js":470}],438:[function(require,module,exports){"use strict";function KeyPair(eddsa,params){this.eddsa=eddsa,this._secret=parseBytes(params.secret),eddsa.isPoint(params.pub)?this._pub=params.pub:this._pubBytes=parseBytes(params.pub)}var utils=require("../../elliptic").utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(eddsa,pub){return pub instanceof KeyPair?pub:new KeyPair(eddsa,{pub:pub})},KeyPair.fromSecret=function(eddsa,secret){return secret instanceof KeyPair?secret:new KeyPair(eddsa,{secret:secret})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var eddsa=this.eddsa,hash=this.hash(),lastIx=eddsa.encodingLength-1,a=hash.slice(0,eddsa.encodingLength);return a[0]&=248,a[lastIx]&=127,a[lastIx]|=64,a}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(message){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(message,this)},KeyPair.prototype.verify=function(message,sig){return this.eddsa.verify(message,sig,this)},KeyPair.prototype.getSecret=function(enc){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),enc)},KeyPair.prototype.getPublic=function(enc){return utils.encode(this.pubBytes(),enc)},module.exports=KeyPair},{"../../elliptic":427}],439:[function(require,module,exports){"use strict";function Signature(eddsa,sig){this.eddsa=eddsa,"object"!==(void 0===sig?"undefined":_typeof(sig))&&(sig=parseBytes(sig)),Array.isArray(sig)&&(sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}),assert(sig.R&&sig.S,"Signature without R or S"),eddsa.isPoint(sig.R)&&(this._R=sig.R),sig.S instanceof BN&&(this._S=sig.S),this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded,this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},BN=require("bn.js"),utils=require("../../elliptic").utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature},{"../../elliptic":427,"bn.js":71}],440:[function(require,module,exports){"use strict";module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],441:[function(require,module,exports){"use strict";function getNAF(num,w){for(var naf=[],ws=1<<w+1,k=num.clone();k.cmpn(1)>=0;){var z;if(k.isOdd()){var mod=k.andln(ws-1);z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)}else z=0;naf.push(z);for(var shift=0!==k.cmpn(0)&&0===k.andln(ws-1)?w+1:1,i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf}function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1);var u1;u1=0==(1&m14)?0:3!==(m8=k1.andln(7)+d1&7)&&5!==m8||2!==m24?m14:-m14,jsf[0].push(u1);var u2;if(0==(1&m24))u2=0;else{var m8=k2.andln(7)+d2&7;u2=3!==m8&&5!==m8||2!==m14?m24:-m24}jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf}function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function(){return this[key]!==undefined?this[key]:this[key]=computer.call(this)}}function parseBytes(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes}function intFromLE(bytes){return new BN(bytes,"hex","le")}var utils=exports,BN=require("bn.js"),minAssert=require("minimalistic-assert"),minUtils=require("minimalistic-crypto-utils");utils.assert=minAssert,utils.toArray=minUtils.toArray,utils.zero2=minUtils.zero2,utils.toHex=minUtils.toHex,utils.encode=minUtils.encode,utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE},{"bn.js":71,"minimalistic-assert":510,"minimalistic-crypto-utils":511}],442:[function(require,module,exports){module.exports={_args:[[{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},"/home/larsw/Dropbox/html/Citation/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.4.0",_inCache:!0,_location:"/elliptic",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"},_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/home/larsw/Dropbox/html/Citation/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"},files:["lib"],gitHead:"6b0d2b76caae91471649c8e21f0b1d3ba0f96090",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],443:[function(require,module,exports){"use strict";function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"===(void 0===arg?"undefined":_typeof(arg))&&null!==arg}function isUndefined(arg){return void 0===arg}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=undefined,EventEmitter.prototype._maxListeners=undefined,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),len=(listeners=handler.slice()).length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},{}],444:[function(require,module,exports){(function(Buffer){"use strict";function EVP_BytesToKey(password,salt,keyLen,ivLen){Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),salt&&!Buffer.isBuffer(salt)&&(salt=new Buffer(salt,"binary")),keyLen/=8,ivLen=ivLen||0;for(var md_buf,i,ki=0,ii=0,key=new Buffer(keyLen),iv=new Buffer(ivLen),addmd=0,bufs=[];;){if(addmd++>0&&bufs.push(md_buf),bufs.push(password),salt&&bufs.push(salt),md_buf=md5(Buffer.concat(bufs)),bufs=[],i=0,keyLen>0)for(;;){if(0===keyLen)break;if(i===md_buf.length)break;key[ki++]=md_buf[i],keyLen--,i++}if(ivLen>0&&i!==md_buf.length)for(;;){if(0===ivLen)break;if(i===md_buf.length)break;iv[ii++]=md_buf[i],ivLen--,i++}if(0===keyLen&&0===ivLen)break}for(i=0;i<md_buf.length;i++)md_buf[i]=0;return{key:key,iv:iv}}var md5=require("create-hash/md5");module.exports=EVP_BytesToKey}).call(this,require("buffer").Buffer)},{buffer:105,"create-hash/md5":409}],445:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;var key;for(key in obj);return void 0===key||hasOwn.call(obj,key)};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!==(void 0===target?"undefined":_typeof(target))&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=target[name],target!==(copy=options[name])&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},target[name]=extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target}},{}],446:[function(require,module,exports){"use strict";function jsSprintf(fmt){var flags,width,precision,conversion,left,pad,sign,arg,match,regex=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),re=new RegExp(regex),args=Array.prototype.slice.call(arguments,1),ret="",argn=1;for(mod_assert.equal("string",void 0===fmt?"undefined":_typeof(fmt));null!==(match=re.exec(fmt));)if(ret+=match[1],fmt=fmt.substring(match[0].length),flags=match[2]||"",width=match[3]||0,precision=match[4]||"",conversion=match[6],left=!1,sign=!1,pad=" ","%"!=conversion){if(0===args.length)throw new Error("too few args to sprintf");if(arg=args.shift(),argn++,flags.match(/[\' #]/))throw new Error("unsupported flags: "+flags);if(precision.length>0)throw new Error("non-zero precision not supported");switch(flags.match(/-/)&&(left=!0),flags.match(/0/)&&(pad="0"),flags.match(/\+/)&&(sign=!0),conversion){case"s":if(arg===undefined||null===arg)throw new Error("argument "+argn+": attempted to print undefined or null as a string");ret+=doPad(pad,width,left,arg.toString());break;case"d":arg=Math.floor(arg);case"f":ret+=(sign=sign&&arg>0?"+":"")+doPad(pad,width,left,arg.toString());break;case"j":0===width&&(width=10),ret+=mod_util.inspect(arg,!1,width);break;case"r":ret+=dumpException(arg);break;default:throw new Error("unsupported conversion: "+conversion)}}else ret+="%";return ret+=fmt}function doPad(chr,width,left,str){for(var ret=str;ret.length<width;)left?ret+=chr:ret=chr+ret;return ret}function dumpException(ex){var ret;if(!(ex instanceof Error))throw new Error(jsSprintf("invalid type for %%r: %j",ex));if(ret="EXCEPTION: "+ex.constructor.name+": "+ex.stack,ex.cause&&"function"==typeof ex.cause){var cex=ex.cause();cex&&(ret+="\nCaused by: "+dumpException(cex))}return ret}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},mod_assert=require("assert"),mod_util=require("util");exports.sprintf=jsSprintf},{assert:64,util:635}],447:[function(require,module,exports){"use strict";function getConnectionName(host,port){return"string"==typeof host?host+":"+port:host.host+":"+host.port+":"+(host.localAddress?host.localAddress+":":":")}function ForeverAgent(options){var self=this;self.options=options||{},self.requests={},self.sockets={},self.freeSockets={},self.maxSockets=self.options.maxSockets||Agent.defaultMaxSockets,self.minSockets=self.options.minSockets||ForeverAgent.defaultMinSockets,self.on("free",function(socket,host,port){var name=getConnectionName(host,port);if(self.requests[name]&&self.requests[name].length)self.requests[name].shift().onSocket(socket);else if(self.sockets[name].length<self.minSockets){self.freeSockets[name]||(self.freeSockets[name]=[]),self.freeSockets[name].push(socket);var onIdleError=function(){socket.destroy()};socket._onIdleError=onIdleError,socket.on("error",onIdleError)}else socket.destroy()})}function ForeverAgentSSL(options){ForeverAgent.call(this,options)}function createConnectionSSL(port,host,options){return options="object"===(void 0===port?"undefined":_typeof(port))?port:"object"===(void 0===host?"undefined":_typeof(host))?host:"object"===(void 0===options?"undefined":_typeof(options))?options:{},"number"==typeof port&&(options.port=port),"string"==typeof host&&(options.host=host),tls.connect(options)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=ForeverAgent,ForeverAgent.SSL=ForeverAgentSSL;var util=require("util"),Agent=require("http").Agent,net=require("net"),tls=require("tls"),AgentSSL=require("https").Agent;util.inherits(ForeverAgent,Agent),ForeverAgent.defaultMinSockets=5,ForeverAgent.prototype.createConnection=net.createConnection,ForeverAgent.prototype.addRequestNoreuse=Agent.prototype.addRequest,ForeverAgent.prototype.addRequest=function(req,host,port){var name=getConnectionName(host,port);if("string"!=typeof host){var options=host;port=options.port,host=options.host}if(this.freeSockets[name]&&this.freeSockets[name].length>0&&!req.useChunkedEncodingByDefault){var idleSocket=this.freeSockets[name].pop();idleSocket.removeListener("error",idleSocket._onIdleError),delete idleSocket._onIdleError,req._reusedSocket=!0,req.onSocket(idleSocket)}else this.addRequestNoreuse(req,host,port)},ForeverAgent.prototype.removeSocket=function(s,name,host,port){if(this.sockets[name]?-1!==(index=this.sockets[name].indexOf(s))&&this.sockets[name].splice(index,1):this.sockets[name]&&0===this.sockets[name].length&&(delete this.sockets[name],delete this.requests[name]),this.freeSockets[name]){var index=this.freeSockets[name].indexOf(s);-1!==index&&(this.freeSockets[name].splice(index,1),0===this.freeSockets[name].length&&delete this.freeSockets[name])}this.requests[name]&&this.requests[name].length&&this.createSocket(name,host,port).emit("free")},util.inherits(ForeverAgentSSL,ForeverAgent),ForeverAgentSSL.prototype.createConnection=createConnectionSSL,ForeverAgentSSL.prototype.addRequestNoreuse=AgentSSL.prototype.addRequest},{http:611,https:484,net:101,tls:101,util:635}],448:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports="object"==("undefined"==typeof self?"undefined":_typeof(self))?self.FormData:window.FormData},{}],449:[function(require,module,exports){module.exports={id:"afterRequest.json#",type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}}},{}],450:[function(require,module,exports){module.exports={id:"beforeRequest.json#",type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}}},{}],451:[function(require,module,exports){module.exports={id:"browser.json#",type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}}},{}],452:[function(require,module,exports){module.exports={id:"cache.json#",properties:{beforeRequest:{oneOf:[{type:"null"},{$ref:"beforeRequest.json#"}]},afterRequest:{oneOf:[{type:"null"},{$ref:"afterRequest.json#"}]},comment:{type:"string"}}}},{}],453:[function(require,module,exports){module.exports={id:"content.json#",type:"object",required:["size","mimeType"],properties:{size:{type:"integer"},compression:{type:"integer"},mimeType:{type:"string"},text:{type:"string"},encoding:{type:"string"},comment:{type:"string"}}}},{}],454:[function(require,module,exports){module.exports={id:"cookie.json#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},path:{type:"string"},domain:{type:"string"},expires:{type:["string","null"],format:"date-time"},httpOnly:{type:"boolean"},secure:{type:"boolean"},comment:{type:"string"}}}},{}],455:[function(require,module,exports){module.exports={id:"creator.json#",type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}}},{}],456:[function(require,module,exports){module.exports={id:"entry.json#",type:"object",optional:!0,required:["startedDateTime","time","request","response","cache","timings"],properties:{pageref:{type:"string"},startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},time:{type:"number",min:0},request:{$ref:"request.json#"},response:{$ref:"response.json#"},cache:{$ref:"cache.json#"},timings:{$ref:"timings.json#"},serverIPAddress:{type:"string",oneOf:[{format:"ipv4"},{format:"ipv6"}]},connection:{type:"string"},comment:{type:"string"}}}},{}],457:[function(require,module,exports){module.exports={id:"har.json#",type:"object",required:["log"],properties:{log:{$ref:"log.json#"}}}},{}],458:[function(require,module,exports){module.exports={id:"header.json#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string"}}}},{}],459:[function(require,module,exports){"use strict";module.exports={afterRequest:require("./afterRequest.json"),beforeRequest:require("./beforeRequest.json"),browser:require("./browser.json"),cache:require("./cache.json"),content:require("./content.json"),cookie:require("./cookie.json"),creator:require("./creator.json"),entry:require("./entry.json"),har:require("./har.json"),header:require("./header.json"),log:require("./log.json"),page:require("./page.json"),pageTimings:require("./pageTimings.json"),postData:require("./postData.json"),query:require("./query.json"),request:require("./request.json"),response:require("./response.json"),timings:require("./timings.json")}},{"./afterRequest.json":449,"./beforeRequest.json":450,"./browser.json":451,"./cache.json":452,"./content.json":453,"./cookie.json":454,"./creator.json":455,"./entry.json":456,"./har.json":457,"./header.json":458,"./log.json":460,"./page.json":461,"./pageTimings.json":462,"./postData.json":463,"./query.json":464,"./request.json":465,"./response.json":466,"./timings.json":467}],460:[function(require,module,exports){module.exports={id:"log.json#",type:"object",required:["version","creator","entries"],properties:{version:{type:"string"},creator:{$ref:"creator.json#"},browser:{$ref:"browser.json#"},pages:{type:"array",items:{$ref:"page.json#"}},entries:{type:"array",items:{$ref:"entry.json#"}},comment:{type:"string"}}}},{}],461:[function(require,module,exports){module.exports={id:"page.json#",type:"object",optional:!0,required:["startedDateTime","id","title","pageTimings"],properties:{startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},id:{type:"string",unique:!0},title:{type:"string"},pageTimings:{$ref:"pageTimings.json#"},comment:{type:"string"}}}},{}],462:[function(require,module,exports){module.exports={id:"pageTimings.json#",type:"object",properties:{onContentLoad:{type:"number",min:-1},onLoad:{type:"number",min:-1},comment:{type:"string"}}}},{}],463:[function(require,module,exports){module.exports={id:"postData.json#",type:"object",optional:!0,required:["mimeType"],properties:{mimeType:{type:"string"},text:{type:"string"},params:{type:"array",required:["name"],properties:{name:{type:"string"},value:{type:"string"},fileName:{type:"string"},contentType:{type:"string"},comment:{type:"string"}}},comment:{type:"string"}}}},{}],464:[function(require,module,exports){module.exports={id:"query.json#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string"}}}},{}],465:[function(require,module,exports){module.exports={id:"request.json#",type:"object",required:["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],properties:{method:{type:"string"},url:{type:"string",format:"uri"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},queryString:{type:"array",items:{$ref:"query.json#"}},postData:{$ref:"postData.json#"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}}},{}],466:[function(require,module,exports){module.exports={id:"response.json#",type:"object",required:["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],properties:{status:{type:"integer"},statusText:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},content:{$ref:"content.json#"},redirectURL:{type:"string"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}}},{}],467:[function(require,module,exports){module.exports={id:"timings.json#",required:["send","wait","receive"],properties:{dns:{type:"number",min:-1},connect:{type:"number",min:-1},blocked:{type:"number",min:-1},send:{type:"number",min:-1},wait:{type:"number",min:-1},receive:{type:"number",min:-1},ssl:{type:"number",min:-1},comment:{type:"string"}}}},{}],468:[function(require,module,exports){"use strict";function HARError(errors){this.name="HARError",this.message="validation failed",this.errors=errors,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error("validation failed").stack}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=HARError,HARError.prototype=Error.prototype,module.exports=exports["default"]},{}],469:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function validate(name){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},validate=(ajv=ajv||new _ajv2["default"]({allErrors:!0,schemas:schemas})).getSchema(name+".json");return new Promise(function(resolve,reject){validate(data)?resolve(data):reject(new _error2["default"](validate.errors))})}function afterRequest(data){return validate("afterRequest",data)}function beforeRequest(data){return validate("beforeRequest",data)}function browser(data){return validate("browser",data)}function cache(data){return validate("cache",data)}function content(data){return validate("content",data)}function cookie(data){return validate("cookie",data)}function creator(data){return validate("creator",data)}function entry(data){return validate("entry",data)}function har(data){return validate("har",data)}function header(data){return validate("header",data)}function log(data){return validate("log",data)}function page(data){return validate("page",data)}function pageTimings(data){return validate("pageTimings",data)}function postData(data){return validate("postData",data)}function query(data){return validate("query",data)}function request(data){return validate("request",data)}function response(data){return validate("response",data)}function timings(data){return validate("timings",data)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate=validate,exports.afterRequest=afterRequest,exports.beforeRequest=beforeRequest,exports.browser=browser,exports.cache=cache,exports.content=content,exports.cookie=cookie,exports.creator=creator,exports.entry=entry,exports.har=har,exports.header=header,exports.log=log,exports.page=page,exports.pageTimings=pageTimings,exports.postData=postData,exports.query=query,exports.request=request,exports.response=response,exports.timings=timings;var schemas=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}(require("har-schema")),_ajv2=_interopRequireDefault(require("ajv")),_error2=_interopRequireDefault(require("./error")),ajv=void 0},{"./error":468,ajv:1,"har-schema":459}],470:[function(require,module,exports){"use strict";var hash=exports;hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":471,"./hash/hmac":472,"./hash/ripemd":473,"./hash/sha":474,"./hash/utils":475}],471:[function(require,module,exports){"use strict";function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var utils=require("../hash").utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(msg,enc){if(msg=utils.toArray(msg,enc),this.pending?this.pending=this.pending.concat(msg):this.pending=msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){var r=(msg=this.pending).length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else{res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},{"../hash":470}],472:[function(require,module,exports){"use strict";function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(key,enc))}var utils=require("../hash").utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(i=key.length;i<this.blockSize;i++)key.push(0);for(i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},{"../hash":470}],473:[function(require,module,exports){"use strict";function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(j,x,y,z){return j<=15?x^y^z:j<=31?x&y|~x&z:j<=47?(x|~y)^z:j<=63?x&z|y&~z:x^(y|~z)}function K(j){return j<=15?0:j<=31?1518500249:j<=47?1859775393:j<=63?2400959708:2840853838}function Kh(j){return j<=15?1352829926:j<=31?1548603684:j<=47?1836072691:j<=63?2053994217:0}var hash=require("../hash"),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T}T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":470}],474:[function(require,module,exports){"use strict";function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?p32(x,y,z):2===s?maj32(x,y,z):void 0}function ch64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^~xh&zh;return r<0&&(r+=4294967296),r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;return r<0&&(r+=4294967296),r}function maj64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^xh&zh^yh&zh;return r<0&&(r+=4294967296),r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;return r<0&&(r+=4294967296),r}function s0_512_hi(xh,xl){var r=rotr64_hi(xh,xl,28)^rotr64_hi(xl,xh,2)^rotr64_hi(xl,xh,7);return r<0&&(r+=4294967296),r}function s0_512_lo(xh,xl){var r=rotr64_lo(xh,xl,28)^rotr64_lo(xl,xh,2)^rotr64_lo(xl,xh,7);return r<0&&(r+=4294967296),r}function s1_512_hi(xh,xl){var r=rotr64_hi(xh,xl,14)^rotr64_hi(xh,xl,18)^rotr64_hi(xl,xh,9);return r<0&&(r+=4294967296),r}function s1_512_lo(xh,xl){var r=rotr64_lo(xh,xl,14)^rotr64_lo(xh,xl,18)^rotr64_lo(xl,xh,9);return r<0&&(r+=4294967296),r}function g0_512_hi(xh,xl){var r=rotr64_hi(xh,xl,1)^rotr64_hi(xh,xl,8)^shr64_hi(xh,xl,7);return r<0&&(r+=4294967296),r}function g0_512_lo(xh,xl){var r=rotr64_lo(xh,xl,1)^rotr64_lo(xh,xl,8)^shr64_lo(xh,xl,7);return r<0&&(r+=4294967296),r}function g1_512_hi(xh,xl){var r=rotr64_hi(xh,xl,19)^rotr64_hi(xl,xh,29)^shr64_hi(xh,xl,6);return r<0&&(r+=4294967296),r}function g1_512_lo(xh,xl){var r=rotr64_lo(xh,xl,19)^rotr64_lo(xl,xh,29)^shr64_lo(xh,xl,6);return r<0&&(r+=4294967296),r}var hash=require("../hash"),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];assert(this.k.length===W.length);for(i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c));h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]),c0_lo=g1_512_lo(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=g0_512_hi(W[i-30],W[i-29]),c2_lo=g0_512_lo(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh,c0_lo=hl,c1_hi=s1_512_hi(eh,el),c1_lo=s1_512_lo(eh,el),c2_hi=ch64_hi(eh,el,fh,fl,gh,gl),c2_lo=ch64_lo(eh,el,fh,fl,gh,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=W[i],c4_lo=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),c0_hi=s0_512_hi(ah,al),c0_lo=s0_512_lo(ah,al),c1_hi=maj64_hi(ah,al,bh,bl,ch,cl),c1_lo=maj64_lo(ah,al,bh,bl,ch,cl),T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);for(var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],i=0;i<W.length;i++){var s=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d,d=c,c=rotl32(b,30),b=a,a=t}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../hash":470}],475:[function(require,module,exports){"use strict";function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc){(msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg);for(i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function htonl(w){return(w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24)>>>0}function toHex32(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w)),res+=zero8(w.toString(16))}return res}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}function join32(msg,start,end,endian){var len=end-start;assert(len%4==0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w;w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k],res[i]=w>>>0}return res}function split32(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res}function rotr32(w,b){return w>>>b|w<<32-b}function rotl32(w,b){return w<<b|w>>>32-b}function sum32(a,b){return a+b>>>0}function sum32_3(a,b,c){return a+b+c>>>0}function sum32_4(a,b,c,d){return a+b+c+d>>>0}function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}function sum64(buf,pos,ah,al){var bh=buf[pos],lo=al+buf[pos+1]>>>0,hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0,buf[pos+1]=lo}function sum64_hi(ah,al,bh,bl){return(al+bl>>>0<al?1:0)+ah+bh>>>0}function sum64_lo(ah,al,bh,bl){return al+bl>>>0}function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;return carry+=(lo=lo+bl>>>0)<al?1:0,carry+=(lo=lo+cl>>>0)<cl?1:0,ah+bh+ch+dh+(carry+=(lo=lo+dl>>>0)<dl?1:0)>>>0}function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){return al+bl+cl+dl>>>0}function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;return carry+=(lo=lo+bl>>>0)<al?1:0,carry+=(lo=lo+cl>>>0)<cl?1:0,carry+=(lo=lo+dl>>>0)<dl?1:0,ah+bh+ch+dh+eh+(carry+=(lo=lo+el>>>0)<el?1:0)>>>0}function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){return al+bl+cl+dl+el>>>0}function rotr64_hi(ah,al,num){return(al<<32-num|ah>>>num)>>>0}function rotr64_lo(ah,al,num){return(ah<<32-num|al>>>num)>>>0}function shr64_hi(ah,al,num){return ah>>>num}function shr64_lo(ah,al,num){return(ah<<32-num|al>>>num)>>>0}var utils=exports,inherits=require("inherits");utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo},{inherits:487}],476:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},hawk={internals:{}};hawk.client={header:function(uri,method,options){var result={field:"",artifacts:{}};if(!uri||"string"!=typeof uri&&"object"!==(void 0===uri?"undefined":_typeof(uri))||!method||"string"!=typeof method||!options||"object"!==(void 0===options?"undefined":_typeof(options)))return result.err="Invalid argument type",result;var timestamp=options.timestamp||hawk.utils.now(options.localtimeOffsetMsec),credentials=options.credentials;if(!(credentials&&credentials.id&&credentials.key&&credentials.algorithm))return result.err="Invalid credentials object",result;if(-1===hawk.crypto.algorithms.indexOf(credentials.algorithm))return result.err="Unknown algorithm",result;"string"==typeof uri&&(uri=hawk.utils.parseUri(uri));var artifacts={ts:timestamp,nonce:options.nonce||hawk.utils.randomString(6),method:method,resource:uri.resource,host:uri.host,port:uri.port,hash:options.hash,ext:options.ext,app:options.app,dlg:options.dlg};result.artifacts=artifacts,artifacts.hash||!options.payload&&""!==options.payload||(artifacts.hash=hawk.crypto.calculatePayloadHash(options.payload,credentials.algorithm,options.contentType));var mac=hawk.crypto.calculateMac("header",credentials,artifacts),hasExt=null!==artifacts.ext&&artifacts.ext!==undefined&&""!==artifacts.ext,header='Hawk id="'+credentials.id+'", ts="'+artifacts.ts+'", nonce="'+artifacts.nonce+(artifacts.hash?'", hash="'+artifacts.hash:"")+(hasExt?'", ext="'+hawk.utils.escapeHeaderAttribute(artifacts.ext):"")+'", mac="'+mac+'"';return artifacts.app&&(header+=', app="'+artifacts.app+(artifacts.dlg?'", dlg="'+artifacts.dlg:"")+'"'),result.field=header,result},bewit:function(uri,options){if(!uri||"string"!=typeof uri||!options||"object"!==(void 0===options?"undefined":_typeof(options))||!options.ttlSec)return"";options.ext=null===options.ext||options.ext===undefined?"":options.ext;var now=hawk.utils.now(options.localtimeOffsetMsec),credentials=options.credentials;if(!(credentials&&credentials.id&&credentials.key&&credentials.algorithm))return"";if(-1===hawk.crypto.algorithms.indexOf(credentials.algorithm))return"";uri=hawk.utils.parseUri(uri);var exp=now+options.ttlSec,mac=hawk.crypto.calculateMac("bewit",credentials,{ts:exp,nonce:"",method:"GET",resource:uri.resource,host:uri.host,port:uri.port,ext:options.ext}),bewit=credentials.id+"\\"+exp+"\\"+mac+"\\"+options.ext;return hawk.utils.base64urlEncode(bewit)},authenticate:function(request,credentials,artifacts,options){options=options||{};var getHeader=function(name){return request.getResponseHeader?request.getResponseHeader(name):request.getHeader(name)},wwwAuthenticate=getHeader("www-authenticate");if(wwwAuthenticate){var wwwAttributes=hawk.utils.parseAuthorizationHeader(wwwAuthenticate,["ts","tsm","error"]);if(!wwwAttributes)return!1;if(wwwAttributes.ts){if(hawk.crypto.calculateTsMac(wwwAttributes.ts,credentials)!==wwwAttributes.tsm)return!1;hawk.utils.setNtpOffset(wwwAttributes.ts-Math.floor((new Date).getTime()/1e3))}}var serverAuthorization=getHeader("server-authorization");if(!serverAuthorization&&!options.required)return!0;var attributes=hawk.utils.parseAuthorizationHeader(serverAuthorization,["mac","ext","hash"]);if(!attributes)return!1;var modArtifacts={ts:artifacts.ts,nonce:artifacts.nonce,method:artifacts.method,resource:artifacts.resource,host:artifacts.host,port:artifacts.port,hash:attributes.hash,ext:attributes.ext,app:artifacts.app,dlg:artifacts.dlg};return hawk.crypto.calculateMac("response",credentials,modArtifacts)===attributes.mac&&(!options.payload&&""!==options.payload||!!attributes.hash&&hawk.crypto.calculatePayloadHash(options.payload,credentials.algorithm,getHeader("content-type"))===attributes.hash)},message:function(host,port,_message,options){if(!host||"string"!=typeof host||!port||"number"!=typeof port||null===_message||_message===undefined||"string"!=typeof _message||!options||"object"!==(void 0===options?"undefined":_typeof(options)))return null;var timestamp=options.timestamp||hawk.utils.now(options.localtimeOffsetMsec),credentials=options.credentials;if(!(credentials&&credentials.id&&credentials.key&&credentials.algorithm))return null;if(-1===hawk.crypto.algorithms.indexOf(credentials.algorithm))return null;var artifacts={ts:timestamp,nonce:options.nonce||hawk.utils.randomString(6),host:host,port:port,hash:hawk.crypto.calculatePayloadHash(_message,credentials.algorithm)};return{id:credentials.id,ts:artifacts.ts,nonce:artifacts.nonce,hash:artifacts.hash,mac:hawk.crypto.calculateMac("message",credentials,artifacts)}},authenticateTimestamp:function(message,credentials,updateClock){return hawk.crypto.calculateTsMac(message.ts,credentials)===message.tsm&&(!1!==updateClock&&hawk.utils.setNtpOffset(message.ts-Math.floor((new Date).getTime()/1e3)),!0)}},hawk.crypto={headerVersion:"1",algorithms:["sha1","sha256"],calculateMac:function(type,credentials,options){var normalized=hawk.crypto.generateNormalizedString(type,options);return CryptoJS["Hmac"+credentials.algorithm.toUpperCase()](normalized,credentials.key).toString(CryptoJS.enc.Base64)},generateNormalizedString:function(type,options){var normalized="hawk."+hawk.crypto.headerVersion+"."+type+"\n"+options.ts+"\n"+options.nonce+"\n"+(options.method||"").toUpperCase()+"\n"+(options.resource||"")+"\n"+options.host.toLowerCase()+"\n"+options.port+"\n"+(options.hash||"")+"\n";return options.ext&&(normalized+=options.ext.replace("\\","\\\\").replace("\n","\\n")),normalized+="\n",options.app&&(normalized+=options.app+"\n"+(options.dlg||"")+"\n"),normalized},calculatePayloadHash:function(payload,algorithm,contentType){var hash=CryptoJS.algo[algorithm.toUpperCase()].create();return hash.update("hawk."+hawk.crypto.headerVersion+".payload\n"),hash.update(hawk.utils.parseContentType(contentType)+"\n"),hash.update(payload),hash.update("\n"),hash.finalize().toString(CryptoJS.enc.Base64)},calculateTsMac:function(ts,credentials){return CryptoJS["Hmac"+credentials.algorithm.toUpperCase()]("hawk."+hawk.crypto.headerVersion+".ts\n"+ts+"\n",credentials.key).toString(CryptoJS.enc.Base64)}},hawk.internals.LocalStorage=function(){this._cache={},this.length=0,this.getItem=function(key){return this._cache.hasOwnProperty(key)?String(this._cache[key]):null},this.setItem=function(key,value){this._cache[key]=String(value),this.length=Object.keys(this._cache).length},this.removeItem=function(key){delete this._cache[key],this.length=Object.keys(this._cache).length},this.clear=function(){this._cache={},this.length=0},this.key=function(i){return Object.keys(this._cache)[i||0]}},hawk.utils={storage:new hawk.internals.LocalStorage,setStorage:function(storage){var ntpOffset=hawk.utils.storage.getItem("hawk_ntp_offset");hawk.utils.storage=storage,ntpOffset&&hawk.utils.setNtpOffset(ntpOffset)},setNtpOffset:function(offset){try{hawk.utils.storage.setItem("hawk_ntp_offset",offset)}catch(err){console.error("[hawk] could not write to storage."),console.error(err)}},getNtpOffset:function(){var offset=hawk.utils.storage.getItem("hawk_ntp_offset");return offset?parseInt(offset,10):0},now:function(localtimeOffsetMsec){return Math.floor(((new Date).getTime()+(localtimeOffsetMsec||0))/1e3)+hawk.utils.getNtpOffset()},escapeHeaderAttribute:function(attribute){return attribute.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},parseContentType:function(header){return header?header.split(";")[0].replace(/^\s+|\s+$/g,"").toLowerCase():""},parseAuthorizationHeader:function(header,keys){if(!header)return null;var headerParts=header.match(/^(\w+)(?:\s+(.*))?$/);if(!headerParts)return null;if("hawk"!==headerParts[1].toLowerCase())return null;var attributesString=headerParts[2];if(!attributesString)return null;var attributes={};return""!==attributesString.replace(/(\w+)="([^"\\]*)"\s*(?:,\s*|$)/g,function($0,$1,$2){if(-1!==keys.indexOf($1)&&null!==$2.match(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~]+$/)&&!attributes.hasOwnProperty($1))return attributes[$1]=$2,""})?null:attributes},randomString:function(size){for(var randomSource="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",len=randomSource.length,result=[],i=0;i<size;++i)result[i]=randomSource[Math.floor(Math.random()*len)];return result.join("")},uriRegex:/^([^:]+)\:\/\/(?:[^@]*@)?([^\/:]+)(?:\:(\d+))?([^#]*)(?:#.*)?$/,parseUri:function(input){var parts=input.match(hawk.utils.uriRegex);if(!parts)return{host:"",port:"",resource:""};var scheme=parts[1].toLowerCase();return{host:parts[2],port:parts[3]||("http"===scheme?"80":"https"===scheme?"443":""),resource:parts[4]}},base64urlEncode:function(value){var wordArray=CryptoJS.enc.Utf8.parse(value);return CryptoJS.enc.Base64.stringify(wordArray).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}};var CryptoJS=CryptoJS||function(h,r){var k={},l=k.lib={},n=function(){},f=l.Base={extend:function(a){n.prototype=this;var b=new n;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},j=l.WordArray=f.extend({init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},toString:function(a){return(a||s).stringify(this)},concat:function(a){var b=this.words,d=a.words,c=this.sigBytes;if(a=a.sigBytes,this.clamp(),c%4)for(var e=0;e<a;e++)b[c+e>>>2]|=(d[e>>>2]>>>24-e%4*8&255)<<24-(c+e)%4*8;else if(65535<d.length)for(e=0;e<a;e+=4)b[c+e>>>2]=d[e>>>2];else b.push.apply(b,d);return this.sigBytes+=a,this},clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-b%4*8,a.length=h.ceil(b/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var b=[],d=0;d<a;d+=4)b.push(4294967296*h.random()|0);return new j.init(b,a)}}),m=k.enc={},s=m.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var d=[],c=0;c<a;c++){var e=b[c>>>2]>>>24-c%4*8&255;d.push((e>>>4).toString(16)),d.push((15&e).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c+=2)d[c>>>3]|=parseInt(a.substr(c,2),16)<<24-c%8*4;return new j.init(d,b/2)}},p=m.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var d=[],c=0;c<a;c++)d.push(String.fromCharCode(b[c>>>2]>>>24-c%4*8&255));return d.join("")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c++)d[c>>>2]|=(255&a.charCodeAt(c))<<24-c%4*8;return new j.init(d,b)}},t=m.Utf8={stringify:function(a){try{return decodeURIComponent(escape(p.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return p.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new j.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=t.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var b=this._data,d=b.words,c=b.sigBytes,e=this.blockSize,f=c/(4*e);if(a=(f=a?h.ceil(f):h.max((0|f)-this._minBufferSize,0))*e,c=h.min(4*a,c),a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a),b.sigBytes-=c}return new j.init(g,c)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});l.Hasher=q.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){q.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return new a.init(d).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return new u.HMAC.init(a,d).finalize(b)}}});var u=k.algo={};return k}(Math);!function(){var k=CryptoJS,m=(b=k.lib).WordArray,l=b.Hasher,d=[],b=k.algo.SHA1=l.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,p){for(var a=this._hash.words,e=a[0],f=a[1],h=a[2],j=a[3],b=a[4],c=0;80>c;c++){if(16>c)d[c]=0|n[p+c];else{var g=d[c-3]^d[c-8]^d[c-14]^d[c-16];d[c]=g<<1|g>>>31}g=(e<<5|e>>>27)+b+d[c],g=20>c?g+(1518500249+(f&h|~f&j)):40>c?g+(1859775393+(f^h^j)):60>c?g+((f&h|f&j|h&j)-1894007588):g+((f^h^j)-899497514),b=j,j=h,h=f<<30|f>>>2,f=e,e=g}a[0]=a[0]+e|0,a[1]=a[1]+f|0,a[2]=a[2]+h|0,a[3]=a[3]+j|0,a[4]=a[4]+b|0},_doFinalize:function(){var b=this._data,d=b.words,a=8*this._nDataBytes,e=8*b.sigBytes;return d[e>>>5]|=128<<24-e%32,d[14+(e+64>>>9<<4)]=Math.floor(a/4294967296),d[15+(e+64>>>9<<4)]=a,b.sigBytes=4*d.length,this._process(),this._hash},clone:function(){var b=l.clone.call(this);return b._hash=this._hash.clone(),b}});k.SHA1=l._createHelper(b),k.HmacSHA1=l._createHmacHelper(b)}(),function(k){for(var g=CryptoJS,v=(h=g.lib).WordArray,j=h.Hasher,h=g.algo,s=[],t=[],u=function(q){return 4294967296*(q-(0|q))|0},l=2,b=0;64>b;){var d;a:{d=l;for(var w=k.sqrt(d),r=2;r<=w;r++)if(!(d%r)){d=!1;break a}d=!0}d&&(8>b&&(s[b]=u(k.pow(l,.5))),t[b]=u(k.pow(l,1/3)),b++),l++}var n=[],h=h.SHA256=j.extend({_doReset:function(){this._hash=new v.init(s.slice(0))},_doProcessBlock:function(q,h){for(var a=this._hash.words,c=a[0],d=a[1],b=a[2],k=a[3],f=a[4],g=a[5],j=a[6],l=a[7],e=0;64>e;e++){if(16>e)n[e]=0|q[h+e];else{var m=n[e-15],p=n[e-2];n[e]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+n[e-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+n[e-16]}m=l+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&g^~f&j)+t[e]+n[e],p=((c<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22))+(c&d^c&b^d&b),l=j,j=g,g=f,f=k+m|0,k=b,b=d,d=c,c=m+p|0}a[0]=a[0]+c|0,a[1]=a[1]+d|0,a[2]=a[2]+b|0,a[3]=a[3]+k|0,a[4]=a[4]+f|0,a[5]=a[5]+g|0,a[6]=a[6]+j|0,a[7]=a[7]+l|0},_doFinalize:function(){var d=this._data,b=d.words,a=8*this._nDataBytes,c=8*d.sigBytes;return b[c>>>5]|=128<<24-c%32,b[14+(c+64>>>9<<4)]=k.floor(a/4294967296),b[15+(c+64>>>9<<4)]=a,d.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var b=j.clone.call(this);return b._hash=this._hash.clone(),b}});g.SHA256=j._createHelper(h),g.HmacSHA256=j._createHmacHelper(h)}(Math),function(){var c=CryptoJS,k=c.enc.Utf8;c.algo.HMAC=c.lib.Base.extend({init:function(a,b){a=this._hasher=new a.init,"string"==typeof b&&(b=k.parse(b));var c=a.blockSize,e=4*c;b.sigBytes>e&&(b=a.finalize(b)),b.clamp();for(var f=this._oKey=b.clone(),g=this._iKey=b.clone(),h=f.words,j=g.words,d=0;d<c;d++)h[d]^=1549556828,j[d]^=909522486;f.sigBytes=g.sigBytes=e,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher;return a=b.finalize(a),b.reset(),b.finalize(this._oKey.clone().concat(a))}})}(),function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp(),b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,g=0;4>g&&a+.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join("")},parse:function(b){var e=b.length,f=this._map;(c=f.charAt(64))&&-1!=(c=b.indexOf(c))&&(e=c);for(var c=[],a=0,d=0;d<e;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<d%4*2,h=f.indexOf(b.charAt(d))>>>6-d%4*2;c[a>>>2]|=(g|h)<<24-a%4*8,a++}return j.create(c,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),hawk.crypto.internals=CryptoJS,void 0!==module&&module.exports&&(module.exports=hawk)},{}],477:[function(require,module,exports){"use strict";function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc||"hex"),nonce=utils.toArray(options.nonce,options.nonceEnc||"hex"),pers=utils.toArray(options.pers,options.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}var hash=require("hash.js"),utils=require("minimalistic-crypto-utils"),assert=require("minimalistic-assert");module.exports=HmacDRBG,HmacDRBG.prototype._init=function(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toArray(entropy,entropyEnc),add=utils.toArray(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this._reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils.toArray(add,addEnc||"hex"),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this._reseed++,utils.encode(res,enc)}},{"hash.js":470,"minimalistic-assert":510,"minimalistic-crypto-utils":511}],478:[function(require,module,exports){"use strict";function Response(statusCode,headers,body,url){if("number"!=typeof statusCode)throw new TypeError("statusCode must be a number but was "+(void 0===statusCode?"undefined":_typeof(statusCode)));if(null===headers)throw new TypeError("headers cannot be null");if("object"!==(void 0===headers?"undefined":_typeof(headers)))throw new TypeError("headers must be an object but was "+(void 0===headers?"undefined":_typeof(headers)));this.statusCode=statusCode,this.headers={};for(var key in headers)this.headers[key.toLowerCase()]=headers[key];this.body=body,this.url=url}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=Response,Response.prototype.getBody=function(encoding){if(this.statusCode>=300){var err=new Error("Server responded with status code "+this.statusCode+":\n"+this.body.toString());throw err.statusCode=this.statusCode,err.headers=this.headers,err.body=this.body,err.url=this.url,err}return encoding?this.body.toString(encoding):this.body}},{}],479:[function(require,module,exports){"use strict";var parser=require("./parser"),signer=require("./signer"),verify=require("./verify"),utils=require("./utils");module.exports={parse:parser.parseRequest,parseRequest:parser.parseRequest,sign:signer.signRequest,signRequest:signer.signRequest,createSigner:signer.createSigner,isSigner:signer.isSigner,sshKeyToPEM:utils.sshKeyToPEM,sshKeyFingerprint:utils.fingerprint,pemToRsaSSHKey:utils.pemToRsaSSHKey,verify:verify.verifySignature,verifySignature:verify.verifySignature,verifyHMAC:verify.verifyHMAC}},{"./parser":480,"./signer":481,"./utils":482,"./verify":483}],480:[function(require,module,exports){"use strict";function ExpiredRequestError(message){HttpSignatureError.call(this,message,ExpiredRequestError)}function InvalidHeaderError(message){HttpSignatureError.call(this,message,InvalidHeaderError)}function InvalidParamsError(message){HttpSignatureError.call(this,message,InvalidParamsError)}function MissingHeaderError(message){HttpSignatureError.call(this,message,MissingHeaderError)}function StrictParsingError(message){HttpSignatureError.call(this,message,StrictParsingError)}var assert=require("assert-plus"),util=require("util"),utils=require("./utils"),HttpSignatureError=(utils.HASH_ALGOS,utils.PK_ALGOS,utils.HttpSignatureError),InvalidAlgorithmError=utils.InvalidAlgorithmError,validateAlgorithm=utils.validateAlgorithm,State={New:0,Params:1},ParamsState={Name:0,Quote:1,Value:2,Comma:3};util.inherits(ExpiredRequestError,HttpSignatureError),util.inherits(InvalidHeaderError,HttpSignatureError),util.inherits(InvalidParamsError,HttpSignatureError),util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),module.exports={parseRequest:function(request,options){if(assert.object(request,"request"),assert.object(request.headers,"request.headers"),options===undefined&&(options={}),options.headers===undefined&&(options.headers=[request.headers["x-date"]?"x-date":"date"]),assert.object(options,"options"),assert.arrayOfString(options.headers,"options.headers"),assert.optionalNumber(options.clockSkew,"options.clockSkew"),!request.headers.authorization)throw new MissingHeaderError("no authorization header present in the request");options.clockSkew=options.clockSkew||300;var i=0,state=State.New,substate=ParamsState.Name,tmpName="",tmpValue="",parsed={scheme:"",params:{},signingString:"",get algorithm(){return this.params.algorithm.toUpperCase()},get keyId(){return this.params.keyId}},authz=request.headers.authorization;for(i=0;i<authz.length;i++){var c=authz.charAt(i);switch(Number(state)){case State.New:" "!==c?parsed.scheme+=c:state=State.Params;break;case State.Params:switch(Number(substate)){case ParamsState.Name:var code=c.charCodeAt(0);if(code>=65&&code<=90||code>=97&&code<=122)tmpName+=c;else{if("="!==c)throw new InvalidHeaderError("bad param format");if(0===tmpName.length)throw new InvalidHeaderError("bad param format");substate=ParamsState.Quote}break;case ParamsState.Quote:if('"'!==c)throw new InvalidHeaderError("bad param format");tmpValue="",substate=ParamsState.Value;break;case ParamsState.Value:'"'===c?(parsed.params[tmpName]=tmpValue,substate=ParamsState.Comma):tmpValue+=c;break;case ParamsState.Comma:if(","!==c)throw new InvalidHeaderError("bad param format");tmpName="",substate=ParamsState.Name;break;default:throw new Error("Invalid substate")}break;default:throw new Error("Invalid substate")}}if(parsed.params.headers&&""!==parsed.params.headers?parsed.params.headers=parsed.params.headers.split(" "):request.headers["x-date"]?parsed.params.headers=["x-date"]:parsed.params.headers=["date"],!parsed.scheme||"Signature"!==parsed.scheme)throw new InvalidHeaderError('scheme was not "Signature"');if(!parsed.params.keyId)throw new InvalidHeaderError("keyId was not specified");if(!parsed.params.algorithm)throw new InvalidHeaderError("algorithm was not specified");if(!parsed.params.signature)throw new InvalidHeaderError("signature was not specified");parsed.params.algorithm=parsed.params.algorithm.toLowerCase();try{validateAlgorithm(parsed.params.algorithm)}catch(e){throw e instanceof InvalidAlgorithmError?new InvalidParamsError(parsed.params.algorithm+" is not supported"):e}for(i=0;i<parsed.params.headers.length;i++){var h=parsed.params.headers[i].toLowerCase();if(parsed.params.headers[i]=h,"request-line"===h){if(options.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");parsed.signingString+=request.method+" "+request.url+" HTTP/"+request.httpVersion}else if("(request-target)"===h)parsed.signingString+="(request-target): "+request.method.toLowerCase()+" "+request.url;else{var value=request.headers[h];if(value===undefined)throw new MissingHeaderError(h+" was not in the request");parsed.signingString+=h+": "+value}i+1<parsed.params.headers.length&&(parsed.signingString+="\n")}var date;if(request.headers.date||request.headers["x-date"]){date=request.headers["x-date"]?new Date(request.headers["x-date"]):new Date(request.headers.date);var now=new Date,skew=Math.abs(now.getTime()-date.getTime());if(skew>1e3*options.clockSkew)throw new ExpiredRequestError("clock skew of "+skew/1e3+"s was greater than "+options.clockSkew+"s")}if(options.headers.forEach(function(hdr){if(parsed.params.headers.indexOf(hdr)<0)throw new MissingHeaderError(hdr+" was not a signed header")}),options.algorithms&&-1===options.algorithms.indexOf(parsed.params.algorithm))throw new InvalidParamsError(parsed.params.algorithm+" is not a supported algorithm");return parsed}}},{"./utils":482,"assert-plus":63,util:635}],481:[function(require,module,exports){(function(Buffer){"use strict";function MissingHeaderError(message){HttpSignatureError.call(this,message,MissingHeaderError)}function StrictParsingError(message){HttpSignatureError.call(this,message,StrictParsingError)}function RequestSigner(options){assert.object(options,"options");var alg=[];if(options.algorithm!==undefined&&(assert.string(options.algorithm,"options.algorithm"),alg=validateAlgorithm(options.algorithm)),this.rs_alg=alg,options.sign!==undefined)assert.func(options.sign,"options.sign"),this.rs_signFunc=options.sign;else if("hmac"===alg[0]&&options.key!==undefined){if(assert.string(options.keyId,"options.keyId"),this.rs_keyId=options.keyId,"string"!=typeof options.key&&!Buffer.isBuffer(options.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=crypto.createHmac(alg[1].toUpperCase(),options.key),this.rs_signer.sign=function(){var digest=this.digest("base64");return{hashAlgorithm:alg[1],toString:function(){return digest}}}}else{if(options.key===undefined)throw new TypeError("options.sign (func) or options.key is required");var key=options.key;if(("string"==typeof key||Buffer.isBuffer(key))&&(key=sshpk.parsePrivateKey(key)),assert.ok(sshpk.PrivateKey.isPrivateKey(key,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=key,assert.string(options.keyId,"options.keyId"),this.rs_keyId=options.keyId,!PK_ALGOS[key.type])throw new InvalidAlgorithmError(key.type.toUpperCase()+" type keys are not supported");if(alg[0]!==undefined&&key.type!==alg[0])throw new InvalidAlgorithmError("options.key must be a "+alg[0].toUpperCase()+" key, was given a "+key.type.toUpperCase()+" key instead");this.rs_signer=key.createSign(alg[1])}this.rs_headers=[],this.rs_lines=[]}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},assert=require("assert-plus"),crypto=require("crypto"),util=(require("http"),require("util")),sshpk=require("sshpk"),jsprim=require("jsprim"),utils=require("./utils"),sprintf=require("util").format,HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm,AUTHZ_FMT='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),RequestSigner.prototype.writeHeader=function(header,value){if(assert.string(header,"header"),header=header.toLowerCase(),assert.string(value,"value"),this.rs_headers.push(header),this.rs_signFunc)this.rs_lines.push(header+": "+value);else{var line=header+": "+value;this.rs_headers.length>0&&(line="\n"+line),this.rs_signer.update(line)}return value},RequestSigner.prototype.writeDateHeader=function(){return this.writeHeader("date",jsprim.rfc1123(new Date))},RequestSigner.prototype.writeTarget=function(method,path){assert.string(method,"method"),assert.string(path,"path"),method=method.toLowerCase(),this.writeHeader("(request-target)",method+" "+path)},RequestSigner.prototype.sign=function(cb){if(assert.func(cb,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var alg,authz;if(this.rs_signFunc){var data=this.rs_lines.join("\n"),self=this;this.rs_signFunc(data,function(err,sig){if(err)return void cb(err);try{assert.object(sig,"signature"),assert.string(sig.keyId,"signature.keyId"),assert.string(sig.algorithm,"signature.algorithm"),assert.string(sig.signature,"signature.signature"),alg=validateAlgorithm(sig.algorithm),authz=sprintf(AUTHZ_FMT,sig.keyId,sig.algorithm,self.rs_headers.join(" "),sig.signature)}catch(e){return void cb(e)}cb(null,authz)})}else{try{var sigObj=this.rs_signer.sign()}catch(e){return void cb(e)}alg=(this.rs_alg[0]||this.rs_key.type)+"-"+sigObj.hashAlgorithm;var signature=sigObj.toString();authz=sprintf(AUTHZ_FMT,this.rs_keyId,alg,this.rs_headers.join(" "),signature),cb(null,authz)}},module.exports={isSigner:function(obj){return"object"===(void 0===obj?"undefined":_typeof(obj))&&obj instanceof RequestSigner},createSigner:function(options){return new RequestSigner(options)},signRequest:function(request,options){assert.object(request,"request"),assert.object(options,"options"),assert.optionalString(options.algorithm,"options.algorithm"),assert.string(options.keyId,"options.keyId"),assert.optionalArrayOfString(options.headers,"options.headers"),assert.optionalString(options.httpVersion,"options.httpVersion"),request.getHeader("Date")||request.setHeader("Date",jsprim.rfc1123(new Date)),options.headers||(options.headers=["date"]),options.httpVersion||(options.httpVersion="1.1");var alg=[];options.algorithm&&(options.algorithm=options.algorithm.toLowerCase(),alg=validateAlgorithm(options.algorithm));var i,stringToSign="";for(i=0;i<options.headers.length;i++){if("string"!=typeof options.headers[i])throw new TypeError("options.headers must be an array of Strings");var h=options.headers[i].toLowerCase();if("request-line"===h){if(options.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");stringToSign+=request.method+" "+request.path+" HTTP/"+options.httpVersion}else if("(request-target)"===h)stringToSign+="(request-target): "+request.method.toLowerCase()+" "+request.path;else{var value=request.getHeader(h);if(value===undefined||""===value)throw new MissingHeaderError(h+" was not in the request");stringToSign+=h+": "+value}i+1<options.headers.length&&(stringToSign+="\n")}request.hasOwnProperty("_stringToSign")&&(request._stringToSign=stringToSign);var signature;if("hmac"===alg[0]){if("string"!=typeof options.key&&!Buffer.isBuffer(options.key))throw new TypeError("options.key must be a string or Buffer");var hmac=crypto.createHmac(alg[1].toUpperCase(),options.key);hmac.update(stringToSign),signature=hmac.digest("base64")}else{var key=options.key;if(("string"==typeof key||Buffer.isBuffer(key))&&(key=sshpk.parsePrivateKey(options.key)),assert.ok(sshpk.PrivateKey.isPrivateKey(key,[1,2]),"options.key must be a sshpk.PrivateKey"),!PK_ALGOS[key.type])throw new InvalidAlgorithmError(key.type.toUpperCase()+" type keys are not supported");if(alg[0]!==undefined&&key.type!==alg[0])throw new InvalidAlgorithmError("options.key must be a "+alg[0].toUpperCase()+" key, was given a "+key.type.toUpperCase()+" key instead");var signer=key.createSign(alg[1]);signer.update(stringToSign);var sigObj=signer.sign();if(!HASH_ALGOS[sigObj.hashAlgorithm])throw new InvalidAlgorithmError(sigObj.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");options.algorithm=key.type+"-"+sigObj.hashAlgorithm,signature=sigObj.toString(),assert.notStrictEqual(signature,"","empty signature produced")}return request.setHeader("Authorization",sprintf(AUTHZ_FMT,options.keyId,options.algorithm,options.headers.join(" "),signature)),!0}}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":488,"./utils":482,"assert-plus":63,crypto:411,http:611,jsprim:504,sshpk:603,util:635}],482:[function(require,module,exports){"use strict";function HttpSignatureError(message,caller){Error.captureStackTrace&&Error.captureStackTrace(this,caller||HttpSignatureError),this.message=message,this.name=caller.name}function InvalidAlgorithmError(message){HttpSignatureError.call(this,message,InvalidAlgorithmError)}function validateAlgorithm(algorithm){var alg=algorithm.toLowerCase().split("-");if(2!==alg.length)throw new InvalidAlgorithmError(alg[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==alg[0]&&!PK_ALGOS[alg[0]])throw new InvalidAlgorithmError(alg[0].toUpperCase()+" type keys are not supported");if(!HASH_ALGOS[alg[1]])throw new InvalidAlgorithmError(alg[1].toUpperCase()+" is not a supported hash algorithm");return alg}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},assert=require("assert-plus"),sshpk=require("sshpk"),util=require("util"),HASH_ALGOS={sha1:!0,sha256:!0,sha512:!0},PK_ALGOS={rsa:!0,dsa:!0,ecdsa:!0};util.inherits(HttpSignatureError,Error),util.inherits(InvalidAlgorithmError,HttpSignatureError),module.exports={HASH_ALGOS:HASH_ALGOS,PK_ALGOS:PK_ALGOS,HttpSignatureError:HttpSignatureError,InvalidAlgorithmError:InvalidAlgorithmError,validateAlgorithm:validateAlgorithm,sshKeyToPEM:function(key){return assert.string(key,"ssh_key"),sshpk.parseKey(key,"ssh").toString("pem")},fingerprint:function(key){return assert.string(key,"ssh_key"),sshpk.parseKey(key,"ssh").fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(pem,comment){assert.equal("string",void 0===pem?"undefined":_typeof(pem),"typeof pem");var k=sshpk.parseKey(pem,"pem");return k.comment=comment,k.toString("ssh")}}},{"assert-plus":63,sshpk:603,util:635}],483:[function(require,module,exports){(function(Buffer){"use strict";var assert=require("assert-plus"),crypto=require("crypto"),sshpk=require("sshpk"),utils=require("./utils"),validateAlgorithm=(utils.HASH_ALGOS,utils.PK_ALGOS,utils.InvalidAlgorithmError,utils.HttpSignatureError,utils.validateAlgorithm);module.exports={verifySignature:function(parsedSignature,pubkey){assert.object(parsedSignature,"parsedSignature"),("string"==typeof pubkey||Buffer.isBuffer(pubkey))&&(pubkey=sshpk.parseKey(pubkey)),assert.ok(sshpk.Key.isKey(pubkey,[1,1]),"pubkey must be a sshpk.Key");var alg=validateAlgorithm(parsedSignature.algorithm);if("hmac"===alg[0]||alg[0]!==pubkey.type)return!1;var v=pubkey.createVerify(alg[1]);return v.update(parsedSignature.signingString),v.verify(parsedSignature.params.signature,"base64")},verifyHMAC:function(parsedSignature,secret){assert.object(parsedSignature,"parsedHMAC"),assert.string(secret,"secret");var alg=validateAlgorithm(parsedSignature.algorithm);if("hmac"!==alg[0])return!1;var hashAlg=alg[1].toUpperCase(),hmac=crypto.createHmac(hashAlg,secret);hmac.update(parsedSignature.signingString);var h1=crypto.createHmac(hashAlg,secret);h1.update(hmac.digest()),h1=h1.digest();var h2=crypto.createHmac(hashAlg,secret);return h2.update(new Buffer(parsedSignature.params.signature,"base64")),h2=h2.digest(),"string"==typeof h1?h1===h2:Buffer.isBuffer(h1)&&!h1.equals?h1.toString("binary")===h2.toString("binary"):h1.equals(h2)}}}).call(this,require("buffer").Buffer)},{"./utils":482,"assert-plus":63,buffer:105,crypto:411,sshpk:603}],484:[function(require,module,exports){"use strict";function validateParams(params){if("string"==typeof params&&(params=url.parse(params)),params.protocol||(params.protocol="https:"),"https:"!==params.protocol)throw new Error('Protocol "'+params.protocol+'" not supported. Expected "https:"');return params}var http=require("http"),url=require("url"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(params,cb){return params=validateParams(params),http.request.call(this,params,cb)},https.get=function(params,cb){return params=validateParams(params),http.get.call(this,params,cb)}},{http:611,url:630}],485:[function(require,module,exports){"use strict";exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*Infinity;m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===Infinity?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],486:[function(require,module,exports){"use strict";var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],487:[function(require,module,exports){"use strict";"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],488:[function(require,module,exports){"use strict";function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}},{}],489:[function(require,module,exports){"use strict";function isTypedArray(arr){return isStrictTypedArray(arr)||isLooseTypedArray(arr)}function isStrictTypedArray(arr){return arr instanceof Int8Array||arr instanceof Int16Array||arr instanceof Int32Array||arr instanceof Uint8Array||arr instanceof Uint8ClampedArray||arr instanceof Uint16Array||arr instanceof Uint32Array||arr instanceof Float32Array||arr instanceof Float64Array}function isLooseTypedArray(arr){return names[toString.call(arr)]}module.exports=isTypedArray,isTypedArray.strict=isStrictTypedArray,isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},{}],490:[function(require,module,exports){"use strict";var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],491:[function(require,module,exports){"use strict";function isStream(obj){return obj instanceof stream.Stream}function isReadable(obj){return isStream(obj)&&"function"==typeof obj._read&&"object"==_typeof(obj._readableState)}function isWritable(obj){return isStream(obj)&&"function"==typeof obj._write&&"object"==_typeof(obj._writableState)}function isDuplex(obj){return isReadable(obj)&&isWritable(obj)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},stream=require("stream");module.exports=isStream,module.exports.isReadable=isReadable,module.exports.isWritable=isWritable,module.exports.isDuplex=isDuplex},{stream:610}],492:[function(require,module,exports){"use strict";var dh=require("./lib/dh"),eddsa=require("./lib/eddsa"),curve255=require("./lib/curve255"),utils=require("./lib/utils"),ns={};ns.VERSION="0.7.1",ns.dh=dh,ns.eddsa=eddsa,ns.curve255=curve255,ns.utils=utils,module.exports=ns},{"./lib/curve255":494,"./lib/dh":495,"./lib/eddsa":496,"./lib/utils":497}],493:[function(require,module,exports){"use strict";function _setbit(n,c,v){var i=c>>4,a=n[i];a+=(1<<(15&c))*v,n[i]=a}function _getbit(n,c){return n[c>>4]>>(15&c)&1}function _ZERO(){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function _ONE(){return[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function _BASE(){return[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function _bigintcmp(a,b){var c,mask,r=0;for(c=15;c>=0;c--)r=~~(((r+=(a[c]-b[c])*(1-r*r))<<1)/((r+(mask=r>>31)^mask)+1));return r}function _bigintadd(a,b){var v,r=[];return r[0]=65535&(v=a[0]+b[0]),r[1]=65535&(v=(v>>>16)+a[1]+b[1]),r[2]=65535&(v=(v>>>16)+a[2]+b[2]),r[3]=65535&(v=(v>>>16)+a[3]+b[3]),r[4]=65535&(v=(v>>>16)+a[4]+b[4]),r[5]=65535&(v=(v>>>16)+a[5]+b[5]),r[6]=65535&(v=(v>>>16)+a[6]+b[6]),r[7]=65535&(v=(v>>>16)+a[7]+b[7]),r[8]=65535&(v=(v>>>16)+a[8]+b[8]),r[9]=65535&(v=(v>>>16)+a[9]+b[9]),r[10]=65535&(v=(v>>>16)+a[10]+b[10]),r[11]=65535&(v=(v>>>16)+a[11]+b[11]),r[12]=65535&(v=(v>>>16)+a[12]+b[12]),r[13]=65535&(v=(v>>>16)+a[13]+b[13]),r[14]=65535&(v=(v>>>16)+a[14]+b[14]),r[15]=(v>>>16)+a[15]+b[15],r}function _bigintsub(a,b){var v,r=[];return r[0]=65535&(v=524288+a[0]-b[0]),r[1]=65535&(v=524280+(v>>>16)+a[1]-b[1]),r[2]=65535&(v=524280+(v>>>16)+a[2]-b[2]),r[3]=65535&(v=524280+(v>>>16)+a[3]-b[3]),r[4]=65535&(v=524280+(v>>>16)+a[4]-b[4]),r[5]=65535&(v=524280+(v>>>16)+a[5]-b[5]),r[6]=65535&(v=524280+(v>>>16)+a[6]-b[6]),r[7]=65535&(v=524280+(v>>>16)+a[7]-b[7]),r[8]=65535&(v=524280+(v>>>16)+a[8]-b[8]),r[9]=65535&(v=524280+(v>>>16)+a[9]-b[9]),r[10]=65535&(v=524280+(v>>>16)+a[10]-b[10]),r[11]=65535&(v=524280+(v>>>16)+a[11]-b[11]),r[12]=65535&(v=524280+(v>>>16)+a[12]-b[12]),r[13]=65535&(v=524280+(v>>>16)+a[13]-b[13]),r[14]=65535&(v=524280+(v>>>16)+a[14]-b[14]),r[15]=(v>>>16)-8+a[15]-b[15],r}function _sqr8h(a7,a6,a5,a4,a3,a2,a1,a0){var v,r=[];return r[0]=65535&(v=a0*a0),r[1]=65535&(v=(0|v/65536)+2*a0*a1),r[2]=65535&(v=(0|v/65536)+2*a0*a2+a1*a1),r[3]=65535&(v=(0|v/65536)+2*a0*a3+2*a1*a2),r[4]=65535&(v=(0|v/65536)+2*a0*a4+2*a1*a3+a2*a2),r[5]=65535&(v=(0|v/65536)+2*a0*a5+2*a1*a4+2*a2*a3),r[6]=65535&(v=(0|v/65536)+2*a0*a6+2*a1*a5+2*a2*a4+a3*a3),r[7]=65535&(v=(0|v/65536)+2*a0*a7+2*a1*a6+2*a2*a5+2*a3*a4),r[8]=65535&(v=(0|v/65536)+2*a1*a7+2*a2*a6+2*a3*a5+a4*a4),r[9]=65535&(v=(0|v/65536)+2*a2*a7+2*a3*a6+2*a4*a5),r[10]=65535&(v=(0|v/65536)+2*a3*a7+2*a4*a6+a5*a5),r[11]=65535&(v=(0|v/65536)+2*a4*a7+2*a5*a6),r[12]=65535&(v=(0|v/65536)+2*a5*a7+a6*a6),r[13]=65535&(v=(0|v/65536)+2*a6*a7),r[14]=65535&(v=(0|v/65536)+a7*a7),r[15]=0|v/65536,r}function _sqrmodp(a){var v,x=_sqr8h(a[15],a[14],a[13],a[12],a[11],a[10],a[9],a[8]),z=_sqr8h(a[7],a[6],a[5],a[4],a[3],a[2],a[1],a[0]),y=_sqr8h(a[15]+a[7],a[14]+a[6],a[13]+a[5],a[12]+a[4],a[11]+a[3],a[10]+a[2],a[9]+a[1],a[8]+a[0]),r=[];return r[0]=65535&(v=8388608+z[0]+38*(y[8]-x[8]-z[8]+x[0]-128)),r[1]=65535&(v=8388480+(v>>>16)+z[1]+38*(y[9]-x[9]-z[9]+x[1])),r[2]=65535&(v=8388480+(v>>>16)+z[2]+38*(y[10]-x[10]-z[10]+x[2])),r[3]=65535&(v=8388480+(v>>>16)+z[3]+38*(y[11]-x[11]-z[11]+x[3])),r[4]=65535&(v=8388480+(v>>>16)+z[4]+38*(y[12]-x[12]-z[12]+x[4])),r[5]=65535&(v=8388480+(v>>>16)+z[5]+38*(y[13]-x[13]-z[13]+x[5])),r[6]=65535&(v=8388480+(v>>>16)+z[6]+38*(y[14]-x[14]-z[14]+x[6])),r[7]=65535&(v=8388480+(v>>>16)+z[7]+38*(y[15]-x[15]-z[15]+x[7])),r[8]=65535&(v=8388480+(v>>>16)+z[8]+y[0]-x[0]-z[0]+38*x[8]),r[9]=65535&(v=8388480+(v>>>16)+z[9]+y[1]-x[1]-z[1]+38*x[9]),r[10]=65535&(v=8388480+(v>>>16)+z[10]+y[2]-x[2]-z[2]+38*x[10]),r[11]=65535&(v=8388480+(v>>>16)+z[11]+y[3]-x[3]-z[3]+38*x[11]),r[12]=65535&(v=8388480+(v>>>16)+z[12]+y[4]-x[4]-z[4]+38*x[12]),r[13]=65535&(v=8388480+(v>>>16)+z[13]+y[5]-x[5]-z[5]+38*x[13]),r[14]=65535&(v=8388480+(v>>>16)+z[14]+y[6]-x[6]-z[6]+38*x[14]),r[15]=8388480+(v>>>16)+z[15]+y[7]-x[7]-z[7]+38*x[15],_reduce(r),r}function _mul8h(a7,a6,a5,a4,a3,a2,a1,a0,b7,b6,b5,b4,b3,b2,b1,b0){var v,r=[];return r[0]=65535&(v=a0*b0),r[1]=65535&(v=(0|v/65536)+a0*b1+a1*b0),r[2]=65535&(v=(0|v/65536)+a0*b2+a1*b1+a2*b0),r[3]=65535&(v=(0|v/65536)+a0*b3+a1*b2+a2*b1+a3*b0),r[4]=65535&(v=(0|v/65536)+a0*b4+a1*b3+a2*b2+a3*b1+a4*b0),r[5]=65535&(v=(0|v/65536)+a0*b5+a1*b4+a2*b3+a3*b2+a4*b1+a5*b0),r[6]=65535&(v=(0|v/65536)+a0*b6+a1*b5+a2*b4+a3*b3+a4*b2+a5*b1+a6*b0),r[7]=65535&(v=(0|v/65536)+a0*b7+a1*b6+a2*b5+a3*b4+a4*b3+a5*b2+a6*b1+a7*b0),r[8]=65535&(v=(0|v/65536)+a1*b7+a2*b6+a3*b5+a4*b4+a5*b3+a6*b2+a7*b1),r[9]=65535&(v=(0|v/65536)+a2*b7+a3*b6+a4*b5+a5*b4+a6*b3+a7*b2),r[10]=65535&(v=(0|v/65536)+a3*b7+a4*b6+a5*b5+a6*b4+a7*b3),r[11]=65535&(v=(0|v/65536)+a4*b7+a5*b6+a6*b5+a7*b4),r[12]=65535&(v=(0|v/65536)+a5*b7+a6*b6+a7*b5),r[13]=65535&(v=(0|v/65536)+a6*b7+a7*b6),r[14]=65535&(v=(0|v/65536)+a7*b7),r[15]=0|v/65536,r}function _mulmodp(a,b){var v,x=_mul8h(a[15],a[14],a[13],a[12],a[11],a[10],a[9],a[8],b[15],b[14],b[13],b[12],b[11],b[10],b[9],b[8]),z=_mul8h(a[7],a[6],a[5],a[4],a[3],a[2],a[1],a[0],b[7],b[6],b[5],b[4],b[3],b[2],b[1],b[0]),y=_mul8h(a[15]+a[7],a[14]+a[6],a[13]+a[5],a[12]+a[4],a[11]+a[3],a[10]+a[2],a[9]+a[1],a[8]+a[0],b[15]+b[7],b[14]+b[6],b[13]+b[5],b[12]+b[4],b[11]+b[3],b[10]+b[2],b[9]+b[1],b[8]+b[0]),r=[];return r[0]=65535&(v=8388608+z[0]+38*(y[8]-x[8]-z[8]+x[0]-128)),r[1]=65535&(v=8388480+(v>>>16)+z[1]+38*(y[9]-x[9]-z[9]+x[1])),r[2]=65535&(v=8388480+(v>>>16)+z[2]+38*(y[10]-x[10]-z[10]+x[2])),r[3]=65535&(v=8388480+(v>>>16)+z[3]+38*(y[11]-x[11]-z[11]+x[3])),r[4]=65535&(v=8388480+(v>>>16)+z[4]+38*(y[12]-x[12]-z[12]+x[4])),r[5]=65535&(v=8388480+(v>>>16)+z[5]+38*(y[13]-x[13]-z[13]+x[5])),r[6]=65535&(v=8388480+(v>>>16)+z[6]+38*(y[14]-x[14]-z[14]+x[6])),r[7]=65535&(v=8388480+(v>>>16)+z[7]+38*(y[15]-x[15]-z[15]+x[7])),r[8]=65535&(v=8388480+(v>>>16)+z[8]+y[0]-x[0]-z[0]+38*x[8]),r[9]=65535&(v=8388480+(v>>>16)+z[9]+y[1]-x[1]-z[1]+38*x[9]),r[10]=65535&(v=8388480+(v>>>16)+z[10]+y[2]-x[2]-z[2]+38*x[10]),r[11]=65535&(v=8388480+(v>>>16)+z[11]+y[3]-x[3]-z[3]+38*x[11]),r[12]=65535&(v=8388480+(v>>>16)+z[12]+y[4]-x[4]-z[4]+38*x[12]),r[13]=65535&(v=8388480+(v>>>16)+z[13]+y[5]-x[5]-z[5]+38*x[13]),r[14]=65535&(v=8388480+(v>>>16)+z[14]+y[6]-x[6]-z[6]+38*x[14]),r[15]=8388480+(v>>>16)+z[15]+y[7]-x[7]-z[7]+38*x[15],_reduce(r),r}function _reduce(arr){var choice=[arr,arr.slice(0)],v=arr[15],a=choice[v<32768&1];a[15]=32767&v,v=19*(0|v/32768),a[0]=65535&(v+=a[0]),v>>>=16,a[1]=65535&(v+=a[1]),v>>>=16,a[2]=65535&(v+=a[2]),v>>>=16,a[3]=65535&(v+=a[3]),v>>>=16,a[4]=65535&(v+=a[4]),v>>>=16,a[5]=65535&(v+=a[5]),v>>>=16,a[6]=65535&(v+=a[6]),v>>>=16,a[7]=65535&(v+=a[7]),v>>>=16,a[8]=65535&(v+=a[8]),v>>>=16,a[9]=65535&(v+=a[9]),v>>>=16,a[10]=65535&(v+=a[10]),v>>>=16,a[11]=65535&(v+=a[11]),v>>>=16,a[12]=65535&(v+=a[12]),v>>>=16,a[13]=65535&(v+=a[13]),v>>>=16,a[14]=65535&(v+=a[14]),v>>>=16,a[15]+=v}function _addmodp(a,b){var v,r=[];return r[0]=65535&(v=19*((0|a[15]>>>15)+(0|b[15]>>>15))+a[0]+b[0]),r[1]=65535&(v=(v>>>16)+a[1]+b[1]),r[2]=65535&(v=(v>>>16)+a[2]+b[2]),r[3]=65535&(v=(v>>>16)+a[3]+b[3]),r[4]=65535&(v=(v>>>16)+a[4]+b[4]),r[5]=65535&(v=(v>>>16)+a[5]+b[5]),r[6]=65535&(v=(v>>>16)+a[6]+b[6]),r[7]=65535&(v=(v>>>16)+a[7]+b[7]),r[8]=65535&(v=(v>>>16)+a[8]+b[8]),r[9]=65535&(v=(v>>>16)+a[9]+b[9]),r[10]=65535&(v=(v>>>16)+a[10]+b[10]),r[11]=65535&(v=(v>>>16)+a[11]+b[11]),r[12]=65535&(v=(v>>>16)+a[12]+b[12]),r[13]=65535&(v=(v>>>16)+a[13]+b[13]),r[14]=65535&(v=(v>>>16)+a[14]+b[14]),r[15]=(v>>>16)+(32767&a[15])+(32767&b[15]),r}function _submodp(a,b){var v,r=[];return r[0]=65535&(v=524288+19*((0|a[15]>>>15)-(0|b[15]>>>15)-1)+a[0]-b[0]),r[1]=65535&(v=524280+(v>>>16)+a[1]-b[1]),r[2]=65535&(v=524280+(v>>>16)+a[2]-b[2]),r[3]=65535&(v=524280+(v>>>16)+a[3]-b[3]),r[4]=65535&(v=524280+(v>>>16)+a[4]-b[4]),r[5]=65535&(v=524280+(v>>>16)+a[5]-b[5]),r[6]=65535&(v=524280+(v>>>16)+a[6]-b[6]),r[7]=65535&(v=524280+(v>>>16)+a[7]-b[7]),r[8]=65535&(v=524280+(v>>>16)+a[8]-b[8]),r[9]=65535&(v=524280+(v>>>16)+a[9]-b[9]),r[10]=65535&(v=524280+(v>>>16)+a[10]-b[10]),r[11]=65535&(v=524280+(v>>>16)+a[11]-b[11]),r[12]=65535&(v=524280+(v>>>16)+a[12]-b[12]),r[13]=65535&(v=524280+(v>>>16)+a[13]-b[13]),r[14]=65535&(v=524280+(v>>>16)+a[14]-b[14]),r[15]=32760+(v>>>16)+(32767&a[15])-(32767&b[15]),r}function _invmodp(a){for(var c=a,i=250;--i;)a=_mulmodp(a=_sqrmodp(a),c);return a=_sqrmodp(a),a=_sqrmodp(a),a=_mulmodp(a,c),a=_sqrmodp(a),a=_sqrmodp(a),a=_mulmodp(a,c),a=_sqrmodp(a),a=_mulmodp(a,c)}function _mulasmall(a){var v,m=121665,r=[];return r[0]=65535&(v=a[0]*m),r[1]=65535&(v=(0|v/65536)+a[1]*m),r[2]=65535&(v=(0|v/65536)+a[2]*m),r[3]=65535&(v=(0|v/65536)+a[3]*m),r[4]=65535&(v=(0|v/65536)+a[4]*m),r[5]=65535&(v=(0|v/65536)+a[5]*m),r[6]=65535&(v=(0|v/65536)+a[6]*m),r[7]=65535&(v=(0|v/65536)+a[7]*m),r[8]=65535&(v=(0|v/65536)+a[8]*m),r[9]=65535&(v=(0|v/65536)+a[9]*m),r[10]=65535&(v=(0|v/65536)+a[10]*m),r[11]=65535&(v=(0|v/65536)+a[11]*m),r[12]=65535&(v=(0|v/65536)+a[12]*m),r[13]=65535&(v=(0|v/65536)+a[13]*m),r[14]=65535&(v=(0|v/65536)+a[14]*m),r[15]=(0|v/65536)+a[15]*m,_reduce(r),r}function _dbl(x,z){var x_2,z_2,m,n,o;return m=_sqrmodp(_addmodp(x,z)),n=_sqrmodp(_submodp(x,z)),o=_submodp(m,n),x_2=_mulmodp(n,m),z_2=_mulmodp(_addmodp(_mulasmall(o),m),o),[x_2,z_2]}function _sum(x,z,x_p,z_p,x_1){var x_3,z_3,p,q;return p=_mulmodp(_submodp(x,z),_addmodp(x_p,z_p)),q=_mulmodp(_addmodp(x,z),_submodp(x_p,z_p)),x_3=_sqrmodp(_addmodp(p,q)),z_3=_mulmodp(_sqrmodp(_submodp(p,q)),x_1),[x_3,z_3]}function _generateKey(curve25519){var buffer=crypto.randomBytes(32);!0===curve25519&&(buffer[0]&=248,buffer[31]=127&buffer[31]|64);for(var result=[],i=0;i<buffer.length;i++)result.push(String.fromCharCode(buffer[i]));return result.join("")}var crypto=require("crypto"),ns={};ns.getbit=_getbit,ns.setbit=_setbit,ns.addmodp=_addmodp,ns.invmodp=_invmodp,ns.mulmodp=_mulmodp,ns.reduce=_reduce,ns.dbl=_dbl,ns.sum=_sum,ns.ZERO=_ZERO,ns.ONE=_ONE,ns.BASE=_BASE,ns.bigintadd=_bigintadd,ns.bigintsub=_bigintsub,ns.bigintcmp=_bigintcmp,ns.mulmodp=_mulmodp,ns.sqrmodp=_sqrmodp,ns.generateKey=_generateKey,module.exports=ns},{crypto:411}],494:[function(require,module,exports){"use strict";function curve25519_raw(f,c){var a,x_1,q;x_1=c,a=core.dbl(x_1,core.ONE()),q=[x_1,core.ONE()];for(var n=255;0==core.getbit(f,n);)if(--n<0)return core.ZERO();n--;for(var aq=[a,q];n>=0;){var r,s,b=core.getbit(f,n);r=core.sum(aq[0][0],aq[0][1],aq[1][0],aq[1][1],x_1),s=core.dbl(aq[1-b][0],aq[1-b][1]),aq[1-b]=s,aq[b]=r,n--}return q=aq[1],q[1]=core.invmodp(q[1]),q[0]=core.mulmodp(q[0],q[1]),core.reduce(q[0]),q[0]}function curve25519(f,c){return c||(c=core.BASE()),f[0]&=65528,f[15]=32767&f[15]|16384,curve25519_raw(f,c)}function _hexEncodeVector(k){var hexKey=utils.hexEncode(k);return(hexKey=new Array(65-hexKey.length).join("0")+hexKey).split(/(..)/).reverse().join("")}function _hexDecodeVector(v){var hexKey=v.split(/(..)/).reverse().join("");return utils.hexDecode(hexKey)}var core=require("./core"),utils=require("./utils"),ns={};ns.curve25519=curve25519,ns.curve25519_raw=curve25519_raw,ns.hexEncodeVector=_hexEncodeVector,ns.hexDecodeVector=_hexDecodeVector,ns.hexencode=utils.hexEncode,ns.hexdecode=utils.hexDecode,ns.base32encode=utils.base32encode,ns.base32decode=utils.base32decode,module.exports=ns},{"./core":493,"./utils":497}],495:[function(require,module,exports){(function(Buffer){"use strict";function _toString(vector){var u=new Uint16Array(vector);return new Buffer(new Uint8Array(u.buffer))}function _fromString(vector){if(Buffer.isBuffer(vector)){var u=new Uint8Array(vector);return new Uint16Array(u.buffer)}for(var result=new Array(16),i=0,l=0;i<vector.length;i+=2)result[l]=vector.charCodeAt(i+1)<<8|vector.charCodeAt(i),l++;return result}var core=require("./core"),curve255=(require("./utils"),require("./curve255")),ns={};ns.computeKey=function(privateComponent,publicComponent){return _toString(publicComponent?curve255.curve25519(_fromString(privateComponent),_fromString(publicComponent)):curve255.curve25519(_fromString(privateComponent)))},ns.publicKey=function(privateKey){return _toString(curve255.curve25519(_fromString(privateKey)))},ns.generateKey=function(){return core.generateKey(!0)},module.exports=ns}).call(this,require("buffer").Buffer)},{"./core":493,"./curve255":494,"./utils":497,buffer:105}],496:[function(require,module,exports){(function(Buffer){"use strict";function _bi255(value){if(!(this instanceof _bi255))return new _bi255(value);if(void 0===value)return _ZERO;var c=value.constructor;if(c!==Array&&c!==Uint16Array&&c!==Uint32Array||16!==value.length)if(c===Array&&32===value.length)this.n=_bytes2bi255(value).n;else if(c===String)this.n=utils.hexDecode(value);else if(c===Number)this.n=[65535&value,value>>16,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else{if(!(value instanceof _bi255))throw"Bad argument for bignum: "+value;this.n=value.n.slice(0)}else this.n=value}function _shiftL(n,cnt){for(var lastcarry=0,i=0;i<16;i++){var carry=n[i]>>16-cnt;n[i]=n[i]<<cnt&65535|lastcarry,lastcarry=carry}return n}function _shiftR(n,cnt){for(var lastcarry=0,i=15;i>=0;i--){var carry=n[i]<<16-cnt&65535;n[i]=n[i]>>cnt|lastcarry,lastcarry=carry}return n}function _bi255_bytes(n){n=_bi255(n);for(var a=new Array(32),i=31;i>=0;i--)a[i]=255&n.n[0],n.shiftRight(8);return a}function _bytes2bi255(a){for(var n=_ZERO,i=0;i<32;i++)n.shiftLeft(8),n=n.plus(_bi255(a[i]));return n}function _pow(n,e){for(var result=core.ONE(),i=0;i<256;i++)1===core.getbit(e,i)&&(result=core.mulmodp(result,n)),n=core.sqrmodp(n);return result}function _modq(n){return core.reduce(n.n),n.cmp(_Q)>=0?_modq(n.minus(_Q)):-1===n.cmp(_ZERO)?_modq(n.plus(_Q)):n}function _isoncurve(p){var x=p[0],y=p[1],xsqr=x.sqr(),ysqr=y.sqr(),v=_D.times(xsqr).times(ysqr);return ysqr.minus(xsqr).minus(_ONE).minus(v).modq().equals(_ZERO)}function _xrecover(y){var ysquared=y.sqr(),xx=ysquared.minus(_ONE).divide(_ONE.plus(_D.times(ysquared))),x=xx.pow(_RECOVERY_EXPONENT);return x.times(x).minus(xx).equals(_ZERO)||(x=x.times(_I)),x.isOdd()&&(x=_Q.minus(x)),x}function _x_pt_add(pt1,pt2){var x1=pt1[0],y1=pt1[1],z1=pt1[2],t1=pt1[3],x2=pt2[0],y2=pt2[1],z2=pt2[2],t2=pt2[3],A=y1.minus(x1).times(y2.plus(x2)),B=y1.plus(x1).times(y2.minus(x2)),C=z1.times(_TWO).times(t2),D=t1.times(_TWO).times(z2),E=D.plus(C),F=B.minus(A),G=B.plus(A),H=D.minus(C);return[E.times(F),G.times(H),F.times(G),E.times(H)]}function _xpt_double(pt1){var x1=pt1[0],y1=pt1[1],z1=pt1[2],A=x1.times(x1),B=y1.times(y1),C=_TWO.times(z1).times(z1),D=_Q.minus(A),J=x1.plus(y1),E=J.times(J).minus(A).minus(B),G=D.plus(B),F=G.minus(C),H=D.minus(B);return[E.times(F),G.times(H),F.times(G),E.times(H)]}function _xpt_mult(pt,n){if(n.equals(_ZERO))return[_ZERO,_ONE,_ONE,_ZERO];var odd=n.isOdd();n.shiftRight(1);var value=_xpt_double(_xpt_mult(pt,n));return odd?_x_pt_add(value,pt):value}function _pt_xform(pt){var x=pt[0],y=pt[1];return[x,y,_ONE,x.times(y)]}function _pt_unxform(pt){var x=pt[0],y=pt[1],invz=pt[2].inv();return[x.times(invz),y.times(invz)]}function _scalarmult(pt,n){return _pt_unxform(_xpt_mult(_pt_xform(pt),n))}function _bytesgetbit(bytes,n){return bytes[bytes.length-(n>>>3)-1]>>(7&n)&1}function _xpt_mult_bytes(pt,bytes){for(var r=[_ZERO,_ONE,_ONE,_ZERO],i=(bytes.length<<3)-1;i>=0;i--)r=_xpt_double(r),1===_bytesgetbit(bytes,i)&&(r=_x_pt_add(r,pt));return r}function _scalarmultBytes(pt,bytes){return _pt_unxform(_xpt_mult_bytes(_pt_xform(pt),bytes))}function _encodeint(n){return n.bytes(32).reverse()}function _decodeint(b){return _bi255(b.slice(0).reverse())}function _encodepoint(p){var v=_encodeint(p[1]);return p[0].isOdd()&&(v[31]|=128),v}function _decodepoint(v){var signbit=(v=v.slice(0))[31]>>7;v[31]&=127;var y=_decodeint(v),x=_xrecover(y);(1&x.n[0])!==signbit&&(x=_Q.minus(x));var p=[x,y];if(!_isoncurve(p))throw"Point is not on curve";return p}function _bi(value,base){if(base!==undefined)return 256===base?_bi(utils.string2bytes(value)):new BigInteger(value,base);if("string"==typeof value)return new BigInteger(value,10);if(value instanceof Array||value instanceof Uint8Array||Buffer.isBuffer(value))return new BigInteger(value);if("number"==typeof value)return new BigInteger(value.toString(),10);throw"Can't convert "+value+" to BigInteger"}function _bi2bytes(n,cnt){cnt===undefined&&(cnt=n.bitLength()+7>>>3);for(var bytes=new Array(cnt),i=cnt-1;i>=0;i--)bytes[i]=255&n[0],n=n.shiftRight(8);return bytes}function _bytehash(s){return _bi2bytes(_bi(crypto.createHash("sha512").update(s).digest()),64).reverse()}function _stringhash(s){return _map(_chr,_bi2bytes(_bi(crypto.createHash("sha512").update(s).digest()),64)).join("")}function _inthash(s){return _bi([0].concat(_bytehash(s)))}function _inthash_lo(s){return _bi255(_bytehash(s).slice(32,64))}function _inthash_mod_l(s){return _inthash(s).mod(_L_BI)}function _get_a(sk){var a=_inthash_lo(sk);return a.n[0]&=65528,a.n[15]&=16383,a.n[15]|=16384,a}function _publickey(sk){return _encodepoint(_scalarmult(_bp,_get_a(sk)))}function _map(f,l){for(var result=new Array(l.length),i=0;i<l.length;i++)result[i]=f(l[i]);return result}function _chr(n){return String.fromCharCode(n)}function _pt_add(p1,p2){return _pt_unxform(_x_pt_add(_pt_xform(p1),_pt_xform(p2)))}var core=require("./core"),utils=(require("./curve255"),require("./utils")),BigInteger=require("jsbn").BigInteger,crypto=require("crypto"),ns={};_bi255.prototype={toString:function(){return utils.hexEncode(this.n)},toSource:function(){return"_"+utils.hexEncode(this.n)},plus:function(n1){return _bi255(core.bigintadd(this.n,n1.n))},minus:function(n1){return _bi255(core.bigintsub(this.n,n1.n)).modq()},times:function(n1){return _bi255(core.mulmodp(this.n,n1.n))},divide:function(n1){return this.times(n1.inv())},sqr:function(){return _bi255(core.sqrmodp(this.n))},cmp:function(n1){return core.bigintcmp(this.n,n1.n)},equals:function(n1){return 0===this.cmp(n1)},isOdd:function(){return 1==(1&this.n[0])},shiftLeft:function(cnt){return _shiftL(this.n,cnt),this},shiftRight:function(cnt){return _shiftR(this.n,cnt),this},inv:function(){return _bi255(core.invmodp(this.n))},pow:function(e){return _bi255(_pow(this.n,e.n))},modq:function(){return _modq(this)},bytes:function(){return _bi255_bytes(this)}};var _ZERO=_bi255(0),_ONE=_bi255(1),_TWO=_bi255(2),_Q=_bi255([65517,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32767]),_RECOVERY_EXPONENT=_bi255("0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe"),_D=_bi255("52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),_I=_bi255("2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0"),_L_BI=(_bi255("1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),_bi("1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed",16)),_by=_bi255(4).divide(_bi255(5)),_bp=[_xrecover(_by),_by];BigInteger.prototype.bytes=function(n){return _bi2bytes(this,n)},ns.isOnCurve=function(point){try{_isoncurve(_decodepoint(utils.string2bytes(point)))}catch(e){if("Point is not on curve"===e)return!1;throw e}return!0},ns.publicKey=function(keySeed){return utils.bytes2string(_publickey(keySeed))},ns.sign=function(message,keySeed,publicKey){publicKey=publicKey===undefined?_publickey(keySeed):utils.string2bytes(publicKey);var a=_bi(_get_a(keySeed).toString(),16),r=_bytehash(_stringhash(keySeed).slice(32,64)+message),erp=_encodepoint(_scalarmultBytes(_bp,r));r=_bi(r).mod(_bi(1,10).shiftLeft(512));var s=_map(_chr,erp).join("")+_map(_chr,publicKey).join("")+message;return s=_inthash_mod_l(s).multiply(a).add(r).mod(_L_BI),utils.bytes2string(erp.concat(_encodeint(s)))},ns.verify=function(signature,message,publicKey){signature=utils.string2bytes(signature.slice(0,64)),publicKey=utils.string2bytes(publicKey);var rpe=signature.slice(0,32),rp=_decodepoint(rpe),a=_decodepoint(publicKey),s=_decodeint(signature.slice(32,64)),h=_inthash(utils.bytes2string(rpe.concat(publicKey))+message),v1=_scalarmult(_bp,s),v2=_pt_add(rp,_scalarmultBytes(a,_bi2bytes(h)));return v1[0].equals(v2[0])&&v1[1].equals(v2[1])},ns.generateKeySeed=function(){return core.generateKey(!1)},module.exports=ns}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":488,"./core":493,"./curve255":494,"./utils":497,crypto:411,jsbn:498}],497:[function(require,module,exports){"use strict";function _hexencode(vector){for(var result=[],i=vector.length-1;i>=0;i--){var value=vector[i];result.push(_HEXCHARS.substr(value>>>12&15,1)),result.push(_HEXCHARS.substr(value>>>8&15,1)),result.push(_HEXCHARS.substr(value>>>4&15,1)),result.push(_HEXCHARS.substr(15&value,1))}return result.join("")}function _hexdecode(vector){for(var result=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=vector.length-1,l=0;i>=0;i-=4)result[l]=_HEXCHARS.indexOf(vector.charAt(i))|_HEXCHARS.indexOf(vector.charAt(i-1))<<4|_HEXCHARS.indexOf(vector.charAt(i-2))<<8|_HEXCHARS.indexOf(vector.charAt(i-3))<<12,l++;return result}function _base32encode(n){var c,r="";for(c=0;c<255;c+=5)r=_BASE32CHARS.substr(core.getbit(n,c)+(core.getbit(n,c+1)<<1)+(core.getbit(n,c+2)<<2)+(core.getbit(n,c+3)<<3)+(core.getbit(n,c+4)<<4),1)+r;return r}function _base32decode(n){var c=0,r=core.ZERO(),l=n.length;for(c=0;l>0&&c<255;c+=5){l--;var v=_BASE32VALUES[n.substr(l,1)];core.setbit(r,c,1&v),v>>=1,core.setbit(r,c+1,1&v),v>>=1,core.setbit(r,c+2,1&v),v>>=1,core.setbit(r,c+3,1&v),v>>=1,core.setbit(r,c+4,1&v)}return r}function _map(f,l){for(var result=new Array(l.length),i=0;i<l.length;i++)result[i]=f(l[i]);return result}function _chr(n){return String.fromCharCode(n)}function _ord(c){return c.charCodeAt(0)}function _bytes2string(bytes){return _map(_chr,bytes).join("")}function _string2bytes(s){return _map(_ord,s)}var core=require("./core"),ns={},_HEXCHARS="0123456789abcdef",_BASE32CHARS="abcdefghijklmnopqrstuvwxyz234567",_BASE32VALUES=function(){for(var result={},i=0;i<_BASE32CHARS.length;i++)result[_BASE32CHARS.charAt(i)]=i;return result}();ns.hexEncode=_hexencode,ns.hexDecode=_hexdecode,ns.base32encode=_base32encode,ns.base32decode=_base32decode,ns.bytes2string=_bytes2string,ns.string2bytes=_string2bytes,module.exports=ns},{"./core":493}],498:[function(require,module,exports){"use strict";(function(){function BigInteger(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}function am1(i,x,w,j,c,n){for(;--n>=0;){var v=x*this[i++]+w[j]+c;c=Math.floor(v/67108864),w[j++]=67108863&v}return c}function am2(i,x,w,j,c,n){for(var xl=32767&x,xh=x>>15;--n>=0;){var l=32767&this[i],h=this[i++]>>15,m=xh*l+h*xl;c=((l=xl*l+((32767&m)<<15)+w[j]+(1073741823&c))>>>30)+(m>>>15)+xh*h+(c>>>30),w[j++]=1073741823&l}return c}function am3(i,x,w,j,c,n){for(var xl=16383&x,xh=x>>14;--n>=0;){var l=16383&this[i],h=this[i++]>>14,m=xh*l+h*xl;c=((l=xl*l+((16383&m)<<14)+w[j]+c)>>28)+(m>>14)+xh*h,w[j++]=268435455&l}return c}function int2char(n){return BI_RM.charAt(n)}function intAt(s,i){var c=BI_RC[s.charCodeAt(i)];return null==c?-1:c}function bnpCopyTo(r){for(var i=this.t-1;i>=0;--i)r[i]=this[i];r.t=this.t,r.s=this.s}function bnpFromInt(x){this.t=1,this.s=x<0?-1:0,x>0?this[0]=x:x<-1?this[0]=x+this.DV:this.t=0}function nbv(i){var r=nbi();return r.fromInt(i),r}function bnpFromString(s,b){var k;if(16==b)k=4;else if(8==b)k=3;else if(256==b)k=8;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return void this.fromRadix(s,b);k=2}this.t=0,this.s=0;for(var i=s.length,mi=!1,sh=0;--i>=0;){var x=8==k?255&s[i]:intAt(s,i);x<0?"-"==s.charAt(i)&&(mi=!0):(mi=!1,0==sh?this[this.t++]=x:sh+k>this.DB?(this[this.t-1]|=(x&(1<<this.DB-sh)-1)<<sh,this[this.t++]=x>>this.DB-sh):this[this.t-1]|=x<<sh,(sh+=k)>=this.DB&&(sh-=this.DB))}8==k&&0!=(128&s[0])&&(this.s=-1,sh>0&&(this[this.t-1]|=(1<<this.DB-sh)-1<<sh)),this.clamp(),mi&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var c=this.s&this.DM;this.t>0&&this[this.t-1]==c;)--this.t}function bnToString(b){if(this.s<0)return"-"+this.negate().toString(b);var k;if(16==b)k=4;else if(8==b)k=3;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return this.toRadix(b);k=2}var d,km=(1<<k)-1,m=!1,r="",i=this.t,p=this.DB-i*this.DB%k;if(i-- >0)for(p<this.DB&&(d=this[i]>>p)>0&&(m=!0,r=int2char(d));i>=0;)p<k?(d=(this[i]&(1<<p)-1)<<k-p,d|=this[--i]>>(p+=this.DB-k)):(d=this[i]>>(p-=k)&km,p<=0&&(p+=this.DB,--i)),d>0&&(m=!0),m&&(r+=int2char(d));return m?r:"0"}function bnNegate(){var r=nbi();return BigInteger.ZERO.subTo(this,r),r}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var r=this.s-a.s;if(0!=r)return r;var i=this.t;if(0!=(r=i-a.t))return this.s<0?-r:r;for(;--i>=0;)if(0!=(r=this[i]-a[i]))return r;return 0}function nbits(x){var t,r=1;return 0!=(t=x>>>16)&&(x=t,r+=16),0!=(t=x>>8)&&(x=t,r+=8),0!=(t=x>>4)&&(x=t,r+=4),0!=(t=x>>2)&&(x=t,r+=2),0!=(t=x>>1)&&(x=t,r+=1),r}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(n,r){var i;for(i=this.t-1;i>=0;--i)r[i+n]=this[i];for(i=n-1;i>=0;--i)r[i]=0;r.t=this.t+n,r.s=this.s}function bnpDRShiftTo(n,r){for(var i=n;i<this.t;++i)r[i-n]=this[i];r.t=Math.max(this.t-n,0),r.s=this.s}function bnpLShiftTo(n,r){var i,bs=n%this.DB,cbs=this.DB-bs,bm=(1<<cbs)-1,ds=Math.floor(n/this.DB),c=this.s<<bs&this.DM;for(i=this.t-1;i>=0;--i)r[i+ds+1]=this[i]>>cbs|c,c=(this[i]&bm)<<bs;for(i=ds-1;i>=0;--i)r[i]=0;r[ds]=c,r.t=this.t+ds+1,r.s=this.s,r.clamp()}function bnpRShiftTo(n,r){r.s=this.s;var ds=Math.floor(n/this.DB);if(ds>=this.t)return void(r.t=0);var bs=n%this.DB,cbs=this.DB-bs,bm=(1<<bs)-1;r[0]=this[ds]>>bs;for(var i=ds+1;i<this.t;++i)r[i-ds-1]|=(this[i]&bm)<<cbs,r[i-ds]=this[i]>>bs;bs>0&&(r[this.t-ds-1]|=(this.s&bm)<<cbs),r.t=this.t-ds,r.clamp()}function bnpSubTo(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this[i]-a[i],r[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c-=a.s;i<this.t;)c+=this[i],r[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c-=a[i],r[i++]=c&this.DM,c>>=this.DB;c-=a.s}r.s=c<0?-1:0,c<-1?r[i++]=this.DV+c:c>0&&(r[i++]=c),r.t=i,r.clamp()}function bnpMultiplyTo(a,r){var x=this.abs(),y=a.abs(),i=x.t;for(r.t=i+y.t;--i>=0;)r[i]=0;for(i=0;i<y.t;++i)r[i+x.t]=x.am(0,y[i],r,i,0,x.t);r.s=0,r.clamp(),this.s!=a.s&&BigInteger.ZERO.subTo(r,r)}function bnpSquareTo(r){for(var x=this.abs(),i=r.t=2*x.t;--i>=0;)r[i]=0;for(i=0;i<x.t-1;++i){var c=x.am(i,x[i],r,2*i,0,1);(r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1))>=x.DV&&(r[i+x.t]-=x.DV,r[i+x.t+1]=1)}r.t>0&&(r[r.t-1]+=x.am(i,x[i],r,2*i,0,1)),r.s=0,r.clamp()}function bnpDivRemTo(m,q,r){var pm=m.abs();if(!(pm.t<=0)){var pt=this.abs();if(pt.t<pm.t)return null!=q&&q.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=nbi());var y=nbi(),ts=this.s,ms=m.s,nsh=this.DB-nbits(pm[pm.t-1]);nsh>0?(pm.lShiftTo(nsh,y),pt.lShiftTo(nsh,r)):(pm.copyTo(y),pt.copyTo(r));var ys=y.t,y0=y[ys-1];if(0!=y0){var yt=y0*(1<<this.F1)+(ys>1?y[ys-2]>>this.F2:0),d1=this.FV/yt,d2=(1<<this.F1)/yt,e=1<<this.F2,i=r.t,j=i-ys,t=null==q?nbi():q;for(y.dlShiftTo(j,t),r.compareTo(t)>=0&&(r[r.t++]=1,r.subTo(t,r)),BigInteger.ONE.dlShiftTo(ys,t),t.subTo(y,y);y.t<ys;)y[y.t++]=0;for(;--j>=0;){var qd=r[--i]==y0?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);if((r[i]+=y.am(0,qd,r,j,0,ys))<qd)for(y.dlShiftTo(j,t),r.subTo(t,r);r[i]<--qd;)r.subTo(t,r)}null!=q&&(r.drShiftTo(ys,q),ts!=ms&&BigInteger.ZERO.subTo(q,q)),r.t=ys,r.clamp(),nsh>0&&r.rShiftTo(nsh,r),ts<0&&BigInteger.ZERO.subTo(r,r)}}}function bnMod(a){var r=nbi();return this.abs().divRemTo(a,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&a.subTo(r,r),r}function Classic(m){this.m=m}function cConvert(x){return x.s<0||x.compareTo(this.m)>=0?x.mod(this.m):x}function cRevert(x){return x}function cReduce(x){x.divRemTo(this.m,null,x)}function cMulTo(x,y,r){x.multiplyTo(y,r),this.reduce(r)}function cSqrTo(x,r){x.squareTo(r),this.reduce(r)}function bnpInvDigit(){if(this.t<1)return 0;var x=this[0];if(0==(1&x))return 0;var y=3&x;return y=y*(2-(15&x)*y)&15,y=y*(2-(255&x)*y)&255,y=y*(2-((65535&x)*y&65535))&65535,y=y*(2-x*y%this.DV)%this.DV,y>0?this.DV-y:-y}function Montgomery(m){this.m=m,this.mp=m.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<m.DB-15)-1,this.mt2=2*m.t}function montConvert(x){var r=nbi();return x.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),x.s<0&&r.compareTo(BigInteger.ZERO)>0&&this.m.subTo(r,r),r}function montRevert(x){var r=nbi();return x.copyTo(r),this.reduce(r),r}function montReduce(x){for(;x.t<=this.mt2;)x[x.t++]=0;for(var i=0;i<this.m.t;++i){var j=32767&x[i],u0=j*this.mpl+((j*this.mph+(x[i]>>15)*this.mpl&this.um)<<15)&x.DM;for(x[j=i+this.m.t]+=this.m.am(0,u0,x,i,0,this.m.t);x[j]>=x.DV;)x[j]-=x.DV,x[++j]++}x.clamp(),x.drShiftTo(this.m.t,x),x.compareTo(this.m)>=0&&x.subTo(this.m,x)}function montSqrTo(x,r){x.squareTo(r),this.reduce(r)}function montMulTo(x,y,r){x.multiplyTo(y,r),this.reduce(r)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(e,z){if(e>4294967295||e<1)return BigInteger.ONE;var r=nbi(),r2=nbi(),g=z.convert(this),i=nbits(e)-1;for(g.copyTo(r);--i>=0;)if(z.sqrTo(r,r2),(e&1<<i)>0)z.mulTo(r2,g,r);else{var t=r;r=r2,r2=t}return z.revert(r)}function bnModPowInt(e,m){var z;return z=e<256||m.isEven()?new Classic(m):new Montgomery(m),this.exp(e,z)}function bnClone(){var r=nbi();return this.copyTo(r),r}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(b){if(null==b&&(b=10),0==this.signum()||b<2||b>36)return"0";var cs=this.chunkSize(b),a=Math.pow(b,cs),d=nbv(a),y=nbi(),z=nbi(),r="";for(this.divRemTo(d,y,z);y.signum()>0;)r=(a+z.intValue()).toString(b).substr(1)+r,y.divRemTo(d,y,z);return z.intValue().toString(b)+r}function bnpFromRadix(s,b){this.fromInt(0),null==b&&(b=10);for(var cs=this.chunkSize(b),d=Math.pow(b,cs),mi=!1,j=0,w=0,i=0;i<s.length;++i){var x=intAt(s,i);x<0?"-"==s.charAt(i)&&0==this.signum()&&(mi=!0):(w=b*w+x,++j>=cs&&(this.dMultiply(d),this.dAddOffset(w,0),j=0,w=0))}j>0&&(this.dMultiply(Math.pow(b,j)),this.dAddOffset(w,0)),mi&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(a,b,c){if("number"==typeof b)if(a<2)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{var x=new Array,t=7&a;x.length=1+(a>>3),b.nextBytes(x),t>0?x[0]&=(1<<t)-1:x[0]=0,this.fromString(x,256)}}function bnToByteArray(){var i=this.t,r=new Array;r[0]=this.s;var d,p=this.DB-i*this.DB%8,k=0;if(i-- >0)for(p<this.DB&&(d=this[i]>>p)!=(this.s&this.DM)>>p&&(r[k++]=d|this.s<<this.DB-p);i>=0;)p<8?(d=(this[i]&(1<<p)-1)<<8-p,d|=this[--i]>>(p+=this.DB-8)):(d=this[i]>>(p-=8)&255,p<=0&&(p+=this.DB,--i)),0!=(128&d)&&(d|=-256),0==k&&(128&this.s)!=(128&d)&&++k,(k>0||d!=this.s)&&(r[k++]=d);return r}function bnEquals(a){return 0==this.compareTo(a)}function bnMin(a){return this.compareTo(a)<0?this:a}function bnMax(a){return this.compareTo(a)>0?this:a}function bnpBitwiseTo(a,op,r){var i,f,m=Math.min(a.t,this.t);for(i=0;i<m;++i)r[i]=op(this[i],a[i]);if(a.t<this.t){for(f=a.s&this.DM,i=m;i<this.t;++i)r[i]=op(this[i],f);r.t=this.t}else{for(f=this.s&this.DM,i=m;i<a.t;++i)r[i]=op(f,a[i]);r.t=a.t}r.s=op(this.s,a.s),r.clamp()}function op_and(x,y){return x&y}function bnAnd(a){var r=nbi();return this.bitwiseTo(a,op_and,r),r}function op_or(x,y){return x|y}function bnOr(a){var r=nbi();return this.bitwiseTo(a,op_or,r),r}function op_xor(x,y){return x^y}function bnXor(a){var r=nbi();return this.bitwiseTo(a,op_xor,r),r}function op_andnot(x,y){return x&~y}function bnAndNot(a){var r=nbi();return this.bitwiseTo(a,op_andnot,r),r}function bnNot(){for(var r=nbi(),i=0;i<this.t;++i)r[i]=this.DM&~this[i];return r.t=this.t,r.s=~this.s,r}function bnShiftLeft(n){var r=nbi();return n<0?this.rShiftTo(-n,r):this.lShiftTo(n,r),r}function bnShiftRight(n){var r=nbi();return n<0?this.lShiftTo(-n,r):this.rShiftTo(n,r),r}function lbit(x){if(0==x)return-1;var r=0;return 0==(65535&x)&&(x>>=16,r+=16),0==(255&x)&&(x>>=8,r+=8),0==(15&x)&&(x>>=4,r+=4),0==(3&x)&&(x>>=2,r+=2),0==(1&x)&&++r,r}function bnGetLowestSetBit(){for(var i=0;i<this.t;++i)if(0!=this[i])return i*this.DB+lbit(this[i]);return this.s<0?this.t*this.DB:-1}function cbit(x){for(var r=0;0!=x;)x&=x-1,++r;return r}function bnBitCount(){for(var r=0,x=this.s&this.DM,i=0;i<this.t;++i)r+=cbit(this[i]^x);return r}function bnTestBit(n){var j=Math.floor(n/this.DB);return j>=this.t?0!=this.s:0!=(this[j]&1<<n%this.DB)}function bnpChangeBit(n,op){var r=BigInteger.ONE.shiftLeft(n);return this.bitwiseTo(r,op,r),r}function bnSetBit(n){return this.changeBit(n,op_or)}function bnClearBit(n){return this.changeBit(n,op_andnot)}function bnFlipBit(n){return this.changeBit(n,op_xor)}function bnpAddTo(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this[i]+a[i],r[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c+=a.s;i<this.t;)c+=this[i],r[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c+=a[i],r[i++]=c&this.DM,c>>=this.DB;c+=a.s}r.s=c<0?-1:0,c>0?r[i++]=c:c<-1&&(r[i++]=this.DV+c),r.t=i,r.clamp()}function bnAdd(a){var r=nbi();return this.addTo(a,r),r}function bnSubtract(a){var r=nbi();return this.subTo(a,r),r}function bnMultiply(a){var r=nbi();return this.multiplyTo(a,r),r}function bnSquare(){var r=nbi();return this.squareTo(r),r}function bnDivide(a){var r=nbi();return this.divRemTo(a,r,null),r}function bnRemainder(a){var r=nbi();return this.divRemTo(a,null,r),r}function bnDivideAndRemainder(a){var q=nbi(),r=nbi();return this.divRemTo(a,q,r),new Array(q,r)}function bnpDMultiply(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(n,w){if(0!=n){for(;this.t<=w;)this[this.t++]=0;for(this[w]+=n;this[w]>=this.DV;)this[w]-=this.DV,++w>=this.t&&(this[this.t++]=0),++this[w]}}function NullExp(){}function nNop(x){return x}function nMulTo(x,y,r){x.multiplyTo(y,r)}function nSqrTo(x,r){x.squareTo(r)}function bnPow(e){return this.exp(e,new NullExp)}function bnpMultiplyLowerTo(a,n,r){var i=Math.min(this.t+a.t,n);for(r.s=0,r.t=i;i>0;)r[--i]=0;var j;for(j=r.t-this.t;i<j;++i)r[i+this.t]=this.am(0,a[i],r,i,0,this.t);for(j=Math.min(a.t,n);i<j;++i)this.am(0,a[i],r,i,0,n-i);r.clamp()}function bnpMultiplyUpperTo(a,n,r){--n;var i=r.t=this.t+a.t-n;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(n-this.t,0);i<a.t;++i)r[this.t+i-n]=this.am(n-i,a[i],r,0,0,this.t+i-n);r.clamp(),r.drShiftTo(1,r)}function Barrett(m){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*m.t,this.r2),this.mu=this.r2.divide(m),this.m=m}function barrettConvert(x){if(x.s<0||x.t>2*this.m.t)return x.mod(this.m);if(x.compareTo(this.m)<0)return x;var r=nbi();return x.copyTo(r),this.reduce(r),r}function barrettRevert(x){return x}function barrettReduce(x){for(x.drShiftTo(this.m.t-1,this.r2),x.t>this.m.t+1&&(x.t=this.m.t+1,x.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);x.compareTo(this.r2)<0;)x.dAddOffset(1,this.m.t+1);for(x.subTo(this.r2,x);x.compareTo(this.m)>=0;)x.subTo(this.m,x)}function barrettSqrTo(x,r){x.squareTo(r),this.reduce(r)}function barrettMulTo(x,y,r){x.multiplyTo(y,r),this.reduce(r)}function bnModPow(e,m){var k,z,i=e.bitLength(),r=nbv(1);if(i<=0)return r;k=i<18?1:i<48?3:i<144?4:i<768?5:6,z=i<8?new Classic(m):m.isEven()?new Barrett(m):new Montgomery(m);var g=new Array,n=3,k1=k-1,km=(1<<k)-1;if(g[1]=z.convert(this),k>1){var g2=nbi();for(z.sqrTo(g[1],g2);n<=km;)g[n]=nbi(),z.mulTo(g2,g[n-2],g[n]),n+=2}var w,t,j=e.t-1,is1=!0,r2=nbi();for(i=nbits(e[j])-1;j>=0;){for(i>=k1?w=e[j]>>i-k1&km:(w=(e[j]&(1<<i+1)-1)<<k1-i,j>0&&(w|=e[j-1]>>this.DB+i-k1)),n=k;0==(1&w);)w>>=1,--n;if((i-=n)<0&&(i+=this.DB,--j),is1)g[w].copyTo(r),is1=!1;else{for(;n>1;)z.sqrTo(r,r2),z.sqrTo(r2,r),n-=2;n>0?z.sqrTo(r,r2):(t=r,r=r2,r2=t),z.mulTo(r2,g[w],r)}for(;j>=0&&0==(e[j]&1<<i);)z.sqrTo(r,r2),t=r,r=r2,r2=t,--i<0&&(i=this.DB-1,--j)}return z.revert(r)}function bnGCD(a){var x=this.s<0?this.negate():this.clone(),y=a.s<0?a.negate():a.clone();if(x.compareTo(y)<0){var t=x;x=y,y=t}var i=x.getLowestSetBit(),g=y.getLowestSetBit();if(g<0)return x;for(i<g&&(g=i),g>0&&(x.rShiftTo(g,x),y.rShiftTo(g,y));x.signum()>0;)(i=x.getLowestSetBit())>0&&x.rShiftTo(i,x),(i=y.getLowestSetBit())>0&&y.rShiftTo(i,y),x.compareTo(y)>=0?(x.subTo(y,x),x.rShiftTo(1,x)):(y.subTo(x,y),y.rShiftTo(1,y));return g>0&&y.lShiftTo(g,y),y}function bnpModInt(n){if(n<=0)return 0;var d=this.DV%n,r=this.s<0?n-1:0;if(this.t>0)if(0==d)r=this[0]%n;else for(var i=this.t-1;i>=0;--i)r=(d*r+this[i])%n;return r}function bnModInverse(m){var ac=m.isEven();if(this.isEven()&&ac||0==m.signum())return BigInteger.ZERO;for(var u=m.clone(),v=this.clone(),a=nbv(1),b=nbv(0),c=nbv(0),d=nbv(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),ac?(a.isEven()&&b.isEven()||(a.addTo(this,a),b.subTo(m,b)),a.rShiftTo(1,a)):b.isEven()||b.subTo(m,b),b.rShiftTo(1,b);for(;v.isEven();)v.rShiftTo(1,v),ac?(c.isEven()&&d.isEven()||(c.addTo(this,c),d.subTo(m,d)),c.rShiftTo(1,c)):d.isEven()||d.subTo(m,d),d.rShiftTo(1,d);u.compareTo(v)>=0?(u.subTo(v,u),ac&&a.subTo(c,a),b.subTo(d,b)):(v.subTo(u,v),ac&&c.subTo(a,c),d.subTo(b,d))}return 0!=v.compareTo(BigInteger.ONE)?BigInteger.ZERO:d.compareTo(m)>=0?d.subtract(m):d.signum()<0?(d.addTo(m,d),d.signum()<0?d.add(m):d):d}function bnIsProbablePrime(t){var i,x=this.abs();if(1==x.t&&x[0]<=lowprimes[lowprimes.length-1]){for(i=0;i<lowprimes.length;++i)if(x[0]==lowprimes[i])return!0;return!1}if(x.isEven())return!1;for(i=1;i<lowprimes.length;){for(var m=lowprimes[i],j=i+1;j<lowprimes.length&&m<lplim;)m*=lowprimes[j++];for(m=x.modInt(m);i<j;)if(m%lowprimes[i++]==0)return!1}return x.millerRabin(t)}function bnpMillerRabin(t){var n1=this.subtract(BigInteger.ONE),k=n1.getLowestSetBit();if(k<=0)return!1;var r=n1.shiftRight(k);(t=t+1>>1)>lowprimes.length&&(t=lowprimes.length);for(var a=nbi(),i=0;i<t;++i){a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var y=a.modPow(r,this);if(0!=y.compareTo(BigInteger.ONE)&&0!=y.compareTo(n1)){for(var j=1;j++<k&&0!=y.compareTo(n1);)if(0==(y=y.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=y.compareTo(n1))return!1}}return!0}function rng_seed_int(x){rng_pool[rng_pptr++]^=255&x,rng_pool[rng_pptr++]^=x>>8&255,rng_pool[rng_pptr++]^=x>>16&255,rng_pool[rng_pptr++]^=x>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),(rng_state=prng_newstate()).init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(ba){var i;for(i=0;i<ba.length;++i)ba[i]=rng_get_byte()}function SecureRandom(){}function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(key){var i,j,t;for(i=0;i<256;++i)this.S[i]=i;for(j=0,i=0;i<256;++i)j=j+this.S[i]+key[i%key.length]&255,t=this.S[i],this.S[i]=this.S[j],this.S[j]=t;this.i=0,this.j=0}function ARC4next(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}var dbits,inBrowser="undefined"!=typeof navigator;inBrowser&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):inBrowser&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;BigInteger.prototype.FV=Math.pow(2,52),BigInteger.prototype.F1=52-dbits,BigInteger.prototype.F2=2*dbits-52;var rr,vv,BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array;for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=(1<<26)/lowprimes[lowprimes.length-1];BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,BigInteger.prototype.square=bnSquare,BigInteger.prototype.Barrett=Barrett;var rng_state,rng_pool,rng_pptr;if(null==rng_pool){rng_pool=new Array,rng_pptr=0;var t;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var ua=new Uint8Array(32);for(window.crypto.getRandomValues(ua),t=0;t<32;++t)rng_pool[rng_pptr++]=ua[t]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}SecureRandom.prototype.nextBytes=rng_get_bytes,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256;BigInteger.SecureRandom=SecureRandom,BigInteger.BigInteger=BigInteger,void 0!==exports?exports=module.exports=BigInteger:(this.BigInteger=BigInteger,this.SecureRandom=SecureRandom)}).call(undefined)},{}],499:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(root,factory){"function"==typeof define&&define.amd?define([],function(){return factory()}):"object"===(void 0===module?"undefined":_typeof(module))&&module.exports?module.exports=factory():root.jsonSchema=factory()}(undefined,function(){function validate(instance,schema){return validate(instance,schema,{changing:!1})}var exports=validate;exports.Integer={type:"integer"};var primitiveConstructors={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};exports.validate=validate,exports.checkPropertyChange=function(value,schema,property){return validate(value,schema,{changing:property||"property"})};var validate=exports._validate=function(instance,schema,options){function getType(schema){return schema.type||primitiveConstructors[schema.name]==schema&&schema.name.toLowerCase()}function checkProp(value,schema,path,i){function addError(message){errors.push({property:path,message:message})}function checkType(type,value){if(type){if(!("string"!=typeof type||"any"==type||("null"==type?null===value:(void 0===value?"undefined":_typeof(value))==type)||value instanceof Array&&"array"==type||value instanceof Date&&"date"==type||"integer"==type&&value%1==0))return[{property:path,message:(void 0===value?"undefined":_typeof(value))+" value found, but a "+type+" is required"}];if(type instanceof Array){for(var unionErrors=[],j=0;j<type.length&&(unionErrors=checkType(type[j],value)).length;j++);if(unionErrors.length)return unionErrors}else if("object"==(void 0===type?"undefined":_typeof(type))){var priorErrors=errors;errors=[],checkProp(value,type,path);var theseErrors=errors;return errors=priorErrors,theseErrors}}return[]}var l;if(path+=path?"number"==typeof i?"["+i+"]":void 0===i?"":"."+i:i,("object"!=(void 0===schema?"undefined":_typeof(schema))||schema instanceof Array)&&(path||"function"!=typeof schema)&&(!schema||!getType(schema)))return"function"==typeof schema?value instanceof schema||addError("is not an instance of the class/constructor "+schema.name):schema&&addError("Invalid schema/property definition "+schema),null;if(_changing&&schema.readonly&&addError("is a readonly field, it can not be changed"),schema["extends"]&&checkProp(value,schema["extends"],path,i),value===undefined)schema.required&&addError("is missing and it is required");else if(errors=errors.concat(checkType(getType(schema),value)),schema.disallow&&!checkType(schema.disallow,value).length&&addError(" disallowed value was matched"),null!==value){if(value instanceof Array){if(schema.items){var itemsIsArray=schema.items instanceof Array,propDef=schema.items;for(i=0,l=value.length;i<l;i+=1)itemsIsArray&&(propDef=schema.items[i]),options.coerce&&(value[i]=options.coerce(value[i],propDef)),errors.concat(checkProp(value[i],propDef,path,i))}schema.minItems&&value.length<schema.minItems&&addError("There must be a minimum of "+schema.minItems+" in the array"),schema.maxItems&&value.length>schema.maxItems&&addError("There must be a maximum of "+schema.maxItems+" in the array")}else(schema.properties||schema.additionalProperties)&&errors.concat(checkObj(value,schema.properties,path,schema.additionalProperties));if(schema.pattern&&"string"==typeof value&&!value.match(schema.pattern)&&addError("does not match the regex pattern "+schema.pattern),schema.maxLength&&"string"==typeof value&&value.length>schema.maxLength&&addError("may only be "+schema.maxLength+" characters long"),schema.minLength&&"string"==typeof value&&value.length<schema.minLength&&addError("must be at least "+schema.minLength+" characters long"),_typeof(schema.minimum)!==undefined&&(void 0===value?"undefined":_typeof(value))==_typeof(schema.minimum)&&schema.minimum>value&&addError("must have a minimum value of "+schema.minimum),_typeof(schema.maximum)!==undefined&&(void 0===value?"undefined":_typeof(value))==_typeof(schema.maximum)&&schema.maximum<value&&addError("must have a maximum value of "+schema.maximum),schema["enum"]){var enumer=schema["enum"];l=enumer.length;for(var found,j=0;j<l;j++)if(enumer[j]===value){found=1;break}found||addError("does not have a value in the enumeration "+enumer.join(", "))}"number"==typeof schema.maxDecimal&&value.toString().match(new RegExp("\\.[0-9]{"+(schema.maxDecimal+1)+",}"))&&addError("may only have "+schema.maxDecimal+" digits of decimal places")}return null}function checkObj(instance,objTypeDef,path,additionalProp){if("object"==(void 0===objTypeDef?"undefined":_typeof(objTypeDef))){("object"!=(void 0===instance?"undefined":_typeof(instance))||instance instanceof Array)&&errors.push({property:path,message:"an object is required"});for(var i in objTypeDef)if(objTypeDef.hasOwnProperty(i)){var value=instance[i];if(value===undefined&&options.existingOnly)continue;var propDef=objTypeDef[i];value===undefined&&propDef["default"]&&(value=instance[i]=propDef["default"]),options.coerce&&i in instance&&(value=instance[i]=options.coerce(value,propDef)),checkProp(value,propDef,path,i)}}for(i in instance){if(instance.hasOwnProperty(i)&&("_"!=i.charAt(0)||"_"!=i.charAt(1))&&objTypeDef&&!objTypeDef[i]&&!1===additionalProp){if(options.filter){delete instance[i];continue}errors.push({property:path,message:(void 0===value?"undefined":_typeof(value))+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"})}var requires=objTypeDef&&objTypeDef[i]&&objTypeDef[i].requires;!requires||requires in instance||errors.push({property:path,message:"the presence of the property "+i+" requires that "+requires+" also be present"}),value=instance[i],!additionalProp||objTypeDef&&"object"==(void 0===objTypeDef?"undefined":_typeof(objTypeDef))&&i in objTypeDef||(options.coerce&&(value=instance[i]=options.coerce(value,additionalProp)),checkProp(value,additionalProp,path,i)),!_changing&&value&&value.$schema&&(errors=errors.concat(checkProp(value,value.$schema,path,i)))}return errors}options||(options={});var _changing=options.changing,errors=[];return schema&&checkProp(instance,schema,"",_changing||""),!_changing&&instance&&instance.$schema&&checkProp(instance,instance.$schema,"",""),{valid:!errors.length,errors:errors}};return exports.mustBeValid=function(result){if(!result.valid)throw new TypeError(result.errors.map(function(error){return"for property "+error.property+": "+error.message}).join(", \n"))},exports})},{}],500:[function(require,module,exports){"use strict";function stringify(obj,replacer,spaces,cycleReplacer){return JSON.stringify(obj,serializer(replacer,cycleReplacer),spaces)}function serializer(replacer,cycleReplacer){var stack=[],keys=[];return null==cycleReplacer&&(cycleReplacer=function(key,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]"}),function(key,value){if(stack.length>0){var thisPos=stack.indexOf(this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,Infinity,key):keys.push(key),~stack.indexOf(value)&&(value=cycleReplacer.call(this,key,value))}else stack.push(value);return null==replacer?value:replacer.call(this,key,value)}}(module.exports=stringify).getSerialize=serializer},{}],501:[function(require,module,exports){"use strict";exports.parse=require("./lib/parse"),exports.stringify=require("./lib/stringify")},{"./lib/parse":502,"./lib/stringify":503}],502:[function(require,module,exports){"use strict";var at,ch,text,value,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},escapee={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected '"+c+"' instead of '"+ch+"'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&ch<="9";)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&ch<="9";)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),"-"!==ch&&"+"!==ch||(string+=ch,next());ch>="0"&&ch<="9";)string+=ch,next();if(number=+string,isFinite(number))return number;error("Bad number")},string=function(){var hex,i,uffff,string="";if('"'===ch)for(;next();){if('"'===ch)return next(),string;if("\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;i<4&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&ch<=" ";)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected '"+ch+"'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error('Duplicate key "'+key+'"'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};value=function(){switch(white(),ch){case"{":return object();case"[":return array();case'"':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word()}},module.exports=function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"===(void 0===value?"undefined":_typeof(value)))for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&((v=walk(value,k))!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}},{}],503:[function(require,module,exports){"use strict";function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"===(void 0===value?"undefined":_typeof(value))&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),void 0===value?"undefined":_typeof(value)){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"===(void 0===rep?"undefined":_typeof(rep)))for(length=rep.length,i=0;i<length;i+=1)"string"==typeof(k=rep[i])&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}var gap,indent,rep,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};module.exports=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!==(void 0===replacer?"undefined":_typeof(replacer))||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}},{}],504:[function(require,module,exports){"use strict";function deepCopy(obj){var ret,key,marker="__deepCopy";if(obj&&obj[marker])throw new Error("attempted deep copy of cyclic object");if(obj&&obj.constructor==Object){ret={},obj[marker]=!0;for(key in obj)key!=marker&&(ret[key]=deepCopy(obj[key]));return delete obj[marker],ret}if(obj&&obj.constructor==Array){for(ret=[],obj[marker]=!0,key=0;key<obj.length;key++)ret.push(deepCopy(obj[key]));return delete obj[marker],ret}return obj}function deepEqual(obj1,obj2){if((void 0===obj1?"undefined":_typeof(obj1))!=(void 0===obj2?"undefined":_typeof(obj2)))return!1;if(null===obj1||null===obj2||"object"!=(void 0===obj1?"undefined":_typeof(obj1)))return obj1===obj2;if(obj1.constructor!=obj2.constructor)return!1;var k;for(k in obj1){if(!obj2.hasOwnProperty(k))return!1;if(!deepEqual(obj1[k],obj2[k]))return!1}for(k in obj2)if(!obj1.hasOwnProperty(k))return!1;return!0}function isEmpty(obj){var key;for(key in obj)return!1;return!0}function hasKey(obj,key){return mod_assert.equal(void 0===key?"undefined":_typeof(key),"string"),Object.prototype.hasOwnProperty.call(obj,key)}function forEachKey(obj,callback){for(var key in obj)hasKey(obj,key)&&callback(key,obj[key])}function pluck(obj,key){return mod_assert.equal(void 0===key?"undefined":_typeof(key),"string"),pluckv(obj,key)}function pluckv(obj,key){if(null===obj||"object"!==(void 0===obj?"undefined":_typeof(obj)))return undefined;if(obj.hasOwnProperty(key))return obj[key];var i=key.indexOf(".");if(-1==i)return undefined;var key1=key.substr(0,i);return obj.hasOwnProperty(key1)?pluckv(obj[key1],key.substr(i+1)):undefined}function flattenIter(data,depth,callback){doFlattenIter(data,depth,[],callback)}function doFlattenIter(data,depth,accum,callback){var each,key;if(0===depth)return(each=accum.slice(0)).push(data),void callback(each);mod_assert.ok(null!==data),mod_assert.equal(void 0===data?"undefined":_typeof(data),"object"),mod_assert.equal(void 0===depth?"undefined":_typeof(depth),"number"),mod_assert.ok(depth>=0);for(key in data)(each=accum.slice(0)).push(key),doFlattenIter(data[key],depth-1,each,callback)}function flattenObject(data,depth){if(0===depth)return[data];mod_assert.ok(null!==data),mod_assert.equal(void 0===data?"undefined":_typeof(data),"object"),mod_assert.equal(void 0===depth?"undefined":_typeof(depth),"number"),mod_assert.ok(depth>=0);var key,rv=[];for(key in data)flattenObject(data[key],depth-1).forEach(function(p){rv.push([key].concat(p))});return rv}function startsWith(str,prefix){return str.substr(0,prefix.length)==prefix}function endsWith(str,suffix){return str.substr(str.length-suffix.length,suffix.length)==suffix}function iso8601(d){return"number"==typeof d&&(d=new Date(d)),mod_assert.ok(d.constructor===Date),mod_extsprintf.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",d.getUTCFullYear(),d.getUTCMonth()+1,d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())}function rfc1123(date){return mod_extsprintf.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",RFC1123_DAYS[date.getUTCDay()],date.getUTCDate(),RFC1123_MONTHS[date.getUTCMonth()],date.getUTCFullYear(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds())}function parseDateTime(str){var numeric=+str;return isNaN(numeric)?new Date(str):new Date(numeric)}function parseInteger(str,uopts){mod_assert.string(str,"str"),mod_assert.optionalObject(uopts,"options");var baseOverride=!1,options=PI_DEFAULTS;uopts&&(baseOverride=hasKey(uopts,"base"),options=mergeObjects(options,uopts),mod_assert.number(options.base,"options.base"),mod_assert.ok(options.base>=2,"options.base >= 2"),mod_assert.ok(options.base<=36,"options.base <= 36"),mod_assert.bool(options.allowSign,"options.allowSign"),mod_assert.bool(options.allowPrefix,"options.allowPrefix"),mod_assert.bool(options.allowTrailing,"options.allowTrailing"),mod_assert.bool(options.allowImprecise,"options.allowImprecise"),mod_assert.bool(options.trimWhitespace,"options.trimWhitespace"),mod_assert.bool(options.leadingZeroIsOctal,"options.leadingZeroIsOctal"),options.leadingZeroIsOctal&&mod_assert.ok(!baseOverride,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var c,start,pbase=-1,base=options.base,mult=1,value=0,idx=0,len=str.length;if(options.trimWhitespace)for(;idx<len&&isSpace(str.charCodeAt(idx));)++idx;for(options.allowSign&&("-"===str[idx]?(idx+=1,mult=-1):"+"===str[idx]&&(idx+=1)),"0"===str[idx]&&(options.allowPrefix&&(-1===(pbase=prefixToBase(str.charCodeAt(idx+1)))||baseOverride&&pbase!==base||(base=pbase,idx+=2)),-1===pbase&&options.leadingZeroIsOctal&&(base=8)),start=idx;idx<len&&(-1!==(c=translateDigit(str.charCodeAt(idx)))&&c<base);++idx)value*=base,value+=c;if(start===idx)return new Error("invalid number: "+JSON.stringify(str));if(options.trimWhitespace)for(;idx<len&&isSpace(str.charCodeAt(idx));)++idx;if(idx<len&&!options.allowTrailing)return new Error("trailing characters after number: "+JSON.stringify(str.slice(idx)));if(0===value)return 0;var result=value*mult;return!options.allowImprecise&&(value>MAX_SAFE_INTEGER||result<MIN_SAFE_INTEGER)?new Error("number is outside of the supported range: "+JSON.stringify(str.slice(start,idx))):result}function translateDigit(d){return d>=CP_0&&d<=CP_9?d-PI_CONV_DEC:d>=CP_A&&d<=CP_Z?d-PI_CONV_UC:d>=CP_a&&d<=CP_z?d-PI_CONV_LC:-1}function isSpace(c){return 32===c||c>=9&&c<=13||160===c||5760===c||6158===c||c>=8192&&c<=8202||8232===c||8233===c||8239===c||8287===c||12288===c||65279===c}function prefixToBase(c){return c===CP_b||c===CP_B?2:c===CP_o||c===CP_O?8:c===CP_t||c===CP_T?10:c===CP_x||c===CP_X?16:-1}function validateJsonObjectJS(schema,input){var report=mod_jsonschema.validate(input,schema);if(0===report.errors.length)return null;var i,j,error=report.errors[0],propname=error.property,reason=error.message.toLowerCase();-1!=(i=reason.indexOf("the property "))&&-1!=(j=reason.indexOf(" is not defined in the schema and the schema does not allow additional properties"))&&(i+="the property ".length,propname=""===propname?reason.substr(i,j-i):propname+"."+reason.substr(i,j-i),reason="unsupported property");var rv=new mod_verror.VError('property "%s": %s',propname,reason);return rv.jsv_details=error,rv}function randElt(arr){return mod_assert.ok(Array.isArray(arr)&&arr.length>0,"randElt argument must be a non-empty array"),arr[Math.floor(Math.random()*arr.length)]}function assertHrtime(a){mod_assert.ok(a[0]>=0&&a[1]>=0,"negative numbers not allowed in hrtimes"),mod_assert.ok(a[1]<1e9,"nanoseconds column overflow")}function hrtimeDiff(a,b){assertHrtime(a),assertHrtime(b),mod_assert.ok(a[0]>b[0]||a[0]==b[0]&&a[1]>=b[1],"negative differences not allowed");var rv=[a[0]-b[0],0];return a[1]>=b[1]?rv[1]=a[1]-b[1]:(rv[0]--,rv[1]=1e9-(b[1]-a[1])),rv}function hrtimeNanosec(a){return assertHrtime(a),Math.floor(1e9*a[0]+a[1])}function hrtimeMicrosec(a){return assertHrtime(a),Math.floor(1e6*a[0]+a[1]/1e3)}function hrtimeMillisec(a){return assertHrtime(a),Math.floor(1e3*a[0]+a[1]/1e6)}function hrtimeAccum(a,b){return assertHrtime(a),assertHrtime(b),a[1]+=b[1],a[1]>=1e9&&(a[0]++,a[1]-=1e9),a[0]+=b[0],a}function hrtimeAdd(a,b){return assertHrtime(a),hrtimeAccum([a[0],a[1]],b)}function extraProperties(obj,allowed){mod_assert.ok("object"===(void 0===obj?"undefined":_typeof(obj))&&null!==obj,"obj argument must be a non-null object"),mod_assert.ok(Array.isArray(allowed),"allowed argument must be an array of strings");for(var i=0;i<allowed.length;i++)mod_assert.ok("string"==typeof allowed[i],"allowed argument must be an array of strings");return Object.keys(obj).filter(function(key){return-1===allowed.indexOf(key)})}function mergeObjects(provided,overrides,defaults){var rv,k;if(rv={},defaults)for(k in defaults)rv[k]=defaults[k];if(provided)for(k in provided)rv[k]=provided[k];if(overrides)for(k in overrides)rv[k]=overrides[k];return rv}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},mod_assert=require("assert-plus"),mod_extsprintf=(require("util"),require("extsprintf")),mod_verror=require("verror"),mod_jsonschema=require("json-schema");exports.deepCopy=deepCopy,exports.deepEqual=deepEqual,exports.isEmpty=isEmpty,exports.hasKey=hasKey,exports.forEachKey=forEachKey,exports.pluck=pluck,exports.flattenObject=flattenObject,exports.flattenIter=flattenIter,exports.validateJsonObject=validateJsonObjectJS,exports.validateJsonObjectJS=validateJsonObjectJS,exports.randElt=randElt,exports.extraProperties=extraProperties,exports.mergeObjects=mergeObjects,exports.startsWith=startsWith,exports.endsWith=endsWith,exports.parseInteger=parseInteger,exports.iso8601=iso8601,exports.rfc1123=rfc1123,exports.parseDateTime=parseDateTime,exports.hrtimediff=hrtimeDiff,exports.hrtimeDiff=hrtimeDiff,exports.hrtimeAccum=hrtimeAccum,exports.hrtimeAdd=hrtimeAdd,exports.hrtimeNanosec=hrtimeNanosec,exports.hrtimeMicrosec=hrtimeMicrosec,exports.hrtimeMillisec=hrtimeMillisec;var RFC1123_MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RFC1123_DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,PI_DEFAULTS={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},CP_0=48,CP_9=57,CP_A=65,CP_B=66,CP_O=79,CP_T=84,CP_X=88,CP_Z=90,CP_a=97,CP_b=98,CP_o=111,CP_t=116,CP_x=120,CP_z=122,PI_CONV_DEC=48,PI_CONV_UC=55,PI_CONV_LC=87},{"assert-plus":505,extsprintf:446,"json-schema":499,util:635,verror:641}],505:[function(require,module,exports){(function(Buffer,process){"use strict";function _capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1)}function _toss(name,expected,oper,arg,actual){throw new assert.AssertionError({message:util.format("%s (%s) is required",name,expected),actual:actual===undefined?void 0===arg?"undefined":_typeof(arg):actual(arg),expected:expected,operator:oper||"===",stackStartFunction:_toss.caller})}function _getClass(arg){return Object.prototype.toString.call(arg).slice(8,-1)}function noop(){}function _setExports(ndebug){var out,keys=Object.keys(types);return out=process.env.NODE_NDEBUG?noop:function(arg,msg){arg||_toss(msg,"true",arg)},keys.forEach(function(k){if(ndebug)return void(out[k]=noop);var type=types[k];out[k]=function(arg,msg){type.check(arg)||_toss(msg,k,type.operator,arg,type.actual)}}),keys.forEach(function(k){var name="optional"+_capitalize(k);if(ndebug)return void(out[name]=noop);var type=types[k];out[name]=function(arg,msg){arg!==undefined&&null!==arg&&(type.check(arg)||_toss(msg,k,type.operator,arg,type.actual))}}),keys.forEach(function(k){var name="arrayOf"+_capitalize(k);if(ndebug)return void(out[name]=noop);var type=types[k],expected="["+k+"]";out[name]=function(arg,msg){Array.isArray(arg)||_toss(msg,expected,type.operator,arg,type.actual);var i;for(i=0;i<arg.length;i++)type.check(arg[i])||_toss(msg,expected,type.operator,arg,type.actual)}}),keys.forEach(function(k){var name="optionalArrayOf"+_capitalize(k);if(ndebug)return void(out[name]=noop);var type=types[k],expected="["+k+"]";out[name]=function(arg,msg){if(arg!==undefined&&null!==arg){Array.isArray(arg)||_toss(msg,expected,type.operator,arg,type.actual);var i;for(i=0;i<arg.length;i++)type.check(arg[i])||_toss(msg,expected,type.operator,arg,type.actual)}}}),Object.keys(assert).forEach(function(k){return"AssertionError"===k?void(out[k]=assert[k]):ndebug?void(out[k]=noop):void(out[k]=assert[k])}),out._setExports=_setExports,out}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},assert=require("assert"),Stream=require("stream").Stream,util=require("util"),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,types={bool:{check:function(arg){return"boolean"==typeof arg}},func:{check:function(arg){return"function"==typeof arg}},string:{check:function(arg){return"string"==typeof arg}},object:{check:function(arg){return"object"===(void 0===arg?"undefined":_typeof(arg))&&null!==arg}},number:{check:function(arg){return"number"==typeof arg&&!isNaN(arg)}},finite:{check:function(arg){return"number"==typeof arg&&!isNaN(arg)&&isFinite(arg)}},buffer:{check:function(arg){return Buffer.isBuffer(arg)},operator:"Buffer.isBuffer"},array:{check:function(arg){return Array.isArray(arg)},operator:"Array.isArray"},stream:{check:function(arg){return arg instanceof Stream},operator:"instanceof",actual:_getClass},date:{check:function(arg){return arg instanceof Date},operator:"instanceof",actual:_getClass},regexp:{check:function(arg){return arg instanceof RegExp},operator:"instanceof",actual:_getClass},uuid:{check:function(arg){return"string"==typeof arg&&UUID_REGEXP.test(arg)},operator:"isUUID"}};module.exports=_setExports(process.env.NODE_NDEBUG)}).call(this,{isBuffer:require("../../../is-buffer/index.js")},require("_process"))},{"../../../is-buffer/index.js":488,_process:534,assert:64,stream:610,util:635}],506:[function(require,module,exports){"use strict";function MillerRabin(rand){this.rand=rand||new brorand.Rand}var bn=require("bn.js"),brorand=require("brorand");module.exports=MillerRabin,MillerRabin.create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._rand=function(n){var len=n.bitLength(),buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=7&len;return 0!==mask&&(buf[buf.length-1]>>=7-mask),new bn(buf)},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._rand(n2);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(0===(x=x.redSqr()).cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return!0},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._rand(n2),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(0===(x=x.redSqr()).cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return(x=x.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":71,brorand:72}],507:[function(require,module,exports){module.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.control+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emergencycalldata.veds+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1,extensions:["woff"]},"application/font-woff2":{compressible:!1,extensions:["woff2"]},"application/framework-attributes+xml":{source:"iana"},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/gml+xml":{source:"iana",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js"]},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana"},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana"},"application/n-triples":{source:"iana"},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana"},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.desmume.movie":{source:"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.image+zip":{source:"iana"},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-printschematicket+xml":{source:"iana"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"apache",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"apache",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"apache",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana"},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/vq-rtcpxr":{source:"iana"},"application/watcherinfo+xml":{source:"iana"},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-otf":{source:"apache",compressible:!0,extensions:["otf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-ttf":{source:"apache",compressible:!0,extensions:["ttf","ttc"]},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana"},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana"},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/opentype":{compressible:!0,extensions:["otf"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana"},"image/emf":{source:"iana"},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana"},"image/jp2":{source:"iana"},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana"},"image/jpx":{source:"iana"},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:!1,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana"},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana"},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana"},"message/global-delivery-status":{source:"iana"},"message/global-disposition-notification":{source:"iana"},"message/global-headers":{source:"iana"},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/hjson":{extensions:["hjson"]},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana"},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/slim":{extensions:["slim","slm"]},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["markdown","md","mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"apache"},"video/3gpp":{source:"apache",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"apache"},"video/3gpp2":{source:"apache",extensions:["3g2"]},"video/bmpeg":{source:"apache"},"video/bt656":{source:"apache"},"video/celb":{source:"apache"},"video/dv":{source:"apache"},"video/encaprtp":{source:"apache"},"video/h261":{source:"apache",extensions:["h261"]},"video/h263":{source:"apache",extensions:["h263"]},"video/h263-1998":{source:"apache"},"video/h263-2000":{source:"apache"},"video/h264":{source:"apache",extensions:["h264"]},"video/h264-rcdo":{source:"apache"},"video/h264-svc":{source:"apache"},"video/h265":{source:"apache"},"video/iso.segment":{source:"apache"},"video/jpeg":{source:"apache",extensions:["jpgv"]},"video/jpeg2000":{source:"apache"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"apache",extensions:["mj2","mjp2"]},"video/mp1s":{source:"apache"},"video/mp2p":{source:"apache"},"video/mp2t":{source:"apache",extensions:["ts"]},"video/mp4":{source:"apache",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"apache"},"video/mpeg":{source:"apache",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"apache"},"video/mpv":{source:"apache"},"video/nv":{source:"apache"},"video/ogg":{source:"apache",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"apache"},"video/pointer":{source:"apache"},"video/quicktime":{source:"apache",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"apache"},"video/raw":{source:"apache"},"video/rtp-enc-aescm128":{source:"apache"},"video/rtploopback":{source:"apache"},"video/rtx":{source:"apache"},"video/smpte292m":{source:"apache"},"video/ulpfec":{source:"apache"},"video/vc1":{source:"apache"},"video/vnd.cctv":{source:"apache"},"video/vnd.dece.hd":{source:"apache",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"apache",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"apache"},"video/vnd.dece.pd":{source:"apache",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"apache",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"apache",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"apache"},"video/vnd.directv.mpeg-tts":{source:"apache"},"video/vnd.dlna.mpeg-tts":{source:"apache"},"video/vnd.dvb.file":{source:"apache",extensions:["dvb"]},"video/vnd.fvt":{source:"apache",extensions:["fvt"]},"video/vnd.hns.video":{source:"apache"},"video/vnd.iptvforum.1dparityfec-1010":{source:"apache"},"video/vnd.iptvforum.1dparityfec-2005":{source:"apache"},"video/vnd.iptvforum.2dparityfec-1010":{source:"apache"},"video/vnd.iptvforum.2dparityfec-2005":{source:"apache"},"video/vnd.iptvforum.ttsavc":{source:"apache"},"video/vnd.iptvforum.ttsmpeg2":{source:"apache"},"video/vnd.motorola.video":{source:"apache"},"video/vnd.motorola.videop":{source:"apache"},"video/vnd.mpegurl":{source:"apache",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"apache",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"apache"},"video/vnd.nokia.videovoip":{source:"apache"},"video/vnd.objectvideo":{source:"apache"},"video/vnd.radgamettools.bink":{source:"apache"},"video/vnd.radgamettools.smacker":{source:"apache"},"video/vnd.sealed.mpeg1":{source:"apache"},"video/vnd.sealed.mpeg4":{source:"apache"},"video/vnd.sealed.swf":{source:"apache"},"video/vnd.sealedmedia.softseal.mov":{source:"apache"},"video/vnd.uvvu.mp4":{source:"apache",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"apache",extensions:["viv"]},"video/vp8":{source:"apache"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},{}],508:[function(require,module,exports){"use strict";module.exports=require("./db.json")},{"./db.json":507}],509:[function(require,module,exports){"use strict";function charset(type){if(!type||"string"!=typeof type)return!1;var match=extractTypeRegExp.exec(type),mime=match&&db[match[1].toLowerCase()];return mime&&mime.charset?mime.charset:!(!match||!textTypeRegExp.test(match[1]))&&"UTF-8"}function contentType(str){if(!str||"string"!=typeof str)return!1;var mime=-1===str.indexOf("/")?exports.lookup(str):str;if(!mime)return!1;if(-1===mime.indexOf("charset")){var charset=exports.charset(mime);charset&&(mime+="; charset="+charset.toLowerCase())}return mime}function extension(type){if(!type||"string"!=typeof type)return!1;var match=extractTypeRegExp.exec(type),exts=match&&exports.extensions[match[1].toLowerCase()];return!(!exts||!exts.length)&&exts[0]}function lookup(path){if(!path||"string"!=typeof path)return!1;var extension=extname("x."+path).toLowerCase().substr(1);return!!extension&&(exports.types[extension]||!1)}var db=require("mime-db"),extname=require("path").extname,extractTypeRegExp=/^\s*([^;\s]*)(?:;|\s|$)/,textTypeRegExp=/^text\//i;exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=contentType,exports.extension=extension,exports.extensions=Object.create(null),exports.lookup=lookup,exports.types=Object.create(null),function(extensions,types){var preference=["nginx","apache",undefined,"iana"];Object.keys(db).forEach(function(type){var mime=db[type],exts=mime.extensions;if(exts&&exts.length){extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension=exts[i];if(types[extension]){var from=preference.indexOf(db[types[extension]].source),to=preference.indexOf(mime.source);if("application/octet-stream"!==types[extension]&&(from>to||from===to&&"application/"===types[extension].substr(0,12)))continue}types[extension]=type}}})}(exports.extensions,exports.types)},{"mime-db":508,path:529}],510:[function(require,module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}module.exports=assert,assert.equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],511:[function(require,module,exports){"use strict";function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if("hex"===enc){(msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg);for(i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res}function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}var utils=exports;utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr}},{}],512:[function(require,module,exports){"use strict";function sha1(key,body){return crypto.createHmac("sha1",key).update(body).digest("base64")}function rsa(key,body){return crypto.createSign("RSA-SHA1").update(body).sign(key,"base64")}function rfc3986(str){return encodeURIComponent(str).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function map(obj){var key,val,arr=[];for(key in obj)if(val=obj[key],Array.isArray(val))for(var i=0;i<val.length;i++)arr.push([key,val[i]]);else if("object"===(void 0===val?"undefined":_typeof(val)))for(var prop in val)arr.push([key+"["+prop+"]",val[prop]]);else arr.push([key,val]);return arr}function compare(a,b){return a>b?1:a<b?-1:0}function generateBase(httpMethod,base_uri,params){var normalized=map(params).map(function(p){return[rfc3986(p[0]),rfc3986(p[1]||"")]}).sort(function(a,b){return compare(a[0],b[0])||compare(a[1],b[1])}).map(function(p){return p.join("=")}).join("&");return[rfc3986(httpMethod?httpMethod.toUpperCase():"GET"),rfc3986(base_uri),rfc3986(normalized)].join("&")}function hmacsign(httpMethod,base_uri,params,consumer_secret,token_secret){var base=generateBase(httpMethod,base_uri,params);return sha1([consumer_secret||"",token_secret||""].map(rfc3986).join("&"),base)}function rsasign(httpMethod,base_uri,params,private_key,token_secret){var base=generateBase(httpMethod,base_uri,params);return rsa(private_key||"",base)}function plaintext(consumer_secret,token_secret){return[consumer_secret||"",token_secret||""].map(rfc3986).join("&")}function sign(signMethod,httpMethod,base_uri,params,consumer_secret,token_secret){var method,skipArgs=1;switch(signMethod){case"RSA-SHA1":method=rsasign;break;case"HMAC-SHA1":method=hmacsign;break;case"PLAINTEXT":method=plaintext,skipArgs=4;break;default:throw new Error("Signature method not supported: "+signMethod)}return method.apply(null,[].slice.call(arguments,skipArgs))}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},crypto=require("crypto");require("querystring");exports.hmacsign=hmacsign,exports.rsasign=rsasign,exports.plaintext=plaintext,exports.sign=sign,exports.rfc3986=rfc3986,exports.generateBase=generateBase},{crypto:411,querystring:549}],513:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!==(void 0===source?"undefined":_typeof(source)))throw new TypeError(source+"must be non-object");for(var p in source)source.hasOwnProperty(p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)return void dest.set(src.subarray(src_offs,src_offs+len),dest_offs);for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},{}],514:[function(require,module,exports){"use strict";function adler32(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],515:[function(require,module,exports){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],516:[function(require,module,exports){"use strict";function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=crc32},{}],517:[function(require,module,exports){"use strict";function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(match=cur_match,_win[match+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(scan=s.strstart-1,(prev=_win[scan])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,s=strm.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&lm_init(strm.state),ret}function deflateSetHeader(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)}function deflateEnd(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR}function deflateSetDictionary(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(s=strm.state,2===(wrap=s.wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK}var configuration_table,utils=require("../utils/common"),trees=require("./trees"),adler32=require("./adler32"),crc32=require("./crc32"),msg=require("./messages"),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=deflateInit,exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=deflateSetHeader,exports.deflate=deflate,exports.deflateEnd=deflateEnd,exports.deflateSetDictionary=deflateSetDictionary,exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":513,"./adler32":514,"./crc32":516,"./messages":521,"./trees":522}],518:[function(require,module,exports){"use strict";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,op&=15,bits<op&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if((op=dist-op)>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},{}],519:[function(require,module,exports){"use strict";function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?(state=strm.state,state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;(state=strm.state).mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(hold>>>=4,bits-=4,len=8+(15&hold),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,hold>>>=1,bits-=1,3&hold){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)}function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK}function inflateGetHeader(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR}function inflateSetDictionary(strm,dictionary){var state,dictid,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&(dictid=1,(dictid=adler32(dictid,dictionary,dictLength,0))!==state.check)?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK):Z_STREAM_ERROR}var lenfix,distfix,utils=require("../utils/common"),adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15,virgin=!0;exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=inflateInit,exports.inflateInit2=inflateInit2,exports.inflate=inflate,exports.inflateEnd=inflateEnd,exports.inflateGetHeader=inflateGetHeader,exports.inflateSetDictionary=inflateSetDictionary,exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":513,"./adler32":514,"./crc32":516,"./inffast":518,"./inftrees":520}],520:[function(require,module,exports){"use strict";var utils=require("../utils/common"),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,used=1<<root,mask=used-1,1===type&&used>852||2===type&&used>592)return 1;for(var i=0;;){i++,here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},{"../utils/common":513}],521:[function(require,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],522:[function(require,module,exports){"use strict";function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function bi_flush(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function tr_static_init(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(0!=--count)}else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}function _tr_init(s){static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),copy_block(s,buf,stored_len,!0)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=build_bl_tree(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)}function _tr_tally(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1}var utils=require("../utils/common"),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var static_l_desc,static_d_desc,static_bl_desc,static_init_done=!1;exports._tr_init=_tr_init,exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=_tr_flush_block,exports._tr_tally=_tr_tally,exports._tr_align=_tr_align},{"../utils/common":513}],523:[function(require,module,exports){"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=ZStream},{}],524:[function(require,module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],525:[function(require,module,exports){"use strict";var asn1=require("asn1.js");exports.certificate=require("./certificate");var RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":526,"asn1.js":43}],526:[function(require,module,exports){"use strict";var asn=require("asn1.js"),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier),this.key("signatureValue").bitstr())});module.exports=X509Certificate},{"asn1.js":43}],527:[function(require,module,exports){(function(Buffer){"use strict";var evp=require("evp_bytestokey"),ciphers=require("browserify-aes");module.exports=function(okey,password){var decrypted,key=okey.toString(),match=key.match(/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m);if(match){var suite="aes"+match[1],iv=new Buffer(match[2],"hex"),cipherText=new Buffer(match[3].replace(/\r?\n/g,""),"base64"),cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key,out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText)),out.push(cipher.final()),decrypted=Buffer.concat(out)}else{var match2=key.match(/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m);decrypted=new Buffer(match2[2].replace(/\r?\n/g,""),"base64")}return{tag:key.match(/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m)[1],data:decrypted}}}).call(this,require("buffer").Buffer)},{"browserify-aes":76,buffer:105,evp_bytestokey:444}],528:[function(require,module,exports){(function(Buffer){"use strict";function parseKeys(buffer){var password;"object"!==(void 0===buffer?"undefined":_typeof(buffer))||Buffer.isBuffer(buffer)||(password=buffer.passphrase,buffer=buffer.key),"string"==typeof buffer&&(buffer=new Buffer(buffer));var subtype,ndata,stripped=fixProc(buffer,password),type=stripped.tag,data=stripped.data;switch(type){case"CERTIFICATE":ndata=asn1.certificate.decode(data,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ndata||(ndata=asn1.PublicKey.decode(data,"der")),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=decrypt(data=asn1.EncryptedPrivateKey.decode(data,"der"),password);case"PRIVATE KEY":switch(ndata=asn1.PrivateKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return data=asn1.ECPrivateKey.decode(data,"der"),{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt,iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10),algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")],iv=data.algorithm.decrypt.cipher.iv,cipherText=data.subjectPrivateKey,keylen=parseInt(algo.split("-")[1],10)/8,key=compat.pbkdf2Sync(password,salt,iters,keylen),cipher=ciphers.createDecipheriv(algo,key,iv),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2");module.exports=parseKeys,parseKeys.signature=asn1.signature}).call(this,require("buffer").Buffer)},{"./aesid.json":524,"./asn1":525,"./fixProc":527,"browserify-aes":76,buffer:105,pbkdf2:530}],529:[function(require,module,exports){(function(process){"use strict";function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return(path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"))||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:534}],530:[function(require,module,exports){(function(process,Buffer){"use strict";var createHmac=require("create-hmac"),checkParameters=require("./precondition");exports.pbkdf2=function(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=undefined),checkParameters(iterations,keylen),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");setTimeout(function(){callback(null,exports.pbkdf2Sync(password,salt,iterations,keylen,digest))})};var defaultEncoding;if(process.browser)defaultEncoding="utf-8";else{var pVersionMajor=parseInt(process.version.split(".")[0].slice(1),10);defaultEncoding=pVersionMajor>=6?"utf-8":"binary"}exports.pbkdf2Sync=function(password,salt,iterations,keylen,digest){Buffer.isBuffer(password)||(password=new Buffer(password,defaultEncoding)),Buffer.isBuffer(salt)||(salt=new Buffer(salt,defaultEncoding)),checkParameters(iterations,keylen),digest=digest||"sha1";var hLen,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var r,T,i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();hLen||(hLen=U.length,T=new Buffer(hLen),r=keylen-((l=Math.ceil(keylen/hLen))-1)*hLen),U.copy(T,0,0,hLen);for(var j=1;j<iterations;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;k<hLen;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}}).call(this,require("_process"),require("buffer").Buffer)},{"./precondition":531,_process:534,buffer:105,"create-hmac":410}],531:[function(require,module,exports){"use strict";var MAX_ALLOC=Math.pow(2,30)-1;module.exports=function(iterations,keylen){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(keylen<0||keylen>MAX_ALLOC||keylen!==keylen)throw new TypeError("Bad key length")}},{}],532:[function(require,module,exports){(function(process){"use strict";(function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:void 0!==process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,loadTime=(getNanoSeconds=function(){var hr;return 1e9*(hr=hrtime())[0]+hr[1]})()):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(undefined)}).call(this,require("_process"))},{_process:534}],533:[function(require,module,exports){(function(process){"use strict";function nextTick(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick}).call(this,require("_process"))},{_process:534}],534:[function(require,module,exports){"use strict";function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],535:[function(require,module,exports){"use strict";exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},{"./privateDecrypt":537,"./publicEncrypt":538}],536:[function(require,module,exports){(function(Buffer){"use strict";function i2ops(c){var out=new Buffer(4);return out.writeUInt32BE(c,0),out}var createHash=require("create-hash");module.exports=function(seed,len){for(var c,t=new Buffer(""),i=0;t.length<len;)c=i2ops(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}}).call(this,require("buffer").Buffer)},{buffer:105,"create-hash":407}],537:[function(require,module,exports){(function(Buffer){"use strict";function oaep(key,msg){key.modulus;var k=key.modulus.byteLength(),iHash=(msg.length,createHash("sha1").update(new Buffer("")).digest()),hLen=iHash.length;if(0!==msg[0])throw new Error("decryption error");var maskedSeed=msg.slice(1,hLen+1),maskedDb=msg.slice(hLen+1),seed=xor(maskedSeed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen)))throw new Error("decryption error");for(var i=hLen;0===db[i];)i++;if(1!==db[i++])throw new Error("decryption error");return db.slice(i)}function pkcs1(key,msg,reverse){for(var p1=msg.slice(0,2),i=2,status=0;0!==msg[i++];)if(i>=msg.length){status++;break}var ps=msg.slice(2,i-1);msg.slice(i-1,i);if(("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++,ps.length<8&&status++,status)throw new Error("decryption error");return msg.slice(i)}function compare(a,b){a=new Buffer(a),b=new Buffer(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));for(var i=-1;++i<len;)dif+=a[i]^b[i];return dif}var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic");module.exports=function(private_key,enc,reverse){var padding;padding=private_key.padding?private_key.padding:reverse?1:4;var key=parseKeys(private_key),k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0)throw new Error("decryption error");var msg;msg=reverse?withPublic(new bn(enc),key):crt(enc,key);var zBuffer=new Buffer(k-msg.length);if(zBuffer.fill(0),msg=Buffer.concat([zBuffer,msg],k),4===padding)return oaep(key,msg);if(1===padding)return pkcs1(key,msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}}).call(this,require("buffer").Buffer)},{"./mgf":536,"./withPublic":539,"./xor":540,"bn.js":71,"browserify-rsa":92,buffer:105,"create-hash":407,"parse-asn1":528}],538:[function(require,module,exports){(function(Buffer){"use strict";function oaep(key,msg){var k=key.modulus.byteLength(),mLen=msg.length,iHash=createHash("sha1").update(new Buffer("")).digest(),hLen=iHash.length,hLen2=2*hLen;if(mLen>k-hLen2-2)throw new Error("message too long");var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1,seed=randomBytes(hLen),maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen)),maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length,k=key.modulus.byteLength();if(mLen>k-11)throw new Error("message too long");var ps;return reverse?(ps=new Buffer(k-mLen-3)).fill(255):ps=nonZero(k-mLen-3),new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len,crypto){for(var num,out=new Buffer(len),i=0,cache=randomBytes(2*len),cur=0;i<len;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),(num=cache[cur++])&&(out[i++]=num);return out}var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa");module.exports=function(public_key,msg,reverse){var padding;padding=public_key.padding?public_key.padding:reverse?1:4;var paddedMsg,key=parseKeys(public_key);if(4===padding)paddedMsg=oaep(key,msg);else if(1===padding)paddedMsg=pkcs1(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if((paddedMsg=new bn(msg)).cmp(key.modulus)>=0)throw new Error("data too long for modulus")}return reverse?crt(paddedMsg,key):withPublic(paddedMsg,key)}}).call(this,require("buffer").Buffer)},{"./mgf":536,"./withPublic":539,"./xor":540,"bn.js":71,"browserify-rsa":92,buffer:105,"create-hash":407,"parse-asn1":528,randombytes:550}],539:[function(require,module,exports){(function(Buffer){"use strict";function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}var bn=require("bn.js");module.exports=withPublic}).call(this,require("buffer").Buffer)},{"bn.js":71,buffer:105}],540:[function(require,module,exports){"use strict";module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},{}],541:[function(require,module,exports){(function(global){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=basicToDigit(input.charCodeAt(index++)))>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeExports="object"==(void 0===exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,freeModule="object"==(void 0===module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,freeGlobal="object"==(void 0===global?"undefined":_typeof(global))&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(undefined)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],542:[function(require,module,exports){"use strict";var replace=String.prototype.replace;module.exports={"default":"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,/%20/g,"+")},RFC3986:function(value){return value}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],543:[function(require,module,exports){"use strict";var stringify=require("./stringify"),parse=require("./parse"),formats=require("./formats");module.exports={formats:formats,parse:parse,stringify:stringify}},{"./formats":542,"./parse":544,"./stringify":545}],544:[function(require,module,exports){"use strict";var utils=require("./utils"),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseValues=function(str,options){for(var obj={},parts=str.split(options.delimiter,options.parameterLimit===Infinity?undefined:options.parameterLimit),i=0;i<parts.length;++i){var key,val,part=parts[i],pos=-1===part.indexOf("]=")?part.indexOf("="):part.indexOf("]=")+1;-1===pos?(key=options.decoder(part),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos)),val=options.decoder(part.slice(pos+1))),has.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}return obj},parseObject=function(chain,val,options){if(!chain.length)return val;var obj,root=chain.shift();if("[]"===root)obj=(obj=[]).concat(parseObject(chain,val,options));else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=parseObject(chain,val,options):obj[cleanRoot]=parseObject(chain,val,options)}return obj},parseKeys=function(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),parseObject(keys,val,options)}};module.exports=function(str,opts){var options=opts||{};if(null!==options.decoder&&options.decoder!==undefined&&"function"!=typeof options.decoder)throw new TypeError("Decoder has to be a function.");if(options.delimiter="string"==typeof options.delimiter||utils.isRegExp(options.delimiter)?options.delimiter:defaults.delimiter,options.depth="number"==typeof options.depth?options.depth:defaults.depth,options.arrayLimit="number"==typeof options.arrayLimit?options.arrayLimit:defaults.arrayLimit,options.parseArrays=!1!==options.parseArrays,options.decoder="function"==typeof options.decoder?options.decoder:defaults.decoder,options.allowDots="boolean"==typeof options.allowDots?options.allowDots:defaults.allowDots,options.plainObjects="boolean"==typeof options.plainObjects?options.plainObjects:defaults.plainObjects,options.allowPrototypes="boolean"==typeof options.allowPrototypes?options.allowPrototypes:defaults.allowPrototypes,options.parameterLimit="number"==typeof options.parameterLimit?options.parameterLimit:defaults.parameterLimit,options.strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,""===str||null===str||void 0===str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?parseValues(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},{"./utils":546}],545:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},utils=require("./utils"),formats=require("./formats"),arrayPrefixGenerators={brackets:function(prefix){return prefix+"[]"},indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix){return prefix}},toISO=Date.prototype.toISOString,defaults={delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly){var obj=object;if("function"==typeof filter)obj=filter(prefix,obj);else if(obj instanceof Date)obj=serializeDate(obj);else if(null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix))+"="+formatter(encoder(obj))]:[formatter(prefix)+"="+formatter(String(obj))];var values=[];if(void 0===obj)return values;var objKeys;if(Array.isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(values=Array.isArray(obj)?values.concat(stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)):values.concat(stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}return values};module.exports=function(object,opts){var obj=object,options=opts||{};if(null!==options.encoder&&options.encoder!==undefined&&"function"!=typeof options.encoder)throw new TypeError("Encoder has to be a function.");var delimiter="undefined"==typeof options.delimiter?defaults.delimiter:options.delimiter,strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,skipNulls="boolean"==typeof options.skipNulls?options.skipNulls:defaults.skipNulls,encode="boolean"==typeof options.encode?options.encode:defaults.encode,encoder="function"==typeof options.encoder?options.encoder:defaults.encoder,sort="function"==typeof options.sort?options.sort:null,allowDots="undefined"!=typeof options.allowDots&&options.allowDots,serializeDate="function"==typeof options.serializeDate?options.serializeDate:defaults.serializeDate,encodeValuesOnly="boolean"==typeof options.encodeValuesOnly?options.encodeValuesOnly:defaults.encodeValuesOnly;if("undefined"==typeof options.format)options.format=formats["default"];else if(!Object.prototype.hasOwnProperty.call(formats.formatters,options.format))throw new TypeError("Unknown format option provided.");var objKeys,filter,formatter=formats.formatters[options.format];"function"==typeof options.filter?obj=(filter=options.filter)("",obj):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var keys=[];if("object"!==(void 0===obj?"undefined":_typeof(obj))||null===obj)return"";var arrayFormat;arrayFormat=options.arrayFormat in arrayPrefixGenerators?options.arrayFormat:"indices"in options?options.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),sort&&objKeys.sort(sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(keys=keys.concat(stringify(obj[key],key,generateArrayPrefix,strictNullHandling,skipNulls,encode?encoder:null,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}return keys.join(delimiter)}},{"./formats":542,"./utils":546}],546:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},has=Object.prototype.hasOwnProperty,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}();exports.arrayToObject=function(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)"undefined"!=typeof source[i]&&(obj[i]=source[i]);return obj},exports.merge=function(target,source,options){if(!source)return target;if("object"!==(void 0===source?"undefined":_typeof(source))){if(Array.isArray(target))target.push(source);else{if("object"!==(void 0===target?"undefined":_typeof(target)))return[target,source];(options.plainObjects||options.allowPrototypes||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if("object"!==(void 0===target?"undefined":_typeof(target)))return[target].concat(source);var mergeTarget=target;return Array.isArray(target)&&!Array.isArray(source)&&(mergeTarget=exports.arrayToObject(target,options)),Array.isArray(target)&&Array.isArray(source)?(source.forEach(function(item,i){has.call(target,i)?target[i]&&"object"===_typeof(target[i])?target[i]=exports.merge(target[i],item,options):target.push(item):target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return Object.prototype.hasOwnProperty.call(acc,key)?acc[key]=exports.merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)},exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}},exports.encode=function(str){if(0===str.length)return str;for(var string="string"==typeof str?str:String(str),out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},exports.compact=function(obj,references){if("object"!==(void 0===obj?"undefined":_typeof(obj))||null===obj)return obj;var refs=references||[],lookup=refs.indexOf(obj);if(-1!==lookup)return refs[lookup];if(refs.push(obj),Array.isArray(obj)){for(var compacted=[],i=0;i<obj.length;++i)obj[i]&&"object"===_typeof(obj[i])?compacted.push(exports.compact(obj[i],refs)):"undefined"!=typeof obj[i]&&compacted.push(obj[i]);return compacted}return Object.keys(obj).forEach(function(key){obj[key]=exports.compact(obj[key],refs)}),obj},exports.isRegExp=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},exports.isBuffer=function(obj){return null!==obj&&void 0!==obj&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}},{}],547:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(/\+/g,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],548:[function(require,module,exports){"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},stringifyPrimitive=function(v){switch(void 0===v?"undefined":_typeof(v)){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=undefined),"object"===(void 0===obj?"undefined":_typeof(obj))?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],549:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":547,"./encode":548}],550:[function(require,module,exports){(function(process,global,Buffer){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);size>0&&crypto.getRandomValues(rawBytes);var bytes=new Buffer(rawBytes.buffer);return"function"==typeof cb?process.nextTick(function(){cb(null,bytes)}):bytes}var crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{_process:534,buffer:105}],551:[function(require,module,exports){"use strict";module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":552}],552:[function(require,module,exports){"use strict";function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=require("process-nextick-args"),util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},{"./_stream_readable":554,"./_stream_writable":556,"core-util-is":405,inherits:487,"process-nextick-args":533}],553:[function(require,module,exports){"use strict";function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":555,"core-util-is":405,inherits:487}],554:[function(require,module,exports){(function(process){"use strict";function prependListener(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),Stream.call(this)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!==n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||chunk===undefined||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){if(0===state.length)return null;var ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=fromListPartial(n,state.buffer,state.decoder),ret}function fromListPartial(n,list,hasStrings){var ret;return n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list),ret}function copyFromBufferString(n,list){var p=list.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}function copyFromBuffer(n,list){var ret=bufferShim.allocUnsafe(n),p=list.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var Duplex,processNextTick=require("process-nextick-args"),isArray=require("isarray");Readable.ReadableState=ReadableState;require("events").EventEmitter;var Stream,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=require("stream")}catch(_){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims"),util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=require("./internal/streams/BufferList");util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding=""),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,this._readableState,chunk,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state)));var ret;return ret=n>0?fromList(n,state):null,null===ret?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1,increasedAwaitDrain=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&chunk!==undefined)&&(state.objectMode||chunk&&chunk.length)&&(self.push(chunk)||(paused=!0,stream.pause()))});for(var i in stream)this[i]===undefined&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],self.emit.bind(self,kProxyEvents[n]));return self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(this,require("_process"))},{"./_stream_duplex":552,"./internal/streams/BufferList":557,_process:534,buffer:105,"buffer-shims":103,"core-util-is":405,events:443,inherits:487,isarray:490,"process-nextick-args":533,"string_decoder/":615,util:73}],555:[function(require,module,exports){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&data!==undefined&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er,data){done(stream,er,data)}):done(stream)})}function done(stream,er,data){if(er)return stream.emit("error",er);null!==data&&data!==undefined&&stream.push(data);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},{"./_stream_duplex":552,"core-util-is":405,inherits:487}],556:[function(require,module,exports){(function(process){"use strict";function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),Stream.call(this)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||chunk===undefined||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){isBuf||(chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer"));var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var Duplex,processNextTick=require("process-nextick-args"),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream,internalUtil={deprecate:require("util-deprecate")};!function(){try{Stream=require("stream")}catch(_){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims");util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||object&&object._writableState instanceof WritableState}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=Buffer.isBuffer(chunk);return"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):(isBuf||validChunk(this,state,chunk,cb))&&(state.pendingcb++,ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&chunk!==undefined&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(this,require("_process"))},{"./_stream_duplex":552,_process:534,buffer:105,"buffer-shims":103,"core-util-is":405,events:443,inherits:487,"process-nextick-args":533,"util-deprecate":632}],557:[function(require,module,exports){"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}require("buffer").Buffer;var bufferShim=require("buffer-shims");module.exports=BufferList,BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return bufferShim.alloc(0);if(1===this.length)return this.head.data;for(var ret=bufferShim.allocUnsafe(n>>>0),p=this.head,i=0;p;)p.data.copy(ret,i),i+=p.data.length,p=p.next;return ret}},{buffer:105,"buffer-shims":103}],558:[function(require,module,exports){"use strict";module.exports=require("./readable").PassThrough},{"./readable":559}],559:[function(require,module,exports){"use strict";(exports=module.exports=require("./lib/_stream_readable.js")).Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":552,"./lib/_stream_passthrough.js":553,"./lib/_stream_readable.js":554,"./lib/_stream_transform.js":555,"./lib/_stream_writable.js":556}],560:[function(require,module,exports){"use strict";module.exports=require("./readable").Transform},{"./readable":559}],561:[function(require,module,exports){"use strict";module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":556}],562:[function(require,module,exports){(function(global){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(global){function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"===(void 0===value?"undefined":_typeof(value))&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"===_typeof(global.process)&&global.process.domain&&(invoke=global.process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator["return"]&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"===(void 0===module?"undefined":_typeof(module)),runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}("object"===(void 0===global?"undefined":_typeof(global))?global:"object"===("undefined"==typeof window?"undefined":_typeof(window))?window:"object"===("undefined"==typeof self?"undefined":_typeof(self))?self:undefined)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],563:[function(require,module,exports){"use strict";function initParams(uri,options,callback){"function"==typeof options&&(callback=options);var params={};return"object"===(void 0===options?"undefined":_typeof(options))?extend(params,options,{uri:uri}):"string"==typeof uri?extend(params,{uri:uri}):extend(params,uri),params.callback=callback||params.callback,params}function request(uri,options,callback){if(void 0===uri)throw new Error("undefined is not a valid uri or options object.");var params=initParams(uri,options,callback);if("HEAD"===params.method&&paramsHaveRequestBody(params))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new request.Request(params)}function verbFunc(verb){var method=verb.toUpperCase();return function(uri,options,callback){var params=initParams(uri,options,callback);return params.method=method,request(params,params.callback)}}function wrapRequestMethod(method,options,requester,verb){return function(uri,opts,callback){var params=initParams(uri,opts,callback),target={};return extend(!0,target,options,params),target.pool=params.pool||options.pool,verb&&(target.method=verb.toUpperCase()),"function"==typeof requester&&(method=requester),method(target,target.callback)}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},extend=require("extend"),cookies=require("./lib/cookies"),paramsHaveRequestBody=require("./lib/helpers").paramsHaveRequestBody;request.get=verbFunc("get"),request.head=verbFunc("head"),request.post=verbFunc("post"),request.put=verbFunc("put"),request.patch=verbFunc("patch"),request.del=verbFunc("delete"),request["delete"]=verbFunc("delete"),request.jar=function(store){return cookies.jar(store)},request.cookie=function(str){return cookies.parse(str)},request.defaults=function(options,requester){var self=this;"function"==typeof(options=options||{})&&(requester=options,options={});var defaults=wrapRequestMethod(self,options,requester);return["get","head","post","put","patch","del","delete"].forEach(function(verb){defaults[verb]=wrapRequestMethod(self[verb],options,requester,verb)}),defaults.cookie=wrapRequestMethod(self.cookie,options,requester),defaults.jar=self.jar,defaults.defaults=self.defaults,defaults},request.forever=function(agentOptions,optionsArg){var options={};return optionsArg&&extend(options,optionsArg),agentOptions&&(options.agentOptions=agentOptions),options.forever=!0,request.defaults(options)},module.exports=request,request.Request=require("./request"),request.initParams=initParams,Object.defineProperty(request,"debug",{enumerable:!0,get:function(){return request.Request.debug},set:function(debug){request.Request.debug=debug}})},{"./lib/cookies":565,"./lib/helpers":568,"./request":575,extend:445}],564:[function(require,module,exports){"use strict";function Auth(request){this.request=request,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}var caseless=require("caseless"),uuid=require("uuid"),helpers=require("./helpers"),md5=helpers.md5,toBase64=helpers.toBase64;Auth.prototype.basic=function(user,pass,sendImmediately){var self=this;("string"!=typeof user||pass!==undefined&&"string"!=typeof pass)&&self.request.emit("error",new Error("auth() received invalid user or password")),self.user=user,self.pass=pass,self.hasAuth=!0;var header=user+":"+(pass||"");if(sendImmediately||void 0===sendImmediately){var authHeader="Basic "+toBase64(header);return self.sentAuth=!0,authHeader}},Auth.prototype.bearer=function(bearer,sendImmediately){var self=this;if(self.bearerToken=bearer,self.hasAuth=!0,sendImmediately||void 0===sendImmediately){"function"==typeof bearer&&(bearer=bearer());var authHeader="Bearer "+(bearer||"");return self.sentAuth=!0,authHeader}},Auth.prototype.digest=function(method,path,authHeader){for(var self=this,challenge={},re=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var match=re.exec(authHeader);if(!match)break;challenge[match[1]]=match[2]||match[3]}var qop=/(^|,)\s*auth\s*($|,)/.test(challenge.qop)&&"auth",nc=qop&&"00000001",cnonce=qop&&uuid().replace(/-/g,""),ha1=function(algorithm,user,realm,pass,nonce,cnonce){var ha1=md5(user+":"+realm+":"+pass);return algorithm&&"md5-sess"===algorithm.toLowerCase()?md5(ha1+":"+nonce+":"+cnonce):ha1}(challenge.algorithm,self.user,challenge.realm,self.pass,challenge.nonce,cnonce),ha2=md5(method+":"+path),digestResponse=md5(qop?ha1+":"+challenge.nonce+":"+nc+":"+cnonce+":"+qop+":"+ha2:ha1+":"+challenge.nonce+":"+ha2),authValues={username:self.user,realm:challenge.realm,nonce:challenge.nonce,uri:path,qop:qop,response:digestResponse,nc:nc,cnonce:cnonce,algorithm:challenge.algorithm,opaque:challenge.opaque};authHeader=[];for(var k in authValues)authValues[k]&&("qop"===k||"nc"===k||"algorithm"===k?authHeader.push(k+"="+authValues[k]):authHeader.push(k+'="'+authValues[k]+'"'));return authHeader="Digest "+authHeader.join(", "),self.sentAuth=!0,authHeader},Auth.prototype.onRequest=function(user,pass,sendImmediately,bearer){var authHeader,self=this,request=self.request;bearer===undefined&&user===undefined?self.request.emit("error",new Error("no auth mechanism defined")):authHeader=bearer!==undefined?self.bearer(bearer,sendImmediately):self.basic(user,pass,sendImmediately),authHeader&&request.setHeader("authorization",authHeader)},Auth.prototype.onResponse=function(response){var self=this,request=self.request;if(!self.hasAuth||self.sentAuth)return null;var authHeader=caseless(response.headers).get("www-authenticate"),authVerb=authHeader&&authHeader.split(" ")[0].toLowerCase();switch(request.debug("reauth",authVerb),authVerb){case"basic":return self.basic(self.user,self.pass,!0);case"bearer":return self.bearer(self.bearerToken,!0);case"digest":return self.digest(request.method,request.path,authHeader)}},exports.Auth=Auth},{"./helpers":568,caseless:574,uuid:636}],565:[function(require,module,exports){"use strict";function RequestJar(store){this._jar=new CookieJar(store,{looseMode:!0})}var tough=require("tough-cookie"),Cookie=tough.Cookie,CookieJar=tough.CookieJar;exports.parse=function(str){if(str&&str.uri&&(str=str.uri),"string"!=typeof str)throw new Error("The cookie function only accepts STRING as param");return Cookie.parse(str,{loose:!0})},RequestJar.prototype.setCookie=function(cookieOrStr,uri,options){return this._jar.setCookieSync(cookieOrStr,uri,options||{})},RequestJar.prototype.getCookieString=function(uri){return this._jar.getCookieStringSync(uri)},RequestJar.prototype.getCookies=function(uri){return this._jar.getCookiesSync(uri)},exports.jar=function(store){return new RequestJar(store)}},{"tough-cookie":621}],566:[function(require,module,exports){(function(process){"use strict";function formatHostname(hostname){return hostname.replace(/^\.*/,".").toLowerCase()}function parseNoProxyZone(zone){var zoneParts=(zone=zone.trim().toLowerCase()).split(":",2);return{hostname:formatHostname(zoneParts[0]),port:zoneParts[1],hasPort:zone.indexOf(":")>-1}}function uriInNoProxy(uri,noProxy){var port=uri.port||("https:"===uri.protocol?"443":"80"),hostname=formatHostname(uri.hostname);return noProxy.split(",").map(parseNoProxyZone).some(function(noProxyZone){var isMatchedAt=hostname.indexOf(noProxyZone.hostname),hostnameMatched=isMatchedAt>-1&&isMatchedAt===hostname.length-noProxyZone.hostname.length;return noProxyZone.hasPort?port===noProxyZone.port&&hostnameMatched:hostnameMatched})}function getProxyFromURI(uri){var noProxy=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===noProxy?null:""!==noProxy&&uriInNoProxy(uri,noProxy)?null:"http:"===uri.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===uri.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}module.exports=getProxyFromURI}).call(this,require("_process"))},{_process:534}],567:[function(require,module,exports){"use strict";function Har(request){this.request=request}var fs=require("fs"),qs=require("querystring"),validate=require("har-validator"),extend=require("extend");Har.prototype.reducer=function(obj,pair){if(obj[pair.name]===undefined)return obj[pair.name]=pair.value,obj;var arr=[obj[pair.name],pair.value];return obj[pair.name]=arr,obj},Har.prototype.prep=function(data){function some(arr){return arr.some(function(type){return 0===data.postData.mimeType.indexOf(type)})}if(data.queryObj={},data.headersObj={},data.postData.jsonObj=!1,data.postData.paramsObj=!1,data.queryString&&data.queryString.length&&(data.queryObj=data.queryString.reduce(this.reducer,{})),data.headers&&data.headers.length&&(data.headersObj=data.headers.reduceRight(function(headers,header){return headers[header.name]=header.value,headers},{})),data.cookies&&data.cookies.length){var cookies=data.cookies.map(function(cookie){return cookie.name+"="+cookie.value});cookies.length&&(data.headersObj.cookie=cookies.join("; "))}if(some(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))data.postData.mimeType="multipart/form-data";else if(some(["application/x-www-form-urlencoded"]))data.postData.params?(data.postData.paramsObj=data.postData.params.reduce(this.reducer,{}),data.postData.text=qs.stringify(data.postData.paramsObj)):data.postData.text="";else if(some(["text/json","text/x-json","application/json","application/x-json"])&&(data.postData.mimeType="application/json",data.postData.text))try{data.postData.jsonObj=JSON.parse(data.postData.text)}catch(e){this.request.debug(e),data.postData.mimeType="text/plain"}return data},Har.prototype.options=function(options){function test(type){return 0===req.postData.mimeType.indexOf(type)}if(!options.har)return options;var har={};if(extend(har,options.har),har.log&&har.log.entries&&(har=har.log.entries[0]),har.url=har.url||options.url||options.uri||options.baseUrl||"/",har.httpVersion=har.httpVersion||"HTTP/1.1",har.queryString=har.queryString||[],har.headers=har.headers||[],har.cookies=har.cookies||[],har.postData=har.postData||{},har.postData.mimeType=har.postData.mimeType||"application/octet-stream",har.bodySize=0,har.headersSize=0,har.postData.size=0,!validate.request(har))return options;var req=this.prep(har);return req.url&&(options.url=req.url),req.method&&(options.method=req.method),Object.keys(req.queryObj).length&&(options.qs=req.queryObj),Object.keys(req.headersObj).length&&(options.headers=req.headersObj),test("application/x-www-form-urlencoded")?options.form=req.postData.paramsObj:test("application/json")?req.postData.jsonObj&&(options.body=req.postData.jsonObj,options.json=!0):test("multipart/form-data")?(options.formData={},req.postData.params.forEach(function(param){var attachment={};if(!param.fileName&&!param.fileName&&!param.contentType)return void(options.formData[param.name]=param.value);param.fileName&&!param.value?attachment.value=fs.createReadStream(param.fileName):param.value&&(attachment.value=param.value),param.fileName&&(attachment.options={filename:param.fileName,contentType:param.contentType?param.contentType:null}),options.formData[param.name]=attachment})):req.postData.text&&(options.body=req.postData.text),options},exports.Har=Har},{extend:445,fs:101,"har-validator":469,querystring:549}],568:[function(require,module,exports){(function(process){"use strict";function paramsHaveRequestBody(params){return params.body||params.requestBodyStream||params.json&&"boolean"!=typeof params.json||params.multipart}function safeStringify(obj,replacer){var ret;try{ret=JSON.stringify(obj,replacer)}catch(e){ret=jsonSafeStringify(obj,replacer)}return ret}function md5(str){return crypto.createHash("md5").update(str).digest("hex")}function isReadStream(rs){return rs.readable&&rs.path&&rs.mode}function toBase64(str){return Buffer.from(str||"","utf8").toString("base64")}function copy(obj){var o={};return Object.keys(obj).forEach(function(i){o[i]=obj[i]}),o}function version(){var numbers=process.version.replace("v","").split(".");return{major:parseInt(numbers[0],10),minor:parseInt(numbers[1],10),patch:parseInt(numbers[2],10)}}var jsonSafeStringify=require("json-stringify-safe"),crypto=require("crypto"),Buffer=require("safe-buffer").Buffer,defer="undefined"==typeof setImmediate?process.nextTick:setImmediate;exports.paramsHaveRequestBody=paramsHaveRequestBody,exports.safeStringify=safeStringify,exports.md5=md5,exports.isReadStream=isReadStream,exports.toBase64=toBase64,exports.copy=copy,exports.version=version,exports.defer=defer}).call(this,require("_process"))},{_process:534,crypto:411,"json-stringify-safe":500,"safe-buffer":577}],569:[function(require,module,exports){"use strict";function Multipart(request){this.request=request,this.boundary=uuid(),this.chunked=!1,this.body=null}var uuid=require("uuid"),CombinedStream=require("combined-stream"),isstream=require("isstream"),Buffer=require("safe-buffer").Buffer;Multipart.prototype.isChunked=function(options){var self=this,chunked=!1,parts=options.data||options;return parts.forEach||self.request.emit("error",new Error("Argument error, options.multipart.")),options.chunked!==undefined&&(chunked=options.chunked),"chunked"===self.request.getHeader("transfer-encoding")&&(chunked=!0),chunked||parts.forEach(function(part){"undefined"==typeof part.body&&self.request.emit("error",new Error("Body attribute missing in multipart.")),isstream(part.body)&&(chunked=!0)}),chunked},Multipart.prototype.setHeaders=function(chunked){var self=this;chunked&&!self.request.hasHeader("transfer-encoding")&&self.request.setHeader("transfer-encoding","chunked");var header=self.request.getHeader("content-type");header&&-1!==header.indexOf("multipart")?-1!==header.indexOf("boundary")?self.boundary=header.replace(/.*boundary=([^\s;]+).*/,"$1"):self.request.setHeader("content-type",header+"; boundary="+self.boundary):self.request.setHeader("content-type","multipart/related; boundary="+self.boundary)},Multipart.prototype.build=function(parts,chunked){function add(part){return"number"==typeof part&&(part=part.toString()),chunked?body.append(part):body.push(Buffer.from(part))}var self=this,body=chunked?new CombinedStream:[];return self.request.preambleCRLF&&add("\r\n"),parts.forEach(function(part){var preamble="--"+self.boundary+"\r\n";Object.keys(part).forEach(function(key){"body"!==key&&(preamble+=key+": "+part[key]+"\r\n")}),add(preamble+="\r\n"),add(part.body),add("\r\n")}),add("--"+self.boundary+"--"),self.request.postambleCRLF&&add("\r\n"),body},Multipart.prototype.onRequest=function(options){var self=this,chunked=self.isChunked(options),parts=options.data||options;self.setHeaders(chunked),self.chunked=chunked,self.body=self.build(parts,chunked)},exports.Multipart=Multipart},{"combined-stream":110,isstream:491,"safe-buffer":577,uuid:636}],570:[function(require,module,exports){"use strict";function OAuth(request){this.request=request,this.params=null}var url=require("url"),qs=require("qs"),caseless=require("caseless"),uuid=require("uuid"),oauth=require("oauth-sign"),crypto=require("crypto"),Buffer=require("safe-buffer").Buffer;OAuth.prototype.buildParams=function(_oauth,uri,method,query,form,qsLib){var oa={};for(var i in _oauth)oa["oauth_"+i]=_oauth[i];oa.oauth_version||(oa.oauth_version="1.0"),oa.oauth_timestamp||(oa.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),oa.oauth_nonce||(oa.oauth_nonce=uuid().replace(/-/g,"")),oa.oauth_signature_method||(oa.oauth_signature_method="HMAC-SHA1");var consumer_secret_or_private_key=oa.oauth_consumer_secret||oa.oauth_private_key;delete oa.oauth_consumer_secret,delete oa.oauth_private_key;var token_secret=oa.oauth_token_secret;delete oa.oauth_token_secret;var realm=oa.oauth_realm;delete oa.oauth_realm,delete oa.oauth_transport_method;var baseurl=uri.protocol+"//"+uri.host+uri.pathname,params=qsLib.parse([].concat(query,form,qsLib.stringify(oa)).join("&"));return oa.oauth_signature=oauth.sign(oa.oauth_signature_method,method,baseurl,params,consumer_secret_or_private_key,token_secret),realm&&(oa.realm=realm),oa},OAuth.prototype.buildBodyHash=function(_oauth,body){["HMAC-SHA1","RSA-SHA1"].indexOf(_oauth.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+_oauth.signature_method+" signature_method not supported with body_hash signing."));var shasum=crypto.createHash("sha1");shasum.update(body||"");var sha1=shasum.digest("hex");return Buffer.from(sha1).toString("base64")},OAuth.prototype.concatParams=function(oa,sep,wrap){wrap=wrap||"";var params=Object.keys(oa).filter(function(i){return"realm"!==i&&"oauth_signature"!==i}).sort();return oa.realm&&params.splice(0,0,"realm"),params.push("oauth_signature"),params.map(function(i){return i+"="+wrap+oauth.rfc3986(oa[i])+wrap}).join(sep)},OAuth.prototype.onRequest=function(_oauth){var self=this;self.params=_oauth;var form,query,uri=self.request.uri||{},method=self.request.method||"",headers=caseless(self.request.headers),body=self.request.body||"",qsLib=self.request.qsLib||qs,contentType=headers.get("content-type")||"",formContentType="application/x-www-form-urlencoded",transport=_oauth.transport_method||"header";contentType.slice(0,formContentType.length)===formContentType&&(contentType=formContentType,form=body),uri.query&&(query=uri.query),"body"!==transport||"POST"===method&&contentType===formContentType||self.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+formContentType)),form||"boolean"!=typeof _oauth.body_hash||(_oauth.body_hash=self.buildBodyHash(_oauth,self.request.body.toString()));var oa=self.buildParams(_oauth,uri,method,query,form,qsLib);switch(transport){case"header":self.request.setHeader("Authorization","OAuth "+self.concatParams(oa,",",'"'));break;case"query":var href=self.request.uri.href+=(query?"&":"?")+self.concatParams(oa,"&");self.request.uri=url.parse(href),self.request.path=self.request.uri.path;break;case"body":self.request.body=(form?form+"&":"")+self.concatParams(oa,"&");break;default:self.request.emit("error",new Error("oauth: transport_method invalid"))}},exports.OAuth=OAuth},{caseless:574,crypto:411,"oauth-sign":512,qs:543,"safe-buffer":577,url:630,uuid:636}],571:[function(require,module,exports){"use strict";function Querystring(request){this.request=request,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}var qs=require("qs"),querystring=require("querystring");Querystring.prototype.init=function(options){this.lib||(this.useQuerystring=options.useQuerystring,this.lib=this.useQuerystring?querystring:qs,this.parseOptions=options.qsParseOptions||{},this.stringifyOptions=options.qsStringifyOptions||{})},Querystring.prototype.stringify=function(obj){return this.useQuerystring?this.rfc3986(this.lib.stringify(obj,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(obj,this.stringifyOptions)},Querystring.prototype.parse=function(str){return this.useQuerystring?this.lib.parse(str,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(str,this.parseOptions)},Querystring.prototype.rfc3986=function(str){return str.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})},Querystring.prototype.unescape=querystring.unescape,exports.Querystring=Querystring},{qs:543,querystring:549}],572:[function(require,module,exports){"use strict";function Redirect(request){this.request=request,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}var url=require("url"),isUrl=/^https?:/;Redirect.prototype.onRequest=function(options){var self=this;options.maxRedirects!==undefined&&(self.maxRedirects=options.maxRedirects),"function"==typeof options.followRedirect&&(self.allowRedirect=options.followRedirect),options.followRedirect!==undefined&&(self.followRedirects=!!options.followRedirect),options.followAllRedirects!==undefined&&(self.followAllRedirects=options.followAllRedirects),(self.followRedirects||self.followAllRedirects)&&(self.redirects=self.redirects||[]),options.removeRefererHeader!==undefined&&(self.removeRefererHeader=options.removeRefererHeader),options.followOriginalHttpMethod!==undefined&&(self.followOriginalHttpMethod=options.followOriginalHttpMethod)},Redirect.prototype.redirectTo=function(response){var self=this,request=self.request,redirectTo=null;if(response.statusCode>=300&&response.statusCode<400&&response.caseless.has("location")){var location=response.caseless.get("location");if(request.debug("redirect",location),self.followAllRedirects)redirectTo=location;else if(self.followRedirects)switch(request.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:redirectTo=location}}else if(401===response.statusCode){var authHeader=request._auth.onResponse(response);authHeader&&(request.setHeader("authorization",authHeader),redirectTo=request.uri)}return redirectTo},Redirect.prototype.onResponse=function(response){var self=this,request=self.request,redirectTo=self.redirectTo(response);if(!redirectTo||!self.allowRedirect.call(request,response))return!1;if(request.debug("redirect to",redirectTo),response.resume&&response.resume(),self.redirectsFollowed>=self.maxRedirects)return request.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+request.uri.href)),!1;self.redirectsFollowed+=1,isUrl.test(redirectTo)||(redirectTo=url.resolve(request.uri.href,redirectTo));var uriPrev=request.uri;return request.uri=url.parse(redirectTo),request.uri.protocol!==uriPrev.protocol&&delete request.agent,self.redirects.push({statusCode:response.statusCode,redirectUri:redirectTo}),self.followAllRedirects&&"HEAD"!==request.method&&401!==response.statusCode&&307!==response.statusCode&&(request.method=self.followOriginalHttpMethod?request.method:"GET"),delete request.src,delete request.req,delete request._started,401!==response.statusCode&&307!==response.statusCode&&(delete request.body,delete request._form,request.headers&&(request.removeHeader("host"),request.removeHeader("content-type"),request.removeHeader("content-length"),request.uri.hostname!==request.originalHost.split(":")[0]&&request.removeHeader("authorization"))),self.removeRefererHeader||request.setHeader("referer",uriPrev.href),request.emit("redirect"),request.init(),!0},exports.Redirect=Redirect},{url:630}],573:[function(require,module,exports){"use strict";function constructProxyHost(uriObject){var port=uriObject.port,protocol=uriObject.protocol,proxyHost=uriObject.hostname+":";return proxyHost+=port||("https:"===protocol?"443":"80")}function constructProxyHeaderWhiteList(headers,proxyHeaderWhiteList){var whiteList=proxyHeaderWhiteList.reduce(function(set,header){return set[header.toLowerCase()]=!0,set},{});return Object.keys(headers).filter(function(header){return whiteList[header.toLowerCase()]}).reduce(function(set,header){return set[header]=headers[header],set},{})}function constructTunnelOptions(request,proxyHeaders){var proxy=request.proxy;return{proxy:{host:proxy.hostname,port:+proxy.port,proxyAuth:proxy.auth,headers:proxyHeaders},headers:request.headers,ca:request.ca,cert:request.cert,key:request.key,passphrase:request.passphrase,pfx:request.pfx,ciphers:request.ciphers,rejectUnauthorized:request.rejectUnauthorized,secureOptions:request.secureOptions,secureProtocol:request.secureProtocol}}function constructTunnelFnName(uri,proxy){return["https:"===uri.protocol?"https":"http","https:"===proxy.protocol?"Https":"Http"].join("Over")}function getTunnelFn(request){var tunnelFnName=constructTunnelFnName(request.uri,request.proxy);return tunnel[tunnelFnName]}function Tunnel(request){this.request=request,this.proxyHeaderWhiteList=defaultProxyHeaderWhiteList,this.proxyHeaderExclusiveList=[],"undefined"!=typeof request.tunnel&&(this.tunnelOverride=request.tunnel)}var url=require("url"),tunnel=require("tunnel-agent"),defaultProxyHeaderWhiteList=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","user-agent","via"],defaultProxyHeaderExclusiveList=["proxy-authorization"];Tunnel.prototype.isEnabled=function(){var self=this,request=self.request;return"undefined"!=typeof self.tunnelOverride?self.tunnelOverride:"https:"===request.uri.protocol},Tunnel.prototype.setup=function(options){var self=this,request=self.request;if(options=options||{},"string"==typeof request.proxy&&(request.proxy=url.parse(request.proxy)),!request.proxy||!request.tunnel)return!1;options.proxyHeaderWhiteList&&(self.proxyHeaderWhiteList=options.proxyHeaderWhiteList),options.proxyHeaderExclusiveList&&(self.proxyHeaderExclusiveList=options.proxyHeaderExclusiveList);var proxyHeaderExclusiveList=self.proxyHeaderExclusiveList.concat(defaultProxyHeaderExclusiveList),proxyHeaderWhiteList=self.proxyHeaderWhiteList.concat(proxyHeaderExclusiveList),proxyHeaders=constructProxyHeaderWhiteList(request.headers,proxyHeaderWhiteList);proxyHeaders.host=constructProxyHost(request.uri),proxyHeaderExclusiveList.forEach(request.removeHeader,request);var tunnelFn=getTunnelFn(request),tunnelOptions=constructTunnelOptions(request,proxyHeaders);return request.agent=tunnelFn(tunnelOptions),!0},Tunnel.defaultProxyHeaderWhiteList=defaultProxyHeaderWhiteList,Tunnel.defaultProxyHeaderExclusiveList=defaultProxyHeaderExclusiveList,exports.Tunnel=Tunnel},{"tunnel-agent":628,url:630}],574:[function(require,module,exports){"use strict";function Caseless(dict){this.dict=dict||{}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Caseless.prototype.set=function(name,value,clobber){if("object"!==(void 0===name?"undefined":_typeof(name))){void 0===clobber&&(clobber=!0);var has=this.has(name);return!clobber&&has?this.dict[has]=this.dict[has]+","+value:this.dict[has||name]=value,has}for(var i in name)this.set(i,name[i],value)},Caseless.prototype.has=function(name){for(var keys=Object.keys(this.dict),name=name.toLowerCase(),i=0;i<keys.length;i++)if(keys[i].toLowerCase()===name)return keys[i];return!1},Caseless.prototype.get=function(name){name=name.toLowerCase();var result,_key,headers=this.dict;return Object.keys(headers).forEach(function(key){_key=key.toLowerCase(),name===_key&&(result=headers[key])}),result},Caseless.prototype.swap=function(name){var has=this.has(name);if(has!==name){if(!has)throw new Error('There is no header than matches "'+name+'"');this.dict[name]=this.dict[has],delete this.dict[has]}},Caseless.prototype.del=function(name){var has=this.has(name);return delete this.dict[has||name]},module.exports=function(dict){return new Caseless(dict)},module.exports.httpify=function(resp,headers){var c=new Caseless(headers);return resp.setHeader=function(key,value,clobber){if(void 0!==value)return c.set(key,value,clobber)},resp.hasHeader=function(key){return c.has(key)},resp.getHeader=function(key){return c.get(key)},resp.removeHeader=function(key){return c.del(key)},resp.headers=c.dict,c}},{}],575:[function(require,module,exports){(function(process){"use strict";function filterForNonReserved(reserved,options){var object={};for(var i in options)-1===reserved.indexOf(i)&&(object[i]=options[i]);return object}function filterOutReservedFunctions(reserved,options){var object={};for(var i in options){var isReserved=!(-1===reserved.indexOf(i)),isFunction="function"==typeof options[i];isReserved&&isFunction||(object[i]=options[i])}return object}function requestToJSON(){var self=this;return{uri:self.uri,method:self.method,headers:self.headers}}function responseToJSON(){var self=this;return{statusCode:self.statusCode,body:self.body,headers:self.headers,request:requestToJSON.call(self.request)}}function Request(options){var self=this;options.har&&(self._har=new Har(self),options=self._har.options(options)),stream.Stream.call(self);var reserved=Object.keys(Request.prototype),nonReserved=filterForNonReserved(reserved,options);extend(self,nonReserved),options=filterOutReservedFunctions(reserved,options),self.readable=!0,self.writable=!0,options.method&&(self.explicitMethod=!0),self._qs=new Querystring(self),self._auth=new Auth(self),self._oauth=new OAuth(self),self._multipart=new Multipart(self),self._redirect=new Redirect(self),self._tunnel=new Tunnel(self),self.init(options)}function debug(){Request.debug&&console.error("REQUEST %s",util.format.apply(util,arguments))}var http=require("http"),https=require("https"),url=require("url"),util=require("util"),stream=require("stream"),zlib=require("zlib"),hawk=require("hawk"),aws2=require("aws-sign2"),aws4=require("aws4"),httpSignature=require("http-signature"),mime=require("mime-types"),stringstream=require("stringstream"),caseless=require("caseless"),ForeverAgent=require("forever-agent"),FormData=require("form-data"),extend=require("extend"),isstream=require("isstream"),isTypedArray=require("is-typedarray").strict,helpers=require("./lib/helpers"),cookies=require("./lib/cookies"),getProxyFromURI=require("./lib/getProxyFromURI"),Querystring=require("./lib/querystring").Querystring,Har=require("./lib/har").Har,Auth=require("./lib/auth").Auth,OAuth=require("./lib/oauth").OAuth,Multipart=require("./lib/multipart").Multipart,Redirect=require("./lib/redirect").Redirect,Tunnel=require("./lib/tunnel").Tunnel,now=require("performance-now"),Buffer=require("safe-buffer").Buffer,safeStringify=helpers.safeStringify,isReadStream=helpers.isReadStream,toBase64=helpers.toBase64,defer=helpers.defer,copy=helpers.copy,version=helpers.version,globalCookieJar=cookies.jar(),globalPool={};util.inherits(Request,stream.Stream),Request.debug=process.env.NODE_DEBUG&&/\brequest\b/.test(process.env.NODE_DEBUG),Request.prototype.debug=debug,Request.prototype.init=function(options){function setContentLength(){if(isTypedArray(self.body)&&(self.body=Buffer.from(self.body)),!self.hasHeader("content-length")){var length;(length="string"==typeof self.body?Buffer.byteLength(self.body):Array.isArray(self.body)?self.body.reduce(function(a,b){return a+b.length},0):self.body.length)?self.setHeader("content-length",length):self.emit("error",new Error("Argument error, options.body."))}}var self=this;options||(options={}),self.headers=self.headers?copy(self.headers):{};for(var headerName in self.headers)"undefined"==typeof self.headers[headerName]&&delete self.headers[headerName];if(caseless.httpify(self,self.headers),self.method||(self.method=options.method||"GET"),self.localAddress||(self.localAddress=options.localAddress),self._qs.init(options),debug(),self.pool||!1===self.pool||(self.pool=globalPool),self.dests=self.dests||[],self.__isRequestRequest=!0,!self._callback&&self.callback&&(self._callback=self.callback,self.callback=function(){self._callbackCalled||(self._callbackCalled=!0,self._callback.apply(self,arguments))},self.on("error",self.callback.bind()),self.on("complete",self.callback.bind(self,null))),!self.uri&&self.url&&(self.uri=self.url,delete self.url),self.baseUrl){if("string"!=typeof self.baseUrl)return self.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof self.uri)return self.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===self.uri.indexOf("//")||-1!==self.uri.indexOf("://"))return self.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var baseUrlEndsWithSlash=self.baseUrl.lastIndexOf("/")===self.baseUrl.length-1,uriStartsWithSlash=0===self.uri.indexOf("/");baseUrlEndsWithSlash&&uriStartsWithSlash?self.uri=self.baseUrl+self.uri.slice(1):baseUrlEndsWithSlash||uriStartsWithSlash?self.uri=self.baseUrl+self.uri:""===self.uri?self.uri=self.baseUrl:self.uri=self.baseUrl+"/"+self.uri,delete self.baseUrl}if(!self.uri)return self.emit("error",new Error("options.uri is a required argument"));if("string"==typeof self.uri&&(self.uri=url.parse(self.uri)),self.uri.href||(self.uri.href=url.format(self.uri)),"unix:"===self.uri.protocol)return self.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===self.uri.host&&self.enableUnixSocket(),!1===self.strictSSL&&(self.rejectUnauthorized=!1),self.uri.pathname||(self.uri.pathname="/"),!(self.uri.host||self.uri.hostname&&self.uri.port||self.uri.isUnix)){var message='Invalid URI "'+url.format(self.uri)+'"';return 0===Object.keys(options).length&&(message+=". This can be caused by a crappy redirection."),self.abort(),self.emit("error",new Error(message))}if(self.hasOwnProperty("proxy")||(self.proxy=getProxyFromURI(self.uri)),self.tunnel=self._tunnel.isEnabled(),self.proxy&&self._tunnel.setup(options),self._redirect.onRequest(options),self.setHost=!1,!self.hasHeader("host")){var hostHeaderName=self.originalHostHeaderName||"host";self.setHeader(hostHeaderName,self.uri.host),self.setHost=!0}if(self.jar(self._jar||options.jar),self.uri.port||("http:"===self.uri.protocol?self.uri.port=80:"https:"===self.uri.protocol&&(self.uri.port=443)),self.proxy&&!self.tunnel?(self.port=self.proxy.port,self.host=self.proxy.hostname):(self.port=self.uri.port,self.host=self.uri.hostname),options.form&&self.form(options.form),options.formData){var formData=options.formData,requestForm=self.form(),appendFormValue=function(key,value){value&&value.hasOwnProperty("value")&&value.hasOwnProperty("options")?requestForm.append(key,value.value,value.options):requestForm.append(key,value)};for(var formKey in formData)if(formData.hasOwnProperty(formKey)){var formValue=formData[formKey];if(formValue instanceof Array)for(var j=0;j<formValue.length;j++)appendFormValue(formKey,formValue[j]);else appendFormValue(formKey,formValue)}}if(options.qs&&self.qs(options.qs),self.uri.path?self.path=self.uri.path:self.path=self.uri.pathname+(self.uri.search||""),0===self.path.length&&(self.path="/"),options.aws&&self.aws(options.aws),options.hawk&&self.hawk(options.hawk),options.httpSignature&&self.httpSignature(options.httpSignature),options.auth&&(Object.prototype.hasOwnProperty.call(options.auth,"username")&&(options.auth.user=options.auth.username),Object.prototype.hasOwnProperty.call(options.auth,"password")&&(options.auth.pass=options.auth.password),self.auth(options.auth.user,options.auth.pass,options.auth.sendImmediately,options.auth.bearer)),self.gzip&&!self.hasHeader("accept-encoding")&&self.setHeader("accept-encoding","gzip, deflate"),self.uri.auth&&!self.hasHeader("authorization")){var uriAuthPieces=self.uri.auth.split(":").map(function(item){return self._qs.unescape(item)});self.auth(uriAuthPieces[0],uriAuthPieces.slice(1).join(":"),!0)}if(!self.tunnel&&self.proxy&&self.proxy.auth&&!self.hasHeader("proxy-authorization")){var proxyAuthPieces=self.proxy.auth.split(":").map(function(item){return self._qs.unescape(item)}),authHeader="Basic "+toBase64(proxyAuthPieces.join(":"));self.setHeader("proxy-authorization",authHeader)}self.proxy&&!self.tunnel&&(self.path=self.uri.protocol+"//"+self.uri.host+self.path),options.json&&self.json(options.json),options.multipart&&self.multipart(options.multipart),options.time&&(self.timing=!0,self.elapsedTime=self.elapsedTime||0),self.body&&!isstream(self.body)&&setContentLength(),options.oauth?self.oauth(options.oauth):self._oauth.params&&self.hasHeader("authorization")&&self.oauth(self._oauth.params);var protocol=self.proxy&&!self.tunnel?self.proxy.protocol:self.uri.protocol,defaultModules={"http:":http,"https:":https},httpModules=self.httpModules||{};if(self.httpModule=httpModules[protocol]||defaultModules[protocol],!self.httpModule)return self.emit("error",new Error("Invalid protocol: "+protocol));if(options.ca&&(self.ca=options.ca),!self.agent)if(options.agentOptions&&(self.agentOptions=options.agentOptions),options.agentClass)self.agentClass=options.agentClass;else if(options.forever){var v=version();0===v.major&&v.minor<=10?self.agentClass="http:"===protocol?ForeverAgent:ForeverAgent.SSL:(self.agentClass=self.httpModule.Agent,self.agentOptions=self.agentOptions||{},self.agentOptions.keepAlive=!0)}else self.agentClass=self.httpModule.Agent;!1===self.pool?self.agent=!1:self.agent=self.agent||self.getNewAgent(),self.on("pipe",function(src){if(self.ntick&&self._started&&self.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),self.src=src,isReadStream(src))self.hasHeader("content-type")||self.setHeader("content-type",mime.lookup(src.path));else{if(src.headers)for(var i in src.headers)self.hasHeader(i)||self.setHeader(i,src.headers[i]);self._json&&!self.hasHeader("content-type")&&self.setHeader("content-type","application/json"),src.method&&!self.explicitMethod&&(self.method=src.method)}}),defer(function(){if(!self._aborted){var end=function(){if(self._form&&(self._auth.hasAuth?self._auth.hasAuth&&self._auth.sentAuth&&self._form.pipe(self):self._form.pipe(self)),self._multipart&&self._multipart.chunked&&self._multipart.body.pipe(self),self.body)isstream(self.body)?self.body.pipe(self):(setContentLength(),Array.isArray(self.body)?self.body.forEach(function(part){self.write(part)}):self.write(self.body),self.end());else if(self.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),self.requestBodyStream.pipe(self);else if(!self.src){if(self._auth.hasAuth&&!self._auth.sentAuth)return void self.end();"GET"!==self.method&&"undefined"!=typeof self.method&&self.setHeader("content-length",0),self.end()}};self._form&&!self.hasHeader("content-length")?(self.setHeader(self._form.getHeaders(),!0),self._form.getLength(function(err,length){err||isNaN(length)||self.setHeader("content-length",length),end()})):end(),self.ntick=!0}})},Request.prototype.getNewAgent=function(){var self=this,Agent=self.agentClass,options={};if(self.agentOptions)for(var i in self.agentOptions)options[i]=self.agentOptions[i];self.ca&&(options.ca=self.ca),self.ciphers&&(options.ciphers=self.ciphers),self.secureProtocol&&(options.secureProtocol=self.secureProtocol),self.secureOptions&&(options.secureOptions=self.secureOptions),"undefined"!=typeof self.rejectUnauthorized&&(options.rejectUnauthorized=self.rejectUnauthorized),self.cert&&self.key&&(options.key=self.key,options.cert=self.cert),self.pfx&&(options.pfx=self.pfx),self.passphrase&&(options.passphrase=self.passphrase);var poolKey="";Agent!==self.httpModule.Agent&&(poolKey+=Agent.name);var proxy=self.proxy;return"string"==typeof proxy&&(proxy=url.parse(proxy)),(proxy&&"https:"===proxy.protocol||"https:"===this.uri.protocol)&&(options.ca&&(poolKey&&(poolKey+=":"),poolKey+=options.ca),"undefined"!=typeof options.rejectUnauthorized&&(poolKey&&(poolKey+=":"),poolKey+=options.rejectUnauthorized),options.cert&&(poolKey&&(poolKey+=":"),poolKey+=options.cert.toString("ascii")+options.key.toString("ascii")),options.pfx&&(poolKey&&(poolKey+=":"),poolKey+=options.pfx.toString("ascii")),options.ciphers&&(poolKey&&(poolKey+=":"),poolKey+=options.ciphers),options.secureProtocol&&(poolKey&&(poolKey+=":"),poolKey+=options.secureProtocol),options.secureOptions&&(poolKey&&(poolKey+=":"),poolKey+=options.secureOptions)),self.pool===globalPool&&!poolKey&&0===Object.keys(options).length&&self.httpModule.globalAgent?self.httpModule.globalAgent:(poolKey=self.uri.protocol+poolKey,self.pool[poolKey]||(self.pool[poolKey]=new Agent(options),self.pool.maxSockets&&(self.pool[poolKey].maxSockets=self.pool.maxSockets)),self.pool[poolKey])},Request.prototype.start=function(){var self=this;if(self.timing)var startTime=(new Date).getTime(),startTimeNow=now();if(!self._aborted){self._started=!0,self.method=self.method||"GET",self.href=self.uri.href,self.src&&self.src.stat&&self.src.stat.size&&!self.hasHeader("content-length")&&self.setHeader("content-length",self.src.stat.size),self._aws&&self.aws(self._aws,!0);var reqOptions=copy(self);delete reqOptions.auth,debug(self.uri.href),delete reqOptions.timeout;try{self.req=self.httpModule.request(reqOptions)}catch(err){return void self.emit("error",err)}self.timing&&(self.startTime=startTime,self.startTimeNow=startTimeNow,self.timings={});var timeout;self.timeout&&!self.timeoutTimer&&(self.timeout<0?timeout=0:"number"==typeof self.timeout&&isFinite(self.timeout)&&(timeout=self.timeout)),self.req.on("response",self.onRequestResponse.bind(self)),self.req.on("error",self.onRequestError.bind(self)),self.req.on("drain",function(){self.emit("drain")}),self.req.on("socket",function(socket){var isConnecting=socket._connecting||socket.connecting;if(self.timing&&(self.timings.socket=now()-self.startTimeNow,isConnecting)){var onLookupTiming=function(){self.timings.lookup=now()-self.startTimeNow},onConnectTiming=function(){self.timings.connect=now()-self.startTimeNow};socket.once("lookup",onLookupTiming),socket.once("connect",onConnectTiming),self.req.once("error",function(){socket.removeListener("lookup",onLookupTiming),socket.removeListener("connect",onConnectTiming)})}var setReqTimeout=function(){self.req.setTimeout(timeout,function(){if(self.req){self.abort();var e=new Error("ESOCKETTIMEDOUT");e.code="ESOCKETTIMEDOUT",e.connect=!1,self.emit("error",e)}})};if(timeout!==undefined)if(isConnecting){var onReqSockConnect=function onReqSockConnect(){socket.removeListener("connect",onReqSockConnect),clearTimeout(self.timeoutTimer),self.timeoutTimer=null,setReqTimeout()};socket.on("connect",onReqSockConnect),self.req.on("error",function(err){socket.removeListener("connect",onReqSockConnect)}),self.timeoutTimer=setTimeout(function(){socket.removeListener("connect",onReqSockConnect),self.abort();var e=new Error("ETIMEDOUT");e.code="ETIMEDOUT",e.connect=!0,self.emit("error",e)},timeout)}else setReqTimeout();self.emit("socket",socket)}),self.emit("request",self.req)}},Request.prototype.onRequestError=function(error){var self=this;if(!self._aborted){if(self.req&&self.req._reusedSocket&&"ECONNRESET"===error.code&&self.agent.addRequestNoreuse)return self.agent={addRequest:self.agent.addRequestNoreuse.bind(self.agent)},self.start(),void self.req.end();self.timeout&&self.timeoutTimer&&(clearTimeout(self.timeoutTimer),self.timeoutTimer=null),self.emit("error",error)}},Request.prototype.onRequestResponse=function(response){var self=this;if(self.timing&&(self.timings.response=now()-self.startTimeNow),debug(self.uri.href,response.statusCode,response.headers),response.on("end",function(){self.timing&&(self.timings.end=now()-self.startTimeNow,response.timingStart=self.startTime,self.timings.socket||(self.timings.socket=0),self.timings.lookup||(self.timings.lookup=self.timings.socket),self.timings.connect||(self.timings.connect=self.timings.lookup),self.timings.response||(self.timings.response=self.timings.connect),debug(self.timings.end),self.elapsedTime+=Math.round(self.timings.end),response.elapsedTime=self.elapsedTime,response.timings=self.timings,response.timingPhases={wait:self.timings.socket,dns:self.timings.lookup-self.timings.socket,tcp:self.timings.connect-self.timings.lookup,firstByte:self.timings.response-self.timings.connect,download:self.timings.end-self.timings.response,total:self.timings.end}),debug(self.uri.href,response.statusCode,response.headers)}),self._aborted)return debug(self.uri.href),void response.resume();if(self.response=response,response.request=self,response.toJSON=responseToJSON,self.httpModule===https&&self.strictSSL&&(!response.hasOwnProperty("socket")||!response.socket.authorized)){debug(self.uri.href);var sslErr=response.hasOwnProperty("socket")?response.socket.authorizationError:self.uri.href+" does not support SSL";return void self.emit("error",new Error("SSL Error: "+sslErr))}self.originalHost=self.getHeader("host"),self.originalHostHeaderName||(self.originalHostHeaderName=self.hasHeader("host")),self.setHost&&self.removeHeader("host"),self.timeout&&self.timeoutTimer&&(clearTimeout(self.timeoutTimer),self.timeoutTimer=null);var targetCookieJar=self._jar&&self._jar.setCookie?self._jar:globalCookieJar,addCookie=function(cookie){try{targetCookieJar.setCookie(cookie,self.uri.href,{ignoreError:!0})}catch(e){self.emit("error",e)}};if(response.caseless=caseless(response.headers),response.caseless.has("set-cookie")&&!self._disableCookies){var headerName=response.caseless.has("set-cookie");Array.isArray(response.headers[headerName])?response.headers[headerName].forEach(addCookie):addCookie(response.headers[headerName])}if(!self._redirect.onResponse(response)){response.on("close",function(){self._ended||self.response.emit("end")}),response.once("end",function(){self._ended=!0});var responseContent;if(self.gzip&&!function(code){return"HEAD"===self.method||code>=100&&code<200||204===code||304===code}(response.statusCode)){var contentEncoding=response.headers["content-encoding"]||"identity";contentEncoding=contentEncoding.trim().toLowerCase();var zlibOptions={flush:zlib.Z_SYNC_FLUSH,finishFlush:zlib.Z_SYNC_FLUSH};"gzip"===contentEncoding?(responseContent=zlib.createGunzip(zlibOptions),response.pipe(responseContent)):"deflate"===contentEncoding?(responseContent=zlib.createInflate(zlibOptions),response.pipe(responseContent)):("identity"!==contentEncoding&&debug(),responseContent=response)}else responseContent=response;self.encoding&&(0!==self.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):responseContent.setEncoding?responseContent.setEncoding(self.encoding):responseContent=responseContent.pipe(stringstream(self.encoding))),self._paused&&responseContent.pause(),self.responseContent=responseContent,self.emit("response",response),self.dests.forEach(function(dest){self.pipeDest(dest)}),responseContent.on("data",function(chunk){self.timing&&!self.responseStarted&&(self.responseStartTime=(new Date).getTime(),response.responseStartTime=self.responseStartTime),self._destdata=!0,self.emit("data",chunk)}),responseContent.once("end",function(chunk){self.emit("end",chunk)}),responseContent.on("error",function(error){self.emit("error",error)}),responseContent.on("close",function(){self.emit("close")}),self.callback?self.readResponseBody(response):self.on("end",function(){if(self._aborted)return void debug(self.uri.href);self.emit("complete",response)}),debug(self.uri.href)}},Request.prototype.readResponseBody=function(response){var self=this;debug();var buffers=[],bufferLength=0,strings=[];self.on("data",function(chunk){Buffer.isBuffer(chunk)?chunk.length&&(bufferLength+=chunk.length,buffers.push(chunk)):strings.push(chunk)}),self.on("end",function(){if(debug(self.uri.href),self._aborted)return debug(self.uri.href),buffers=[],void(bufferLength=0);if(bufferLength?(debug(self.uri.href),response.body=Buffer.concat(buffers,bufferLength),null!==self.encoding&&(response.body=response.body.toString(self.encoding)),buffers=[],bufferLength=0):strings.length&&("utf8"===self.encoding&&strings[0].length>0&&"\ufeff"===strings[0][0]&&(strings[0]=strings[0].substring(1)),response.body=strings.join("")),self._json)try{response.body=JSON.parse(response.body,self._jsonReviver)}catch(e){debug(self.uri.href)}debug(self.uri.href),"undefined"!=typeof response.body||self._json||(response.body=null===self.encoding?Buffer.alloc(0):""),self.emit("complete",response,response.body)})},Request.prototype.abort=function(){var self=this;self._aborted=!0,self.req?self.req.abort():self.response&&self.response.destroy(),self.emit("abort")},Request.prototype.pipeDest=function(dest){var self=this,response=self.response;if(dest.headers&&!dest.headersSent){if(response.caseless.has("content-type")){var ctname=response.caseless.has("content-type");dest.setHeader?dest.setHeader(ctname,response.headers[ctname]):dest.headers[ctname]=response.headers[ctname]}if(response.caseless.has("content-length")){var clname=response.caseless.has("content-length");dest.setHeader?dest.setHeader(clname,response.headers[clname]):dest.headers[clname]=response.headers[clname]}}if(dest.setHeader&&!dest.headersSent){for(var i in response.headers)self.gzip&&"content-encoding"===i||dest.setHeader(i,response.headers[i]);dest.statusCode=response.statusCode}self.pipefilter&&self.pipefilter(response,dest)},Request.prototype.qs=function(q,clobber){var base,self=this;base=!clobber&&self.uri.query?self._qs.parse(self.uri.query):{};for(var i in q)base[i]=q[i];var qs=self._qs.stringify(base);return""===qs?self:(self.uri=url.parse(self.uri.href.split("?")[0]+"?"+qs),self.url=self.uri,self.path=self.uri.path,"unix"===self.uri.host&&self.enableUnixSocket(),self)},Request.prototype.form=function(form){var self=this;return form?(/^application\/x-www-form-urlencoded\b/.test(self.getHeader("content-type"))||self.setHeader("content-type","application/x-www-form-urlencoded"),self.body="string"==typeof form?self._qs.rfc3986(form.toString("utf8")):self._qs.stringify(form).toString("utf8"),self):(self._form=new FormData,self._form.on("error",function(err){err.message="form-data: "+err.message,self.emit("error",err),self.abort()}),self._form)},Request.prototype.multipart=function(multipart){var self=this;return self._multipart.onRequest(multipart),self._multipart.chunked||(self.body=self._multipart.body),self},Request.prototype.json=function(val){var self=this;return self.hasHeader("accept")||self.setHeader("accept","application/json"),"function"==typeof self.jsonReplacer&&(self._jsonReplacer=self.jsonReplacer),self._json=!0,"boolean"==typeof val?self.body!==undefined&&(/^application\/x-www-form-urlencoded\b/.test(self.getHeader("content-type"))?self.body=self._qs.rfc3986(self.body):self.body=safeStringify(self.body,self._jsonReplacer),self.hasHeader("content-type")||self.setHeader("content-type","application/json")):(self.body=safeStringify(val,self._jsonReplacer),self.hasHeader("content-type")||self.setHeader("content-type","application/json")),"function"==typeof self.jsonReviver&&(self._jsonReviver=self.jsonReviver),self},Request.prototype.getHeader=function(name,headers){var result,re,match,self=this;return headers||(headers=self.headers),Object.keys(headers).forEach(function(key){key.length===name.length&&(re=new RegExp(name,"i"),(match=key.match(re))&&(result=headers[key]))}),result},Request.prototype.enableUnixSocket=function(){var unixParts=this.uri.path.split(":"),host=unixParts[0],path=unixParts[1];this.socketPath=host,this.uri.pathname=path,this.uri.path=path,this.uri.host=host,this.uri.hostname=host,this.uri.isUnix=!0},Request.prototype.auth=function(user,pass,sendImmediately,bearer){var self=this;return self._auth.onRequest(user,pass,sendImmediately,bearer),self},Request.prototype.aws=function(opts,now){var self=this;if(!now)return self._aws=opts,self;if(4==opts.sign_version||"4"==opts.sign_version){var options={host:self.uri.host,path:self.uri.path,method:self.method,headers:{"content-type":self.getHeader("content-type")||""},body:self.body},signRes=aws4.sign(options,{accessKeyId:opts.key,secretAccessKey:opts.secret,sessionToken:opts.session});self.setHeader("authorization",signRes.headers.Authorization),self.setHeader("x-amz-date",signRes.headers["X-Amz-Date"]),signRes.headers["X-Amz-Security-Token"]&&self.setHeader("x-amz-security-token",signRes.headers["X-Amz-Security-Token"])}else{var date=new Date;self.setHeader("date",date.toUTCString());var auth={key:opts.key,secret:opts.secret,verb:self.method.toUpperCase(),date:date,contentType:self.getHeader("content-type")||"",md5:self.getHeader("content-md5")||"",amazonHeaders:aws2.canonicalizeHeaders(self.headers)},path=self.uri.path;opts.bucket&&path?auth.resource="/"+opts.bucket+path:opts.bucket&&!path?auth.resource="/"+opts.bucket:!opts.bucket&&path?auth.resource=path:opts.bucket||path||(auth.resource="/"),auth.resource=aws2.canonicalizeResource(auth.resource),self.setHeader("authorization",aws2.authorization(auth))}return self},Request.prototype.httpSignature=function(opts){var self=this;return httpSignature.signRequest({getHeader:function(header){return self.getHeader(header,self.headers)},setHeader:function(header,value){self.setHeader(header,value)},method:self.method,path:self.path},opts),debug(self.getHeader("authorization")),self},Request.prototype.hawk=function(opts){var self=this;self.setHeader("Authorization",hawk.client.header(self.uri,self.method,opts).field)},Request.prototype.oauth=function(_oauth){var self=this;return self._oauth.onRequest(_oauth),self},Request.prototype.jar=function(jar){var cookies,self=this;if(0===self._redirect.redirectsFollowed&&(self.originalCookieHeader=self.getHeader("cookie")),jar){var targetCookieJar=jar&&jar.getCookieString?jar:globalCookieJar,urihref=self.uri.href;targetCookieJar&&(cookies=targetCookieJar.getCookieString(urihref))}else cookies=!1,self._disableCookies=!0;return cookies&&cookies.length&&(self.originalCookieHeader?self.setHeader("cookie",self.originalCookieHeader+"; "+cookies):self.setHeader("cookie",cookies)),self._jar=jar,self},Request.prototype.pipe=function(dest,opts){var self=this;if(!self.response)return self.dests.push(dest),stream.Stream.prototype.pipe.call(self,dest,opts),dest;if(self._destdata)self.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!self._ended)return stream.Stream.prototype.pipe.call(self,dest,opts),self.pipeDest(dest),dest;self.emit("error",new Error("You cannot pipe after the response has been ended."))}},Request.prototype.write=function(){var self=this;if(!self._aborted)return self._started||self.start(),self.req?self.req.write.apply(self.req,arguments):void 0},Request.prototype.end=function(chunk){var self=this;self._aborted||(chunk&&self.write(chunk),self._started||self.start(),self.req&&self.req.end())},Request.prototype.pause=function(){var self=this;self.responseContent?self.responseContent.pause.apply(self.responseContent,arguments):self._paused=!0},Request.prototype.resume=function(){var self=this;self.responseContent?self.responseContent.resume.apply(self.responseContent,arguments):self._paused=!1},Request.prototype.destroy=function(){var self=this;self._ended?self.response&&self.response.destroy():self.end()},Request.defaultProxyHeaderWhiteList=Tunnel.defaultProxyHeaderWhiteList.slice(),Request.defaultProxyHeaderExclusiveList=Tunnel.defaultProxyHeaderExclusiveList.slice(),Request.prototype.toJSON=requestToJSON,module.exports=Request}).call(this,require("_process"))},{"./lib/auth":564,"./lib/cookies":565,"./lib/getProxyFromURI":566,"./lib/har":567,"./lib/helpers":568,"./lib/multipart":569,"./lib/oauth":570,"./lib/querystring":571,"./lib/redirect":572,"./lib/tunnel":573,_process:534,"aws-sign2":65,aws4:66,caseless:574,extend:445,"forever-agent":447,"form-data":448,hawk:476,http:611,"http-signature":479,https:484,"is-typedarray":489,isstream:491,"mime-types":509,"performance-now":532,"safe-buffer":577,stream:610,stringstream:616,url:630,util:635,zlib:100}],576:[function(require,module,exports){(function(Buffer){"use strict";function bytesToWords(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words}function wordsToBytes(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes}function processBlock(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];var t;for(i=0;i<80;i+=1)t=al+M[offset+zl[i]]|0,t+=i<16?f1(bl,cl,dl)+hl[0]:i<32?f2(bl,cl,dl)+hl[1]:i<48?f3(bl,cl,dl)+hl[2]:i<64?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t=(t=rotl(t|=0,sl[i]))+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=i<16?f5(br,cr,dr)+hr[0]:i<32?f4(br,cr,dr)+hr[1]:i<48?f3(br,cr,dr)+hr[2]:i<64?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t=(t=rotl(t|=0,sr[i]))+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof message&&(message=new Buffer(message,"utf8"));var m=bytesToWords(message),nBitsLeft=8*message.length,nBitsTotal=8*message.length;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[14+(nBitsLeft+64>>>9<<4)]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)processBlock(H,m,i);for(i=0;i<5;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160}).call(this,require("buffer").Buffer)},{buffer:105}],577:[function(require,module,exports){"use strict";module.exports=require("buffer")},{buffer:105}],578:[function(require,module,exports){(function(Buffer){"use strict";function Hash(blockSize,finalSize){this._block=new Buffer(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0,this._s=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(data=new Buffer(data,enc=enc||"utf8"));for(var l=this._len+=data.length,s=this._s||0,f=0,buffer=this._block;s<l;){for(var ch=Math.min(data.length,f+this._blockSize-s%this._blockSize)-f,i=0;i<ch;i++)buffer[s%this._blockSize+i]=data[i+f];f+=ch,(s+=ch)%this._blockSize==0&&this._update(buffer)}return this._s=s,this},Hash.prototype.digest=function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash}).call(this,require("buffer").Buffer)},{buffer:105}],579:[function(require,module,exports){"use strict";var _exports=module.exports=function(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=_exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};_exports.sha=require("./sha"),_exports.sha1=require("./sha1"),_exports.sha224=require("./sha224"),_exports.sha256=require("./sha256"),_exports.sha384=require("./sha384"),_exports.sha512=require("./sha512")},{"./sha":580,"./sha1":581,"./sha224":582,"./sha256":583,"./sha384":584,"./sha512":585}],580:[function(require,module,exports){(function(Buffer){"use strict";function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=require("inherits"),Hash=require("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha}).call(this,require("buffer").Buffer)},{"./hash":578,buffer:105,inherits:487}],581:[function(require,module,exports){(function(Buffer){"use strict";function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=require("inherits"),Hash=require("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16]);for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1}).call(this,require("buffer").Buffer)},{"./hash":578,buffer:105,inherits:487}],582:[function(require,module,exports){(function(Buffer){"use strict";function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=require("inherits"),Sha256=require("./sha256"),Hash=require("./hash"),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=new Buffer(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224}).call(this,require("buffer").Buffer)},{"./hash":578,"./sha256":583,buffer:105,inherits:487}],583:[function(require,module,exports){(function(Buffer){"use strict";function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256}).call(this,require("buffer").Buffer)},{"./hash":578,buffer:105,inherits:487}],584:[function(require,module,exports){(function(Buffer){"use strict";function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(48);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384}).call(this,require("buffer").Buffer)},{"./hash":578,"./sha512":585,buffer:105,inherits:487}],585:[function(require,module,exports){(function(Buffer){"use strict";function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;i<32;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;i<160;i+=2){var xh=W[i-30],xl=W[i-30+1],gamma0=Gamma0(xh,xl),gamma0l=Gamma0l(xl,xh),gamma1=Gamma1(xh=W[i-4],xl=W[i-4+1]),gamma1l=Gamma1l(xl,xh),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wih=(Wih=Wih+gamma1+getCarry(Wil=Wil+gamma1l|0,gamma1l)|0)+Wi16h+getCarry(Wil=Wil+Wi16l|0,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),majl=maj(al,bl,cl),sigma0h=sigma0(ah,al),sigma0l=sigma0(al,ah),sigma1h=sigma1(eh,el),sigma1l=sigma1(el,eh),Kih=K[j],Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+sigma1l|0,t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1h=(t1h=(t1h=t1h+chh+getCarry(t1l=t1l+chl|0,chl)|0)+Kih+getCarry(t1l=t1l+Kil|0,Kil)|0)+Wih+getCarry(t1l=t1l+Wil|0,Wil)|0;var t2l=sigma0l+majl|0,t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=dh+t1h+getCarry(el=dl+t1l|0,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=t1h+t2h+getCarry(al=t1l+t2l|0,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(64);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512}).call(this,require("buffer").Buffer)},{"./hash":578,buffer:105,inherits:487}],586:[function(require,module,exports){(function(Buffer){"use strict";var algInfo={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["R"],normalize:!1,sizePart:"R"}};algInfo.curve25519=algInfo.ed25519;var algPrivInfo={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["R","r"],normalize:!1}};algPrivInfo.curve25519=algPrivInfo.ed25519;var hashAlgs={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:new Buffer("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:new Buffer("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:new Buffer("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:new Buffer("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:new Buffer("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:new Buffer("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:new Buffer("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:new Buffer("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:new Buffer("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:new Buffer("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:new Buffer("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:new Buffer("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:new Buffer("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:new Buffer("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:new Buffer("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};module.exports={info:algInfo,privInfo:algPrivInfo,hashAlgs:hashAlgs,curves:curves}}).call(this,require("buffer").Buffer)},{buffer:105}],587:[function(require,module,exports){(function(Buffer){"use strict";function Certificate(opts){assert.object(opts,"options"),assert.arrayOfObject(opts.subjects,"options.subjects"),utils.assertCompatible(opts.subjects[0],Identity,[1,0],"options.subjects"),utils.assertCompatible(opts.subjectKey,Key,[1,0],"options.subjectKey"),utils.assertCompatible(opts.issuer,Identity,[1,0],"options.issuer"),opts.issuerKey!==undefined&&utils.assertCompatible(opts.issuerKey,Key,[1,0],"options.issuerKey"),assert.object(opts.signatures,"options.signatures"),assert.buffer(opts.serial,"options.serial"),assert.date(opts.validFrom,"options.validFrom"),assert.date(opts.validUntil,"optons.validUntil"),assert.optionalArrayOfString(opts.purposes,"options.purposes"),this._hashCache={},this.subjects=opts.subjects,this.issuer=opts.issuer,this.subjectKey=opts.subjectKey,this.issuerKey=opts.issuerKey,this.signatures=opts.signatures,this.serial=opts.serial,this.validFrom=opts.validFrom,this.validUntil=opts.validUntil,this.purposes=opts.purposes}module.exports=Certificate;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Fingerprint=require("./fingerprint"),errs=(require("./signature"),require("./errors")),utils=(require("util"),require("./utils")),Key=require("./key"),PrivateKey=require("./private-key"),Identity=require("./identity"),formats={};formats.openssh=require("./formats/openssh-cert"),formats.x509=require("./formats/x509"),formats.pem=require("./formats/x509-pem");var CertificateParseError=errs.CertificateParseError,InvalidAlgorithmError=errs.InvalidAlgorithmError;Certificate.formats=formats,Certificate.prototype.toBuffer=function(format,options){return format===undefined&&(format="x509"),assert.string(format,"format"),assert.object(formats[format],"formats[format]"),assert.optionalObject(options,"options"),formats[format].write(this,options)},Certificate.prototype.toString=function(format,options){return format===undefined&&(format="pem"),this.toBuffer(format,options).toString()},Certificate.prototype.fingerprint=function(algo){algo===undefined&&(algo="sha256"),assert.string(algo,"algorithm");var opts={type:"certificate",hash:this.hash(algo),algorithm:algo};return new Fingerprint(opts)},Certificate.prototype.hash=function(algo){if(assert.string(algo,"algorithm"),algo=algo.toLowerCase(),algs.hashAlgs[algo]===undefined)throw new InvalidAlgorithmError(algo);if(this._hashCache[algo])return this._hashCache[algo];var hash=crypto.createHash(algo).update(this.toBuffer("x509")).digest();return this._hashCache[algo]=hash,hash},Certificate.prototype.isExpired=function(when){return when===undefined&&(when=new Date),!(when.getTime()>=this.validFrom.getTime()&&when.getTime()<this.validUntil.getTime())},Certificate.prototype.isSignedBy=function(issuerCert){return utils.assertCompatible(issuerCert,Certificate,[1,0],"issuer"),!!this.issuer.equals(issuerCert.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&-1===this.issuer.purposes.indexOf("ca"))&&this.isSignedByKey(issuerCert.subjectKey))},Certificate.prototype.isSignedByKey=function(issuerKey){if(utils.assertCompatible(issuerKey,Key,[1,2],"issuerKey"),this.issuerKey!==undefined)return this.issuerKey.fingerprint("sha512").matches(issuerKey);var fmt=Object.keys(this.signatures)[0],valid=formats[fmt].verify(this,issuerKey);return valid&&(this.issuerKey=issuerKey),valid},Certificate.prototype.signWith=function(key){utils.assertCompatible(key,PrivateKey,[1,2],"key");for(var fmts=Object.keys(formats),didOne=!1,i=0;i<fmts.length;++i)"pem"!==fmts[i]&&!0===formats[fmts[i]].sign(this,key)&&(didOne=!0);if(!didOne)throw new Error("Failed to sign the certificate for any available certificate formats")},Certificate.createSelfSigned=function(subjectOrSubjects,key,options){var subjects;subjects=Array.isArray(subjectOrSubjects)?subjectOrSubjects:[subjectOrSubjects],assert.arrayOfObject(subjects),subjects.forEach(function(subject){utils.assertCompatible(subject,Identity,[1,0],"subject")}),utils.assertCompatible(key,PrivateKey,[1,2],"private key"),assert.optionalObject(options,"options"),options===undefined&&(options={}),assert.optionalObject(options.validFrom,"options.validFrom"),assert.optionalObject(options.validUntil,"options.validUntil");var validFrom=options.validFrom,validUntil=options.validUntil;if(validFrom===undefined&&(validFrom=new Date),validUntil===undefined){assert.optionalNumber(options.lifetime,"options.lifetime");var lifetime=options.lifetime;lifetime===undefined&&(lifetime=31536e4),(validUntil=new Date).setTime(validUntil.getTime()+1e3*lifetime)}assert.optionalBuffer(options.serial,"options.serial");var serial=options.serial;serial===undefined&&(serial=new Buffer("0000000000000001","hex"));var purposes=options.purposes;if(purposes===undefined&&(purposes=[]),-1===purposes.indexOf("signature")&&purposes.push("signature"),-1===purposes.indexOf("ca")&&purposes.push("ca"),-1===purposes.indexOf("crl")&&purposes.push("crl"),purposes.length<=3){var hostSubjects=subjects.filter(function(subject){return"host"===subject.type}),userSubjects=subjects.filter(function(subject){return"user"===subject.type});hostSubjects.length>0&&-1===purposes.indexOf("serverAuth")&&purposes.push("serverAuth"),userSubjects.length>0&&-1===purposes.indexOf("clientAuth")&&purposes.push("clientAuth"),(userSubjects.length>0||hostSubjects.length>0)&&(-1===purposes.indexOf("keyAgreement")&&purposes.push("keyAgreement"),"rsa"===key.type&&-1===purposes.indexOf("encryption")&&purposes.push("encryption"))}var cert=new Certificate({subjects:subjects,issuer:subjects[0],subjectKey:key.toPublic(),issuerKey:key.toPublic(),signatures:{},serial:serial,validFrom:validFrom,validUntil:validUntil,purposes:purposes});return cert.signWith(key),cert},Certificate.create=function(subjectOrSubjects,key,issuer,issuerKey,options){var subjects;subjects=Array.isArray(subjectOrSubjects)?subjectOrSubjects:[subjectOrSubjects],assert.arrayOfObject(subjects),subjects.forEach(function(subject){utils.assertCompatible(subject,Identity,[1,0],"subject")}),utils.assertCompatible(key,Key,[1,0],"key"),PrivateKey.isPrivateKey(key)&&(key=key.toPublic()),utils.assertCompatible(issuer,Identity,[1,0],"issuer"),utils.assertCompatible(issuerKey,PrivateKey,[1,2],"issuer key"),assert.optionalObject(options,"options"),options===undefined&&(options={}),assert.optionalObject(options.validFrom,"options.validFrom"),assert.optionalObject(options.validUntil,"options.validUntil");var validFrom=options.validFrom,validUntil=options.validUntil;if(validFrom===undefined&&(validFrom=new Date),validUntil===undefined){assert.optionalNumber(options.lifetime,"options.lifetime");var lifetime=options.lifetime;lifetime===undefined&&(lifetime=31536e4),(validUntil=new Date).setTime(validUntil.getTime()+1e3*lifetime)}assert.optionalBuffer(options.serial,"options.serial");var serial=options.serial;serial===undefined&&(serial=new Buffer("0000000000000001","hex"));var purposes=options.purposes;purposes===undefined&&(purposes=[]),-1===purposes.indexOf("signature")&&purposes.push("signature"),!0===options.ca&&(-1===purposes.indexOf("ca")&&purposes.push("ca"),-1===purposes.indexOf("crl")&&purposes.push("crl"));var hostSubjects=subjects.filter(function(subject){return"host"===subject.type}),userSubjects=subjects.filter(function(subject){return"user"===subject.type});hostSubjects.length>0&&-1===purposes.indexOf("serverAuth")&&purposes.push("serverAuth"),userSubjects.length>0&&-1===purposes.indexOf("clientAuth")&&purposes.push("clientAuth"),(userSubjects.length>0||hostSubjects.length>0)&&(-1===purposes.indexOf("keyAgreement")&&purposes.push("keyAgreement"),"rsa"===key.type&&-1===purposes.indexOf("encryption")&&purposes.push("encryption"));var cert=new Certificate({subjects:subjects,issuer:issuer,subjectKey:key,issuerKey:issuerKey.toPublic(),signatures:{},serial:serial,validFrom:validFrom,validUntil:validUntil,purposes:purposes});return cert.signWith(issuerKey),cert},Certificate.parse=function(data,format,options){"string"!=typeof data&&assert.buffer(data,"data"),format===undefined&&(format="auto"),assert.string(format,"format"),"string"==typeof options&&(options={filename:options}),assert.optionalObject(options,"options"),options===undefined&&(options={}),assert.optionalString(options.filename,"options.filename"),options.filename===undefined&&(options.filename="(unnamed)"),assert.object(formats[format],"formats[format]");try{return formats[format].read(data,options)}catch(e){throw new CertificateParseError(options.filename,format,e)}},Certificate.isCertificate=function(obj,ver){return utils.isCompatible(obj,Certificate,ver)},Certificate.prototype._sshpkApiVersion=[1,0],Certificate._oldVersionDetect=function(obj){return[1,0]}}).call(this,require("buffer").Buffer)},{"./algs":586,"./errors":590,"./fingerprint":591,"./formats/openssh-cert":593,"./formats/x509":601,"./formats/x509-pem":600,"./identity":602,"./key":604,"./private-key":605,"./signature":606,"./utils":608,"assert-plus":609,buffer:105,crypto:411,util:635}],588:[function(require,module,exports){(function(Buffer){"use strict";function DiffieHellman(key){if(utils.assertCompatible(key,Key,[1,4],"key"),this._isPriv=PrivateKey.isPrivateKey(key,[1,3]),this._algo=key.type,this._curve=key.curve,this._key=key,"dsa"===key.type){if(!CRYPTO_HAVE_ECDH)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=crypto.createDiffieHellman(key.part.p.data,undefined,key.part.g.data,undefined),this._p=key.part.p,this._g=key.part.g,this._isPriv&&this._dh.setPrivateKey(key.part.x.data),this._dh.setPublicKey(key.part.y.data)}else if("ecdsa"===key.type){if(!CRYPTO_HAVE_ECDH)return ecdh===undefined&&(ecdh=require("ecc-jsbn")),ec===undefined&&(ec=require("ecc-jsbn/lib/ec")),jsbn===undefined&&(jsbn=require("jsbn").BigInteger),this._ecParams=new X9ECParameters(this._curve),void(this._isPriv&&(this._priv=new ECPrivate(this._ecParams,key.part.d.data)));var curve={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[key.curve];if(this._dh=crypto.createECDH(curve),"object"!==_typeof(this._dh)||"function"!=typeof this._dh.setPrivateKey)return CRYPTO_HAVE_ECDH=!1,void DiffieHellman.call(this,key);this._isPriv&&this._dh.setPrivateKey(key.part.d.data),this._dh.setPublicKey(key.part.Q.data)}else{if("curve25519"!==key.type)throw new Error("DH not supported for "+key.type+" keys");ed===undefined&&(ed=require("jodid25519")),this._isPriv&&(this._priv=key.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32))}}function X9ECParameters(name){var params=algs.curves[name];assert.object(params);var p=new jsbn(params.p),a=new jsbn(params.a),b=new jsbn(params.b),n=new jsbn(params.n),h=jsbn.ONE,curve=new ec.ECCurveFp(p,a,b),G=curve.decodePointHex(params.G.toString("hex"));this.curve=curve,this.g=G,this.n=n,this.h=h}function ECPublic(params,buffer){this._params=params,0===buffer[0]&&(buffer=buffer.slice(1)),this._pub=params.getCurve().decodePointHex(buffer.toString("hex"))}function ECPrivate(params,buffer){this._params=params,this._priv=new jsbn(utils.mpNormalize(buffer))}function generateED25519(){nacl===undefined&&(nacl=require("tweetnacl"));var pair=nacl.sign.keyPair(),priv=new Buffer(pair.secretKey),pub=new Buffer(pair.publicKey);assert.strictEqual(priv.length,64),assert.strictEqual(pub.length,32);var parts=[];return parts.push({name:"R",data:pub}),parts.push({name:"r",data:priv}),new PrivateKey({type:"ed25519",parts:parts})}function generateECDSA(curve){var parts=[];if(CRYPTO_HAVE_ECDH){var osCurve={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[curve],dh=crypto.createECDH(osCurve);return dh.generateKeys(),parts.push({name:"curve",data:new Buffer(curve)}),parts.push({name:"Q",data:dh.getPublicKey()}),parts.push({name:"d",data:dh.getPrivateKey()}),new PrivateKey({type:"ecdsa",curve:curve,parts:parts})}ecdh===undefined&&(ecdh=require("ecc-jsbn")),ec===undefined&&(ec=require("ecc-jsbn/lib/ec")),jsbn===undefined&&(jsbn=require("jsbn").BigInteger);var ecParams=new X9ECParameters(curve),n=ecParams.getN(),cByteLen=Math.ceil((n.bitLength()+64)/8),c=new jsbn(crypto.randomBytes(cByteLen)),n1=n.subtract(jsbn.ONE),priv=c.mod(n1).add(jsbn.ONE),pub=ecParams.getG().multiply(priv);return priv=new Buffer(priv.toByteArray()),pub=new Buffer(ecParams.getCurve().encodePointHex(pub),"hex"),parts.push({name:"curve",data:new Buffer(curve)}),parts.push({name:"Q",data:pub}),parts.push({name:"d",data:priv}),new PrivateKey({type:"ecdsa",curve:curve,parts:parts})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={DiffieHellman:DiffieHellman,generateECDSA:generateECDSA,generateED25519:generateED25519};var ed,nacl,ecdh,ec,jsbn,assert=require("assert-plus"),crypto=require("crypto"),algs=require("./algs"),utils=require("./utils"),Key=require("./key"),PrivateKey=require("./private-key"),CRYPTO_HAVE_ECDH=crypto.createECDH!==undefined;DiffieHellman.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},DiffieHellman.prototype.getPrivateKey=function(){return this._isPriv?this._key:undefined},DiffieHellman.prototype.getKey=DiffieHellman.prototype.getPrivateKey,DiffieHellman.prototype._keyCheck=function(pk,isPub){if(assert.object(pk,"key"),isPub||utils.assertCompatible(pk,PrivateKey,[1,3],"key"),utils.assertCompatible(pk,Key,[1,4],"key"),pk.type!==this._algo)throw new Error("A "+pk.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(pk.curve!==this._curve)throw new Error("A key from the "+pk.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===pk.type&&(assert.deepEqual(pk.part.p,this._p,"DSA key prime does not match"),assert.deepEqual(pk.part.g,this._g,"DSA key generator does not match"))},DiffieHellman.prototype.setKey=function(pk){this._keyCheck(pk),"dsa"===pk.type?(this._dh.setPrivateKey(pk.part.x.data),this._dh.setPublicKey(pk.part.y.data)):"ecdsa"===pk.type?CRYPTO_HAVE_ECDH?(this._dh.setPrivateKey(pk.part.d.data),this._dh.setPublicKey(pk.part.Q.data)):this._priv=new ECPrivate(this._ecParams,pk.part.d.data):"curve25519"===pk.type&&(this._priv=pk.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)),this._key=pk,this._isPriv=!0},DiffieHellman.prototype.setPrivateKey=DiffieHellman.prototype.setKey,DiffieHellman.prototype.computeSecret=function(otherpk){if(this._keyCheck(otherpk,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var pub;if("dsa"===this._algo)return this._dh.computeSecret(otherpk.part.y.data);if("ecdsa"===this._algo)return CRYPTO_HAVE_ECDH?this._dh.computeSecret(otherpk.part.Q.data):(pub=new ECPublic(this._ecParams,otherpk.part.Q.data),this._priv.deriveSharedSecret(pub));if("curve25519"===this._algo){0===(pub=otherpk.part.R.data)[0]&&(pub=pub.slice(1));var secret=ed.dh.computeKey(this._priv.toString("binary"),pub.toString("binary"));return new Buffer(secret,"binary")}throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKey=function(){var priv,pub,parts=[];if("dsa"===this._algo)return this._dh.generateKeys(),parts.push({name:"p",data:this._p.data}),parts.push({name:"q",data:this._key.part.q.data}),parts.push({name:"g",data:this._g.data}),parts.push({name:"y",data:this._dh.getPublicKey()}),parts.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"dsa",parts:parts}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(CRYPTO_HAVE_ECDH)return this._dh.generateKeys(),parts.push({name:"curve",data:new Buffer(this._curve)}),parts.push({name:"Q",data:this._dh.getPublicKey()}),parts.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:parts}),this._isPriv=!0,this._key;var n=this._ecParams.getN(),r=new jsbn(crypto.randomBytes(n.bitLength())),n1=n.subtract(jsbn.ONE);return priv=r.mod(n1).add(jsbn.ONE),pub=this._ecParams.getG().multiply(priv),priv=new Buffer(priv.toByteArray()),pub=new Buffer(this._ecParams.getCurve().encodePointHex(pub),"hex"),this._priv=new ECPrivate(this._ecParams,priv),parts.push({name:"curve",data:new Buffer(this._curve)}),parts.push({name:"Q",data:pub}),parts.push({name:"d",data:priv}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:parts}),this._isPriv=!0,this._key}if("curve25519"===this._algo)return priv=ed.dh.generateKey(),pub=ed.dh.publicKey(priv),this._priv=priv=new Buffer(priv,"binary"),pub=new Buffer(pub,"binary"),parts.push({name:"R",data:pub}),parts.push({name:"r",data:Buffer.concat([priv,pub])}),this._key=new PrivateKey({type:"curve25519",parts:parts}),this._isPriv=!0,this._key;throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKeys=DiffieHellman.prototype.generateKey,X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h},ECPrivate.prototype.deriveSharedSecret=function(pubKey){assert.ok(pubKey instanceof ECPublic);var S=pubKey._pub.multiply(this._priv);return new Buffer(S.getX().toBigInteger().toByteArray())}}).call(this,require("buffer").Buffer)},{"./algs":586,"./key":604,"./private-key":605,"./utils":608,"assert-plus":609,buffer:105,crypto:411,"ecc-jsbn":424,"ecc-jsbn/lib/ec":425,jodid25519:492,jsbn:498,tweetnacl:629}],589:[function(require,module,exports){(function(Buffer){"use strict";function Verifier(key,hashAlgo){if(nacl===undefined&&(nacl=require("tweetnacl")),"sha512"!==hashAlgo.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=key,this.chunks=[],stream.Writable.call(this,{})}function Signer(key,hashAlgo){if(nacl===undefined&&(nacl=require("tweetnacl")),"sha512"!==hashAlgo.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=key,this.chunks=[],stream.Writable.call(this,{})}module.exports={Verifier:Verifier,Signer:Signer};var nacl,stream=require("stream"),util=require("util"),assert=require("assert-plus"),Signature=require("./signature");util.inherits(Verifier,stream.Writable),Verifier.prototype._write=function(chunk,enc,cb){this.chunks.push(chunk),cb()},Verifier.prototype.update=function(chunk){"string"==typeof chunk&&(chunk=new Buffer(chunk,"binary")),this.chunks.push(chunk)},Verifier.prototype.verify=function(signature,fmt){var sig;if(Signature.isSignature(signature,[2,0])){if("ed25519"!==signature.type)return!1;sig=signature.toBuffer("raw")}else if("string"==typeof signature)sig=new Buffer(signature,"base64");else if(Signature.isSignature(signature,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return assert.buffer(sig),nacl.sign.detached.verify(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(sig),new Uint8Array(this.key.part.R.data))},util.inherits(Signer,stream.Writable),Signer.prototype._write=function(chunk,enc,cb){this.chunks.push(chunk),cb()},Signer.prototype.update=function(chunk){"string"==typeof chunk&&(chunk=new Buffer(chunk,"binary")),this.chunks.push(chunk)},Signer.prototype.sign=function(){var sig=nacl.sign.detached(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(this.key.part.r.data)),sigBuf=new Buffer(sig),sigObj=Signature.parse(sigBuf,"ed25519","raw");return sigObj.hashAlgorithm="sha512",sigObj}}).call(this,require("buffer").Buffer)},{"./signature":606,"assert-plus":609,buffer:105,stream:610,tweetnacl:629,util:635}],590:[function(require,module,exports){"use strict";function FingerprintFormatError(fp,format){Error.captureStackTrace&&Error.captureStackTrace(this,FingerprintFormatError),this.name="FingerprintFormatError",this.fingerprint=fp,this.format=format,this.message="Fingerprint format is not supported, or is invalid: ",fp!==undefined&&(this.message+=" fingerprint = "+fp),format!==undefined&&(this.message+=" format = "+format)}function InvalidAlgorithmError(alg){Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAlgorithmError),this.name="InvalidAlgorithmError",this.algorithm=alg,this.message='Algorithm "'+alg+'" is not supported'}function KeyParseError(name,format,innerErr){Error.captureStackTrace&&Error.captureStackTrace(this,KeyParseError),this.name="KeyParseError",this.format=format,this.keyName=name,this.innerErr=innerErr,this.message="Failed to parse "+name+" as a valid "+format+" format key: "+innerErr.message}function SignatureParseError(type,format,innerErr){Error.captureStackTrace&&Error.captureStackTrace(this,SignatureParseError),this.name="SignatureParseError",this.type=type,this.format=format,this.innerErr=innerErr,this.message="Failed to parse the given data as a "+type+" signature in "+format+" format: "+innerErr.message}function CertificateParseError(name,format,innerErr){Error.captureStackTrace&&Error.captureStackTrace(this,CertificateParseError),this.name="CertificateParseError",this.format=format,this.certName=name,this.innerErr=innerErr,this.message="Failed to parse "+name+" as a valid "+format+" format certificate: "+innerErr.message}function KeyEncryptedError(name,format){Error.captureStackTrace&&Error.captureStackTrace(this,KeyEncryptedError),this.name="KeyEncryptedError",this.format=format,this.keyName=name,this.message="The "+format+" format key "+name+" is encrypted (password-protected), and no passphrase was provided in `options`"}require("assert-plus");var util=require("util");util.inherits(FingerprintFormatError,Error),util.inherits(InvalidAlgorithmError,Error),util.inherits(KeyParseError,Error),util.inherits(SignatureParseError,Error),util.inherits(CertificateParseError,Error),util.inherits(KeyEncryptedError,Error),module.exports={FingerprintFormatError:FingerprintFormatError,InvalidAlgorithmError:InvalidAlgorithmError,KeyParseError:KeyParseError,SignatureParseError:SignatureParseError,KeyEncryptedError:KeyEncryptedError,CertificateParseError:CertificateParseError}},{"assert-plus":609,util:635}],591:[function(require,module,exports){(function(Buffer){"use strict";function Fingerprint(opts){if(assert.object(opts,"options"),assert.string(opts.type,"options.type"),assert.buffer(opts.hash,"options.hash"),assert.string(opts.algorithm,"options.algorithm"),this.algorithm=opts.algorithm.toLowerCase(),!0!==algs.hashAlgs[this.algorithm])throw new InvalidAlgorithmError(this.algorithm);this.hash=opts.hash,this.type=opts.type}function addColons(s){return s.replace(/(.{2})(?=.)/g,"$1:")}function base64Strip(s){return s.replace(/=*$/,"")}function sshBase64Format(alg,h){return alg.toUpperCase()+":"+base64Strip(h)}module.exports=Fingerprint;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),errs=require("./errors"),Key=require("./key"),Certificate=require("./certificate"),utils=require("./utils"),FingerprintFormatError=errs.FingerprintFormatError,InvalidAlgorithmError=errs.InvalidAlgorithmError;Fingerprint.prototype.toString=function(format){switch(format===undefined&&(format="md5"===this.algorithm?"hex":"base64"),assert.string(format),format){case"hex":return addColons(this.hash.toString("hex"));case"base64":return sshBase64Format(this.algorithm,this.hash.toString("base64"));default:throw new FingerprintFormatError(undefined,format)}},Fingerprint.prototype.matches=function(other){assert.object(other,"key or certificate"),"key"===this.type?utils.assertCompatible(other,Key,[1,0],"key"):utils.assertCompatible(other,Certificate,[1,0],"certificate");var theirHash=other.hash(this.algorithm),theirHash2=crypto.createHash(this.algorithm).update(theirHash).digest("base64");return this.hash2===undefined&&(this.hash2=crypto.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===theirHash2},Fingerprint.parse=function(fp,options){assert.string(fp,"fingerprint");var alg,hash,enAlgs;Array.isArray(options)&&(enAlgs=options,options={}),assert.optionalObject(options,"options"),options===undefined&&(options={}),options.enAlgs!==undefined&&(enAlgs=options.enAlgs),assert.optionalArrayOfString(enAlgs,"algorithms");var parts=fp.split(":");if(2==parts.length){if(alg=parts[0].toLowerCase(),!/^[A-Za-z0-9+\/=]+$/.test(parts[1]))throw new FingerprintFormatError(fp);try{hash=new Buffer(parts[1],"base64")}catch(e){throw new FingerprintFormatError(fp)}}else if(parts.length>2){if(alg="md5","md5"===parts[0].toLowerCase()&&(parts=parts.slice(1)),parts=parts.join(""),!/^[a-fA-F0-9]+$/.test(parts))throw new FingerprintFormatError(fp);try{hash=new Buffer(parts,"hex")}catch(e){throw new FingerprintFormatError(fp)}}if(alg===undefined)throw new FingerprintFormatError(fp);if(algs.hashAlgs[alg]===undefined)throw new InvalidAlgorithmError(alg);if(enAlgs!==undefined&&-1===(enAlgs=enAlgs.map(function(a){return a.toLowerCase()})).indexOf(alg))throw new InvalidAlgorithmError(alg);return new Fingerprint({algorithm:alg,hash:hash,type:options.type||"key"})},Fingerprint.isFingerprint=function(obj,ver){return utils.isCompatible(obj,Fingerprint,ver)},Fingerprint.prototype._sshpkApiVersion=[1,1],Fingerprint._oldVersionDetect=function(obj){return assert.func(obj.toString),assert.func(obj.matches),[1,0]}}).call(this,require("buffer").Buffer)},{"./algs":586,"./certificate":587,"./errors":590,"./key":604,"./utils":608,"assert-plus":609,buffer:105,crypto:411}],592:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options){if("string"==typeof buf){if(buf.trim().match(/^[-]+[ ]*BEGIN/))return pem.read(buf,options);if(buf.match(/^\s*ssh-[a-z]/))return ssh.read(buf,options);if(buf.match(/^\s*ecdsa-/))return ssh.read(buf,options);buf=new Buffer(buf,"binary")}else{if(assert.buffer(buf),findPEMHeader(buf))return pem.read(buf,options);if(findSSHHeader(buf))return ssh.read(buf,options)}if(buf.readUInt32BE(0)<buf.length)return rfc4253.read(buf,options);throw new Error("Failed to auto-detect format of key")}function findSSHHeader(buf){for(var offset=0;offset<buf.length&&(32===buf[offset]||10===buf[offset]||9===buf[offset]);)++offset;return offset+4<=buf.length&&"ssh-"===buf.slice(offset,offset+4).toString("ascii")||offset+6<=buf.length&&"ecdsa-"===buf.slice(offset,offset+6).toString("ascii")}function findPEMHeader(buf){for(var offset=0;offset<buf.length&&(32===buf[offset]||10===buf[offset]);)++offset;if(45!==buf[offset])return!1;for(;offset<buf.length&&45===buf[offset];)++offset;for(;offset<buf.length&&32===buf[offset];)++offset;return!(offset+5>buf.length||"BEGIN"!==buf.slice(offset,offset+5).toString("ascii"))}function write(key,options){throw new Error('"auto" format cannot be used for writing')}module.exports={read:read,write:write};var assert=require("assert-plus"),pem=(require("../utils"),require("../key"),require("../private-key"),require("./pem")),ssh=require("./ssh"),rfc4253=require("./rfc4253")}).call(this,require("buffer").Buffer)},{"../key":604,"../private-key":605,"../utils":608,"./pem":594,"./rfc4253":597,"./ssh":599,"assert-plus":609,buffer:105}],593:[function(require,module,exports){(function(Buffer){"use strict";function verify(cert,key){return!1}function read(buf,options){Buffer.isBuffer(buf)&&(buf=buf.toString("ascii"));var parts=buf.trim().split(/[ \t\n]+/g);if(parts.length<2||parts.length>3)throw new Error("Not a valid SSH certificate line");var algo=parts[0],data=parts[1];return data=new Buffer(data,"base64"),fromBuffer(data,algo)}function fromBuffer(data,algo,partial){var sshbuf=new SSHBuffer({buffer:data}),innerAlgo=sshbuf.readString();if(algo!==undefined&&innerAlgo!==algo)throw new Error("SSH certificate algorithm mismatch");algo===undefined&&(algo=innerAlgo);var cert={};cert.signatures={},cert.signatures.openssh={},cert.signatures.openssh.nonce=sshbuf.readBuffer();var key={},parts=key.parts=[];key.type=getAlg(algo);for(var partCount=algs.info[key.type].parts.length;parts.length<partCount;)parts.push(sshbuf.readPart());assert.ok(parts.length>=1,"key must have at least one part");var algInfo=algs.info[key.type];if("ecdsa"===key.type){var res=ECDSA_ALGO.exec(algo);assert.ok(null!==res),assert.strictEqual(res[1],parts[0].data.toString())}for(var i=0;i<algInfo.parts.length;++i)if(parts[i].name=algInfo.parts[i],"curve"!==parts[i].name&&!1!==algInfo.normalize){var p=parts[i];p.data=utils.mpNormalize(p.data)}cert.subjectKey=new Key(key),cert.serial=sshbuf.readInt64();var type=TYPES[sshbuf.readInt()];assert.string(type,"valid cert type"),cert.signatures.openssh.keyId=sshbuf.readString();for(var principals=[],pbuf=sshbuf.readBuffer(),psshbuf=new SSHBuffer({buffer:pbuf});!psshbuf.atEnd();)principals.push(psshbuf.readString());0===principals.length&&(principals=["*"]),cert.subjects=principals.map(function(pr){if("user"===type)return Identity.forUser(pr);if("host"===type)return Identity.forHost(pr);throw new Error("Unknown identity type "+type)}),cert.validFrom=int64ToDate(sshbuf.readInt64()),cert.validUntil=int64ToDate(sshbuf.readInt64()),cert.signatures.openssh.critical=sshbuf.readBuffer(),cert.signatures.openssh.exts=sshbuf.readBuffer(),sshbuf.readBuffer();var signingKeyBuf=sshbuf.readBuffer();cert.issuerKey=rfc4253.read(signingKeyBuf),cert.issuer=Identity.forHost("**");var sigBuf=sshbuf.readBuffer();return cert.signatures.openssh.signature=Signature.parse(sigBuf,cert.issuerKey.type,"ssh"),partial!==undefined&&(partial.remainder=sshbuf.remainder(),partial.consumed=sshbuf._offset),new Certificate(cert)}function int64ToDate(buf){var i=4294967296*buf.readUInt32BE(0);i+=buf.readUInt32BE(4);var d=new Date;return d.setTime(1e3*i),d.sourceInt64=buf,d}function dateToInt64(date){if(date.sourceInt64!==undefined)return date.sourceInt64;var i=Math.round(date.getTime()/1e3),upper=Math.floor(i/4294967296),lower=Math.floor(i%4294967296),buf=new Buffer(8);return buf.writeUInt32BE(upper,0),buf.writeUInt32BE(lower,4),buf}function sign(cert,key){cert.signatures.openssh===undefined&&(cert.signatures.openssh={});try{var blob=toBuffer(cert,!0)}catch(e){return delete cert.signatures.openssh,!1}var sig=cert.signatures.openssh,hashAlgo=undefined;"rsa"!==key.type&&"dsa"!==key.type||(hashAlgo="sha1");var signer=key.createSign(hashAlgo);return signer.write(blob),sig.signature=signer.sign(),!0}function signAsync(cert,signer,done){cert.signatures.openssh===undefined&&(cert.signatures.openssh={});try{var blob=toBuffer(cert,!0)}catch(e){return delete cert.signatures.openssh,void done(e)}var sig=cert.signatures.openssh;signer(blob,function(err,signature){if(err)return void done(err);try{signature.toBuffer("ssh")}catch(e){return void done(e)}sig.signature=signature,done()})}function write(cert,options){options===undefined&&(options={});var blob=toBuffer(cert),out=getCertType(cert.subjectKey)+" "+blob.toString("base64");return options.comment&&(out=out+" "+options.comment),out}function toBuffer(cert,noSig){assert.object(cert.signatures.openssh,"signature for openssh format");var sig=cert.signatures.openssh;sig.nonce===undefined&&(sig.nonce=crypto.randomBytes(16));var buf=new SSHBuffer({});buf.writeString(getCertType(cert.subjectKey)),buf.writeBuffer(sig.nonce);var key=cert.subjectKey;algs.info[key.type].parts.forEach(function(part){buf.writePart(key.part[part])}),buf.writeInt64(cert.serial);var type=cert.subjects[0].type;assert.notStrictEqual(type,"unknown"),cert.subjects.forEach(function(id){assert.strictEqual(id.type,type)}),type=TYPES[type],buf.writeInt(type),sig.keyId===undefined&&(sig.keyId=cert.subjects[0].type+"_"+(cert.subjects[0].uid||cert.subjects[0].hostname)),buf.writeString(sig.keyId);var sub=new SSHBuffer({});return cert.subjects.forEach(function(id){type===TYPES.host?sub.writeString(id.hostname):type===TYPES.user&&sub.writeString(id.uid)}),buf.writeBuffer(sub.toBuffer()),buf.writeInt64(dateToInt64(cert.validFrom)),buf.writeInt64(dateToInt64(cert.validUntil)),sig.critical===undefined&&(sig.critical=new Buffer(0)),buf.writeBuffer(sig.critical),sig.exts===undefined&&(sig.exts=new Buffer(0)),buf.writeBuffer(sig.exts),buf.writeBuffer(new Buffer(0)),sub=rfc4253.write(cert.issuerKey),buf.writeBuffer(sub),noSig||buf.writeBuffer(sig.signature.toBuffer("ssh")),buf.toBuffer()}function getAlg(certType){if("ssh-rsa-cert-v01@openssh.com"===certType)return"rsa";if("ssh-dss-cert-v01@openssh.com"===certType)return"dsa";if(certType.match(ECDSA_ALGO))return"ecdsa";if("ssh-ed25519-cert-v01@openssh.com"===certType)return"ed25519";throw new Error("Unsupported cert type "+certType)}function getCertType(key){if("rsa"===key.type)return"ssh-rsa-cert-v01@openssh.com";if("dsa"===key.type)return"ssh-dss-cert-v01@openssh.com";if("ecdsa"===key.type)return"ecdsa-sha2-"+key.curve+"-cert-v01@openssh.com";if("ed25519"===key.type)return"ssh-ed25519-cert-v01@openssh.com";throw new Error("Unsupported key type "+key.type)}module.exports={read:read,verify:verify,sign:sign,signAsync:signAsync,write:write,fromBuffer:fromBuffer,toBuffer:toBuffer};var assert=require("assert-plus"),SSHBuffer=require("../ssh-buffer"),crypto=require("crypto"),algs=require("../algs"),Key=require("../key"),Identity=(require("../private-key"),require("../identity")),rfc4253=require("./rfc4253"),Signature=require("../signature"),utils=require("../utils"),Certificate=require("../certificate"),TYPES={user:1,host:2};Object.keys(TYPES).forEach(function(k){TYPES[TYPES[k]]=k});var ECDSA_ALGO=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/}).call(this,require("buffer").Buffer)},{"../algs":586,"../certificate":587,"../identity":602,"../key":604,"../private-key":605,"../signature":606,"../ssh-buffer":607,"../utils":608,"./rfc4253":597,"assert-plus":609,buffer:105,crypto:411}],594:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options,forceType){var input=buf;"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var lines=buf.trim().split("\n"),m=lines[0].match(/[-]+[ ]*BEGIN ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(m,"invalid PEM header");var m2=lines[lines.length-1].match(/[-]+[ ]*END ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(m2,"invalid PEM footer"),assert.equal(m[2],m2[2]);var alg,type=m[2].toLowerCase();m[1]&&(assert.equal(m[1],m2[1],"PEM header and footer mismatch"),alg=m[1].trim());for(var headers={};;){if(lines=lines.slice(1),!(m=lines[0].match(/^([A-Za-z0-9-]+): (.+)$/)))break;headers[m[1].toLowerCase()]=m[2]}var cipher,key,iv;if(headers["proc-type"]){var parts=headers["proc-type"].split(",");if("4"===parts[0]&&"ENCRYPTED"===parts[1]){if("string"==typeof options.passphrase&&(options.passphrase=new Buffer(options.passphrase,"utf-8")),!Buffer.isBuffer(options.passphrase))throw new errors.KeyEncryptedError(options.filename,"PEM");parts=headers["dek-info"].split(","),assert.ok(2===parts.length),cipher=parts[0].toLowerCase(),iv=new Buffer(parts[1],"hex"),key=utils.opensslKeyDeriv(cipher,iv,options.passphrase,1).key}}if(lines=lines.slice(0,-1).join(""),buf=new Buffer(lines,"base64"),cipher&&key&&iv){var chunk,cipherStream=crypto.createDecipheriv(cipher,key,iv),chunks=[];for(cipherStream.once("error",function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),cipherStream.write(buf),cipherStream.end();null!==(chunk=cipherStream.read());)chunks.push(chunk);buf=Buffer.concat(chunks)}if(alg&&"openssh"===alg.toLowerCase())return sshpriv.readSSHPrivate(type,buf,options);if(alg&&"ssh2"===alg.toLowerCase())return rfc4253.readType(type,buf,options);var der=new asn1.BerReader(buf);return der.originalInput=input,der.readSequence(),alg?(forceType&&assert.strictEqual(forceType,"pkcs1"),pkcs1.readPkcs1(alg,type,der)):(forceType&&assert.strictEqual(forceType,"pkcs8"),pkcs8.readPkcs8(alg,type,der))}function write(key,options,type){assert.object(key);var header,alg={ecdsa:"EC",rsa:"RSA",dsa:"DSA"}[key.type],der=new asn1.BerWriter;if(PrivateKey.isPrivateKey(key))type&&"pkcs8"===type?(header="PRIVATE KEY",pkcs8.writePkcs8(der,key)):(type&&assert.strictEqual(type,"pkcs1"),header=alg+" PRIVATE KEY",pkcs1.writePkcs1(der,key));else{if(!Key.isKey(key))throw new Error("key is not a Key or PrivateKey");type&&"pkcs1"===type?(header=alg+" PUBLIC KEY",pkcs1.writePkcs1(der,key)):(type&&assert.strictEqual(type,"pkcs8"),header="PUBLIC KEY",pkcs8.writePkcs8(der,key))}var tmp=der.buffer.toString("base64"),len=tmp.length+tmp.length/64+18+16+2*header.length+10,buf=new Buffer(len),o=0;o+=buf.write("-----BEGIN "+header+"-----\n",o);for(var i=0;i<tmp.length;){var limit=i+64;limit>tmp.length&&(limit=tmp.length),o+=buf.write(tmp.slice(i,limit),o),buf[o++]=10,i=limit}return o+=buf.write("-----END "+header+"-----\n",o),buf.slice(0,o)}module.exports={read:read,write:write};var assert=require("assert-plus"),asn1=require("asn1"),crypto=require("crypto"),utils=(require("../algs"),require("../utils")),Key=require("../key"),PrivateKey=require("../private-key"),pkcs1=require("./pkcs1"),pkcs8=require("./pkcs8"),sshpriv=require("./ssh-private"),rfc4253=require("./rfc4253"),errors=require("../errors")}).call(this,require("buffer").Buffer)},{"../algs":586,"../errors":590,"../key":604,"../private-key":605,"../utils":608,"./pkcs1":595,"./pkcs8":596,"./rfc4253":597,"./ssh-private":598,asn1:62,"assert-plus":609,buffer:105,crypto:411}],595:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options){return pem.read(buf,options,"pkcs1")}function write(key,options){return pem.write(key,options,"pkcs1")}function readMPInt(der,nm){return assert.strictEqual(der.peek(),asn1.Ber.Integer,nm+" is not an Integer"),utils.mpNormalize(der.readString(asn1.Ber.Integer,!0))}function readPkcs1(alg,type,der){switch(alg){case"RSA":if("public"===type)return readPkcs1RSAPublic(der);if("private"===type)return readPkcs1RSAPrivate(der);throw new Error("Unknown key type: "+type);case"DSA":if("public"===type)return readPkcs1DSAPublic(der);if("private"===type)return readPkcs1DSAPrivate(der);throw new Error("Unknown key type: "+type);case"EC":case"ECDSA":if("private"===type)return readPkcs1ECDSAPrivate(der);if("public"===type)return readPkcs1ECDSAPublic(der);throw new Error("Unknown key type: "+type);default:throw new Error("Unknown key algo: "+alg)}}function readPkcs1RSAPublic(der){var n=readMPInt(der,"modulus"),e=readMPInt(der,"exponent");return new Key({type:"rsa",parts:[{name:"e",data:e},{name:"n",data:n}]})}function readPkcs1RSAPrivate(der){var version=readMPInt(der,"version");assert.strictEqual(version[0],0);var n=readMPInt(der,"modulus"),e=readMPInt(der,"public exponent"),d=readMPInt(der,"private exponent"),p=readMPInt(der,"prime1"),q=readMPInt(der,"prime2"),dmodp=readMPInt(der,"exponent1"),dmodq=readMPInt(der,"exponent2"),iqmp=readMPInt(der,"iqmp");return new PrivateKey({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:e},{name:"d",data:d},{name:"iqmp",data:iqmp},{name:"p",data:p},{name:"q",data:q},{name:"dmodp",data:dmodp},{name:"dmodq",data:dmodq}]})}function readPkcs1DSAPrivate(der){var version=readMPInt(der,"version");assert.strictEqual(version.readUInt8(0),0);var p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g"),y=readMPInt(der,"y"),x=readMPInt(der,"x");return new PrivateKey({type:"dsa",parts:[{name:"p",data:p},{name:"q",data:q},{name:"g",data:g},{name:"y",data:y},{name:"x",data:x}]})}function readPkcs1DSAPublic(der){var y=readMPInt(der,"y"),p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g");return new Key({type:"dsa",parts:[{name:"y",data:y},{name:"p",data:p},{name:"q",data:q},{name:"g",data:g}]})}function readPkcs1ECDSAPublic(der){der.readSequence();var oid=der.readOID();assert.strictEqual(oid,"1.2.840.10045.2.1","must be ecPublicKey");for(var curve,curveOid=der.readOID(),curves=Object.keys(algs.curves),j=0;j<curves.length;++j){var c=curves[j];if(algs.curves[c].pkcs8oid===curveOid){curve=c;break}}assert.string(curve,"a known ECDSA named curve");var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:new Buffer(curve)},{name:"Q",data:Q}]};return new Key(key)}function readPkcs1ECDSAPrivate(der){var version=readMPInt(der,"version");assert.strictEqual(version.readUInt8(0),1);var d=der.readString(asn1.Ber.OctetString,!0);der.readSequence(160);var curve=readECDSACurve(der);assert.string(curve,"a known elliptic curve"),der.readSequence(161);var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:new Buffer(curve)},{name:"Q",data:Q},{name:"d",data:d}]};return new PrivateKey(key)}function writePkcs1(der,key){switch(der.startSequence(),key.type){case"rsa":PrivateKey.isPrivateKey(key)?writePkcs1RSAPrivate(der,key):writePkcs1RSAPublic(der,key);break;case"dsa":PrivateKey.isPrivateKey(key)?writePkcs1DSAPrivate(der,key):writePkcs1DSAPublic(der,key);break;case"ecdsa":PrivateKey.isPrivateKey(key)?writePkcs1ECDSAPrivate(der,key):writePkcs1ECDSAPublic(der,key);break;default:throw new Error("Unknown key algo: "+key.type)}der.endSequence()}function writePkcs1RSAPublic(der,key){der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer)}function writePkcs1RSAPrivate(der,key){var ver=new Buffer(1);ver[0]=0,der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),key.part.dmodp&&key.part.dmodq||utils.addRSAMissing(key),der.writeBuffer(key.part.dmodp.data,asn1.Ber.Integer),der.writeBuffer(key.part.dmodq.data,asn1.Ber.Integer),der.writeBuffer(key.part.iqmp.data,asn1.Ber.Integer)}function writePkcs1DSAPrivate(der,key){var ver=new Buffer(1);ver[0]=0,der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer),der.writeBuffer(key.part.y.data,asn1.Ber.Integer),der.writeBuffer(key.part.x.data,asn1.Ber.Integer)}function writePkcs1DSAPublic(der,key){der.writeBuffer(key.part.y.data,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer)}function writePkcs1ECDSAPublic(der,key){der.startSequence(),der.writeOID("1.2.840.10045.2.1");var curve=key.part.curve.data.toString(),curveOid=algs.curves[curve].pkcs8oid;assert.string(curveOid,"a known ECDSA named curve"),der.writeOID(curveOid),der.endSequence();var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString)}function writePkcs1ECDSAPrivate(der,key){var ver=new Buffer(1);ver[0]=1,der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.OctetString),der.startSequence(160);var curve=key.part.curve.data.toString(),curveOid=algs.curves[curve].pkcs8oid;assert.string(curveOid,"a known ECDSA named curve"),der.writeOID(curveOid),der.endSequence(),der.startSequence(161);var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString),der.endSequence()}module.exports={read:read,readPkcs1:readPkcs1,write:write,writePkcs1:writePkcs1};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),readECDSACurve=require("./pkcs8").readECDSACurve}).call(this,require("buffer").Buffer)},{"../algs":586,"../key":604,"../private-key":605,"../utils":608,"./pem":594,"./pkcs8":596,asn1:62,"assert-plus":609,buffer:105}],596:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options){return pem.read(buf,options,"pkcs8")}function write(key,options){return pem.write(key,options,"pkcs8")}function readMPInt(der,nm){return assert.strictEqual(der.peek(),asn1.Ber.Integer,nm+" is not an Integer"),utils.mpNormalize(der.readString(asn1.Ber.Integer,!0))}function readPkcs8(alg,type,der){der.peek()===asn1.Ber.Integer&&(assert.strictEqual(type,"private","unexpected Integer at start of public key"),der.readString(asn1.Ber.Integer,!0)),der.readSequence();var next=der.offset+der.length,oid=der.readOID();switch(oid){case"1.2.840.113549.1.1.1":return der._offset=next,"public"===type?readPkcs8RSAPublic(der):readPkcs8RSAPrivate(der);case"1.2.840.10040.4.1":return"public"===type?readPkcs8DSAPublic(der):readPkcs8DSAPrivate(der);case"1.2.840.10045.2.1":return"public"===type?readPkcs8ECDSAPublic(der):readPkcs8ECDSAPrivate(der);default:throw new Error("Unknown key type OID "+oid)}}function readPkcs8RSAPublic(der){der.readSequence(asn1.Ber.BitString),der.readByte(),der.readSequence();var n=readMPInt(der,"modulus"),e=readMPInt(der,"exponent"),key={type:"rsa",source:der.originalInput,parts:[{name:"e",data:e},{name:"n",data:n}]};return new Key(key)}function readPkcs8RSAPrivate(der){der.readSequence(asn1.Ber.OctetString),der.readSequence();var ver=readMPInt(der,"version");assert.equal(ver[0],0,"unknown RSA private key version");var n=readMPInt(der,"modulus"),e=readMPInt(der,"public exponent"),d=readMPInt(der,"private exponent"),p=readMPInt(der,"prime1"),q=readMPInt(der,"prime2"),dmodp=readMPInt(der,"exponent1"),dmodq=readMPInt(der,"exponent2"),iqmp=readMPInt(der,"iqmp");return new PrivateKey({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:e},{name:"d",data:d},{name:"iqmp",data:iqmp},{name:"p",data:p},{name:"q",data:q},{name:"dmodp",data:dmodp},{name:"dmodq",data:dmodq}]})}function readPkcs8DSAPublic(der){der.readSequence();var p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g");der.readSequence(asn1.Ber.BitString),der.readByte();var y=readMPInt(der,"y");return new Key({type:"dsa",parts:[{name:"p",data:p},{name:"q",data:q},{name:"g",data:g},{name:"y",data:y}]})}function readPkcs8DSAPrivate(der){der.readSequence();var p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g");der.readSequence(asn1.Ber.OctetString);var x=readMPInt(der,"x"),y=utils.calculateDSAPublic(g,p,x);return new PrivateKey({type:"dsa",parts:[{name:"p",data:p},{name:"q",data:q},{name:"g",data:g},{name:"y",data:y},{name:"x",data:x}]})}function readECDSACurve(der){var curveName,curveNames,j,c,cd;if(der.peek()===asn1.Ber.OID){var oid=der.readOID();for(curveNames=Object.keys(algs.curves),j=0;j<curveNames.length;++j)if(c=curveNames[j],(cd=algs.curves[c]).pkcs8oid===oid){curveName=c;break}}else{der.readSequence();var version=der.readString(asn1.Ber.Integer,!0);assert.strictEqual(version[0],1,"ECDSA key not version 1");var curve={};der.readSequence();var fieldTypeOid=der.readOID();assert.strictEqual(fieldTypeOid,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var p=curve.p=utils.mpNormalize(der.readString(asn1.Ber.Integer,!0));curve.size=8*p.length-utils.countZeros(p),der.readSequence(),curve.a=utils.mpNormalize(der.readString(asn1.Ber.OctetString,!0)),curve.b=utils.mpNormalize(der.readString(asn1.Ber.OctetString,!0)),der.peek()===asn1.Ber.BitString&&(curve.s=der.readString(asn1.Ber.BitString,!0)),curve.G=der.readString(asn1.Ber.OctetString,!0),assert.strictEqual(curve.G[0],4,"uncompressed G is required"),curve.n=utils.mpNormalize(der.readString(asn1.Ber.Integer,!0)),curve.h=utils.mpNormalize(der.readString(asn1.Ber.Integer,!0)),assert.strictEqual(curve.h[0],1,"a cofactor=1 curve is required"),curveNames=Object.keys(algs.curves);var ks=Object.keys(curve);for(j=0;j<curveNames.length;++j){c=curveNames[j],cd=algs.curves[c];for(var equal=!0,i=0;i<ks.length;++i){var k=ks[i];if(cd[k]!==undefined)if("object"===_typeof(cd[k])&&cd[k].equals!==undefined){if(!cd[k].equals(curve[k])){equal=!1;break}}else if(Buffer.isBuffer(cd[k])){if(cd[k].toString("binary")!==curve[k].toString("binary")){equal=!1;break}}else if(cd[k]!==curve[k]){equal=!1;break}}if(equal){curveName=c;break}}}return curveName}function readPkcs8ECDSAPrivate(der){var curveName=readECDSACurve(der);assert.string(curveName,"a known elliptic curve"),der.readSequence(asn1.Ber.OctetString),der.readSequence();var version=readMPInt(der,"version");assert.equal(version[0],1,"unknown version of ECDSA key");var d=der.readString(asn1.Ber.OctetString,!0);der.readSequence(161);var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:new Buffer(curveName)},{name:"Q",data:Q},{name:"d",data:d}]};return new PrivateKey(key)}function readPkcs8ECDSAPublic(der){var curveName=readECDSACurve(der);assert.string(curveName,"a known elliptic curve");var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:new Buffer(curveName)},{name:"Q",data:Q}]};return new Key(key)}function writePkcs8(der,key){if(der.startSequence(),PrivateKey.isPrivateKey(key)){var sillyInt=new Buffer(1);sillyInt[0]=0,der.writeBuffer(sillyInt,asn1.Ber.Integer)}switch(der.startSequence(),key.type){case"rsa":der.writeOID("1.2.840.113549.1.1.1"),PrivateKey.isPrivateKey(key)?writePkcs8RSAPrivate(key,der):writePkcs8RSAPublic(key,der);break;case"dsa":der.writeOID("1.2.840.10040.4.1"),PrivateKey.isPrivateKey(key)?writePkcs8DSAPrivate(key,der):writePkcs8DSAPublic(key,der);break;case"ecdsa":der.writeOID("1.2.840.10045.2.1"),PrivateKey.isPrivateKey(key)?writePkcs8ECDSAPrivate(key,der):writePkcs8ECDSAPublic(key,der);break;default:throw new Error("Unsupported key type: "+key.type)}der.endSequence()}function writePkcs8RSAPrivate(key,der){der.writeNull(),der.endSequence(),der.startSequence(asn1.Ber.OctetString),der.startSequence();var version=new Buffer(1);version[0]=0,der.writeBuffer(version,asn1.Ber.Integer),der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),key.part.dmodp&&key.part.dmodq||utils.addRSAMissing(key),der.writeBuffer(key.part.dmodp.data,asn1.Ber.Integer),der.writeBuffer(key.part.dmodq.data,asn1.Ber.Integer),der.writeBuffer(key.part.iqmp.data,asn1.Ber.Integer),der.endSequence(),der.endSequence()}function writePkcs8RSAPublic(key,der){der.writeNull(),der.endSequence(),der.startSequence(asn1.Ber.BitString),der.writeByte(0),der.startSequence(),der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer),der.endSequence(),der.endSequence()}function writePkcs8DSAPrivate(key,der){der.startSequence(),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer),der.endSequence(),der.endSequence(),der.startSequence(asn1.Ber.OctetString),der.writeBuffer(key.part.x.data,asn1.Ber.Integer),der.endSequence()}function writePkcs8DSAPublic(key,der){der.startSequence(),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer),der.endSequence(),der.endSequence(),der.startSequence(asn1.Ber.BitString),der.writeByte(0),der.writeBuffer(key.part.y.data,asn1.Ber.Integer),der.endSequence()}function writeECDSACurve(key,der){var curve=algs.curves[key.curve];if(curve.pkcs8oid)der.writeOID(curve.pkcs8oid);else{der.startSequence();var version=new Buffer(1);version.writeUInt8(1,0),der.writeBuffer(version,asn1.Ber.Integer),der.startSequence(),der.writeOID("1.2.840.10045.1.1"),der.writeBuffer(curve.p,asn1.Ber.Integer),der.endSequence(),der.startSequence();var a=curve.p;0===a[0]&&(a=a.slice(1)),der.writeBuffer(a,asn1.Ber.OctetString),der.writeBuffer(curve.b,asn1.Ber.OctetString),der.writeBuffer(curve.s,asn1.Ber.BitString),der.endSequence(),der.writeBuffer(curve.G,asn1.Ber.OctetString),der.writeBuffer(curve.n,asn1.Ber.Integer);var h=curve.h;h||((h=new Buffer(1))[0]=1),der.writeBuffer(h,asn1.Ber.Integer),der.endSequence()}}function writePkcs8ECDSAPublic(key,der){writeECDSACurve(key,der),der.endSequence();var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString)}function writePkcs8ECDSAPrivate(key,der){writeECDSACurve(key,der),der.endSequence(),der.startSequence(asn1.Ber.OctetString),der.startSequence();var version=new Buffer(1);version[0]=1,der.writeBuffer(version,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.OctetString),der.startSequence(161);var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString),der.endSequence(),der.endSequence(),der.endSequence()}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={read:read,readPkcs8:readPkcs8,write:write,writePkcs8:writePkcs8,readECDSACurve:readECDSACurve,writeECDSACurve:writeECDSACurve};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem")}).call(this,require("buffer").Buffer)},{"../algs":586,"../key":604,"../private-key":605,"../utils":608,"./pem":594,asn1:62,"assert-plus":609,buffer:105}],597:[function(require,module,exports){(function(Buffer){"use strict";function algToKeyType(alg){if(assert.string(alg),"ssh-dss"===alg)return"dsa";if("ssh-rsa"===alg)return"rsa";if("ssh-ed25519"===alg)return"ed25519";if("ssh-curve25519"===alg)return"curve25519";if(alg.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+alg)}function keyTypeToAlg(key){if(assert.object(key),"dsa"===key.type)return"ssh-dss";if("rsa"===key.type)return"ssh-rsa";if("ed25519"===key.type)return"ssh-ed25519";if("curve25519"===key.type)return"ssh-curve25519";if("ecdsa"===key.type)return"ecdsa-sha2-"+key.part.curve.data.toString();throw new Error("Unknown key type "+key.type)}function read(partial,type,buf,options){"string"==typeof buf&&(buf=new Buffer(buf)),assert.buffer(buf,"buf");var key={},parts=key.parts=[],sshbuf=new SSHBuffer({buffer:buf}),alg=sshbuf.readString();assert.ok(!sshbuf.atEnd(),"key must have at least one part"),key.type=algToKeyType(alg);var partCount=algs.info[key.type].parts.length;for(type&&"private"===type&&(partCount=algs.privInfo[key.type].parts.length);!sshbuf.atEnd()&&parts.length<partCount;)parts.push(sshbuf.readPart());for(;!partial&&!sshbuf.atEnd();)parts.push(sshbuf.readPart());assert.ok(parts.length>=1,"key must have at least one part"),assert.ok(partial||sshbuf.atEnd(),"leftover bytes at end of key");var Constructor=Key,algInfo=algs.info[key.type];if("private"!==type&&algInfo.parts.length===parts.length||(algInfo=algs.privInfo[key.type],Constructor=PrivateKey),assert.strictEqual(algInfo.parts.length,parts.length),"ecdsa"===key.type){var res=/^ecdsa-sha2-(.+)$/.exec(alg);assert.ok(null!==res),assert.strictEqual(res[1],parts[0].data.toString())}for(var normalized=!0,i=0;i<algInfo.parts.length;++i)if(parts[i].name=algInfo.parts[i],"curve"!==parts[i].name&&!1!==algInfo.normalize){var p=parts[i],nd=utils.mpNormalize(p.data);nd!==p.data&&(p.data=nd,normalized=!1)}return normalized&&(key._rfc4253Cache=sshbuf.toBuffer()),partial&&"object"===(void 0===partial?"undefined":_typeof(partial))&&(partial.remainder=sshbuf.remainder(),partial.consumed=sshbuf._offset),new Constructor(key)}function write(key,options){assert.object(key);var i,alg=keyTypeToAlg(key),algInfo=algs.info[key.type];PrivateKey.isPrivateKey(key)&&(algInfo=algs.privInfo[key.type]);var parts=algInfo.parts,buf=new SSHBuffer({});for(buf.writeString(alg),i=0;i<parts.length;++i){var data=key.part[parts[i]].data;!1!==algInfo.normalize&&(data=utils.mpNormalize(data)),buf.writeBuffer(data)}return buf.toBuffer()}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={read:read.bind(undefined,!1,undefined),readType:read.bind(undefined,!1),write:write,readPartial:read.bind(undefined,!0),readInternal:read,keyTypeToAlg:keyTypeToAlg,algToKeyType:algToKeyType};var assert=require("assert-plus"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),SSHBuffer=require("../ssh-buffer")}).call(this,require("buffer").Buffer)},{"../algs":586,"../key":604,"../private-key":605,"../ssh-buffer":607,"../utils":608,"assert-plus":609,buffer:105}],598:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options){return pem.read(buf,options)}function readSSHPrivate(type,buf,options){var magic=(buf=new SSHBuffer({buffer:buf})).readCString();assert.strictEqual(magic,MAGIC,"bad magic string");var cipher=buf.readString(),kdf=buf.readString(),kdfOpts=buf.readBuffer();if(1!==buf.readInt())throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var pubKey=buf.readBuffer();if("public"===type)return assert.ok(buf.atEnd(),"excess bytes left after key"),rfc4253.read(pubKey);var privKeyBlob=buf.readBuffer();assert.ok(buf.atEnd(),"excess bytes left after key");var kdfOptsBuf=new SSHBuffer({buffer:kdfOpts});switch(kdf){case"none":if("none"!==cipher)throw new Error('OpenSSH-format key uses KDF "none" but specifies a cipher other than "none"');break;case"bcrypt":var salt=kdfOptsBuf.readBuffer(),rounds=kdfOptsBuf.readInt(),cinf=utils.opensshCipherInfo(cipher);if(bcrypt===undefined&&(bcrypt=require("bcrypt-pbkdf")),"string"==typeof options.passphrase&&(options.passphrase=new Buffer(options.passphrase,"utf-8")),!Buffer.isBuffer(options.passphrase))throw new errors.KeyEncryptedError(options.filename,"OpenSSH");var pass=new Uint8Array(options.passphrase),salti=new Uint8Array(salt),out=new Uint8Array(cinf.keySize+cinf.blockSize);if(0!==bcrypt.pbkdf(pass,pass.length,salti,salti.length,out,out.length,rounds))throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var ckey=(out=new Buffer(out)).slice(0,cinf.keySize),iv=out.slice(cinf.keySize,cinf.keySize+cinf.blockSize),cipherStream=crypto.createDecipheriv(cinf.opensslName,ckey,iv);cipherStream.setAutoPadding(!1);var chunk,chunks=[];for(cipherStream.once("error",function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),cipherStream.write(privKeyBlob),cipherStream.end();null!==(chunk=cipherStream.read());)chunks.push(chunk);privKeyBlob=Buffer.concat(chunks);break;default:throw new Error('OpenSSH-format key uses unknown KDF "'+kdf+'"')}if((buf=new SSHBuffer({buffer:privKeyBlob})).readInt()!==buf.readInt())throw new Error("Incorrect passphrase supplied, could not decrypt key");var ret={},key=rfc4253.readInternal(ret,"private",buf.remainder());buf.skip(ret.consumed);var comment=buf.readString();return key.comment=comment,key}function write(key,options){var pubKey;pubKey=PrivateKey.isPrivateKey(key)?key.toPublic():key;var passphrase,cipher="none",kdf="none",kdfopts=new Buffer(0),cinf={blockSize:8};options!==undefined&&("string"==typeof(passphrase=options.passphrase)&&(passphrase=new Buffer(passphrase,"utf-8")),passphrase!==undefined&&(assert.buffer(passphrase,"options.passphrase"),assert.optionalString(options.cipher,"options.cipher"),(cipher=options.cipher)===undefined&&(cipher="aes128-ctr"),cinf=utils.opensshCipherInfo(cipher),kdf="bcrypt"));var privBuf;if(PrivateKey.isPrivateKey(key)){privBuf=new SSHBuffer({});var checkInt=crypto.randomBytes(4).readUInt32BE(0);privBuf.writeInt(checkInt),privBuf.writeInt(checkInt),privBuf.write(key.toBuffer("rfc4253")),privBuf.writeString(key.comment||"");for(var n=1;privBuf._offset%cinf.blockSize!=0;)privBuf.writeChar(n++);privBuf=privBuf.toBuffer()}switch(kdf){case"none":break;case"bcrypt":var salt=crypto.randomBytes(16),kdfssh=new SSHBuffer({});kdfssh.writeBuffer(salt),kdfssh.writeInt(16),kdfopts=kdfssh.toBuffer(),bcrypt===undefined&&(bcrypt=require("bcrypt-pbkdf"));var pass=new Uint8Array(passphrase),salti=new Uint8Array(salt),out=new Uint8Array(cinf.keySize+cinf.blockSize);if(0!==bcrypt.pbkdf(pass,pass.length,salti,salti.length,out,out.length,16))throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var ckey=(out=new Buffer(out)).slice(0,cinf.keySize),iv=out.slice(cinf.keySize,cinf.keySize+cinf.blockSize),cipherStream=crypto.createCipheriv(cinf.opensslName,ckey,iv);cipherStream.setAutoPadding(!1);var chunk,chunks=[];for(cipherStream.once("error",function(e){throw e}),cipherStream.write(privBuf),cipherStream.end();null!==(chunk=cipherStream.read());)chunks.push(chunk);privBuf=Buffer.concat(chunks);break;default:throw new Error("Unsupported kdf "+kdf)}var buf=new SSHBuffer({});buf.writeCString(MAGIC),buf.writeString(cipher),buf.writeString(kdf),buf.writeBuffer(kdfopts),buf.writeInt(1),buf.writeBuffer(pubKey.toBuffer("rfc4253")),privBuf&&buf.writeBuffer(privBuf),buf=buf.toBuffer();var header;header=PrivateKey.isPrivateKey(key)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var tmp=buf.toString("base64"),len=tmp.length+tmp.length/70+18+16+2*header.length+10,o=0;o+=(buf=new Buffer(len)).write("-----BEGIN "+header+"-----\n",o);for(var i=0;i<tmp.length;){var limit=i+70;limit>tmp.length&&(limit=tmp.length),o+=buf.write(tmp.slice(i,limit),o),buf[o++]=10,i=limit}return o+=buf.write("-----END "+header+"-----\n",o),buf.slice(0,o)}module.exports={read:read,readSSHPrivate:readSSHPrivate,write:write};var bcrypt,assert=require("assert-plus"),utils=(require("asn1"),require("../algs"),require("../utils")),crypto=require("crypto"),PrivateKey=(require("../key"),require("../private-key")),pem=require("./pem"),rfc4253=require("./rfc4253"),SSHBuffer=require("../ssh-buffer"),errors=require("../errors"),MAGIC="openssh-key-v1"}).call(this,require("buffer").Buffer)},{"../algs":586,"../errors":590,"../key":604,"../private-key":605,"../ssh-buffer":607,"../utils":608,"./pem":594,"./rfc4253":597,asn1:62,"assert-plus":609,"bcrypt-pbkdf":70,buffer:105,crypto:411}],599:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options){"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var trimmed=buf.trim().replace(/[\\\r]/g,""),m=trimmed.match(SSHKEY_RE);m||(m=trimmed.match(SSHKEY_RE2)),assert.ok(m,"key must match regex");var key,type=rfc4253.algToKeyType(m[1]),kbuf=new Buffer(m[2],"base64"),ret={};if(m[4])try{key=rfc4253.read(kbuf)}catch(e){m=trimmed.match(SSHKEY_RE2),assert.ok(m,"key must match regex"),kbuf=new Buffer(m[2],"base64"),key=rfc4253.readInternal(ret,"public",kbuf)}else key=rfc4253.readInternal(ret,"public",kbuf);if(assert.strictEqual(type,key.type),m[4]&&m[4].length>0)key.comment=m[4];else if(ret.consumed){var data=m[2]+m[3],realOffset=4*Math.ceil(ret.consumed/3);for(data=data.slice(0,realOffset-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+data.slice(realOffset-2),ret.consumed%3>0&&"="!==data.slice(realOffset-1,realOffset)&&realOffset--;"="===data.slice(realOffset,realOffset+1);)realOffset++;var trailer=data.slice(realOffset);(trailer=trailer.replace(/[\r\n]/g," ").replace(/^\s+/,"")).match(/^[a-zA-Z0-9]/)&&(key.comment=trailer)}return key}function write(key,options){if(assert.object(key),!Key.isKey(key))throw new Error("Must be a public key");var parts=[],alg=rfc4253.keyTypeToAlg(key);parts.push(alg);var buf=rfc4253.write(key);return parts.push(buf.toString("base64")),key.comment&&parts.push(key.comment),new Buffer(parts.join(" "))}module.exports={read:read,write:write};var assert=require("assert-plus"),rfc4253=require("./rfc4253"),Key=(require("../utils"),require("../key")),SSHKEY_RE=(require("../private-key"),require("./ssh-private"),/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([\n \t]+([^\n]+))?$/),SSHKEY_RE2=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/ \t\n]+[=]*)(.*)$/}).call(this,require("buffer").Buffer)},{"../key":604,"../private-key":605,"../utils":608,"./rfc4253":597,"./ssh-private":598,"assert-plus":609,buffer:105}],600:[function(require,module,exports){(function(Buffer){"use strict";function read(buf,options){"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var lines=buf.trim().split(/[\r\n]+/g),m=lines[0].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);assert.ok(m,"invalid PEM header");var m2=lines[lines.length-1].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);assert.ok(m2,"invalid PEM footer");for(var headers={};;){if(lines=lines.slice(1),!(m=lines[0].match(/^([A-Za-z0-9-]+): (.+)$/)))break;headers[m[1].toLowerCase()]=m[2]}return lines=lines.slice(0,-1).join(""),buf=new Buffer(lines,"base64"),x509.read(buf,options)}function write(cert,options){var tmp=x509.write(cert,options).toString("base64"),len=tmp.length+tmp.length/64+18+16+2*"CERTIFICATE".length+10,buf=new Buffer(len),o=0;o+=buf.write("-----BEGIN CERTIFICATE-----\n",o);for(var i=0;i<tmp.length;){var limit=i+64;limit>tmp.length&&(limit=tmp.length),o+=buf.write(tmp.slice(i,limit),o),buf[o++]=10,i=limit}return o+=buf.write("-----END CERTIFICATE-----\n",o),buf.slice(0,o)}var x509=require("./x509");module.exports={read:read,verify:x509.verify,sign:x509.sign,write:write};var assert=require("assert-plus");require("asn1"),require("../algs"),require("../utils"),require("../key"),require("../private-key"),require("./pem"),require("../identity"),require("../signature"),require("../certificate")}).call(this,require("buffer").Buffer)},{"../algs":586,"../certificate":587,"../identity":602,"../key":604,"../private-key":605,"../signature":606,"../utils":608,"./pem":594,"./x509":601,asn1:62,"assert-plus":609,buffer:105}],601:[function(require,module,exports){(function(Buffer){"use strict";function readMPInt(der,nm){return assert.strictEqual(der.peek(),asn1.Ber.Integer,nm+" is not an Integer"),utils.mpNormalize(der.readString(asn1.Ber.Integer,!0))}function verify(cert,key){var sig=cert.signatures.x509;assert.object(sig,"x509 signature");var algParts=sig.algo.split("-");if(algParts[0]!==key.type)return!1;var blob=sig.cache;if(blob===undefined){var der=new asn1.BerWriter;writeTBSCert(cert,der),blob=der.buffer}var verifier=key.createVerify(algParts[1]);return verifier.write(blob),verifier.verify(sig.signature)}function Local(i){return asn1.Ber.Context|asn1.Ber.Constructor|i}function Context(i){return asn1.Ber.Context|i}function read(buf,options){"string"==typeof buf&&(buf=new Buffer(buf,"binary")),assert.buffer(buf,"buf");var der=new asn1.BerReader(buf);if(der.readSequence(),Math.abs(der.length-der.remain)>1)throw new Error("DER sequence does not contain whole byte stream");var tbsStart=der.offset;der.readSequence();var sigOffset=der.offset+der.length,tbsEnd=sigOffset;if(der.peek()===Local(0)){der.readSequence(Local(0));var version=der.readInt();assert.ok(version<=3,"only x.509 versions up to v3 supported")}var cert={};cert.signatures={};var sig=cert.signatures.x509={};sig.extras={},cert.serial=readMPInt(der,"serial"),der.readSequence();var after=der.offset+der.length,certAlgOid=der.readOID();if(SIGN_ALGS[certAlgOid]===undefined)throw new Error("unknown signature algorithm "+certAlgOid);if(der._offset=after,cert.issuer=Identity.parseAsn1(der),der.readSequence(),cert.validFrom=readDate(der),cert.validUntil=readDate(der),cert.subjects=[Identity.parseAsn1(der)],der.readSequence(),after=der.offset+der.length,cert.subjectKey=pkcs8.readPkcs8(undefined,"public",der),der._offset=after,der.peek()===Local(1)&&(der.readSequence(Local(1)),sig.extras.issuerUniqueID=buf.slice(der.offset,der.offset+der.length),der._offset+=der.length),der.peek()===Local(2)&&(der.readSequence(Local(2)),sig.extras.subjectUniqueID=buf.slice(der.offset,der.offset+der.length),der._offset+=der.length),der.peek()===Local(3)){der.readSequence(Local(3));var extEnd=der.offset+der.length;for(der.readSequence();der.offset<extEnd;)readExtension(cert,buf,der);assert.strictEqual(der.offset,extEnd)}assert.strictEqual(der.offset,sigOffset),der.readSequence(),after=der.offset+der.length;var sigAlgOid=der.readOID(),sigAlg=SIGN_ALGS[sigAlgOid];if(sigAlg===undefined)throw new Error("unknown signature algorithm "+sigAlgOid);der._offset=after;var sigData=der.readString(asn1.Ber.BitString,!0);0===sigData[0]&&(sigData=sigData.slice(1));var algParts=sigAlg.split("-");return sig.signature=Signature.parse(sigData,algParts[0],"asn1"),sig.signature.hashAlgorithm=algParts[1],sig.algo=sigAlg,sig.cache=buf.slice(tbsStart,tbsEnd),new Certificate(cert)}function readDate(der){if(der.peek()===asn1.Ber.UTCTime)return utcTimeToDate(der.readString(asn1.Ber.UTCTime));if(der.peek()===asn1.Ber.GeneralizedTime)return gTimeToDate(der.readString(asn1.Ber.GeneralizedTime));throw new Error("Unsupported date format")}function readExtension(cert,buf,der){der.readSequence();var id,after=der.offset+der.length,extId=der.readOID(),sig=cert.signatures.x509;sig.extras.exts=[];var critical;switch(der.peek()===asn1.Ber.Boolean&&(critical=der.readBoolean()),extId){case EXTS.basicConstraints:der.readSequence(asn1.Ber.OctetString),der.readSequence();var bcEnd=der.offset+der.length,ca=!1;der.peek()===asn1.Ber.Boolean&&(ca=der.readBoolean()),cert.purposes===undefined&&(cert.purposes=[]),!0===ca&&cert.purposes.push("ca");var bc={oid:extId,critical:critical};der.offset<bcEnd&&der.peek()===asn1.Ber.Integer&&(bc.pathLen=der.readInt()),sig.extras.exts.push(bc);break;case EXTS.extKeyUsage:der.readSequence(asn1.Ber.OctetString),der.readSequence(),cert.purposes===undefined&&(cert.purposes=[]);for(var ekEnd=der.offset+der.length;der.offset<ekEnd;){var oid=der.readOID();cert.purposes.push(EXTPURPOSE_REV[oid]||oid)}-1!==cert.purposes.indexOf("serverAuth")&&-1===cert.purposes.indexOf("clientAuth")?cert.subjects.forEach(function(ide){"host"!==ide.type&&(ide.type="host",ide.hostname=ide.uid||ide.email||ide.components[0].value)}):-1!==cert.purposes.indexOf("clientAuth")&&-1===cert.purposes.indexOf("serverAuth")&&cert.subjects.forEach(function(ide){"user"!==ide.type&&(ide.type="user",ide.uid=ide.hostname||ide.email||ide.components[0].value)}),sig.extras.exts.push({oid:extId,critical:critical});break;case EXTS.keyUsage:der.readSequence(asn1.Ber.OctetString);var bits=der.readString(asn1.Ber.BitString,!0);readBitField(bits,KEYUSEBITS).forEach(function(bit){cert.purposes===undefined&&(cert.purposes=[]),-1===cert.purposes.indexOf(bit)&&cert.purposes.push(bit)}),sig.extras.exts.push({oid:extId,critical:critical,bits:bits});break;case EXTS.altName:der.readSequence(asn1.Ber.OctetString),der.readSequence();for(var aeEnd=der.offset+der.length;der.offset<aeEnd;)switch(der.peek()){case ALTNAME.OtherName:case ALTNAME.EDIPartyName:der.readSequence(),der._offset+=der.length;break;case ALTNAME.OID:der.readOID(ALTNAME.OID);break;case ALTNAME.RFC822Name:var email=der.readString(ALTNAME.RFC822Name);id=Identity.forEmail(email),cert.subjects[0].equals(id)||cert.subjects.push(id);break;case ALTNAME.DirectoryName:der.readSequence(ALTNAME.DirectoryName),id=Identity.parseAsn1(der),cert.subjects[0].equals(id)||cert.subjects.push(id);break;case ALTNAME.DNSName:var host=der.readString(ALTNAME.DNSName);id=Identity.forHost(host),cert.subjects[0].equals(id)||cert.subjects.push(id);break;default:der.readString(der.peek())}sig.extras.exts.push({oid:extId,critical:critical});break;default:sig.extras.exts.push({oid:extId,critical:critical,data:der.readString(asn1.Ber.OctetString,!0)})}der._offset=after}function utcTimeToDate(t){var m=t.match(UTCTIME_RE);assert.ok(m,"timestamps must be in UTC");var d=new Date,thisYear=d.getUTCFullYear(),century=100*Math.floor(thisYear/100),year=parseInt(m[1],10);return year+=thisYear%100<50&&year>=60?century-1:century,d.setUTCFullYear(year,parseInt(m[2],10)-1,parseInt(m[3],10)),d.setUTCHours(parseInt(m[4],10),parseInt(m[5],10)),m[6]&&m[6].length>0&&d.setUTCSeconds(parseInt(m[6],10)),d}function gTimeToDate(t){var m=t.match(GTIME_RE);assert.ok(m);var d=new Date;return d.setUTCFullYear(parseInt(m[1],10),parseInt(m[2],10)-1,parseInt(m[3],10)),d.setUTCHours(parseInt(m[4],10),parseInt(m[5],10)),m[6]&&m[6].length>0&&d.setUTCSeconds(parseInt(m[6],10)),d}function zeroPad(n){for(var s=""+n;s.length<2;)s="0"+s;return s}function dateToUTCTime(d){var s="";return s+=zeroPad(d.getUTCFullYear()%100),s+=zeroPad(d.getUTCMonth()+1),s+=zeroPad(d.getUTCDate()),s+=zeroPad(d.getUTCHours()),s+=zeroPad(d.getUTCMinutes()),s+=zeroPad(d.getUTCSeconds()),s+="Z"}function sign(cert,key){cert.signatures.x509===undefined&&(cert.signatures.x509={});var sig=cert.signatures.x509;if(sig.algo=key.type+"-"+key.defaultHashAlgorithm(),SIGN_ALGS[sig.algo]===undefined)return!1;var der=new asn1.BerWriter;writeTBSCert(cert,der);var blob=der.buffer;sig.cache=blob;var signer=key.createSign();return signer.write(blob),cert.signatures.x509.signature=signer.sign(),!0}function signAsync(cert,signer,done){cert.signatures.x509===undefined&&(cert.signatures.x509={});var sig=cert.signatures.x509,der=new asn1.BerWriter;writeTBSCert(cert,der);var blob=der.buffer;sig.cache=blob,signer(blob,function(err,signature){return err?void done(err):(sig.algo=signature.type+"-"+signature.hashAlgorithm,SIGN_ALGS[sig.algo]===undefined?void done(new Error('Invalid signing algorithm "'+sig.algo+'"')):(sig.signature=signature,void done()))})}function write(cert,options){var sig=cert.signatures.x509;assert.object(sig,"x509 signature");var der=new asn1.BerWriter;der.startSequence(),sig.cache?(der._ensure(sig.cache.length),sig.cache.copy(der._buf,der._offset),der._offset+=sig.cache.length):writeTBSCert(cert,der),der.startSequence(),der.writeOID(SIGN_ALGS[sig.algo]),sig.algo.match(/^rsa-/)&&der.writeNull(),der.endSequence();var sigData=sig.signature.toBuffer("asn1"),data=new Buffer(sigData.length+1);return data[0]=0,sigData.copy(data,1),der.writeBuffer(data,asn1.Ber.BitString),der.endSequence(),der.buffer}function writeTBSCert(cert,der){var sig=cert.signatures.x509;assert.object(sig,"x509 signature"),der.startSequence(),der.startSequence(Local(0)),der.writeInt(2),der.endSequence(),der.writeBuffer(utils.mpNormalize(cert.serial),asn1.Ber.Integer),der.startSequence(),der.writeOID(SIGN_ALGS[sig.algo]),der.endSequence(),cert.issuer.toAsn1(der),der.startSequence(),der.writeString(dateToUTCTime(cert.validFrom),asn1.Ber.UTCTime),der.writeString(dateToUTCTime(cert.validUntil),asn1.Ber.UTCTime),der.endSequence();var subject=cert.subjects[0],altNames=cert.subjects.slice(1);if(subject.toAsn1(der),pkcs8.writePkcs8(der,cert.subjectKey),sig.extras&&sig.extras.issuerUniqueID&&der.writeBuffer(sig.extras.issuerUniqueID,Local(1)),sig.extras&&sig.extras.subjectUniqueID&&der.writeBuffer(sig.extras.subjectUniqueID,Local(2)),altNames.length>0||"host"===subject.type||cert.purposes!==undefined&&cert.purposes.length>0||sig.extras&&sig.extras.exts){der.startSequence(Local(3)),der.startSequence();var exts=[];cert.purposes!==undefined&&cert.purposes.length>0&&(exts.push({oid:EXTS.basicConstraints,critical:!0}),exts.push({oid:EXTS.keyUsage,critical:!0}),exts.push({oid:EXTS.extKeyUsage,critical:!0})),exts.push({oid:EXTS.altName}),sig.extras&&sig.extras.exts&&(exts=sig.extras.exts);for(var i=0;i<exts.length;++i){if(der.startSequence(),der.writeOID(exts[i].oid),exts[i].critical!==undefined&&der.writeBoolean(exts[i].critical),exts[i].oid===EXTS.altName){der.startSequence(asn1.Ber.OctetString),der.startSequence(),"host"===subject.type&&der.writeString(subject.hostname,Context(2));for(var j=0;j<altNames.length;++j)"host"===altNames[j].type?der.writeString(altNames[j].hostname,ALTNAME.DNSName):"email"===altNames[j].type?der.writeString(altNames[j].email,ALTNAME.RFC822Name):(der.startSequence(ALTNAME.DirectoryName),altNames[j].toAsn1(der),der.endSequence());der.endSequence(),der.endSequence()}else if(exts[i].oid===EXTS.basicConstraints){der.startSequence(asn1.Ber.OctetString),der.startSequence();var ca=-1!==cert.purposes.indexOf("ca"),pathLen=exts[i].pathLen;der.writeBoolean(ca),pathLen!==undefined&&der.writeInt(pathLen),der.endSequence(),der.endSequence()}else if(exts[i].oid===EXTS.extKeyUsage)der.startSequence(asn1.Ber.OctetString),der.startSequence(),cert.purposes.forEach(function(purpose){if("ca"!==purpose&&-1===KEYUSEBITS.indexOf(purpose)){var oid=purpose;EXTPURPOSE[purpose]!==undefined&&(oid=EXTPURPOSE[purpose]),der.writeOID(oid)}}),der.endSequence(),der.endSequence();else if(exts[i].oid===EXTS.keyUsage){if(der.startSequence(asn1.Ber.OctetString),exts[i].bits!==undefined)der.writeBuffer(exts[i].bits,asn1.Ber.BitString);else{var bits=writeBitField(cert.purposes,KEYUSEBITS);der.writeBuffer(bits,asn1.Ber.BitString)}der.endSequence()}else der.writeBuffer(exts[i].data,asn1.Ber.OctetString);der.endSequence()}der.endSequence(),der.endSequence()}der.endSequence()}function readBitField(bits,bitIndex){for(var bitLen=8*(bits.length-1)-bits[0],setBits={},i=0;i<bitLen;++i){var mask=1<<7-i%8,bitVal=0!=(bits[1+Math.floor(i/8)]&mask),name=bitIndex[i];bitVal&&"string"==typeof name&&(setBits[name]=!0)}return Object.keys(setBits)}function writeBitField(setBits,bitIndex){var bitLen=bitIndex.length,blen=Math.ceil(bitLen/8),unused=8*blen-bitLen,bits=new Buffer(1+blen);bits.fill(0),bits[0]=unused;for(var i=0;i<bitLen;++i){var byteN=1+Math.floor(i/8),mask=1<<7-i%8,name=bitIndex[i];name!==undefined&&(-1!==setBits.indexOf(name)&&(bits[byteN]|=mask))}return bits}module.exports={read:read,verify:verify,sign:sign,signAsync:signAsync,write:write};var assert=require("assert-plus"),asn1=require("asn1"),utils=(require("../algs"),require("../utils")),Identity=(require("../key"),require("../private-key"),require("./pem"),require("../identity")),Signature=require("../signature"),Certificate=require("../certificate"),pkcs8=require("./pkcs8"),SIGN_ALGS={"rsa-md5":"1.2.840.113549.1.1.4","rsa-sha1":"1.2.840.113549.1.1.5","rsa-sha256":"1.2.840.113549.1.1.11","rsa-sha384":"1.2.840.113549.1.1.12","rsa-sha512":"1.2.840.113549.1.1.13","dsa-sha1":"1.2.840.10040.4.3","dsa-sha256":"2.16.840.1.101.3.4.3.2","ecdsa-sha1":"1.2.840.10045.4.1","ecdsa-sha256":"1.2.840.10045.4.3.2","ecdsa-sha384":"1.2.840.10045.4.3.3","ecdsa-sha512":"1.2.840.10045.4.3.4"};Object.keys(SIGN_ALGS).forEach(function(k){SIGN_ALGS[SIGN_ALGS[k]]=k}),SIGN_ALGS["1.3.14.3.2.3"]="rsa-md5",SIGN_ALGS["1.3.14.3.2.29"]="rsa-sha1";var EXTS={issuerKeyId:"2.5.29.35",altName:"2.5.29.17",basicConstraints:"2.5.29.19",keyUsage:"2.5.29.15",extKeyUsage:"2.5.29.37"},ALTNAME={OtherName:Local(0),RFC822Name:Context(1),DNSName:Context(2),X400Address:Local(3),DirectoryName:Local(4),EDIPartyName:Local(5),URI:Context(6),IPAddress:Context(7),OID:Context(8)},EXTPURPOSE={serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",joyentDocker:"1.3.6.1.4.1.38678.1.4.1",joyentCmon:"1.3.6.1.4.1.38678.1.4.2"},EXTPURPOSE_REV={};Object.keys(EXTPURPOSE).forEach(function(k){EXTPURPOSE_REV[EXTPURPOSE[k]]=k});var KEYUSEBITS=["signature","identity","keyEncryption","encryption","keyAgreement","ca","crl"],UTCTIME_RE=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/,GTIME_RE=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/}).call(this,require("buffer").Buffer)},{"../algs":586,"../certificate":587,"../identity":602,"../key":604,"../private-key":605,"../signature":606,"../utils":608,"./pem":594,"./pkcs8":596,asn1:62,"assert-plus":609,buffer:105}],602:[function(require,module,exports){(function(Buffer){"use strict";function Identity(opts){var self=this;if(assert.object(opts,"options"),assert.arrayOfObject(opts.components,"options.components"),this.components=opts.components,this.componentLookup={},this.components.forEach(function(c){c.name&&!c.oid&&(c.oid=oids[c.name]),c.oid&&!c.name&&(c.name=unoids[c.oid]),self.componentLookup[c.name]===undefined&&(self.componentLookup[c.name]=[]),self.componentLookup[c.name].push(c)}),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),assert.optionalString(opts.type,"options.type"),opts.type===undefined)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type="host",this.hostname=this.componentLookup.dc.map(function(c){return c.value}).join(".")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type="email",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type="user",this.uid=this.componentLookup.cn[0].value):this.type="unknown";else if(this.type=opts.type,"host"===this.type)this.hostname=opts.hostname;else if("user"===this.type)this.uid=opts.uid;else{if("email"!==this.type)throw new Error("Unknown type "+this.type);this.email=opts.email}}function globMatch(a,b){if("**"===a||"**"===b)return!0;var aParts=a.split("."),bParts=b.split(".");if(aParts.length!==bParts.length)return!1;for(var i=0;i<aParts.length;++i)if("*"!==aParts[i]&&"*"!==bParts[i]&&aParts[i]!==bParts[i])return!1;return!0}module.exports=Identity;var assert=require("assert-plus"),utils=(require("./algs"),require("crypto"),require("./fingerprint"),require("./signature"),require("./errors"),require("util"),require("./utils")),asn1=require("asn1"),DNS_NAME_RE=/^([*]|[a-z0-9][a-z0-9\-]{0,62})(?:\.([*]|[a-z0-9][a-z0-9\-]{0,62}))*$/i,oids={};oids.cn="2.5.4.3",oids.o="2.5.4.10",oids.ou="2.5.4.11",oids.l="2.5.4.7",oids.s="2.5.4.8",oids.c="2.5.4.6",oids.sn="2.5.4.4",oids.dc="0.9.2342.19200300.100.1.25",oids.uid="0.9.2342.19200300.100.1.1",oids.mail="0.9.2342.19200300.100.1.3";var unoids={};Object.keys(oids).forEach(function(k){unoids[oids[k]]=k}),Identity.prototype.toString=function(){return this.components.map(function(c){return c.name.toUpperCase()+"="+c.value}).join(", ")};Identity.prototype.toAsn1=function(der,tag){der.startSequence(tag),this.components.forEach(function(c){if(der.startSequence(asn1.Ber.Constructor|asn1.Ber.Set),der.startSequence(),der.writeOID(c.oid),c.value.match(/[^\x00-\x7f]/)){var v=new Buffer(c.value,"utf8");der.writeBuffer(v,asn1.Ber.Utf8String)}else c.value.match(/[^a-zA-Z0-9 '(),+.\/:=?-]/)?der.writeString(c.value,asn1.Ber.IA5String):der.writeString(c.value,asn1.Ber.PrintableString);der.endSequence(),der.endSequence()}),der.endSequence()},Identity.prototype.equals=function(other){if(!Identity.isIdentity(other,[1,0]))return!1;if(other.components.length!==this.components.length)return!1;for(var i=0;i<this.components.length;++i){if(this.components[i].oid!==other.components[i].oid)return!1;if(!globMatch(this.components[i].value,other.components[i].value))return!1}return!0},Identity.forHost=function(hostname){return assert.string(hostname,"hostname"),new Identity({type:"host",hostname:hostname,components:[{name:"cn",value:hostname}]})},Identity.forUser=function(uid){return assert.string(uid,"uid"),new Identity({type:"user",uid:uid,components:[{name:"uid",value:uid}]})},Identity.forEmail=function(email){return assert.string(email,"email"),new Identity({type:"email",email:email,components:[{name:"mail",value:email}]})},Identity.parseDN=function(dn){return assert.string(dn,"dn"),new Identity({components:dn.split(",").map(function(c){var eqPos=(c=c.trim()).indexOf("=");return{name:c.slice(0,eqPos).toLowerCase(),value:c.slice(eqPos+1)}})})},Identity.parseAsn1=function(der,top){var components=[];der.readSequence(top);for(var end=der.offset+der.length;der.offset<end;){der.readSequence(asn1.Ber.Constructor|asn1.Ber.Set);var after=der.offset+der.length;der.readSequence();var value,oid=der.readOID(),type=der.peek();switch(type){case asn1.Ber.PrintableString:case asn1.Ber.IA5String:case asn1.Ber.OctetString:case asn1.Ber.T61String:value=der.readString(type);break;case asn1.Ber.Utf8String:value=(value=der.readString(type,!0)).toString("utf8");break;case asn1.Ber.CharacterString:case asn1.Ber.BMPString:value=(value=der.readString(type,!0)).toString("utf16le");break;default:throw new Error("Unknown asn1 type "+type)}components.push({oid:oid,value:value}),der._offset=after}return der._offset=end,new Identity({components:components})},Identity.isIdentity=function(obj,ver){return utils.isCompatible(obj,Identity,ver)},Identity.prototype._sshpkApiVersion=[1,0],Identity._oldVersionDetect=function(obj){return[1,0]}}).call(this,require("buffer").Buffer)},{"./algs":586,"./errors":590,"./fingerprint":591,"./signature":606,"./utils":608,asn1:62,"assert-plus":609,buffer:105,crypto:411,util:635}],603:[function(require,module,exports){"use strict";var Key=require("./key"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),PrivateKey=require("./private-key"),Certificate=require("./certificate"),Identity=require("./identity"),errs=require("./errors");module.exports={Key:Key,parseKey:Key.parse,Fingerprint:Fingerprint,parseFingerprint:Fingerprint.parse,Signature:Signature,parseSignature:Signature.parse,PrivateKey:PrivateKey,parsePrivateKey:PrivateKey.parse,generatePrivateKey:PrivateKey.generate,Certificate:Certificate,parseCertificate:Certificate.parse,createSelfSignedCertificate:Certificate.createSelfSigned,createCertificate:Certificate.create,Identity:Identity,identityFromDN:Identity.parseDN,identityForHost:Identity.forHost,identityForUser:Identity.forUser,identityForEmail:Identity.forEmail,FingerprintFormatError:errs.FingerprintFormatError,InvalidAlgorithmError:errs.InvalidAlgorithmError,KeyParseError:errs.KeyParseError,SignatureParseError:errs.SignatureParseError,KeyEncryptedError:errs.KeyEncryptedError,CertificateParseError:errs.CertificateParseError}},{"./certificate":587,"./errors":590,"./fingerprint":591,"./identity":602,"./key":604,"./private-key":605,"./signature":606}],604:[function(require,module,exports){(function(Buffer){"use strict";function Key(opts){assert.object(opts,"options"),assert.arrayOfObject(opts.parts,"options.parts"),assert.string(opts.type,"options.type"),assert.optionalString(opts.comment,"options.comment");var algInfo=algs.info[opts.type];if("object"!==(void 0===algInfo?"undefined":_typeof(algInfo)))throw new InvalidAlgorithmError(opts.type);for(var partLookup={},i=0;i<opts.parts.length;++i){var part=opts.parts[i];partLookup[part.name]=part}this.type=opts.type,this.parts=opts.parts,this.part=partLookup,this.comment=undefined,this.source=opts.source,this._rfc4253Cache=opts._rfc4253Cache,this._hashCache={};var sz;if(this.curve=undefined,"ecdsa"===this.type){var curve=this.part.curve.data.toString();this.curve=curve,sz=algs.curves[curve].size}else if("ed25519"===this.type)sz=256,this.curve="curve25519";else{var szPart=this.part[algInfo.sizePart];sz=8*(sz=szPart.data.length)-utils.countZeros(szPart.data)}this.size=sz}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=Key;var edCompat,assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),DiffieHellman=require("./dhe").DiffieHellman,errs=require("./errors"),utils=require("./utils"),PrivateKey=require("./private-key");try{edCompat=require("./ed-compat")}catch(e){}var InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require("./formats/auto"),formats.pem=require("./formats/pem"),formats.pkcs1=require("./formats/pkcs1"),formats.pkcs8=require("./formats/pkcs8"),formats.rfc4253=require("./formats/rfc4253"),formats.ssh=require("./formats/ssh"),formats["ssh-private"]=require("./formats/ssh-private"),formats.openssh=formats["ssh-private"],Key.formats=formats,Key.prototype.toBuffer=function(format,options){return format===undefined&&(format="ssh"),assert.string(format,"format"),assert.object(formats[format],"formats[format]"),assert.optionalObject(options,"options"),"rfc4253"===format?(this._rfc4253Cache===undefined&&(this._rfc4253Cache=formats.rfc4253.write(this)),this._rfc4253Cache):formats[format].write(this,options)},Key.prototype.toString=function(format,options){return this.toBuffer(format,options).toString()},Key.prototype.hash=function(algo){if(assert.string(algo,"algorithm"),algo=algo.toLowerCase(),algs.hashAlgs[algo]===undefined)throw new InvalidAlgorithmError(algo);if(this._hashCache[algo])return this._hashCache[algo];var hash=crypto.createHash(algo).update(this.toBuffer("rfc4253")).digest();return this._hashCache[algo]=hash,hash},Key.prototype.fingerprint=function(algo){algo===undefined&&(algo="sha256"),assert.string(algo,"algorithm");var opts={type:"key",hash:this.hash(algo),algorithm:algo};return new Fingerprint(opts)},Key.prototype.defaultHashAlgorithm=function(){var hashAlgo="sha1";return"rsa"===this.type&&(hashAlgo="sha256"),"dsa"===this.type&&this.size>1024&&(hashAlgo="sha256"),"ed25519"===this.type&&(hashAlgo="sha512"),"ecdsa"===this.type&&(hashAlgo=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),hashAlgo},Key.prototype.createVerify=function(hashAlgo){if(hashAlgo===undefined&&(hashAlgo=this.defaultHashAlgorithm()),assert.string(hashAlgo,"hash algorithm"),"ed25519"===this.type&&edCompat!==undefined)return new edCompat.Verifier(this,hashAlgo);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var v,nm,err;try{nm=hashAlgo.toUpperCase(),v=crypto.createVerify(nm)}catch(e){err=e}(v===undefined||err instanceof Error&&err.message.match(/Unknown message digest/))&&(nm="RSA-",nm+=hashAlgo.toUpperCase(),v=crypto.createVerify(nm)),assert.ok(v,"failed to create verifier");var oldVerify=v.verify.bind(v),key=this.toBuffer("pkcs8"),curve=this.curve,self=this;return v.verify=function(signature,fmt){if(Signature.isSignature(signature,[2,0]))return signature.type===self.type&&((!signature.hashAlgorithm||signature.hashAlgorithm===hashAlgo)&&((!signature.curve||"ecdsa"!==self.type||signature.curve===curve)&&oldVerify(key,signature.toBuffer("asn1"))));if("string"==typeof signature||Buffer.isBuffer(signature))return oldVerify(key,signature,fmt);throw Signature.isSignature(signature,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},v},Key.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new DiffieHellman(this)},Key.prototype.createDH=Key.prototype.createDiffieHellman,Key.parse=function(data,format,options){"string"!=typeof data&&assert.buffer(data,"data"),format===undefined&&(format="auto"),assert.string(format,"format"),"string"==typeof options&&(options={filename:options}),assert.optionalObject(options,"options"),options===undefined&&(options={}),assert.optionalString(options.filename,"options.filename"),options.filename===undefined&&(options.filename="(unnamed)"),assert.object(formats[format],"formats[format]");try{var k=formats[format].read(data,options);return k instanceof PrivateKey&&(k=k.toPublic()),k.comment||(k.comment=options.filename),k}catch(e){if("KeyEncryptedError"===e.name)throw e;throw new KeyParseError(options.filename,format,e)}},Key.isKey=function(obj,ver){return utils.isCompatible(obj,Key,ver)},Key.prototype._sshpkApiVersion=[1,5],Key._oldVersionDetect=function(obj){return assert.func(obj.toBuffer),assert.func(obj.fingerprint),obj.createDH?[1,4]:obj.defaultHashAlgorithm?[1,3]:obj.formats.auto?[1,2]:obj.formats.pkcs1?[1,1]:[1,0]}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":488,"./algs":586,"./dhe":588,"./ed-compat":589,"./errors":590,"./fingerprint":591,"./formats/auto":592,"./formats/pem":594,"./formats/pkcs1":595,"./formats/pkcs8":596,"./formats/rfc4253":597,"./formats/ssh":599,"./formats/ssh-private":598,"./private-key":605,"./signature":606,"./utils":608,"assert-plus":609,crypto:411}],605:[function(require,module,exports){(function(Buffer){"use strict";function PrivateKey(opts){assert.object(opts,"options"),Key.call(this,opts),this._pubCache=undefined}module.exports=PrivateKey;var edCompat,ed,assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Signature=(require("./fingerprint"),require("./signature")),errs=require("./errors"),util=require("util"),utils=require("./utils"),dhe=require("./dhe"),generateECDSA=dhe.generateECDSA,generateED25519=dhe.generateED25519;try{edCompat=require("./ed-compat")}catch(e){}var Key=require("./key"),KeyParseError=(errs.InvalidAlgorithmError,errs.KeyParseError),formats=(errs.KeyEncryptedError,{});formats.auto=require("./formats/auto"),formats.pem=require("./formats/pem"),formats.pkcs1=require("./formats/pkcs1"),formats.pkcs8=require("./formats/pkcs8"),formats.rfc4253=require("./formats/rfc4253"),formats["ssh-private"]=require("./formats/ssh-private"),formats.openssh=formats["ssh-private"],formats.ssh=formats["ssh-private"],util.inherits(PrivateKey,Key),PrivateKey.formats=formats,PrivateKey.prototype.toBuffer=function(format,options){return format===undefined&&(format="pkcs1"),assert.string(format,"format"),assert.object(formats[format],"formats[format]"),assert.optionalObject(options,"options"),formats[format].write(this,options)},PrivateKey.prototype.hash=function(algo){return this.toPublic().hash(algo)},PrivateKey.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var algInfo=algs.info[this.type],pubParts=[],i=0;i<algInfo.parts.length;++i){var p=algInfo.parts[i];pubParts.push(this.part[p])}return this._pubCache=new Key({type:this.type,source:this,parts:pubParts}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},PrivateKey.prototype.derive=function(newType,newSize){assert.string(newType,"type"),assert.optionalNumber(newSize,"size");var priv,pub;if("ed25519"===this.type&&"curve25519"===newType)return ed===undefined&&(ed=require("jodid25519")),0===(priv=this.part.r.data)[0]&&(priv=priv.slice(1)),priv=priv.slice(0,32),pub=ed.dh.publicKey(priv),priv=utils.mpNormalize(Buffer.concat([priv,pub])),new PrivateKey({type:"curve25519",parts:[{name:"R",data:utils.mpNormalize(pub)},{name:"r",data:priv}]});if("curve25519"===this.type&&"ed25519"===newType)return ed===undefined&&(ed=require("jodid25519")),0===(priv=this.part.r.data)[0]&&(priv=priv.slice(1)),priv=priv.slice(0,32),pub=ed.eddsa.publicKey(priv.toString("binary")),pub=new Buffer(pub,"binary"),priv=utils.mpNormalize(Buffer.concat([priv,pub])),new PrivateKey({type:"ed25519",parts:[{name:"R",data:utils.mpNormalize(pub)},{name:"r",data:priv}]});throw new Error("Key derivation not supported from "+this.type+" to "+newType)},PrivateKey.prototype.createVerify=function(hashAlgo){return this.toPublic().createVerify(hashAlgo)},PrivateKey.prototype.createSign=function(hashAlgo){if(hashAlgo===undefined&&(hashAlgo=this.defaultHashAlgorithm()),assert.string(hashAlgo,"hash algorithm"),"ed25519"===this.type&&edCompat!==undefined)return new edCompat.Signer(this,hashAlgo);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var v,nm,err;try{nm=hashAlgo.toUpperCase(),v=crypto.createSign(nm)}catch(e){err=e}(v===undefined||err instanceof Error&&err.message.match(/Unknown message digest/))&&(nm="RSA-",nm+=hashAlgo.toUpperCase(),v=crypto.createSign(nm)),assert.ok(v,"failed to create verifier");var oldSign=v.sign.bind(v),key=this.toBuffer("pkcs1"),type=this.type,curve=this.curve;return v.sign=function(){var sig=oldSign(key);return"string"==typeof sig&&(sig=new Buffer(sig,"binary")),sig=Signature.parse(sig,type,"asn1"),sig.hashAlgorithm=hashAlgo,sig.curve=curve,sig},v},PrivateKey.parse=function(data,format,options){"string"!=typeof data&&assert.buffer(data,"data"),format===undefined&&(format="auto"),assert.string(format,"format"),"string"==typeof options&&(options={filename:options}),assert.optionalObject(options,"options"),options===undefined&&(options={}),assert.optionalString(options.filename,"options.filename"),options.filename===undefined&&(options.filename="(unnamed)"),assert.object(formats[format],"formats[format]");try{var k=formats[format].read(data,options);return assert.ok(k instanceof PrivateKey,"key is not a private key"),k.comment||(k.comment=options.filename),k}catch(e){if("KeyEncryptedError"===e.name)throw e;throw new KeyParseError(options.filename,format,e)}},PrivateKey.isPrivateKey=function(obj,ver){return utils.isCompatible(obj,PrivateKey,ver)},PrivateKey.generate=function(type,options){switch(options===undefined&&(options={}),assert.object(options,"options"),type){case"ecdsa":return options.curve===undefined&&(options.curve="nistp256"),assert.string(options.curve,"options.curve"),generateECDSA(options.curve);case"ed25519":return generateED25519();default:throw new Error('Key generation not supported with key type "'+type+'"')}},PrivateKey.prototype._sshpkApiVersion=[1,4],PrivateKey._oldVersionDetect=function(obj){return assert.func(obj.toPublic),assert.func(obj.createSign),obj.derive?[1,3]:obj.defaultHashAlgorithm?[1,2]:obj.formats.auto?[1,1]:[1,0]}}).call(this,require("buffer").Buffer)},{"./algs":586,"./dhe":588,"./ed-compat":589,"./errors":590,"./fingerprint":591,"./formats/auto":592,"./formats/pem":594,"./formats/pkcs1":595,"./formats/pkcs8":596,"./formats/rfc4253":597,"./formats/ssh-private":598,"./key":604,"./signature":606,"./utils":608,"assert-plus":609,buffer:105,crypto:411,jodid25519:492,util:635}],606:[function(require,module,exports){(function(Buffer){"use strict";function Signature(opts){assert.object(opts,"options"),assert.arrayOfObject(opts.parts,"options.parts"),assert.string(opts.type,"options.type");for(var partLookup={},i=0;i<opts.parts.length;++i){var part=opts.parts[i];partLookup[part.name]=part}this.type=opts.type,this.hashAlgorithm=opts.hashAlgo,this.curve=opts.curve,this.parts=opts.parts,this.part=partLookup}function parseOneNum(data,type,format,opts){if("ssh"===format){try{var buf=new SSHBuffer({buffer:data}),head=buf.readString()}catch(e){}if(buf!==undefined){var msg="SSH signature does not match expected type (expected "+type+", got "+head+")";switch(head){case"ssh-rsa":assert.strictEqual(type,"rsa",msg),opts.hashAlgo="sha1";break;case"rsa-sha2-256":assert.strictEqual(type,"rsa",msg),opts.hashAlgo="sha256";break;case"rsa-sha2-512":assert.strictEqual(type,"rsa",msg),opts.hashAlgo="sha512";break;case"ssh-ed25519":assert.strictEqual(type,"ed25519",msg),opts.hashAlgo="sha512";break;default:throw new Error("Unknown SSH signature type: "+head)}var sig=buf.readPart();return assert.ok(buf.atEnd(),"extra trailing bytes"),sig.name="sig",opts.parts.push(sig),new Signature(opts)}}return opts.parts.push({name:"sig",data:data}),new Signature(opts)}function parseDSAasn1(data,type,format,opts){var der=new asn1.BerReader(data);der.readSequence();var r=der.readString(asn1.Ber.Integer,!0),s=der.readString(asn1.Ber.Integer,!0);return opts.parts.push({name:"r",data:utils.mpNormalize(r)}),opts.parts.push({name:"s",data:utils.mpNormalize(s)}),new Signature(opts)}function parseDSA(data,type,format,opts){if(40!=data.length){var buf=new SSHBuffer({buffer:data}),d=buf.readBuffer();"ssh-dss"===d.toString("ascii")&&(d=buf.readBuffer()),assert.ok(buf.atEnd(),"extra trailing bytes"),assert.strictEqual(d.length,40,"invalid inner length"),data=d}return opts.parts.push({name:"r",data:data.slice(0,20)}),opts.parts.push({name:"s",data:data.slice(20,40)}),new Signature(opts)}function parseECDSA(data,type,format,opts){var r,s,buf=new SSHBuffer({buffer:data}),inner=buf.readBuffer(),stype=inner.toString("ascii");if("ecdsa-"===stype.slice(0,6)){var parts=stype.split("-");switch(assert.strictEqual(parts[0],"ecdsa"),assert.strictEqual(parts[1],"sha2"),opts.curve=parts[2],opts.curve){case"nistp256":opts.hashAlgo="sha256";break;case"nistp384":opts.hashAlgo="sha384";break;case"nistp521":opts.hashAlgo="sha512";break;default:throw new Error("Unsupported ECDSA curve: "+opts.curve)}inner=buf.readBuffer(),assert.ok(buf.atEnd(),"extra trailing bytes on outer"),r=(buf=new SSHBuffer({buffer:inner})).readPart()}else r={data:inner};return s=buf.readPart(),assert.ok(buf.atEnd(),"extra trailing bytes"),r.name="r",s.name="s",opts.parts.push(r),opts.parts.push(s),new Signature(opts)}module.exports=Signature;var assert=require("assert-plus"),errs=(require("./algs"),require("crypto"),require("./errors")),utils=require("./utils"),asn1=require("asn1"),SSHBuffer=require("./ssh-buffer"),InvalidAlgorithmError=errs.InvalidAlgorithmError,SignatureParseError=errs.SignatureParseError;Signature.prototype.toBuffer=function(format){format===undefined&&(format="asn1"),assert.string(format,"format");var buf,stype="ssh-"+this.type;switch(this.type){case"rsa":switch(this.hashAlgorithm){case"sha256":stype="rsa-sha2-256";break;case"sha512":stype="rsa-sha2-512";break;case"sha1":case undefined:break;default:throw new Error("SSH signature format does not support hash algorithm "+this.hashAlgorithm)}return"ssh"===format?((buf=new SSHBuffer({})).writeString(stype),buf.writePart(this.part.sig),buf.toBuffer()):this.part.sig.data;case"ed25519":return"ssh"===format?((buf=new SSHBuffer({})).writeString(stype),buf.writePart(this.part.sig),buf.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var r,s;if("asn1"===format){var der=new asn1.BerWriter;return der.startSequence(),r=utils.mpNormalize(this.part.r.data),s=utils.mpNormalize(this.part.s.data),der.writeBuffer(r,asn1.Ber.Integer),der.writeBuffer(s,asn1.Ber.Integer),der.endSequence(),der.buffer}if("ssh"===format&&"dsa"===this.type){if((buf=new SSHBuffer({})).writeString("ssh-dss"),(r=this.part.r.data).length>20&&0===r[0]&&(r=r.slice(1)),(s=this.part.s.data).length>20&&0===s[0]&&(s=s.slice(1)),this.hashAlgorithm&&"sha1"!==this.hashAlgorithm||r.length+s.length!==40)throw new Error("OpenSSH only supports DSA signatures with SHA1 hash");return buf.writeBuffer(Buffer.concat([r,s])),buf.toBuffer()}if("ssh"===format&&"ecdsa"===this.type){var inner=new SSHBuffer({});r=this.part.r.data,inner.writeBuffer(r),inner.writePart(this.part.s),buf=new SSHBuffer({});var curve;0===r[0]&&(r=r.slice(1));var sz=8*r.length;return 256===sz?curve="nistp256":384===sz?curve="nistp384":528===sz&&(curve="nistp521"),buf.writeString("ecdsa-sha2-"+curve),buf.writeBuffer(inner.toBuffer()),buf.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},Signature.prototype.toString=function(format){return assert.optionalString(format,"format"),this.toBuffer(format).toString("base64")},Signature.parse=function(data,type,format){"string"==typeof data&&(data=new Buffer(data,"base64")),assert.buffer(data,"data"),assert.string(format,"format"),assert.string(type,"type");var opts={};opts.type=type.toLowerCase(),opts.parts=[];try{switch(assert.ok(data.length>0,"signature must not be empty"),opts.type){case"rsa":case"ed25519":return parseOneNum(data,type,format,opts);case"dsa":case"ecdsa":return"asn1"===format?parseDSAasn1(data,type,format,opts):"dsa"===opts.type?parseDSA(data,type,format,opts):parseECDSA(data,type,format,opts);default:throw new InvalidAlgorithmError(type)}}catch(e){if(e instanceof InvalidAlgorithmError)throw e;throw new SignatureParseError(type,format,e)}},Signature.isSignature=function(obj,ver){return utils.isCompatible(obj,Signature,ver)},Signature.prototype._sshpkApiVersion=[2,1],Signature._oldVersionDetect=function(obj){return assert.func(obj.toBuffer),obj.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]}}).call(this,require("buffer").Buffer)},{"./algs":586,"./errors":590,"./ssh-buffer":607,"./utils":608,asn1:62,"assert-plus":609,buffer:105,crypto:411}],607:[function(require,module,exports){(function(Buffer){"use strict";function SSHBuffer(opts){assert.object(opts,"options"),opts.buffer!==undefined&&assert.buffer(opts.buffer,"options.buffer"),this._size=opts.buffer?opts.buffer.length:1024,this._buffer=opts.buffer||new Buffer(this._size),this._offset=0}module.exports=SSHBuffer;var assert=require("assert-plus");SSHBuffer.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},SSHBuffer.prototype.atEnd=function(){return this._offset>=this._buffer.length},SSHBuffer.prototype.remainder=function(){return this._buffer.slice(this._offset)},SSHBuffer.prototype.skip=function(n){this._offset+=n},SSHBuffer.prototype.expand=function(){this._size*=2;var buf=new Buffer(this._size);this._buffer.copy(buf,0),this._buffer=buf},SSHBuffer.prototype.readPart=function(){return{data:this.readBuffer()}},SSHBuffer.prototype.readBuffer=function(){var len=this._buffer.readUInt32BE(this._offset);this._offset+=4,assert.ok(this._offset+len<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var buf=this._buffer.slice(this._offset,this._offset+len);return this._offset+=len,buf},SSHBuffer.prototype.readString=function(){return this.readBuffer().toString()},SSHBuffer.prototype.readCString=function(){for(var offset=this._offset;offset<this._buffer.length&&0!==this._buffer[offset];)offset++;assert.ok(offset<this._buffer.length,"c string does not terminate");var str=this._buffer.slice(this._offset,offset).toString();return this._offset=offset+1,str},SSHBuffer.prototype.readInt=function(){var v=this._buffer.readUInt32BE(this._offset);return this._offset+=4,v},SSHBuffer.prototype.readInt64=function(){assert.ok(this._offset+8<this._buffer.length,"buffer not long enough to read Int64");var v=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,v},SSHBuffer.prototype.readChar=function(){return this._buffer[this._offset++]},SSHBuffer.prototype.writeBuffer=function(buf){for(;this._offset+4+buf.length>this._size;)this.expand();this._buffer.writeUInt32BE(buf.length,this._offset),this._offset+=4,buf.copy(this._buffer,this._offset),this._offset+=buf.length},SSHBuffer.prototype.writeString=function(str){this.writeBuffer(new Buffer(str,"utf8"))},SSHBuffer.prototype.writeCString=function(str){for(;this._offset+1+str.length>this._size;)this.expand();this._buffer.write(str,this._offset),this._offset+=str.length,this._buffer[this._offset++]=0},SSHBuffer.prototype.writeInt=function(v){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(v,this._offset),this._offset+=4},SSHBuffer.prototype.writeInt64=function(v){if(assert.buffer(v,"value"),v.length>8){for(var lead=v.slice(0,v.length-8),i=0;i<lead.length;++i)assert.strictEqual(lead[i],0,"must fit in 64 bits of precision");v=v.slice(v.length-8,v.length)}for(;this._offset+8>this._size;)this.expand();v.copy(this._buffer,this._offset),this._offset+=8},SSHBuffer.prototype.writeChar=function(v){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=v},SSHBuffer.prototype.writePart=function(p){this.writeBuffer(p.data)},SSHBuffer.prototype.write=function(buf){for(;this._offset+buf.length>this._size;)this.expand();buf.copy(this._buffer,this._offset),this._offset+=buf.length}}).call(this,require("buffer").Buffer)},{"assert-plus":609,buffer:105}],608:[function(require,module,exports){(function(Buffer){"use strict";function isCompatible(obj,klass,needVer){if(null===obj||"object"!==(void 0===obj?"undefined":_typeof(obj)))return!1;if(needVer===undefined&&(needVer=klass.prototype._sshpkApiVersion),obj instanceof klass&&klass.prototype._sshpkApiVersion[0]==needVer[0])return!0;for(var proto=Object.getPrototypeOf(obj),depth=0;proto.constructor.name!==klass.name;)if(!(proto=Object.getPrototypeOf(proto))||++depth>MAX_CLASS_DEPTH)return!1;if(proto.constructor.name!==klass.name)return!1;var ver=proto._sshpkApiVersion;return ver===undefined&&(ver=klass._oldVersionDetect(obj)),!(ver[0]!=needVer[0]||ver[1]<needVer[1])}function assertCompatible(obj,klass,needVer,name){if(name===undefined&&(name="object"),assert.ok(obj,name+" must not be null"),assert.object(obj,name+" must be an object"),needVer===undefined&&(needVer=klass.prototype._sshpkApiVersion),!(obj instanceof klass&&klass.prototype._sshpkApiVersion[0]==needVer[0])){for(var proto=Object.getPrototypeOf(obj),depth=0;proto.constructor.name!==klass.name;)proto=Object.getPrototypeOf(proto),assert.ok(proto&&++depth<=MAX_CLASS_DEPTH,name+" must be a "+klass.name+" instance");assert.strictEqual(proto.constructor.name,klass.name,name+" must be a "+klass.name+" instance");var ver=proto._sshpkApiVersion;ver===undefined&&(ver=klass._oldVersionDetect(obj)),assert.ok(ver[0]==needVer[0]&&ver[1]>=needVer[1],name+" must be compatible with "+klass.name+" klass version "+needVer[0]+"."+needVer[1])}}function opensslKeyDeriv(cipher,salt,passphrase,count){assert.buffer(salt,"salt"),assert.buffer(passphrase,"passphrase"),assert.number(count,"iteration count");var clen=CIPHER_LEN[cipher];assert.object(clen,"supported cipher"),salt=salt.slice(0,PKCS5_SALT_LEN);for(var D,D_prev,bufs,material=new Buffer(0);material.length<clen.key+clen.iv;){bufs=[],D_prev&&bufs.push(D_prev),bufs.push(passphrase),bufs.push(salt),D=Buffer.concat(bufs);for(var j=0;j<count;++j)D=crypto.createHash("md5").update(D).digest();material=Buffer.concat([material,D]),D_prev=D}return{key:material.slice(0,clen.key),iv:material.slice(clen.key,clen.key+clen.iv)}}function countZeros(buf){for(var o=0,obit=8;o<buf.length;){var mask=1<<obit;if((buf[o]&mask)===mask)break;--obit<0&&(o++,obit=8)}return 8*o+(8-obit)-1}function bufferSplit(buf,chr){assert.buffer(buf),assert.string(chr);for(var parts=[],lastPart=0,matches=0,i=0;i<buf.length;++i)if(buf[i]===chr.charCodeAt(matches)?++matches:matches=buf[i]===chr.charCodeAt(0)?1:0,matches>=chr.length){var newPart=i+1;parts.push(buf.slice(lastPart,newPart-matches)),lastPart=newPart,matches=0}return lastPart<=buf.length&&parts.push(buf.slice(lastPart,buf.length)),parts}function ecNormalize(buf,addZero){if(assert.buffer(buf),0===buf[0]&&4===buf[1])return addZero?buf:buf.slice(1);if(4===buf[0]){if(!addZero)return buf}else{for(;0===buf[0];)buf=buf.slice(1);if(2===buf[0]||3===buf[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==buf[0])throw new Error("Not a valid elliptic curve point");if(!addZero)return buf}var b=new Buffer(buf.length+1);return b[0]=0,buf.copy(b,1),b}function mpNormalize(buf){for(assert.buffer(buf);buf.length>1&&0===buf[0]&&0==(128&buf[1]);)buf=buf.slice(1);if(128==(128&buf[0])){var b=new Buffer(buf.length+1);b[0]=0,buf.copy(b,1),buf=b}return buf}function bigintToMpBuf(bigint){var buf=new Buffer(bigint.toByteArray());return buf=mpNormalize(buf)}function calculateDSAPublic(g,p,x){assert.buffer(g),assert.buffer(p),assert.buffer(x);try{var bigInt=require("jsbn").BigInteger}catch(e){throw new Error("To load a PKCS#8 format DSA private key, the node jsbn library is required.")}return g=new bigInt(g),p=new bigInt(p),x=new bigInt(x),bigintToMpBuf(g.modPow(x,p))}function addRSAMissing(key){assert.object(key),assertCompatible(key,PrivateKey,[1,1]);try{var bigInt=require("jsbn").BigInteger}catch(e){throw new Error("To write a PEM private key from this source, the node jsbn lib is required.")}var buf,d=new bigInt(key.part.d.data);if(!key.part.dmodp){var p=new bigInt(key.part.p.data);buf=bigintToMpBuf(d.mod(p.subtract(1))),key.part.dmodp={name:"dmodp",data:buf},key.parts.push(key.part.dmodp)}if(!key.part.dmodq){var q=new bigInt(key.part.q.data);buf=bigintToMpBuf(d.mod(q.subtract(1))),key.part.dmodq={name:"dmodq",data:buf},key.parts.push(key.part.dmodq)}}function opensshCipherInfo(cipher){var inf={};switch(cipher){case"3des-cbc":inf.keySize=24,inf.blockSize=8,inf.opensslName="des-ede3-cbc";break;case"blowfish-cbc":inf.keySize=16,inf.blockSize=8,inf.opensslName="bf-cbc";break;case"aes128-cbc":case"aes128-ctr":case"aes128-gcm@openssh.com":inf.keySize=16,inf.blockSize=16,inf.opensslName="aes-128-"+cipher.slice(7,10);break;case"aes192-cbc":case"aes192-ctr":case"aes192-gcm@openssh.com":inf.keySize=24,inf.blockSize=16,inf.opensslName="aes-192-"+cipher.slice(7,10);break;case"aes256-cbc":case"aes256-ctr":case"aes256-gcm@openssh.com":inf.keySize=32,inf.blockSize=16,inf.opensslName="aes-256-"+cipher.slice(7,10);break;default:throw new Error('Unsupported openssl cipher "'+cipher+'"')}return inf}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={bufferSplit:bufferSplit,addRSAMissing:addRSAMissing,calculateDSAPublic:calculateDSAPublic,mpNormalize:mpNormalize,ecNormalize:ecNormalize,countZeros:countZeros,assertCompatible:assertCompatible,isCompatible:isCompatible,opensslKeyDeriv:opensslKeyDeriv,opensshCipherInfo:opensshCipherInfo};var assert=require("assert-plus"),PrivateKey=require("./private-key"),crypto=require("crypto"),MAX_CLASS_DEPTH=3,CIPHER_LEN={"des-ede3-cbc":{key:7,iv:8},"aes-128-cbc":{key:16,iv:16}},PKCS5_SALT_LEN=8}).call(this,require("buffer").Buffer)},{"./private-key":605,"assert-plus":609,buffer:105,crypto:411,jsbn:498}],609:[function(require,module,exports){arguments[4][505][0].apply(exports,arguments)},{"../../../is-buffer/index.js":488,_process:534,assert:64,dup:505,stream:610,util:635}],610:[function(require,module,exports){"use strict";function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter;require("inherits")(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:443,inherits:487,"readable-stream/duplex.js":551,"readable-stream/passthrough.js":558,"readable-stream/readable.js":559,"readable-stream/transform.js":560,"readable-stream/writable.js":561}],611:[function(require,module,exports){(function(global){"use strict";var ClientRequest=require("./lib/request"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(opts,cb){opts="string"==typeof opts?url.parse(opts):extend(opts);var defaultProtocol=-1===global.location.protocol.search(/^https?:$/)?"http:":"",protocol=opts.protocol||defaultProtocol,host=opts.hostname||opts.host,port=opts.port,path=opts.path||"/";host&&-1!==host.indexOf(":")&&(host="["+host+"]"),opts.url=(host?protocol+"//"+host:"")+(port?":"+port:"")+path,opts.method=(opts.method||"GET").toUpperCase(),opts.headers=opts.headers||{};var req=new ClientRequest(opts);return cb&&req.on("response",cb),req},http.get=function(opts,cb){var req=http.request(opts,cb);return req.end(),req},http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":613,"builtin-status-codes":106,url:630,xtend:661}],612:[function(require,module,exports){(function(global){"use strict";function getXHR(){if(xhr!==undefined)return xhr;if(global.XMLHttpRequest){xhr=new global.XMLHttpRequest;try{xhr.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(e){xhr=null}}else xhr=null;return xhr}function checkTypeSupport(type){var xhr=getXHR();if(!xhr)return!1;try{return xhr.responseType=type,xhr.responseType===type}catch(e){}return!1}function isFunction(value){return"function"==typeof value}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableStream),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(e){}var xhr,haveArrayBuffer="undefined"!=typeof global.ArrayBuffer,haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=exports.fetch||haveArrayBuffer&&checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),exports.vbArray=isFunction(global.VBArray),xhr=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],613:[function(require,module,exports){(function(process,global,Buffer){"use strict";function decideMode(preferBinary,useFetch){return capability.fetch&&useFetch?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&preferBinary?"arraybuffer":capability.vbArray&&preferBinary?"text:vbarray":"text"}function statusValid(xhr){try{var status=xhr.status;return null!==status&&0!==status}catch(e){return!1}}var capability=require("./capability"),inherits=require("inherits"),response=require("./response"),stream=require("readable-stream"),toArrayBuffer=require("to-arraybuffer"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates,ClientRequest=module.exports=function(opts){var self=this;stream.Writable.call(self),self._opts=opts,self._body=[],self._headers={},opts.auth&&self.setHeader("Authorization","Basic "+new Buffer(opts.auth).toString("base64")),Object.keys(opts.headers).forEach(function(name){self.setHeader(name,opts.headers[name])});var preferBinary,useFetch=!0;if("disable-fetch"===opts.mode||"timeout"in opts)useFetch=!1,preferBinary=!0;else if("prefer-streaming"===opts.mode)preferBinary=!1;else if("allow-wrong-content-type"===opts.mode)preferBinary=!capability.overrideMimeType;else{if(opts.mode&&"default"!==opts.mode&&"prefer-fast"!==opts.mode)throw new Error("Invalid value for opts.mode");preferBinary=!0}self._mode=decideMode(preferBinary,useFetch),self.on("finish",function(){self._onFinish()})};inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(name,value){var self=this,lowerName=name.toLowerCase();-1===unsafeHeaders.indexOf(lowerName)&&(self._headers[lowerName]={name:name,value:value})},ClientRequest.prototype.getHeader=function(name){var header=this._headers[name.toLowerCase()];return header?header.value:null},ClientRequest.prototype.removeHeader=function(name){delete this._headers[name.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var self=this;if(!self._destroyed){var opts=self._opts,headersObj=self._headers,body=null;"GET"!==opts.method&&"HEAD"!==opts.method&&(body=capability.blobConstructor?new global.Blob(self._body.map(function(buffer){return toArrayBuffer(buffer)}),{type:(headersObj["content-type"]||{}).value||""}):Buffer.concat(self._body).toString());var headersList=[];if(Object.keys(headersObj).forEach(function(keyName){var name=headersObj[keyName].name,value=headersObj[keyName].value;Array.isArray(value)?value.forEach(function(v){headersList.push([name,v])}):headersList.push([name,value])}),"fetch"===self._mode)global.fetch(self._opts.url,{method:self._opts.method,headers:headersList,body:body||undefined,mode:"cors",credentials:opts.withCredentials?"include":"same-origin"}).then(function(response){self._fetchResponse=response,self._connect()},function(reason){self.emit("error",reason)});else{var xhr=self._xhr=new global.XMLHttpRequest;try{xhr.open(self._opts.method,self._opts.url,!0)}catch(err){return void process.nextTick(function(){self.emit("error",err)})}"responseType"in xhr&&(xhr.responseType=self._mode.split(":")[0]),"withCredentials"in xhr&&(xhr.withCredentials=!!opts.withCredentials),"text"===self._mode&&"overrideMimeType"in xhr&&xhr.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in opts&&(xhr.timeout=opts.timeout,xhr.ontimeout=function(){self.emit("timeout")}),headersList.forEach(function(header){xhr.setRequestHeader(header[0],header[1])}),self._response=null,xhr.onreadystatechange=function(){switch(xhr.readyState){case rStates.LOADING:case rStates.DONE:self._onXHRProgress()}},"moz-chunked-arraybuffer"===self._mode&&(xhr.onprogress=function(){self._onXHRProgress()}),xhr.onerror=function(){self._destroyed||self.emit("error",new Error("XHR error"))};try{xhr.send(body)}catch(err){return void process.nextTick(function(){self.emit("error",err)})}}}},ClientRequest.prototype._onXHRProgress=function(){var self=this;statusValid(self._xhr)&&!self._destroyed&&(self._response||self._connect(),self._response._onXHRProgress())},ClientRequest.prototype._connect=function(){var self=this;self._destroyed||(self._response=new IncomingMessage(self._xhr,self._fetchResponse,self._mode),self._response.on("error",function(err){self.emit("error",err)}),self.emit("response",self._response))},ClientRequest.prototype._write=function(chunk,encoding,cb){this._body.push(chunk),cb()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var self=this;self._destroyed=!0,self._response&&(self._response._destroyed=!0),self._xhr&&self._xhr.abort()},ClientRequest.prototype.end=function(data,encoding,cb){var self=this;"function"==typeof data&&(cb=data,data=undefined),stream.Writable.prototype.end.call(self,data,encoding,cb)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{"./capability":612,"./response":614,_process:534,buffer:105,inherits:487,"readable-stream":559,"to-arraybuffer":620}],614:[function(require,module,exports){(function(process,global,Buffer){"use strict";var capability=require("./capability"),inherits=require("inherits"),stream=require("readable-stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(xhr,response,mode){var self=this;if(stream.Readable.call(self),self._mode=mode,self.headers={},self.rawHeaders=[],self.trailers={},self.rawTrailers=[],self.on("end",function(){process.nextTick(function(){self.emit("close")})}),"fetch"===mode){self._fetchResponse=response,self.url=response.url,self.statusCode=response.status,self.statusMessage=response.statusText,response.headers.forEach(function(header,key){self.headers[key.toLowerCase()]=header,self.rawHeaders.push(key,header)});var reader=response.body.getReader();!function read(){reader.read().then(function(result){if(!self._destroyed){if(result.done)return void self.push(null);self.push(new Buffer(result.value)),read()}})["catch"](function(err){self.emit("error",err)})}()}else if(self._xhr=xhr,self._pos=0,self.url=xhr.responseURL,self.statusCode=xhr.status,self.statusMessage=xhr.statusText,xhr.getAllResponseHeaders().split(/\r?\n/).forEach(function(header){var matches=header.match(/^([^:]+):\s*(.*)/);if(matches){var key=matches[1].toLowerCase();"set-cookie"===key?(self.headers[key]===undefined&&(self.headers[key]=[]),self.headers[key].push(matches[2])):self.headers[key]!==undefined?self.headers[key]+=", "+matches[2]:self.headers[key]=matches[2],self.rawHeaders.push(matches[1],matches[2])}}),self._charset="x-user-defined",!capability.overrideMimeType){var mimeType=self.rawHeaders["mime-type"];if(mimeType){var charsetMatch=mimeType.match(/;\s*charset=([^;])(;|$)/);charsetMatch&&(self._charset=charsetMatch[1].toLowerCase())}self._charset||(self._charset="utf-8")}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){},IncomingMessage.prototype._onXHRProgress=function(){var self=this,xhr=self._xhr,response=null;switch(self._mode){case"text:vbarray":if(xhr.readyState!==rStates.DONE)break;try{response=new global.VBArray(xhr.responseBody).toArray()}catch(e){}if(null!==response){self.push(new Buffer(response));break}case"text":try{response=xhr.responseText}catch(e){self._mode="text:vbarray";break}if(response.length>self._pos){var newData=response.substr(self._pos);if("x-user-defined"===self._charset){for(var buffer=new Buffer(newData.length),i=0;i<newData.length;i++)buffer[i]=255&newData.charCodeAt(i);self.push(buffer)}else self.push(newData,self._charset);self._pos=response.length}break;case"arraybuffer":if(xhr.readyState!==rStates.DONE||!xhr.response)break;response=xhr.response,self.push(new Buffer(new Uint8Array(response)));break;case"moz-chunked-arraybuffer":if(response=xhr.response,xhr.readyState!==rStates.LOADING||!response)break;self.push(new Buffer(new Uint8Array(response)));break;case"ms-stream":if(response=xhr.response,xhr.readyState!==rStates.LOADING)break;var reader=new global.MSStreamReader;reader.onprogress=function(){reader.result.byteLength>self._pos&&(self.push(new Buffer(new Uint8Array(reader.result.slice(self._pos)))),self._pos=reader.result.byteLength)},reader.onload=function(){self.push(null)},reader.readAsArrayBuffer(response)}self._xhr.readyState===rStates.DONE&&"ms-stream"!==self._mode&&self.push(null)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{"./capability":612,_process:534,buffer:105,inherits:487,"readable-stream":559}],615:[function(require,module,exports){"use strict";function _normalizeEncoding(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=bufferShim.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:-1}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return nb>=0?(nb>0&&(self.lastNeed=nb-1),nb):--j<i?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(self.lastNeed=nb-2),nb):--j<i?0:(nb=utf8CheckByte(buf[j]),nb>=0?(nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb):0)}function utf8CheckExtraBytes(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"�".repeat(p);if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"�".repeat(p+1);if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"�".repeat(p+2)}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,buf,p);return r!==undefined?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"�".repeat(this.lastTotal-this.lastNeed):r}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims"),isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if((r=this.fillLast(buf))===undefined)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{buffer:105,"buffer-shims":103}],616:[function(require,module,exports){(function(Buffer){"use strict";function StringStream(from,to){if(!(this instanceof StringStream))return new StringStream(from,to);Stream.call(this),null==from&&(from="utf8"),this.readable=this.writable=!0,this.paused=!1,this.toEncoding=null==to?from:to,this.fromEncoding=null==to?"":from,this.decoder=new AlignedStringDecoder(this.toEncoding)}function AlignedStringDecoder(encoding){switch(StringDecoder.call(this,encoding),this.encoding){case"base64":this.write=alignedWrite,this.alignedBuffer=new Buffer(3),this.alignedBytes=0}}function alignedWrite(buffer){var rem=(this.alignedBytes+buffer.length)%this.alignedBuffer.length;if(!rem&&!this.alignedBytes)return buffer.toString(this.encoding);var returnBuffer=new Buffer(this.alignedBytes+buffer.length-rem);return this.alignedBuffer.copy(returnBuffer,0,0,this.alignedBytes),buffer.copy(returnBuffer,this.alignedBytes,0,buffer.length-rem),buffer.copy(this.alignedBuffer,0,buffer.length-rem,buffer.length),this.alignedBytes=rem,returnBuffer.toString(this.encoding)}var util=require("util"),Stream=require("stream"),StringDecoder=require("string_decoder").StringDecoder;module.exports=StringStream,module.exports.AlignedStringDecoder=AlignedStringDecoder,util.inherits(StringStream,Stream),StringStream.prototype.write=function(data){if(!this.writable){var err=new Error("stream not writable");return err.code="EPIPE",this.emit("error",err),!1}this.fromEncoding&&(Buffer.isBuffer(data)&&(data=data.toString()),data=new Buffer(data,this.fromEncoding));var string=this.decoder.write(data);return string.length&&this.emit("data",string),!this.paused},StringStream.prototype.flush=function(){if(this.decoder.flush){var string=this.decoder.flush();string.length&&this.emit("data",string)}},StringStream.prototype.end=function(){(this.writable||this.readable)&&(this.flush(),this.emit("end"),this.writable=this.readable=!1,this.destroy())},StringStream.prototype.destroy=function(){this.decoder=null,this.writable=this.readable=!1,this.emit("close")},StringStream.prototype.pause=function(){this.paused=!0},StringStream.prototype.resume=function(){this.paused&&this.emit("drain"),this.paused=!1},util.inherits(AlignedStringDecoder,StringDecoder),AlignedStringDecoder.prototype.flush=function(){if(!this.alignedBuffer||!this.alignedBytes)return"";var leftover=this.alignedBuffer.toString(this.encoding,0,this.alignedBytes);return this.alignedBytes=0,leftover}}).call(this,require("buffer").Buffer)},{buffer:105,stream:610,string_decoder:102,util:635}],617:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(global){function striptags(html,allowable_tags,tag_replacement){return striptags_internal(html=html||"",init_context(allowable_tags=allowable_tags||[],tag_replacement=tag_replacement||""))}function init_striptags_stream(allowable_tags,tag_replacement){var context=init_context(allowable_tags=allowable_tags||[],tag_replacement=tag_replacement||"");return function(html){return striptags_internal(html||"",context)}}function init_context(allowable_tags,tag_replacement){return allowable_tags=parse_allowable_tags(allowable_tags),{allowable_tags:allowable_tags,tag_replacement:tag_replacement,state:STATE_PLAINTEXT,tag_buffer:"",depth:0,in_quote_char:""}}function striptags_internal(html,context){for(var allowable_tags=context.allowable_tags,tag_replacement=context.tag_replacement,state=context.state,tag_buffer=context.tag_buffer,depth=context.depth,in_quote_char=context.in_quote_char,output="",idx=0,length=html.length;idx<length;idx++){var char=html[idx];if(state===STATE_PLAINTEXT)switch(char){case"<":state=STATE_HTML,tag_buffer+=char;break;default:output+=char}else if(state===STATE_HTML)switch(char){case"<":if(in_quote_char)break;depth++;break;case">":if(in_quote_char)break;if(depth){depth--;break}in_quote_char="",state=STATE_PLAINTEXT,tag_buffer+=">",allowable_tags.has(normalize_tag(tag_buffer))?output+=tag_buffer:output+=tag_replacement,tag_buffer="";break;case'"':case"'":in_quote_char=char===in_quote_char?"":in_quote_char||char,tag_buffer+=char;break;case"-":"<!-"===tag_buffer&&(state=STATE_COMMENT),tag_buffer+=char;break;case" ":case"\n":if("<"===tag_buffer){state=STATE_PLAINTEXT,output+="< ",tag_buffer="";break}tag_buffer+=char;break;default:tag_buffer+=char}else if(state===STATE_COMMENT)switch(char){case">":"--"==tag_buffer.slice(-2)&&(state=STATE_PLAINTEXT),tag_buffer="";break;default:tag_buffer+=char}}return context.state=state,context.tag_buffer=tag_buffer,context.depth=depth,context.in_quote_char=in_quote_char,output}function parse_allowable_tags(allowable_tags){var tags_array=[];if("string"==typeof allowable_tags)for(var match=void 0;null!==(match=ALLOWED_TAGS_REGEX.exec(allowable_tags));)tags_array.push(match[1]);else"function"==typeof allowable_tags[Symbol.iterator]&&(tags_array=allowable_tags);return new Set(tags_array)}function normalize_tag(tag_buffer){var match=NORMALIZE_TAG_REGEX.exec(tag_buffer);return match?match[1].toLowerCase():null}var STATE_PLAINTEXT=Symbol("plaintext"),STATE_HTML=Symbol("html"),STATE_COMMENT=Symbol("comment"),ALLOWED_TAGS_REGEX=/<(\w*)>/g,NORMALIZE_TAG_REGEX=/<\/?([^\s\/>]+)/;striptags.init_streaming_mode=init_striptags_stream,"function"==typeof define&&define.amd?define(function(){return striptags}):"object"===(void 0===module?"undefined":_typeof(module))&&module.exports?module.exports=striptags:global.striptags=striptags}(undefined)},{}],618:[function(require,module,exports){"use strict";function doRequest(method,url,options){var xhr=new XMLHttpRequest;if("string"!=typeof method)throw new TypeError("The method must be a string.");if("string"!=typeof url)throw new TypeError("The URL/path must be a string.");if(null!==options&&options!==undefined||(options={}),"object"!==(void 0===options?"undefined":_typeof(options)))throw new TypeError("Options must be an object (or null).");method=method.toUpperCase(),options.headers=options.headers||{};var match;!(!(match=/^([\w-]+:)?\/\/([^\/]+)/.exec(url))||match[2]==location.host)||(options.headers["X-Requested-With"]="XMLHttpRequest"),options.qs&&(url=handleQs(url,options.qs)),options.json&&(options.body=JSON.stringify(options.json),options.headers["content-type"]="application/json"),xhr.open(method,url,!1);for(var name in options.headers)xhr.setRequestHeader(name.toLowerCase(),options.headers[name]);xhr.send(options.body?options.body:null);var headers={};return xhr.getAllResponseHeaders().split("\r\n").forEach(function(header){var h=header.split(":");h.length>1&&(headers[h[0].toLowerCase()]=h.slice(1).join(":").trim())}),new Response(xhr.status,headers,xhr.responseText)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},Response=require("http-response-object"),handleQs=require("then-request/lib/handle-qs.js");module.exports=doRequest},{"http-response-object":478,"then-request/lib/handle-qs.js":619}],619:[function(require,module,exports){"use strict";function handleQs(url,query){var start=(url=url.split("?"))[0],qs=(url[1]||"").split("#")[0],end=url[1]&&url[1].split("#").length>1?"#"+url[1].split("#")[1]:"",baseQs=parse(qs);for(var i in query)baseQs[i]=query[i];return""!==(qs=stringify(baseQs))&&(qs="?"+qs),start+qs+end}var parse=require("qs").parse,stringify=require("qs").stringify;module.exports=handleQs},{qs:543}],620:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;module.exports=function(buf){if(buf instanceof Uint8Array){if(0===buf.byteOffset&&buf.byteLength===buf.buffer.byteLength)return buf.buffer;if("function"==typeof buf.buffer.slice)return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}if(Buffer.isBuffer(buf)){for(var arrayCopy=new Uint8Array(buf.length),len=buf.length,i=0;i<len;i++)arrayCopy[i]=buf[i];return arrayCopy.buffer}throw new Error("Argument must be a Buffer")}},{buffer:105}],621:[function(require,module,exports){"use strict";function parseDate(str){if(str){var tokens=str.split(DATE_DELIM);if(tokens){for(var hour=null,minutes=null,seconds=null,day=null,month=null,year=null,i=0;i<tokens.length;i++){var token=tokens[i].trim();if(token.length){var result;if(null===seconds&&(result=TIME.exec(token))){if(hour=parseInt(result[1],10),minutes=parseInt(result[2],10),seconds=parseInt(result[3],10),hour>23||minutes>59||seconds>59)return}else if(null===day&&(result=DAY_OF_MONTH.exec(token))){if((day=parseInt(result,10))<1||day>31)return}else if(null===month&&(result=MONTH.exec(token)))month=MONTH_TO_NUM[result[1].toLowerCase()];else if(null===year&&(result=YEAR.exec(token))&&(year=parseInt(result[0],10),70<=year&&year<=99?year+=1900:0<=year&&year<=69&&(year+=2e3),year<1601))return}}if(null!==seconds&&null!==day&&null!==month&&null!==year)return new Date(Date.UTC(year,month,day,hour,minutes,seconds))}}}function formatDate(date){var d=date.getUTCDate();d=d>=10?d:"0"+d;var h=date.getUTCHours();h=h>=10?h:"0"+h;var m=date.getUTCMinutes();m=m>=10?m:"0"+m;var s=date.getUTCSeconds();return s=s>=10?s:"0"+s,NUM_TO_DAY[date.getUTCDay()]+", "+d+" "+NUM_TO_MONTH[date.getUTCMonth()]+" "+date.getUTCFullYear()+" "+h+":"+m+":"+s+" GMT"}function canonicalDomain(str){return null==str?null:(str=str.trim().replace(/^\./,""),punycode&&/[^\u0001-\u007f]/.test(str)&&(str=punycode.toASCII(str)),str.toLowerCase())}function domainMatch(str,domStr,canonicalize){if(null==str||null==domStr)return null;if(!1!==canonicalize&&(str=canonicalDomain(str),domStr=canonicalDomain(domStr)),str==domStr)return!0;if(net.isIP(str))return!1;var idx=str.indexOf(domStr);return!(idx<=0)&&(str.length===domStr.length+idx&&"."===str.substr(idx-1,1))}function defaultPath(path){if(!path||"/"!==path.substr(0,1))return"/";if("/"===path)return path;var rightSlash=path.lastIndexOf("/");return 0===rightSlash?"/":path.slice(0,rightSlash)}function parse(str,options){options&&"object"===(void 0===options?"undefined":_typeof(options))||(options={});var firstSemi=(str=str.trim()).indexOf(";"),result=(options.loose?LOOSE_COOKIE_PAIR:COOKIE_PAIR).exec(-1===firstSemi?str:str.substr(0,firstSemi));if(result){var c=new Cookie;if(result[1]?c.key=result[2].trim():c.key="",c.value=result[3].trim(),!CONTROL_CHARS.test(c.key)&&!CONTROL_CHARS.test(c.value)){if(-1===firstSemi)return c;var unparsed=str.slice(firstSemi+1).trim();if(0===unparsed.length)return c;for(var cookie_avs=unparsed.split(";");cookie_avs.length;){var av=cookie_avs.shift().trim();if(0!==av.length){var av_key,av_value,av_sep=av.indexOf("=");switch(-1===av_sep?(av_key=av,av_value=null):(av_key=av.substr(0,av_sep),av_value=av.substr(av_sep+1)),av_key=av_key.trim().toLowerCase(),av_value&&(av_value=av_value.trim()),av_key){case"expires":if(av_value){var exp=parseDate(av_value);exp&&(c.expires=exp)}break;case"max-age":if(av_value&&/^-?[0-9]+$/.test(av_value)){var delta=parseInt(av_value,10);c.setMaxAge(delta)}break;case"domain":if(av_value){var domain=av_value.trim().replace(/^\./,"");domain&&(c.domain=domain.toLowerCase())}break;case"path":c.path=av_value&&"/"===av_value[0]?av_value:null;break;case"secure":c.secure=!0;break;case"httponly":c.httpOnly=!0;break;default:c.extensions=c.extensions||[],c.extensions.push(av)}}}return c}}}function jsonParse(str){var obj;try{obj=JSON.parse(str)}catch(e){return e}return obj}function fromJSON(str){if(!str)return null;var obj;if("string"==typeof str){if((obj=jsonParse(str))instanceof Error)return null}else obj=str;for(var c=new Cookie,i=0;i<Cookie.serializableProperties.length;i++){var prop=Cookie.serializableProperties[i];obj[prop]!==undefined&&obj[prop]!==Cookie.prototype[prop]&&("expires"===prop||"creation"===prop||"lastAccessed"===prop?null===obj[prop]?c[prop]=null:c[prop]="Infinity"==obj[prop]?"Infinity":new Date(obj[prop]):c[prop]=obj[prop])}return c}function cookieCompare(a,b){var cmp=0,aPathLen=a.path?a.path.length:0;return 0!==(cmp=(b.path?b.path.length:0)-aPathLen)?cmp:0!==(cmp=(a.creation?a.creation.getTime():MAX_TIME)-(b.creation?b.creation.getTime():MAX_TIME))?cmp:cmp=a.creationIndex-b.creationIndex}function permutePath(path){if("/"===path)return["/"];path.lastIndexOf("/")===path.length-1&&(path=path.substr(0,path.length-1));for(var permutations=[path];path.length>1;){var lindex=path.lastIndexOf("/");if(0===lindex)break;path=path.substr(0,lindex),permutations.push(path)}return permutations.push("/"),permutations}function getCookieContext(url){if(url instanceof Object)return url;try{url=decodeURI(url)}catch(err){}return urlParse(url)}function Cookie(options){options=options||{},Object.keys(options).forEach(function(prop){Cookie.prototype.hasOwnProperty(prop)&&Cookie.prototype[prop]!==options[prop]&&"_"!==prop.substr(0,1)&&(this[prop]=options[prop])},this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++Cookie.cookiesCreated})}function CookieJar(store,options){"boolean"==typeof options?options={rejectPublicSuffixes:options}:null==options&&(options={}),null!=options.rejectPublicSuffixes&&(this.rejectPublicSuffixes=options.rejectPublicSuffixes),null!=options.looseMode&&(this.enableLooseMode=options.looseMode),store||(store=new MemoryCookieStore),this.store=store}function syncWrap(method){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var syncErr,syncResult,args=Array.prototype.slice.call(arguments);if(args.push(function(err,result){syncErr=err,syncResult=result}),this[method].apply(this,args),syncErr)throw syncErr;return syncResult}}var punycode,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},net=require("net"),urlParse=require("url").parse,pubsuffix=require("./pubsuffix"),Store=require("./store").Store,MemoryCookieStore=require("./memstore").MemoryCookieStore,pathMatch=require("./pathMatch").pathMatch,VERSION=require("../package.json").version;try{punycode=require("punycode")}catch(e){console.warn("cookie: can't load punycode; won't use punycode for domain normalization")}var DATE_DELIM=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,COOKIE_OCTETS=new RegExp("^"+/[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]/.source+"+$"),CONTROL_CHARS=/[\x00-\x1F]/,COOKIE_PAIR=/^(([^=;]+))\s*=\s*([^\n\r\0]*)/,LOOSE_COOKIE_PAIR=/^((?:=)?([^=;]*)\s*=\s*)?([^\n\r\0]*)/,PATH_VALUE=/[\x20-\x3A\x3C-\x7E]+/,DAY_OF_MONTH=/^(\d{1,2})[^\d]*$/,TIME=/^(\d{1,2})[^\d]*:(\d{1,2})[^\d]*:(\d{1,2})[^\d]*$/,MONTH=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i,MONTH_TO_NUM={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},NUM_TO_MONTH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NUM_TO_DAY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],YEAR=/^(\d{2}|\d{4})$/,MAX_TIME=2147483647e3;Cookie.cookiesCreated=0,Cookie.parse=parse,Cookie.fromJSON=fromJSON,Cookie.prototype.key="",Cookie.prototype.value="",Cookie.prototype.expires="Infinity",Cookie.prototype.maxAge=null,Cookie.prototype.domain=null,Cookie.prototype.path=null,Cookie.prototype.secure=!1,Cookie.prototype.httpOnly=!1,Cookie.prototype.extensions=null,Cookie.prototype.hostOnly=null,Cookie.prototype.pathIsDefault=null,Cookie.prototype.creation=null,Cookie.prototype.lastAccessed=null,Object.defineProperty(Cookie.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),Cookie.serializableProperties=Object.keys(Cookie.prototype).filter(function(prop){return!(Cookie.prototype[prop]instanceof Function||"creationIndex"===prop||"_"===prop.substr(0,1))}),Cookie.prototype.inspect=function(){var now=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?now-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?now-this.creation.getTime()+"ms":"?")+'"'},Cookie.prototype.toJSON=function(){for(var obj={},props=Cookie.serializableProperties,i=0;i<props.length;i++){var prop=props[i];this[prop]!==Cookie.prototype[prop]&&("expires"===prop||"creation"===prop||"lastAccessed"===prop?null===this[prop]?obj[prop]=null:obj[prop]="Infinity"==this[prop]?"Infinity":this[prop].toISOString():"maxAge"===prop?null!==this[prop]&&(obj[prop]=this[prop]==Infinity||this[prop]==-Infinity?this[prop].toString():this[prop]):this[prop]!==Cookie.prototype[prop]&&(obj[prop]=this[prop]))}return obj},Cookie.prototype.clone=function(){return fromJSON(this.toJSON())},Cookie.prototype.validate=function(){if(!COOKIE_OCTETS.test(this.value))return!1;if(!(this.expires==Infinity||this.expires instanceof Date||parseDate(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!PATH_VALUE.test(this.path))return!1;var cdomain=this.cdomain();if(cdomain){if(cdomain.match(/\.$/))return!1;if(null==pubsuffix.getPublicSuffix(cdomain))return!1}return!0},Cookie.prototype.setExpires=function(exp){exp instanceof Date?this.expires=exp:this.expires=parseDate(exp)||"Infinity"},Cookie.prototype.setMaxAge=function(age){age===Infinity||age===-Infinity?this.maxAge=age.toString():this.maxAge=age},Cookie.prototype.cookieString=function(){var val=this.value;return null==val&&(val=""),""===this.key?val:this.key+"="+val},Cookie.prototype.toString=function(){var str=this.cookieString();return this.expires!=Infinity&&(this.expires instanceof Date?str+="; Expires="+formatDate(this.expires):str+="; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=Infinity&&(str+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(str+="; Domain="+this.domain),this.path&&(str+="; Path="+this.path),this.secure&&(str+="; Secure"),this.httpOnly&&(str+="; HttpOnly"),this.extensions&&this.extensions.forEach(function(ext){str+="; "+ext}),str},Cookie.prototype.TTL=function(now){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var expires=this.expires;return expires!=Infinity?(expires instanceof Date||(expires=parseDate(expires)||Infinity),expires==Infinity?Infinity:expires.getTime()-(now||Date.now())):Infinity},Cookie.prototype.expiryTime=function(now){if(null!=this.maxAge){var relativeTo=now||this.creation||new Date,age=this.maxAge<=0?-Infinity:1e3*this.maxAge;return relativeTo.getTime()+age}return this.expires==Infinity?Infinity:this.expires.getTime()},Cookie.prototype.expiryDate=function(now){var millisec=this.expiryTime(now);return millisec==Infinity?new Date(MAX_TIME):millisec==-Infinity?new Date(0):new Date(millisec)},Cookie.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=Infinity},Cookie.prototype.cdomain=Cookie.prototype.canonicalizedDomain=function(){return null==this.domain?null:canonicalDomain(this.domain)},CookieJar.prototype.store=null,CookieJar.prototype.rejectPublicSuffixes=!0,CookieJar.prototype.enableLooseMode=!1;var CAN_BE_SYNC=[];CAN_BE_SYNC.push("setCookie"),CookieJar.prototype.setCookie=function(cookie,url,options,cb){function withCookie(err,oldCookie){if(err)return cb(err);var next=function(err){if(err)return cb(err);cb(null,cookie)};if(oldCookie){if(!1===options.http&&oldCookie.httpOnly)return err=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),cb(options.ignoreError?null:err);cookie.creation=oldCookie.creation,cookie.creationIndex=oldCookie.creationIndex,cookie.lastAccessed=now,store.updateCookie(oldCookie,cookie,next)}else cookie.creation=cookie.lastAccessed=now,store.putCookie(cookie,next)}var err,context=getCookieContext(url);options instanceof Function&&(cb=options,options={});var host=canonicalDomain(context.hostname),loose=this.enableLooseMode;if(null!=options.loose&&(loose=options.loose),cookie instanceof Cookie||(cookie=Cookie.parse(cookie,{loose:loose})),!cookie)return err=new Error("Cookie failed to parse"),cb(options.ignoreError?null:err);var now=options.now||new Date;if(this.rejectPublicSuffixes&&cookie.domain&&null==pubsuffix.getPublicSuffix(cookie.cdomain()))return err=new Error("Cookie has domain set to a public suffix"),cb(options.ignoreError?null:err);if(cookie.domain){if(!domainMatch(host,cookie.cdomain(),!1))return err=new Error("Cookie not in this host's domain. Cookie:"+cookie.cdomain()+" Request:"+host),cb(options.ignoreError?null:err);null==cookie.hostOnly&&(cookie.hostOnly=!1)}else cookie.hostOnly=!0,cookie.domain=host;if(cookie.path&&"/"===cookie.path[0]||(cookie.path=defaultPath(context.pathname),cookie.pathIsDefault=!0),!1===options.http&&cookie.httpOnly)return err=new Error("Cookie is HttpOnly and this isn't an HTTP API"),cb(options.ignoreError?null:err);var store=this.store;store.updateCookie||(store.updateCookie=function(oldCookie,newCookie,cb){this.putCookie(newCookie,cb)}),store.findCookie(cookie.domain,cookie.path,cookie.key,withCookie)},CAN_BE_SYNC.push("getCookies"),CookieJar.prototype.getCookies=function(url,options,cb){function matchingCookie(c){if(c.hostOnly){if(c.domain!=host)return!1}else if(!domainMatch(host,c.domain,!1))return!1;return!(!allPaths&&!pathMatch(path,c.path))&&(!(c.secure&&!secure)&&(!(c.httpOnly&&!http)&&(!(expireCheck&&c.expiryTime()<=now)||(store.removeCookie(c.domain,c.path,c.key,function(){}),!1))))}var context=getCookieContext(url);options instanceof Function&&(cb=options,options={});var host=canonicalDomain(context.hostname),path=context.pathname||"/",secure=options.secure;null!=secure||!context.protocol||"https:"!=context.protocol&&"wss:"!=context.protocol||(secure=!0);var http=options.http;null==http&&(http=!0);var now=options.now||Date.now(),expireCheck=!1!==options.expire,allPaths=!!options.allPaths,store=this.store;store.findCookies(host,allPaths?null:path,function(err,cookies){if(err)return cb(err);cookies=cookies.filter(matchingCookie),!1!==options.sort&&(cookies=cookies.sort(cookieCompare));var now=new Date;cookies.forEach(function(c){c.lastAccessed=now}),cb(null,cookies)})},CAN_BE_SYNC.push("getCookieString"),CookieJar.prototype.getCookieString=function(){var args=Array.prototype.slice.call(arguments,0),cb=args.pop(),next=function(err,cookies){err?cb(err):cb(null,cookies.sort(cookieCompare).map(function(c){return c.cookieString()}).join("; "))};args.push(next),this.getCookies.apply(this,args)},CAN_BE_SYNC.push("getSetCookieStrings"),CookieJar.prototype.getSetCookieStrings=function(){var args=Array.prototype.slice.call(arguments,0),cb=args.pop(),next=function(err,cookies){err?cb(err):cb(null,cookies.map(function(c){return c.toString()}))};args.push(next),this.getCookies.apply(this,args)},CAN_BE_SYNC.push("serialize"),CookieJar.prototype.serialize=function(cb){var type=this.store.constructor.name;"Object"===type&&(type=null);var serialized={version:"tough-cookie@"+VERSION,storeType:type,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return cb(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies(function(err,cookies){return err?cb(err):(serialized.cookies=cookies.map(function(cookie){return cookie=cookie instanceof Cookie?cookie.toJSON():cookie,delete cookie.creationIndex,cookie}),cb(null,serialized))})},CookieJar.prototype.toJSON=function(){return this.serializeSync()},CAN_BE_SYNC.push("_importCookies"),CookieJar.prototype._importCookies=function(serialized,cb){function putNext(err){if(err)return cb(err);if(!cookies.length)return cb(err,jar);var cookie;try{cookie=fromJSON(cookies.shift())}catch(e){return cb(e)}if(null===cookie)return putNext(null);jar.store.putCookie(cookie,putNext)}var jar=this,cookies=serialized.cookies;if(!cookies||!Array.isArray(cookies))return cb(new Error("serialized jar has no cookies array"));putNext()},CookieJar.deserialize=function(strOrObj,store,cb){3!==arguments.length&&(cb=store,store=null);var serialized;if("string"==typeof strOrObj){if((serialized=jsonParse(strOrObj))instanceof Error)return cb(serialized)}else serialized=strOrObj;var jar=new CookieJar(store,serialized.rejectPublicSuffixes);jar._importCookies(serialized,function(err){if(err)return cb(err);cb(null,jar)})},CookieJar.deserializeSync=function(strOrObj,store){var serialized="string"==typeof strOrObj?JSON.parse(strOrObj):strOrObj,jar=new CookieJar(store,serialized.rejectPublicSuffixes);if(!jar.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return jar._importCookiesSync(serialized),jar},CookieJar.fromJSON=CookieJar.deserializeSync,CAN_BE_SYNC.push("clone"),CookieJar.prototype.clone=function(newStore,cb){1===arguments.length&&(cb=newStore,newStore=null),this.serialize(function(err,serialized){if(err)return cb(err);CookieJar.deserialize(newStore,serialized,cb)})},CAN_BE_SYNC.forEach(function(method){CookieJar.prototype[method+"Sync"]=syncWrap(method)}),module.exports={CookieJar:CookieJar,Cookie:Cookie,Store:Store,MemoryCookieStore:MemoryCookieStore,parseDate:parseDate,formatDate:formatDate,parse:parse,fromJSON:fromJSON,domainMatch:domainMatch,defaultPath:defaultPath,pathMatch:pathMatch,getPublicSuffix:pubsuffix.getPublicSuffix,cookieCompare:cookieCompare,permuteDomain:require("./permuteDomain").permuteDomain,permutePath:permutePath,canonicalDomain:canonicalDomain}},{"../package.json":627,"./memstore":622,"./pathMatch":623,"./permuteDomain":624,"./pubsuffix":625,"./store":626,net:101,punycode:541,url:630}],622:[function(require,module,exports){"use strict";function MemoryCookieStore(){Store.call(this),this.idx={}}var Store=require("./store").Store,permuteDomain=require("./permuteDomain").permuteDomain,pathMatch=require("./pathMatch").pathMatch,util=require("util");util.inherits(MemoryCookieStore,Store),exports.MemoryCookieStore=MemoryCookieStore,MemoryCookieStore.prototype.idx=null,MemoryCookieStore.prototype.synchronous=!0,MemoryCookieStore.prototype.inspect=function(){return"{ idx: "+util.inspect(this.idx,!1,2)+" }"},MemoryCookieStore.prototype.findCookie=function(domain,path,key,cb){return this.idx[domain]&&this.idx[domain][path]?cb(null,this.idx[domain][path][key]||null):cb(null,undefined)},MemoryCookieStore.prototype.findCookies=function(domain,path,cb){var results=[];if(!domain)return cb(null,[]);var pathMatcher;pathMatcher=path?function(domainIndex){Object.keys(domainIndex).forEach(function(cookiePath){if(pathMatch(path,cookiePath)){var pathIndex=domainIndex[cookiePath];for(var key in pathIndex)results.push(pathIndex[key])}})}:function(domainIndex){for(var curPath in domainIndex){var pathIndex=domainIndex[curPath];for(var key in pathIndex)results.push(pathIndex[key])}};var domains=permuteDomain(domain)||[domain],idx=this.idx;domains.forEach(function(curDomain){var domainIndex=idx[curDomain];domainIndex&&pathMatcher(domainIndex)}),cb(null,results)},MemoryCookieStore.prototype.putCookie=function(cookie,cb){this.idx[cookie.domain]||(this.idx[cookie.domain]={}),this.idx[cookie.domain][cookie.path]||(this.idx[cookie.domain][cookie.path]={}),this.idx[cookie.domain][cookie.path][cookie.key]=cookie,cb(null)},MemoryCookieStore.prototype.updateCookie=function(oldCookie,newCookie,cb){this.putCookie(newCookie,cb)},MemoryCookieStore.prototype.removeCookie=function(domain,path,key,cb){this.idx[domain]&&this.idx[domain][path]&&this.idx[domain][path][key]&&delete this.idx[domain][path][key],cb(null)},MemoryCookieStore.prototype.removeCookies=function(domain,path,cb){return this.idx[domain]&&(path?delete this.idx[domain][path]:delete this.idx[domain]),cb(null)},MemoryCookieStore.prototype.getAllCookies=function(cb){var cookies=[],idx=this.idx;Object.keys(idx).forEach(function(domain){Object.keys(idx[domain]).forEach(function(path){Object.keys(idx[domain][path]).forEach(function(key){null!==key&&cookies.push(idx[domain][path][key])})})}),cookies.sort(function(a,b){return(a.creationIndex||0)-(b.creationIndex||0)}),cb(null,cookies)}},{"./pathMatch":623,"./permuteDomain":624,"./store":626,util:635}],623:[function(require,module,exports){"use strict";function pathMatch(reqPath,cookiePath){if(cookiePath===reqPath)return!0;if(0===reqPath.indexOf(cookiePath)){if("/"===cookiePath.substr(-1))return!0;if("/"===reqPath.substr(cookiePath.length,1))return!0}return!1}exports.pathMatch=pathMatch},{}],624:[function(require,module,exports){"use strict";function permuteDomain(domain){var pubSuf=pubsuffix.getPublicSuffix(domain);if(!pubSuf)return null;if(pubSuf==domain)return[domain];for(var parts=domain.slice(0,-(pubSuf.length+1)).split(".").reverse(),cur=pubSuf,permutations=[cur];parts.length;)cur=parts.shift()+"."+cur,permutations.push(cur);return permutations}var pubsuffix=require("./pubsuffix");exports.permuteDomain=permuteDomain},{"./pubsuffix":625}],625:[function(require,module,exports){"use strict";var punycode=require("punycode");module.exports.getPublicSuffix=function(domain){if(!domain)return null;if(domain.match(/^\./))return null;var asciiDomain=punycode.toASCII(domain),converted=!1;if(asciiDomain!==domain&&(domain=asciiDomain,converted=!0),index[domain])return null;for(var parts=(domain=domain.toLowerCase()).split(".").reverse(),suffix="",suffixLen=0,i=0;i<parts.length;i++){var partstr=parts[i]+suffix;index["*"+suffix]?(suffixLen=i+1,!1===index[partstr]&&suffixLen--):index[partstr]&&(suffixLen=i+1),suffix="."+partstr}if(index["*"+suffix])return null;if(suffixLen=suffixLen||1,parts.length>suffixLen){var publicSuffix=parts.slice(0,suffixLen+1).reverse().join(".");return converted?punycode.toUnicode(publicSuffix):publicSuffix}return null};var index=module.exports.index=Object.freeze({ac:!0,"com.ac":!0,"edu.ac":!0,"gov.ac":!0,"net.ac":!0,"mil.ac":!0,"org.ac":!0,ad:!0,"nom.ad":!0,ae:!0,"co.ae":!0,"net.ae":!0,"org.ae":!0,"sch.ae":!0,"ac.ae":!0,"gov.ae":!0,"mil.ae":!0,aero:!0,"accident-investigation.aero":!0,"accident-prevention.aero":!0,"aerobatic.aero":!0,"aeroclub.aero":!0,"aerodrome.aero":!0,"agents.aero":!0,"aircraft.aero":!0,"airline.aero":!0,"airport.aero":!0,"air-surveillance.aero":!0,"airtraffic.aero":!0,"air-traffic-control.aero":!0,"ambulance.aero":!0,"amusement.aero":!0,"association.aero":!0,"author.aero":!0,"ballooning.aero":!0,"broker.aero":!0,"caa.aero":!0,"cargo.aero":!0,"catering.aero":!0,"certification.aero":!0,"championship.aero":!0,"charter.aero":!0,"civilaviation.aero":!0,"club.aero":!0,"conference.aero":!0,"consultant.aero":!0,"consulting.aero":!0,"control.aero":!0,"council.aero":!0,"crew.aero":!0,"design.aero":!0,"dgca.aero":!0,"educator.aero":!0,"emergency.aero":!0,"engine.aero":!0,"engineer.aero":!0,"entertainment.aero":!0,"equipment.aero":!0,"exchange.aero":!0,"express.aero":!0,"federation.aero":!0,"flight.aero":!0,"freight.aero":!0,"fuel.aero":!0,"gliding.aero":!0,"government.aero":!0,"groundhandling.aero":!0,"group.aero":!0,"hanggliding.aero":!0,"homebuilt.aero":!0,"insurance.aero":!0,"journal.aero":!0,"journalist.aero":!0,"leasing.aero":!0,"logistics.aero":!0,"magazine.aero":!0,"maintenance.aero":!0,"marketplace.aero":!0,"media.aero":!0,"microlight.aero":!0,"modelling.aero":!0,"navigation.aero":!0,"parachuting.aero":!0,"paragliding.aero":!0,"passenger-association.aero":!0,"pilot.aero":!0,"press.aero":!0,"production.aero":!0,"recreation.aero":!0,"repbody.aero":!0,"res.aero":!0,"research.aero":!0,"rotorcraft.aero":!0,"safety.aero":!0,"scientist.aero":!0,"services.aero":!0,"show.aero":!0,"skydiving.aero":!0,"software.aero":!0,"student.aero":!0,"taxi.aero":!0,"trader.aero":!0,"trading.aero":!0,"trainer.aero":!0,"union.aero":!0,"workinggroup.aero":!0,"works.aero":!0,af:!0,"gov.af":!0,"com.af":!0,"org.af":!0,"net.af":!0,"edu.af":!0,ag:!0,"com.ag":!0,"org.ag":!0,"net.ag":!0,"co.ag":!0,"nom.ag":!0,ai:!0,"off.ai":!0,"com.ai":!0,"net.ai":!0,"org.ai":!0,al:!0,"com.al":!0,"edu.al":!0,"gov.al":!0,"mil.al":!0,"net.al":!0,"org.al":!0,am:!0,an:!0,"com.an":!0,"net.an":!0,"org.an":!0,"edu.an":!0,ao:!0,"ed.ao":!0,"gv.ao":!0,"og.ao":!0,"co.ao":!0,"pb.ao":!0,"it.ao":!0,aq:!0,ar:!0,"com.ar":!0,"edu.ar":!0,"gob.ar":!0,"gov.ar":!0,"int.ar":!0,"mil.ar":!0,"net.ar":!0,"org.ar":!0,"tur.ar":!0,arpa:!0,"e164.arpa":!0,"in-addr.arpa":!0,"ip6.arpa":!0,"iris.arpa":!0,"uri.arpa":!0,"urn.arpa":!0,as:!0,"gov.as":!0,asia:!0,at:!0,"ac.at":!0,"co.at":!0,"gv.at":!0,"or.at":!0,au:!0,"com.au":!0,"net.au":!0,"org.au":!0,"edu.au":!0,"gov.au":!0,"asn.au":!0,"id.au":!0,"info.au":!0,"conf.au":!0,"oz.au":!0,"act.au":!0,"nsw.au":!0,"nt.au":!0,"qld.au":!0,"sa.au":!0,"tas.au":!0,"vic.au":!0,"wa.au":!0,"act.edu.au":!0,"nsw.edu.au":!0,"nt.edu.au":!0,"qld.edu.au":!0,"sa.edu.au":!0,"tas.edu.au":!0,"vic.edu.au":!0,"wa.edu.au":!0,"qld.gov.au":!0,"sa.gov.au":!0,"tas.gov.au":!0,"vic.gov.au":!0,"wa.gov.au":!0,aw:!0,"com.aw":!0,ax:!0,az:!0,"com.az":!0,"net.az":!0,"int.az":!0,"gov.az":!0,"org.az":!0,"edu.az":!0,"info.az":!0,"pp.az":!0,"mil.az":!0,"name.az":!0,"pro.az":!0,"biz.az":!0,ba:!0,"org.ba":!0,"net.ba":!0,"edu.ba":!0,"gov.ba":!0,"mil.ba":!0,"unsa.ba":!0,"unbi.ba":!0,"co.ba":!0,"com.ba":!0,"rs.ba":!0,bb:!0,"biz.bb":!0,"co.bb":!0,"com.bb":!0,"edu.bb":!0,"gov.bb":!0,"info.bb":!0,"net.bb":!0,"org.bb":!0,"store.bb":!0,"tv.bb":!0,"*.bd":!0,be:!0,"ac.be":!0,bf:!0,"gov.bf":!0,bg:!0,"a.bg":!0,"b.bg":!0,"c.bg":!0,"d.bg":!0,"e.bg":!0,"f.bg":!0,"g.bg":!0,"h.bg":!0,"i.bg":!0,"j.bg":!0,"k.bg":!0,"l.bg":!0,"m.bg":!0,"n.bg":!0,"o.bg":!0,"p.bg":!0,"q.bg":!0,"r.bg":!0,"s.bg":!0,"t.bg":!0,"u.bg":!0,"v.bg":!0,"w.bg":!0,"x.bg":!0,"y.bg":!0,"z.bg":!0,"0.bg":!0,"1.bg":!0,"2.bg":!0,"3.bg":!0,"4.bg":!0,"5.bg":!0,"6.bg":!0,"7.bg":!0,"8.bg":!0,"9.bg":!0,bh:!0,"com.bh":!0,"edu.bh":!0,"net.bh":!0,"org.bh":!0,"gov.bh":!0,bi:!0,"co.bi":!0,"com.bi":!0,"edu.bi":!0,"or.bi":!0,"org.bi":!0,biz:!0,bj:!0,"asso.bj":!0,"barreau.bj":!0,"gouv.bj":!0,bm:!0,"com.bm":!0,"edu.bm":!0,"gov.bm":!0,"net.bm":!0,"org.bm":!0,"*.bn":!0,bo:!0,"com.bo":!0,"edu.bo":!0,"gov.bo":!0,"gob.bo":!0,"int.bo":!0,"org.bo":!0,"net.bo":!0,"mil.bo":!0,"tv.bo":!0,br:!0,"adm.br":!0,"adv.br":!0,"agr.br":!0,"am.br":!0,"arq.br":!0,"art.br":!0,"ato.br":!0,"b.br":!0,"bio.br":!0,"blog.br":!0,"bmd.br":!0,"cim.br":!0,"cng.br":!0,"cnt.br":!0,"com.br":!0,"coop.br":!0,"ecn.br":!0,"eco.br":!0,"edu.br":!0,"emp.br":!0,"eng.br":!0,"esp.br":!0,"etc.br":!0,"eti.br":!0,"far.br":!0,"flog.br":!0,"fm.br":!0,"fnd.br":!0,"fot.br":!0,"fst.br":!0,"g12.br":!0,"ggf.br":!0,"gov.br":!0,"imb.br":!0,"ind.br":!0,"inf.br":!0,"jor.br":!0,"jus.br":!0,"leg.br":!0,"lel.br":!0,"mat.br":!0,"med.br":!0,"mil.br":!0,"mp.br":!0,"mus.br":!0,"net.br":!0,"*.nom.br":!0,"not.br":!0,"ntr.br":!0,"odo.br":!0,"org.br":!0,"ppg.br":!0,"pro.br":!0,"psc.br":!0,"psi.br":!0,"qsl.br":!0,"radio.br":!0,"rec.br":!0,"slg.br":!0,"srv.br":!0,"taxi.br":!0,"teo.br":!0,"tmp.br":!0,"trd.br":!0,"tur.br":!0,"tv.br":!0,"vet.br":!0,"vlog.br":!0,"wiki.br":!0,"zlg.br":!0,bs:!0,"com.bs":!0,"net.bs":!0,"org.bs":!0,"edu.bs":!0,"gov.bs":!0,bt:!0,"com.bt":!0,"edu.bt":!0,"gov.bt":!0,"net.bt":!0,"org.bt":!0,bv:!0,bw:!0,"co.bw":!0,"org.bw":!0,by:!0,"gov.by":!0,"mil.by":!0,"com.by":!0,"of.by":!0,bz:!0,"com.bz":!0,"net.bz":!0,"org.bz":!0,"edu.bz":!0,"gov.bz":!0,ca:!0,"ab.ca":!0,"bc.ca":!0,"mb.ca":!0,"nb.ca":!0,"nf.ca":!0,"nl.ca":!0,"ns.ca":!0,"nt.ca":!0,"nu.ca":!0,"on.ca":!0,"pe.ca":!0,"qc.ca":!0,"sk.ca":!0,"yk.ca":!0,"gc.ca":!0,cat:!0,cc:!0,cd:!0,"gov.cd":!0,cf:!0,cg:!0,ch:!0,ci:!0,"org.ci":!0,"or.ci":!0,"com.ci":!0,"co.ci":!0,"edu.ci":!0,"ed.ci":!0,"ac.ci":!0,"net.ci":!0,"go.ci":!0,"asso.ci":!0,"xn--aroport-bya.ci":!0,"int.ci":!0,"presse.ci":!0,"md.ci":!0,"gouv.ci":!0,"*.ck":!0,"www.ck":!1,cl:!0,"gov.cl":!0,"gob.cl":!0,"co.cl":!0,"mil.cl":!0,cm:!0,"co.cm":!0,"com.cm":!0,"gov.cm":!0,"net.cm":!0,cn:!0,"ac.cn":!0,"com.cn":!0,"edu.cn":!0,"gov.cn":!0,"net.cn":!0,"org.cn":!0,"mil.cn":!0,"xn--55qx5d.cn":!0,"xn--io0a7i.cn":!0,"xn--od0alg.cn":!0,"ah.cn":!0,"bj.cn":!0,"cq.cn":!0,"fj.cn":!0,"gd.cn":!0,"gs.cn":!0,"gz.cn":!0,"gx.cn":!0,"ha.cn":!0,"hb.cn":!0,"he.cn":!0,"hi.cn":!0,"hl.cn":!0,"hn.cn":!0,"jl.cn":!0,"js.cn":!0,"jx.cn":!0,"ln.cn":!0,"nm.cn":!0,"nx.cn":!0,"qh.cn":!0,"sc.cn":!0,"sd.cn":!0,"sh.cn":!0,"sn.cn":!0,"sx.cn":!0,"tj.cn":!0,"xj.cn":!0,"xz.cn":!0,"yn.cn":!0,"zj.cn":!0,"hk.cn":!0,"mo.cn":!0,"tw.cn":!0,co:!0,"arts.co":!0,"com.co":!0,"edu.co":!0,"firm.co":!0,"gov.co":!0,"info.co":!0,"int.co":!0,"mil.co":!0,"net.co":!0,"nom.co":!0,"org.co":!0,"rec.co":!0,"web.co":!0,com:!0,coop:!0,cr:!0,"ac.cr":!0,"co.cr":!0,"ed.cr":!0,"fi.cr":!0,"go.cr":!0,"or.cr":!0,"sa.cr":!0,cu:!0,"com.cu":!0,"edu.cu":!0,"org.cu":!0,"net.cu":!0,"gov.cu":!0,"inf.cu":!0,cv:!0,cw:!0,"com.cw":!0,"edu.cw":!0,"net.cw":!0,"org.cw":!0,cx:!0,"gov.cx":!0,"ac.cy":!0,"biz.cy":!0,"com.cy":!0,"ekloges.cy":!0,"gov.cy":!0,"ltd.cy":!0,"name.cy":!0,"net.cy":!0,"org.cy":!0,"parliament.cy":!0,"press.cy":!0,"pro.cy":!0,"tm.cy":!0,cz:!0,de:!0,dj:!0,dk:!0,dm:!0,"com.dm":!0,"net.dm":!0,"org.dm":!0,"edu.dm":!0,"gov.dm":!0,"do":!0,"art.do":!0,"com.do":!0,"edu.do":!0,"gob.do":!0,"gov.do":!0,"mil.do":!0,"net.do":!0,"org.do":!0,"sld.do":!0,"web.do":!0,dz:!0,"com.dz":!0,"org.dz":!0,"net.dz":!0,"gov.dz":!0,"edu.dz":!0,"asso.dz":!0,"pol.dz":!0,"art.dz":!0,ec:!0,"com.ec":!0,"info.ec":!0,"net.ec":!0,"fin.ec":!0,"k12.ec":!0,"med.ec":!0,"pro.ec":!0,"org.ec":!0,"edu.ec":!0,"gov.ec":!0,"gob.ec":!0,"mil.ec":!0,edu:!0,ee:!0,"edu.ee":!0,"gov.ee":!0,"riik.ee":!0,"lib.ee":!0,"med.ee":!0,"com.ee":!0,"pri.ee":!0,"aip.ee":!0,"org.ee":!0,"fie.ee":!0,eg:!0,"com.eg":!0,"edu.eg":!0,"eun.eg":!0,"gov.eg":!0,"mil.eg":!0,"name.eg":!0,"net.eg":!0,"org.eg":!0,"sci.eg":!0,"*.er":!0,es:!0,"com.es":!0,"nom.es":!0,"org.es":!0,"gob.es":!0,"edu.es":!0,et:!0,"com.et":!0,"gov.et":!0,"org.et":!0,"edu.et":!0,"biz.et":!0,"name.et":!0,"info.et":!0,"net.et":!0,eu:!0,fi:!0,"aland.fi":!0,"*.fj":!0,"*.fk":!0,fm:!0,fo:!0,fr:!0,"com.fr":!0,"asso.fr":!0,"nom.fr":!0,"prd.fr":!0,"presse.fr":!0,"tm.fr":!0,"aeroport.fr":!0,"assedic.fr":!0,"avocat.fr":!0,"avoues.fr":!0,"cci.fr":!0,"chambagri.fr":!0,"chirurgiens-dentistes.fr":!0,"experts-comptables.fr":!0,"geometre-expert.fr":!0,"gouv.fr":!0,"greta.fr":!0,"huissier-justice.fr":!0,"medecin.fr":!0,"notaires.fr":!0,"pharmacien.fr":!0,"port.fr":!0,"veterinaire.fr":!0,ga:!0,gb:!0,gd:!0,ge:!0,"com.ge":!0,"edu.ge":!0,"gov.ge":!0,"org.ge":!0,"mil.ge":!0,"net.ge":!0,"pvt.ge":!0,gf:!0,gg:!0,"co.gg":!0,"net.gg":!0,"org.gg":!0,gh:!0,"com.gh":!0,"edu.gh":!0,"gov.gh":!0,"org.gh":!0,"mil.gh":!0,gi:!0,"com.gi":!0,"ltd.gi":!0,"gov.gi":!0,"mod.gi":!0,"edu.gi":!0,"org.gi":!0,gl:!0,"co.gl":!0,"com.gl":!0,"edu.gl":!0,"net.gl":!0,"org.gl":!0,gm:!0,gn:!0,"ac.gn":!0,"com.gn":!0,"edu.gn":!0,"gov.gn":!0,"org.gn":!0,"net.gn":!0,gov:!0,gp:!0,"com.gp":!0,"net.gp":!0,"mobi.gp":!0,"edu.gp":!0,"org.gp":!0,"asso.gp":!0,gq:!0,gr:!0,"com.gr":!0,"edu.gr":!0,"net.gr":!0,"org.gr":!0,"gov.gr":!0,gs:!0,gt:!0,"com.gt":!0,"edu.gt":!0,"gob.gt":!0,"ind.gt":!0,"mil.gt":!0,"net.gt":!0,"org.gt":!0,"*.gu":!0,gw:!0,gy:!0,"co.gy":!0,"com.gy":!0,"net.gy":!0,hk:!0,"com.hk":!0,"edu.hk":!0,"gov.hk":!0,"idv.hk":!0,"net.hk":!0,"org.hk":!0,"xn--55qx5d.hk":!0,"xn--wcvs22d.hk":!0,"xn--lcvr32d.hk":!0,"xn--mxtq1m.hk":!0,"xn--gmqw5a.hk":!0,"xn--ciqpn.hk":!0,"xn--gmq050i.hk":!0,"xn--zf0avx.hk":!0,"xn--io0a7i.hk":!0,"xn--mk0axi.hk":!0,"xn--od0alg.hk":!0,"xn--od0aq3b.hk":!0,"xn--tn0ag.hk":!0,"xn--uc0atv.hk":!0,"xn--uc0ay4a.hk":!0,hm:!0,hn:!0,"com.hn":!0,"edu.hn":!0,"org.hn":!0,"net.hn":!0,"mil.hn":!0,"gob.hn":!0,hr:!0,"iz.hr":!0,"from.hr":!0,"name.hr":!0,"com.hr":!0,ht:!0,"com.ht":!0,"shop.ht":!0,"firm.ht":!0,"info.ht":!0,"adult.ht":!0,"net.ht":!0,"pro.ht":!0,"org.ht":!0,"med.ht":!0,"art.ht":!0,"coop.ht":!0,"pol.ht":!0,"asso.ht":!0,"edu.ht":!0,"rel.ht":!0,"gouv.ht":!0,"perso.ht":!0,hu:!0,"co.hu":!0,"info.hu":!0,"org.hu":!0,"priv.hu":!0,"sport.hu":!0,"tm.hu":!0,"2000.hu":!0,"agrar.hu":!0,"bolt.hu":!0,"casino.hu":!0,"city.hu":!0,"erotica.hu":!0,"erotika.hu":!0,"film.hu":!0,"forum.hu":!0,"games.hu":!0,"hotel.hu":!0,"ingatlan.hu":!0,"jogasz.hu":!0,"konyvelo.hu":!0,"lakas.hu":!0,"media.hu":!0,"news.hu":!0,"reklam.hu":!0,"sex.hu":!0,"shop.hu":!0,"suli.hu":!0,"szex.hu":!0,"tozsde.hu":!0,"utazas.hu":!0,"video.hu":!0,id:!0,"ac.id":!0,"biz.id":!0,"co.id":!0,"desa.id":!0,"go.id":!0,"mil.id":!0,"my.id":!0,"net.id":!0,"or.id":!0,"sch.id":!0,"web.id":!0,ie:!0,"gov.ie":!0,il:!0,"ac.il":!0,"co.il":!0,"gov.il":!0,"idf.il":!0,"k12.il":!0,"muni.il":!0,"net.il":!0,"org.il":!0,im:!0,"ac.im":!0,"co.im":!0,"com.im":!0,"ltd.co.im":!0,"net.im":!0,"org.im":!0,"plc.co.im":!0,"tt.im":!0,"tv.im":!0,"in":!0,"co.in":!0,"firm.in":!0,"net.in":!0,"org.in":!0,"gen.in":!0,"ind.in":!0,"nic.in":!0,"ac.in":!0,"edu.in":!0,"res.in":!0,"gov.in":!0,"mil.in":!0,info:!0,int:!0,"eu.int":!0,io:!0,"com.io":!0,iq:!0,"gov.iq":!0,"edu.iq":!0,"mil.iq":!0,"com.iq":!0,"org.iq":!0,"net.iq":!0,ir:!0,"ac.ir":!0,"co.ir":!0,"gov.ir":!0,"id.ir":!0,"net.ir":!0,"org.ir":!0,"sch.ir":!0,"xn--mgba3a4f16a.ir":!0,"xn--mgba3a4fra.ir":!0,is:!0,"net.is":!0,"com.is":!0,"edu.is":!0,"gov.is":!0,"org.is":!0,"int.is":!0,it:!0,"gov.it":!0,"edu.it":!0,"abr.it":!0,"abruzzo.it":!0,"aosta-valley.it":!0,"aostavalley.it":!0,"bas.it":!0,"basilicata.it":!0,"cal.it":!0,"calabria.it":!0,"cam.it":!0,"campania.it":!0,"emilia-romagna.it":!0,"emiliaromagna.it":!0,"emr.it":!0,"friuli-v-giulia.it":!0,"friuli-ve-giulia.it":!0,"friuli-vegiulia.it":!0,"friuli-venezia-giulia.it":!0,"friuli-veneziagiulia.it":!0,"friuli-vgiulia.it":!0,"friuliv-giulia.it":!0,"friulive-giulia.it":!0,"friulivegiulia.it":!0,"friulivenezia-giulia.it":!0,"friuliveneziagiulia.it":!0,"friulivgiulia.it":!0,"fvg.it":!0,"laz.it":!0,"lazio.it":!0,"lig.it":!0,"liguria.it":!0,"lom.it":!0,"lombardia.it":!0,"lombardy.it":!0,"lucania.it":!0,"mar.it":!0,"marche.it":!0,"mol.it":!0,"molise.it":!0,"piedmont.it":!0,"piemonte.it":!0,"pmn.it":!0,"pug.it":!0,"puglia.it":!0,"sar.it":!0,"sardegna.it":!0,"sardinia.it":!0,"sic.it":!0,"sicilia.it":!0,"sicily.it":!0,"taa.it":!0,"tos.it":!0,"toscana.it":!0,"trentino-a-adige.it":!0,"trentino-aadige.it":!0,"trentino-alto-adige.it":!0,"trentino-altoadige.it":!0,"trentino-s-tirol.it":!0,"trentino-stirol.it":!0,"trentino-sud-tirol.it":!0,"trentino-sudtirol.it":!0,"trentino-sued-tirol.it":!0,"trentino-suedtirol.it":!0,"trentinoa-adige.it":!0,"trentinoaadige.it":!0,"trentinoalto-adige.it":!0,"trentinoaltoadige.it":!0,"trentinos-tirol.it":!0,"trentinostirol.it":!0,"trentinosud-tirol.it":!0,"trentinosudtirol.it":!0,"trentinosued-tirol.it":!0,"trentinosuedtirol.it":!0,"tuscany.it":!0,"umb.it":!0,"umbria.it":!0,"val-d-aosta.it":!0,"val-daosta.it":!0,"vald-aosta.it":!0,"valdaosta.it":!0,"valle-aosta.it":!0,"valle-d-aosta.it":!0,"valle-daosta.it":!0,"valleaosta.it":!0,"valled-aosta.it":!0,"valledaosta.it":!0,"vallee-aoste.it":!0,"valleeaoste.it":!0,"vao.it":!0,"vda.it":!0,"ven.it":!0,"veneto.it":!0,"ag.it":!0,"agrigento.it":!0,"al.it":!0,"alessandria.it":!0,"alto-adige.it":!0,"altoadige.it":!0,"an.it":!0,"ancona.it":!0,"andria-barletta-trani.it":!0,"andria-trani-barletta.it":!0,"andriabarlettatrani.it":!0,"andriatranibarletta.it":!0,"ao.it":!0,"aosta.it":!0,"aoste.it":!0,"ap.it":!0,"aq.it":!0,"aquila.it":!0,"ar.it":!0,"arezzo.it":!0,"ascoli-piceno.it":!0,"ascolipiceno.it":!0,"asti.it":!0,"at.it":!0,"av.it":!0,"avellino.it":!0,"ba.it":!0,"balsan.it":!0,"bari.it":!0,"barletta-trani-andria.it":!0,"barlettatraniandria.it":!0,"belluno.it":!0,"benevento.it":!0,"bergamo.it":!0,"bg.it":!0,"bi.it":!0,"biella.it":!0,"bl.it":!0,"bn.it":!0,"bo.it":!0,"bologna.it":!0,"bolzano.it":!0,"bozen.it":!0,"br.it":!0,"brescia.it":!0,"brindisi.it":!0,"bs.it":!0,"bt.it":!0,"bz.it":!0,"ca.it":!0,"cagliari.it":!0,"caltanissetta.it":!0,"campidano-medio.it":!0,"campidanomedio.it":!0,"campobasso.it":!0,"carbonia-iglesias.it":!0,"carboniaiglesias.it":!0,"carrara-massa.it":!0,"carraramassa.it":!0,"caserta.it":!0,"catania.it":!0,"catanzaro.it":!0,"cb.it":!0,"ce.it":!0,"cesena-forli.it":!0,"cesenaforli.it":!0,"ch.it":!0,"chieti.it":!0,"ci.it":!0,"cl.it":!0,"cn.it":!0,"co.it":!0,"como.it":!0,"cosenza.it":!0,"cr.it":!0,"cremona.it":!0,"crotone.it":!0,"cs.it":!0,"ct.it":!0,"cuneo.it":!0,"cz.it":!0,"dell-ogliastra.it":!0,"dellogliastra.it":!0,"en.it":!0,"enna.it":!0,"fc.it":!0,"fe.it":!0,"fermo.it":!0,"ferrara.it":!0,"fg.it":!0,"fi.it":!0,"firenze.it":!0,"florence.it":!0,"fm.it":!0,"foggia.it":!0,"forli-cesena.it":!0,"forlicesena.it":!0,"fr.it":!0,"frosinone.it":!0,"ge.it":!0,"genoa.it":!0,"genova.it":!0,"go.it":!0,"gorizia.it":!0,"gr.it":!0,"grosseto.it":!0,"iglesias-carbonia.it":!0,"iglesiascarbonia.it":!0,"im.it":!0,"imperia.it":!0,"is.it":!0,"isernia.it":!0,"kr.it":!0,"la-spezia.it":!0,"laquila.it":!0,"laspezia.it":!0,"latina.it":!0,"lc.it":!0,"le.it":!0,"lecce.it":!0,"lecco.it":!0,"li.it":!0,"livorno.it":!0,"lo.it":!0,"lodi.it":!0,"lt.it":!0,"lu.it":!0,"lucca.it":!0,"macerata.it":!0,"mantova.it":!0,"massa-carrara.it":!0,"massacarrara.it":!0,"matera.it":!0,"mb.it":!0,"mc.it":!0,"me.it":!0,"medio-campidano.it":!0,"mediocampidano.it":!0,"messina.it":!0,"mi.it":!0,"milan.it":!0,"milano.it":!0,"mn.it":!0,"mo.it":!0,"modena.it":!0,"monza-brianza.it":!0,"monza-e-della-brianza.it":!0,"monza.it":!0,"monzabrianza.it":!0,"monzaebrianza.it":!0,"monzaedellabrianza.it":!0,"ms.it":!0,"mt.it":!0,"na.it":!0,"naples.it":!0,"napoli.it":!0,"no.it":!0,"novara.it":!0,"nu.it":!0,"nuoro.it":!0,"og.it":!0,"ogliastra.it":!0,"olbia-tempio.it":!0,"olbiatempio.it":!0,"or.it":!0,"oristano.it":!0,"ot.it":!0,"pa.it":!0,"padova.it":!0,"padua.it":!0,"palermo.it":!0,"parma.it":!0,"pavia.it":!0,"pc.it":!0,"pd.it":!0,"pe.it":!0,"perugia.it":!0,"pesaro-urbino.it":!0,"pesarourbino.it":!0,"pescara.it":!0,"pg.it":!0,"pi.it":!0,"piacenza.it":!0,"pisa.it":!0,"pistoia.it":!0,"pn.it":!0,"po.it":!0,"pordenone.it":!0,"potenza.it":!0,"pr.it":!0,"prato.it":!0,"pt.it":!0,"pu.it":!0,"pv.it":!0,"pz.it":!0,"ra.it":!0,"ragusa.it":!0,"ravenna.it":!0,"rc.it":!0,"re.it":!0,"reggio-calabria.it":!0,"reggio-emilia.it":!0,"reggiocalabria.it":!0,"reggioemilia.it":!0,"rg.it":!0,"ri.it":!0,"rieti.it":!0,"rimini.it":!0,"rm.it":!0,"rn.it":!0,"ro.it":!0,"roma.it":!0,"rome.it":!0,"rovigo.it":!0,"sa.it":!0,"salerno.it":!0,"sassari.it":!0,"savona.it":!0,"si.it":!0,"siena.it":!0,"siracusa.it":!0,"so.it":!0,"sondrio.it":!0,"sp.it":!0,"sr.it":!0,"ss.it":!0,"suedtirol.it":!0,"sv.it":!0,"ta.it":!0,"taranto.it":!0,"te.it":!0,"tempio-olbia.it":!0,"tempioolbia.it":!0,"teramo.it":!0,"terni.it":!0,"tn.it":!0,"to.it":!0,"torino.it":!0,"tp.it":!0,"tr.it":!0,"trani-andria-barletta.it":!0,"trani-barletta-andria.it":!0,"traniandriabarletta.it":!0,"tranibarlettaandria.it":!0,"trapani.it":!0,"trentino.it":!0,"trento.it":!0,"treviso.it":!0,"trieste.it":!0,"ts.it":!0,"turin.it":!0,"tv.it":!0,"ud.it":!0,"udine.it":!0,"urbino-pesaro.it":!0,"urbinopesaro.it":!0,"va.it":!0,"varese.it":!0,"vb.it":!0,"vc.it":!0,"ve.it":!0,"venezia.it":!0,"venice.it":!0,"verbania.it":!0,"vercelli.it":!0,"verona.it":!0,"vi.it":!0,"vibo-valentia.it":!0,"vibovalentia.it":!0,"vicenza.it":!0,"viterbo.it":!0,"vr.it":!0,"vs.it":!0,"vt.it":!0,"vv.it":!0,je:!0,"co.je":!0,"net.je":!0,"org.je":!0,"*.jm":!0,jo:!0,"com.jo":!0,"org.jo":!0,"net.jo":!0,"edu.jo":!0,"sch.jo":!0,"gov.jo":!0,"mil.jo":!0,"name.jo":!0,jobs:!0,jp:!0,"ac.jp":!0,"ad.jp":!0,"co.jp":!0,"ed.jp":!0,"go.jp":!0,"gr.jp":!0,"lg.jp":!0,"ne.jp":!0,"or.jp":!0,"aichi.jp":!0,"akita.jp":!0,"aomori.jp":!0,"chiba.jp":!0,"ehime.jp":!0,"fukui.jp":!0,"fukuoka.jp":!0,"fukushima.jp":!0,"gifu.jp":!0,"gunma.jp":!0,"hiroshima.jp":!0,"hokkaido.jp":!0,"hyogo.jp":!0,"ibaraki.jp":!0,"ishikawa.jp":!0,"iwate.jp":!0,"kagawa.jp":!0,"kagoshima.jp":!0,"kanagawa.jp":!0,"kochi.jp":!0,"kumamoto.jp":!0,"kyoto.jp":!0,"mie.jp":!0,"miyagi.jp":!0,"miyazaki.jp":!0,"nagano.jp":!0,"nagasaki.jp":!0,"nara.jp":!0,"niigata.jp":!0,"oita.jp":!0,"okayama.jp":!0,"okinawa.jp":!0,"osaka.jp":!0,"saga.jp":!0,"saitama.jp":!0,"shiga.jp":!0,"shimane.jp":!0,"shizuoka.jp":!0,"tochigi.jp":!0,"tokushima.jp":!0,"tokyo.jp":!0,"tottori.jp":!0,"toyama.jp":!0,"wakayama.jp":!0,"yamagata.jp":!0,"yamaguchi.jp":!0,"yamanashi.jp":!0,"xn--4pvxs.jp":!0,"xn--vgu402c.jp":!0,"xn--c3s14m.jp":!0,"xn--f6qx53a.jp":!0,"xn--8pvr4u.jp":!0,"xn--uist22h.jp":!0,"xn--djrs72d6uy.jp":!0,"xn--mkru45i.jp":!0,"xn--0trq7p7nn.jp":!0,"xn--8ltr62k.jp":!0,"xn--2m4a15e.jp":!0,"xn--efvn9s.jp":!0,"xn--32vp30h.jp":!0,"xn--4it797k.jp":!0,"xn--1lqs71d.jp":!0,"xn--5rtp49c.jp":!0,"xn--5js045d.jp":!0,"xn--ehqz56n.jp":!0,"xn--1lqs03n.jp":!0,"xn--qqqt11m.jp":!0,"xn--kbrq7o.jp":!0,"xn--pssu33l.jp":!0,"xn--ntsq17g.jp":!0,"xn--uisz3g.jp":!0,"xn--6btw5a.jp":!0,"xn--1ctwo.jp":!0,"xn--6orx2r.jp":!0,"xn--rht61e.jp":!0,"xn--rht27z.jp":!0,"xn--djty4k.jp":!0,"xn--nit225k.jp":!0,"xn--rht3d.jp":!0,"xn--klty5x.jp":!0,"xn--kltx9a.jp":!0,"xn--kltp7d.jp":!0,"xn--uuwu58a.jp":!0,"xn--zbx025d.jp":!0,"xn--ntso0iqx3a.jp":!0,"xn--elqq16h.jp":!0,"xn--4it168d.jp":!0,"xn--klt787d.jp":!0,"xn--rny31h.jp":!0,"xn--7t0a264c.jp":!0,"xn--5rtq34k.jp":!0,"xn--k7yn95e.jp":!0,"xn--tor131o.jp":!0,"xn--d5qv7z876c.jp":!0,"*.kawasaki.jp":!0,"*.kitakyushu.jp":!0,"*.kobe.jp":!0,"*.nagoya.jp":!0,"*.sapporo.jp":!0,"*.sendai.jp":!0,"*.yokohama.jp":!0,"city.kawasaki.jp":!1,"city.kitakyushu.jp":!1,"city.kobe.jp":!1,"city.nagoya.jp":!1,"city.sapporo.jp":!1,"city.sendai.jp":!1,"city.yokohama.jp":!1,"aisai.aichi.jp":!0,"ama.aichi.jp":!0,"anjo.aichi.jp":!0,"asuke.aichi.jp":!0,"chiryu.aichi.jp":!0,"chita.aichi.jp":!0,"fuso.aichi.jp":!0,"gamagori.aichi.jp":!0,"handa.aichi.jp":!0,"hazu.aichi.jp":!0,"hekinan.aichi.jp":!0,"higashiura.aichi.jp":!0,"ichinomiya.aichi.jp":!0,"inazawa.aichi.jp":!0,"inuyama.aichi.jp":!0,"isshiki.aichi.jp":!0,"iwakura.aichi.jp":!0,"kanie.aichi.jp":!0,"kariya.aichi.jp":!0,"kasugai.aichi.jp":!0,"kira.aichi.jp":!0,"kiyosu.aichi.jp":!0,"komaki.aichi.jp":!0,"konan.aichi.jp":!0,"kota.aichi.jp":!0,"mihama.aichi.jp":!0,"miyoshi.aichi.jp":!0,"nishio.aichi.jp":!0,"nisshin.aichi.jp":!0,"obu.aichi.jp":!0,"oguchi.aichi.jp":!0,"oharu.aichi.jp":!0,"okazaki.aichi.jp":!0,"owariasahi.aichi.jp":!0,"seto.aichi.jp":!0,"shikatsu.aichi.jp":!0,"shinshiro.aichi.jp":!0,"shitara.aichi.jp":!0,"tahara.aichi.jp":!0,"takahama.aichi.jp":!0,"tobishima.aichi.jp":!0,"toei.aichi.jp":!0,"togo.aichi.jp":!0,"tokai.aichi.jp":!0,"tokoname.aichi.jp":!0,"toyoake.aichi.jp":!0,"toyohashi.aichi.jp":!0,"toyokawa.aichi.jp":!0,"toyone.aichi.jp":!0,"toyota.aichi.jp":!0,"tsushima.aichi.jp":!0,"yatomi.aichi.jp":!0,"akita.akita.jp":!0,"daisen.akita.jp":!0,"fujisato.akita.jp":!0,"gojome.akita.jp":!0,"hachirogata.akita.jp":!0,"happou.akita.jp":!0,"higashinaruse.akita.jp":!0,"honjo.akita.jp":!0,"honjyo.akita.jp":!0,"ikawa.akita.jp":!0,"kamikoani.akita.jp":!0,"kamioka.akita.jp":!0,"katagami.akita.jp":!0,"kazuno.akita.jp":!0,"kitaakita.akita.jp":!0,"kosaka.akita.jp":!0,"kyowa.akita.jp":!0,"misato.akita.jp":!0,"mitane.akita.jp":!0,"moriyoshi.akita.jp":!0,"nikaho.akita.jp":!0,"noshiro.akita.jp":!0,"odate.akita.jp":!0,"oga.akita.jp":!0,"ogata.akita.jp":!0,"semboku.akita.jp":!0,"yokote.akita.jp":!0,"yurihonjo.akita.jp":!0,"aomori.aomori.jp":!0,"gonohe.aomori.jp":!0,"hachinohe.aomori.jp":!0,"hashikami.aomori.jp":!0,"hiranai.aomori.jp":!0,"hirosaki.aomori.jp":!0,"itayanagi.aomori.jp":!0,"kuroishi.aomori.jp":!0,"misawa.aomori.jp":!0,"mutsu.aomori.jp":!0,"nakadomari.aomori.jp":!0,"noheji.aomori.jp":!0,"oirase.aomori.jp":!0,"owani.aomori.jp":!0,"rokunohe.aomori.jp":!0,"sannohe.aomori.jp":!0,"shichinohe.aomori.jp":!0,"shingo.aomori.jp":!0,"takko.aomori.jp":!0,"towada.aomori.jp":!0,"tsugaru.aomori.jp":!0,"tsuruta.aomori.jp":!0,"abiko.chiba.jp":!0,"asahi.chiba.jp":!0,"chonan.chiba.jp":!0,"chosei.chiba.jp":!0,"choshi.chiba.jp":!0,"chuo.chiba.jp":!0,"funabashi.chiba.jp":!0,"futtsu.chiba.jp":!0,"hanamigawa.chiba.jp":!0,"ichihara.chiba.jp":!0,"ichikawa.chiba.jp":!0,"ichinomiya.chiba.jp":!0,"inzai.chiba.jp":!0,"isumi.chiba.jp":!0,"kamagaya.chiba.jp":!0,"kamogawa.chiba.jp":!0,"kashiwa.chiba.jp":!0,"katori.chiba.jp":!0,"katsuura.chiba.jp":!0,"kimitsu.chiba.jp":!0,"kisarazu.chiba.jp":!0,"kozaki.chiba.jp":!0,"kujukuri.chiba.jp":!0,"kyonan.chiba.jp":!0,"matsudo.chiba.jp":!0,"midori.chiba.jp":!0,"mihama.chiba.jp":!0,"minamiboso.chiba.jp":!0,"mobara.chiba.jp":!0,"mutsuzawa.chiba.jp":!0,"nagara.chiba.jp":!0,"nagareyama.chiba.jp":!0,"narashino.chiba.jp":!0,"narita.chiba.jp":!0,"noda.chiba.jp":!0,"oamishirasato.chiba.jp":!0,"omigawa.chiba.jp":!0,"onjuku.chiba.jp":!0,"otaki.chiba.jp":!0,"sakae.chiba.jp":!0,"sakura.chiba.jp":!0,"shimofusa.chiba.jp":!0,"shirako.chiba.jp":!0,"shiroi.chiba.jp":!0,"shisui.chiba.jp":!0,"sodegaura.chiba.jp":!0,"sosa.chiba.jp":!0,"tako.chiba.jp":!0,"tateyama.chiba.jp":!0,"togane.chiba.jp":!0,"tohnosho.chiba.jp":!0,"tomisato.chiba.jp":!0,"urayasu.chiba.jp":!0,"yachimata.chiba.jp":!0,"yachiyo.chiba.jp":!0,"yokaichiba.chiba.jp":!0,"yokoshibahikari.chiba.jp":!0,"yotsukaido.chiba.jp":!0,"ainan.ehime.jp":!0,"honai.ehime.jp":!0,"ikata.ehime.jp":!0,"imabari.ehime.jp":!0,"iyo.ehime.jp":!0,"kamijima.ehime.jp":!0,"kihoku.ehime.jp":!0,"kumakogen.ehime.jp":!0,"masaki.ehime.jp":!0,"matsuno.ehime.jp":!0,"matsuyama.ehime.jp":!0,"namikata.ehime.jp":!0,"niihama.ehime.jp":!0,"ozu.ehime.jp":!0,"saijo.ehime.jp":!0,"seiyo.ehime.jp":!0,"shikokuchuo.ehime.jp":!0,"tobe.ehime.jp":!0,"toon.ehime.jp":!0,"uchiko.ehime.jp":!0,"uwajima.ehime.jp":!0,"yawatahama.ehime.jp":!0,"echizen.fukui.jp":!0,"eiheiji.fukui.jp":!0,"fukui.fukui.jp":!0,"ikeda.fukui.jp":!0,"katsuyama.fukui.jp":!0,"mihama.fukui.jp":!0,"minamiechizen.fukui.jp":!0,"obama.fukui.jp":!0,"ohi.fukui.jp":!0,"ono.fukui.jp":!0,"sabae.fukui.jp":!0,"sakai.fukui.jp":!0,"takahama.fukui.jp":!0,"tsuruga.fukui.jp":!0,"wakasa.fukui.jp":!0,"ashiya.fukuoka.jp":!0,"buzen.fukuoka.jp":!0,"chikugo.fukuoka.jp":!0,"chikuho.fukuoka.jp":!0,"chikujo.fukuoka.jp":!0,"chikushino.fukuoka.jp":!0,"chikuzen.fukuoka.jp":!0,"chuo.fukuoka.jp":!0,"dazaifu.fukuoka.jp":!0,"fukuchi.fukuoka.jp":!0,"hakata.fukuoka.jp":!0,"higashi.fukuoka.jp":!0,"hirokawa.fukuoka.jp":!0,"hisayama.fukuoka.jp":!0,"iizuka.fukuoka.jp":!0,"inatsuki.fukuoka.jp":!0,"kaho.fukuoka.jp":!0,"kasuga.fukuoka.jp":!0,"kasuya.fukuoka.jp":!0,"kawara.fukuoka.jp":!0,"keisen.fukuoka.jp":!0,"koga.fukuoka.jp":!0,"kurate.fukuoka.jp":!0,"kurogi.fukuoka.jp":!0,"kurume.fukuoka.jp":!0,"minami.fukuoka.jp":!0,"miyako.fukuoka.jp":!0,"miyama.fukuoka.jp":!0,"miyawaka.fukuoka.jp":!0,"mizumaki.fukuoka.jp":!0,"munakata.fukuoka.jp":!0,"nakagawa.fukuoka.jp":!0,"nakama.fukuoka.jp":!0,"nishi.fukuoka.jp":!0,"nogata.fukuoka.jp":!0,"ogori.fukuoka.jp":!0,"okagaki.fukuoka.jp":!0,"okawa.fukuoka.jp":!0,"oki.fukuoka.jp":!0,"omuta.fukuoka.jp":!0,"onga.fukuoka.jp":!0,"onojo.fukuoka.jp":!0,"oto.fukuoka.jp":!0,"saigawa.fukuoka.jp":!0,"sasaguri.fukuoka.jp":!0,"shingu.fukuoka.jp":!0,"shinyoshitomi.fukuoka.jp":!0,"shonai.fukuoka.jp":!0,"soeda.fukuoka.jp":!0,"sue.fukuoka.jp":!0,"tachiarai.fukuoka.jp":!0,"tagawa.fukuoka.jp":!0,"takata.fukuoka.jp":!0,"toho.fukuoka.jp":!0,"toyotsu.fukuoka.jp":!0,"tsuiki.fukuoka.jp":!0,"ukiha.fukuoka.jp":!0,"umi.fukuoka.jp":!0,"usui.fukuoka.jp":!0,"yamada.fukuoka.jp":!0,"yame.fukuoka.jp":!0,"yanagawa.fukuoka.jp":!0,"yukuhashi.fukuoka.jp":!0,"aizubange.fukushima.jp":!0,"aizumisato.fukushima.jp":!0,"aizuwakamatsu.fukushima.jp":!0,"asakawa.fukushima.jp":!0,"bandai.fukushima.jp":!0,"date.fukushima.jp":!0,"fukushima.fukushima.jp":!0,"furudono.fukushima.jp":!0,"futaba.fukushima.jp":!0,"hanawa.fukushima.jp":!0,"higashi.fukushima.jp":!0,"hirata.fukushima.jp":!0,"hirono.fukushima.jp":!0,"iitate.fukushima.jp":!0,"inawashiro.fukushima.jp":!0,"ishikawa.fukushima.jp":!0,"iwaki.fukushima.jp":!0,"izumizaki.fukushima.jp":!0,"kagamiishi.fukushima.jp":!0,"kaneyama.fukushima.jp":!0,"kawamata.fukushima.jp":!0,"kitakata.fukushima.jp":!0,"kitashiobara.fukushima.jp":!0,"koori.fukushima.jp":!0,"koriyama.fukushima.jp":!0,"kunimi.fukushima.jp":!0,"miharu.fukushima.jp":!0,"mishima.fukushima.jp":!0,"namie.fukushima.jp":!0,"nango.fukushima.jp":!0,"nishiaizu.fukushima.jp":!0,"nishigo.fukushima.jp":!0,"okuma.fukushima.jp":!0,"omotego.fukushima.jp":!0,"ono.fukushima.jp":!0,"otama.fukushima.jp":!0,"samegawa.fukushima.jp":!0,"shimogo.fukushima.jp":!0,"shirakawa.fukushima.jp":!0,"showa.fukushima.jp":!0,"soma.fukushima.jp":!0,"sukagawa.fukushima.jp":!0,"taishin.fukushima.jp":!0,"tamakawa.fukushima.jp":!0,"tanagura.fukushima.jp":!0,"tenei.fukushima.jp":!0,"yabuki.fukushima.jp":!0,"yamato.fukushima.jp":!0,"yamatsuri.fukushima.jp":!0,"yanaizu.fukushima.jp":!0,"yugawa.fukushima.jp":!0,"anpachi.gifu.jp":!0,"ena.gifu.jp":!0,"gifu.gifu.jp":!0,"ginan.gifu.jp":!0,"godo.gifu.jp":!0,"gujo.gifu.jp":!0,"hashima.gifu.jp":!0,"hichiso.gifu.jp":!0,"hida.gifu.jp":!0,"higashishirakawa.gifu.jp":!0,"ibigawa.gifu.jp":!0,"ikeda.gifu.jp":!0,"kakamigahara.gifu.jp":!0,"kani.gifu.jp":!0,"kasahara.gifu.jp":!0,"kasamatsu.gifu.jp":!0,"kawaue.gifu.jp":!0,"kitagata.gifu.jp":!0,"mino.gifu.jp":!0,"minokamo.gifu.jp":!0,"mitake.gifu.jp":!0,"mizunami.gifu.jp":!0,"motosu.gifu.jp":!0,"nakatsugawa.gifu.jp":!0,"ogaki.gifu.jp":!0,"sakahogi.gifu.jp":!0,"seki.gifu.jp":!0,"sekigahara.gifu.jp":!0,"shirakawa.gifu.jp":!0,"tajimi.gifu.jp":!0,"takayama.gifu.jp":!0,"tarui.gifu.jp":!0,"toki.gifu.jp":!0,"tomika.gifu.jp":!0,"wanouchi.gifu.jp":!0,"yamagata.gifu.jp":!0,"yaotsu.gifu.jp":!0,"yoro.gifu.jp":!0,"annaka.gunma.jp":!0,"chiyoda.gunma.jp":!0,"fujioka.gunma.jp":!0,"higashiagatsuma.gunma.jp":!0,"isesaki.gunma.jp":!0,"itakura.gunma.jp":!0,"kanna.gunma.jp":!0,"kanra.gunma.jp":!0,"katashina.gunma.jp":!0,"kawaba.gunma.jp":!0,"kiryu.gunma.jp":!0,"kusatsu.gunma.jp":!0,"maebashi.gunma.jp":!0,"meiwa.gunma.jp":!0,"midori.gunma.jp":!0,"minakami.gunma.jp":!0,"naganohara.gunma.jp":!0,"nakanojo.gunma.jp":!0,"nanmoku.gunma.jp":!0,"numata.gunma.jp":!0,"oizumi.gunma.jp":!0,"ora.gunma.jp":!0,"ota.gunma.jp":!0,"shibukawa.gunma.jp":!0,"shimonita.gunma.jp":!0,"shinto.gunma.jp":!0,"showa.gunma.jp":!0,"takasaki.gunma.jp":!0,"takayama.gunma.jp":!0,"tamamura.gunma.jp":!0,"tatebayashi.gunma.jp":!0,"tomioka.gunma.jp":!0,"tsukiyono.gunma.jp":!0,"tsumagoi.gunma.jp":!0,"ueno.gunma.jp":!0,"yoshioka.gunma.jp":!0,"asaminami.hiroshima.jp":!0,"daiwa.hiroshima.jp":!0,"etajima.hiroshima.jp":!0,"fuchu.hiroshima.jp":!0,"fukuyama.hiroshima.jp":!0,"hatsukaichi.hiroshima.jp":!0,"higashihiroshima.hiroshima.jp":!0,"hongo.hiroshima.jp":!0,"jinsekikogen.hiroshima.jp":!0,"kaita.hiroshima.jp":!0,"kui.hiroshima.jp":!0,"kumano.hiroshima.jp":!0,"kure.hiroshima.jp":!0,"mihara.hiroshima.jp":!0,"miyoshi.hiroshima.jp":!0,"naka.hiroshima.jp":!0,"onomichi.hiroshima.jp":!0,"osakikamijima.hiroshima.jp":!0,"otake.hiroshima.jp":!0,"saka.hiroshima.jp":!0,"sera.hiroshima.jp":!0,"seranishi.hiroshima.jp":!0,"shinichi.hiroshima.jp":!0,"shobara.hiroshima.jp":!0,"takehara.hiroshima.jp":!0,"abashiri.hokkaido.jp":!0,"abira.hokkaido.jp":!0,"aibetsu.hokkaido.jp":!0,"akabira.hokkaido.jp":!0,"akkeshi.hokkaido.jp":!0,"asahikawa.hokkaido.jp":!0,"ashibetsu.hokkaido.jp":!0,"ashoro.hokkaido.jp":!0,"assabu.hokkaido.jp":!0,"atsuma.hokkaido.jp":!0,"bibai.hokkaido.jp":!0,"biei.hokkaido.jp":!0,"bifuka.hokkaido.jp":!0,"bihoro.hokkaido.jp":!0,"biratori.hokkaido.jp":!0,"chippubetsu.hokkaido.jp":!0,"chitose.hokkaido.jp":!0,"date.hokkaido.jp":!0,"ebetsu.hokkaido.jp":!0,"embetsu.hokkaido.jp":!0,"eniwa.hokkaido.jp":!0,"erimo.hokkaido.jp":!0,"esan.hokkaido.jp":!0,"esashi.hokkaido.jp":!0,"fukagawa.hokkaido.jp":!0,"fukushima.hokkaido.jp":!0,"furano.hokkaido.jp":!0,"furubira.hokkaido.jp":!0,"haboro.hokkaido.jp":!0,"hakodate.hokkaido.jp":!0,"hamatonbetsu.hokkaido.jp":!0,"hidaka.hokkaido.jp":!0,"higashikagura.hokkaido.jp":!0,"higashikawa.hokkaido.jp":!0,"hiroo.hokkaido.jp":!0,"hokuryu.hokkaido.jp":!0,"hokuto.hokkaido.jp":!0,"honbetsu.hokkaido.jp":!0,"horokanai.hokkaido.jp":!0,"horonobe.hokkaido.jp":!0,"ikeda.hokkaido.jp":!0,"imakane.hokkaido.jp":!0,"ishikari.hokkaido.jp":!0,"iwamizawa.hokkaido.jp":!0,"iwanai.hokkaido.jp":!0,"kamifurano.hokkaido.jp":!0,"kamikawa.hokkaido.jp":!0,"kamishihoro.hokkaido.jp":!0,"kamisunagawa.hokkaido.jp":!0,"kamoenai.hokkaido.jp":!0,"kayabe.hokkaido.jp":!0,"kembuchi.hokkaido.jp":!0,"kikonai.hokkaido.jp":!0,"kimobetsu.hokkaido.jp":!0,"kitahiroshima.hokkaido.jp":!0,"kitami.hokkaido.jp":!0,"kiyosato.hokkaido.jp":!0,"koshimizu.hokkaido.jp":!0,"kunneppu.hokkaido.jp":!0,"kuriyama.hokkaido.jp":!0,"kuromatsunai.hokkaido.jp":!0,"kushiro.hokkaido.jp":!0,"kutchan.hokkaido.jp":!0,"kyowa.hokkaido.jp":!0,"mashike.hokkaido.jp":!0,"matsumae.hokkaido.jp":!0,"mikasa.hokkaido.jp":!0,"minamifurano.hokkaido.jp":!0,"mombetsu.hokkaido.jp":!0,"moseushi.hokkaido.jp":!0,"mukawa.hokkaido.jp":!0,"muroran.hokkaido.jp":!0,"naie.hokkaido.jp":!0,"nakagawa.hokkaido.jp":!0,"nakasatsunai.hokkaido.jp":!0,"nakatombetsu.hokkaido.jp":!0,"nanae.hokkaido.jp":!0,"nanporo.hokkaido.jp":!0,"nayoro.hokkaido.jp":!0,"nemuro.hokkaido.jp":!0,"niikappu.hokkaido.jp":!0,"niki.hokkaido.jp":!0,"nishiokoppe.hokkaido.jp":!0,"noboribetsu.hokkaido.jp":!0,"numata.hokkaido.jp":!0,"obihiro.hokkaido.jp":!0,"obira.hokkaido.jp":!0,"oketo.hokkaido.jp":!0,"okoppe.hokkaido.jp":!0,"otaru.hokkaido.jp":!0,"otobe.hokkaido.jp":!0,"otofuke.hokkaido.jp":!0,"otoineppu.hokkaido.jp":!0,"oumu.hokkaido.jp":!0,"ozora.hokkaido.jp":!0,"pippu.hokkaido.jp":!0,"rankoshi.hokkaido.jp":!0,"rebun.hokkaido.jp":!0,"rikubetsu.hokkaido.jp":!0,"rishiri.hokkaido.jp":!0,"rishirifuji.hokkaido.jp":!0,"saroma.hokkaido.jp":!0,"sarufutsu.hokkaido.jp":!0,"shakotan.hokkaido.jp":!0,"shari.hokkaido.jp":!0,"shibecha.hokkaido.jp":!0,"shibetsu.hokkaido.jp":!0,"shikabe.hokkaido.jp":!0,"shikaoi.hokkaido.jp":!0,"shimamaki.hokkaido.jp":!0,"shimizu.hokkaido.jp":!0,"shimokawa.hokkaido.jp":!0,"shinshinotsu.hokkaido.jp":!0,"shintoku.hokkaido.jp":!0,"shiranuka.hokkaido.jp":!0,"shiraoi.hokkaido.jp":!0,"shiriuchi.hokkaido.jp":!0,"sobetsu.hokkaido.jp":!0,"sunagawa.hokkaido.jp":!0,"taiki.hokkaido.jp":!0,"takasu.hokkaido.jp":!0,"takikawa.hokkaido.jp":!0,"takinoue.hokkaido.jp":!0,"teshikaga.hokkaido.jp":!0,"tobetsu.hokkaido.jp":!0,"tohma.hokkaido.jp":!0,"tomakomai.hokkaido.jp":!0,"tomari.hokkaido.jp":!0,"toya.hokkaido.jp":!0,"toyako.hokkaido.jp":!0,"toyotomi.hokkaido.jp":!0,"toyoura.hokkaido.jp":!0,"tsubetsu.hokkaido.jp":!0,"tsukigata.hokkaido.jp":!0,"urakawa.hokkaido.jp":!0,"urausu.hokkaido.jp":!0,"uryu.hokkaido.jp":!0,"utashinai.hokkaido.jp":!0,"wakkanai.hokkaido.jp":!0,"wassamu.hokkaido.jp":!0,"yakumo.hokkaido.jp":!0,"yoichi.hokkaido.jp":!0,"aioi.hyogo.jp":!0,"akashi.hyogo.jp":!0,"ako.hyogo.jp":!0,"amagasaki.hyogo.jp":!0,"aogaki.hyogo.jp":!0,"asago.hyogo.jp":!0,"ashiya.hyogo.jp":!0,"awaji.hyogo.jp":!0,"fukusaki.hyogo.jp":!0,"goshiki.hyogo.jp":!0,"harima.hyogo.jp":!0,"himeji.hyogo.jp":!0,"ichikawa.hyogo.jp":!0,"inagawa.hyogo.jp":!0,"itami.hyogo.jp":!0,"kakogawa.hyogo.jp":!0,"kamigori.hyogo.jp":!0,"kamikawa.hyogo.jp":!0,"kasai.hyogo.jp":!0,"kasuga.hyogo.jp":!0,"kawanishi.hyogo.jp":!0,"miki.hyogo.jp":!0,"minamiawaji.hyogo.jp":!0,"nishinomiya.hyogo.jp":!0,"nishiwaki.hyogo.jp":!0,"ono.hyogo.jp":!0,"sanda.hyogo.jp":!0,"sannan.hyogo.jp":!0,"sasayama.hyogo.jp":!0,"sayo.hyogo.jp":!0,"shingu.hyogo.jp":!0,"shinonsen.hyogo.jp":!0,"shiso.hyogo.jp":!0,"sumoto.hyogo.jp":!0,"taishi.hyogo.jp":!0,"taka.hyogo.jp":!0,"takarazuka.hyogo.jp":!0,"takasago.hyogo.jp":!0,"takino.hyogo.jp":!0,"tamba.hyogo.jp":!0,"tatsuno.hyogo.jp":!0,"toyooka.hyogo.jp":!0,"yabu.hyogo.jp":!0,"yashiro.hyogo.jp":!0,"yoka.hyogo.jp":!0,"yokawa.hyogo.jp":!0,"ami.ibaraki.jp":!0,"asahi.ibaraki.jp":!0,"bando.ibaraki.jp":!0,"chikusei.ibaraki.jp":!0,"daigo.ibaraki.jp":!0,"fujishiro.ibaraki.jp":!0,"hitachi.ibaraki.jp":!0,"hitachinaka.ibaraki.jp":!0,"hitachiomiya.ibaraki.jp":!0,"hitachiota.ibaraki.jp":!0,"ibaraki.ibaraki.jp":!0,"ina.ibaraki.jp":!0,"inashiki.ibaraki.jp":!0,"itako.ibaraki.jp":!0,"iwama.ibaraki.jp":!0,"joso.ibaraki.jp":!0,"kamisu.ibaraki.jp":!0,"kasama.ibaraki.jp":!0,"kashima.ibaraki.jp":!0,"kasumigaura.ibaraki.jp":!0,"koga.ibaraki.jp":!0,"miho.ibaraki.jp":!0,"mito.ibaraki.jp":!0,"moriya.ibaraki.jp":!0,"naka.ibaraki.jp":!0,"namegata.ibaraki.jp":!0,"oarai.ibaraki.jp":!0,"ogawa.ibaraki.jp":!0,"omitama.ibaraki.jp":!0,"ryugasaki.ibaraki.jp":!0,"sakai.ibaraki.jp":!0,"sakuragawa.ibaraki.jp":!0,"shimodate.ibaraki.jp":!0,"shimotsuma.ibaraki.jp":!0,"shirosato.ibaraki.jp":!0,"sowa.ibaraki.jp":!0,"suifu.ibaraki.jp":!0,"takahagi.ibaraki.jp":!0,"tamatsukuri.ibaraki.jp":!0,"tokai.ibaraki.jp":!0,"tomobe.ibaraki.jp":!0,"tone.ibaraki.jp":!0,"toride.ibaraki.jp":!0,"tsuchiura.ibaraki.jp":!0,"tsukuba.ibaraki.jp":!0,"uchihara.ibaraki.jp":!0,"ushiku.ibaraki.jp":!0,"yachiyo.ibaraki.jp":!0,"yamagata.ibaraki.jp":!0,"yawara.ibaraki.jp":!0,"yuki.ibaraki.jp":!0,"anamizu.ishikawa.jp":!0,"hakui.ishikawa.jp":!0,"hakusan.ishikawa.jp":!0,"kaga.ishikawa.jp":!0,"kahoku.ishikawa.jp":!0,"kanazawa.ishikawa.jp":!0,"kawakita.ishikawa.jp":!0,"komatsu.ishikawa.jp":!0,"nakanoto.ishikawa.jp":!0,"nanao.ishikawa.jp":!0,"nomi.ishikawa.jp":!0,"nonoichi.ishikawa.jp":!0,"noto.ishikawa.jp":!0,"shika.ishikawa.jp":!0,"suzu.ishikawa.jp":!0,"tsubata.ishikawa.jp":!0,"tsurugi.ishikawa.jp":!0,"uchinada.ishikawa.jp":!0,"wajima.ishikawa.jp":!0,"fudai.iwate.jp":!0,"fujisawa.iwate.jp":!0,"hanamaki.iwate.jp":!0,"hiraizumi.iwate.jp":!0,"hirono.iwate.jp":!0,"ichinohe.iwate.jp":!0,"ichinoseki.iwate.jp":!0,"iwaizumi.iwate.jp":!0,"iwate.iwate.jp":!0,"joboji.iwate.jp":!0,"kamaishi.iwate.jp":!0,"kanegasaki.iwate.jp":!0,"karumai.iwate.jp":!0,"kawai.iwate.jp":!0,"kitakami.iwate.jp":!0,"kuji.iwate.jp":!0,"kunohe.iwate.jp":!0,"kuzumaki.iwate.jp":!0,"miyako.iwate.jp":!0,"mizusawa.iwate.jp":!0,"morioka.iwate.jp":!0,"ninohe.iwate.jp":!0,"noda.iwate.jp":!0,"ofunato.iwate.jp":!0,"oshu.iwate.jp":!0,"otsuchi.iwate.jp":!0,"rikuzentakata.iwate.jp":!0,"shiwa.iwate.jp":!0,"shizukuishi.iwate.jp":!0,"sumita.iwate.jp":!0,"tanohata.iwate.jp":!0,"tono.iwate.jp":!0,"yahaba.iwate.jp":!0,"yamada.iwate.jp":!0,"ayagawa.kagawa.jp":!0,"higashikagawa.kagawa.jp":!0,"kanonji.kagawa.jp":!0,"kotohira.kagawa.jp":!0,"manno.kagawa.jp":!0,"marugame.kagawa.jp":!0,"mitoyo.kagawa.jp":!0,"naoshima.kagawa.jp":!0,"sanuki.kagawa.jp":!0,"tadotsu.kagawa.jp":!0,"takamatsu.kagawa.jp":!0,"tonosho.kagawa.jp":!0,"uchinomi.kagawa.jp":!0,"utazu.kagawa.jp":!0,"zentsuji.kagawa.jp":!0,"akune.kagoshima.jp":!0,"amami.kagoshima.jp":!0,"hioki.kagoshima.jp":!0,"isa.kagoshima.jp":!0,"isen.kagoshima.jp":!0,"izumi.kagoshima.jp":!0,"kagoshima.kagoshima.jp":!0,"kanoya.kagoshima.jp":!0,"kawanabe.kagoshima.jp":!0,"kinko.kagoshima.jp":!0,"kouyama.kagoshima.jp":!0,"makurazaki.kagoshima.jp":!0,"matsumoto.kagoshima.jp":!0,"minamitane.kagoshima.jp":!0,"nakatane.kagoshima.jp":!0,"nishinoomote.kagoshima.jp":!0,"satsumasendai.kagoshima.jp":!0,"soo.kagoshima.jp":!0,"tarumizu.kagoshima.jp":!0,"yusui.kagoshima.jp":!0,"aikawa.kanagawa.jp":!0,"atsugi.kanagawa.jp":!0,"ayase.kanagawa.jp":!0,"chigasaki.kanagawa.jp":!0,"ebina.kanagawa.jp":!0,"fujisawa.kanagawa.jp":!0,"hadano.kanagawa.jp":!0,"hakone.kanagawa.jp":!0,"hiratsuka.kanagawa.jp":!0,"isehara.kanagawa.jp":!0,"kaisei.kanagawa.jp":!0,"kamakura.kanagawa.jp":!0,"kiyokawa.kanagawa.jp":!0,"matsuda.kanagawa.jp":!0,"minamiashigara.kanagawa.jp":!0,"miura.kanagawa.jp":!0,"nakai.kanagawa.jp":!0,"ninomiya.kanagawa.jp":!0,"odawara.kanagawa.jp":!0,"oi.kanagawa.jp":!0,"oiso.kanagawa.jp":!0,"sagamihara.kanagawa.jp":!0,"samukawa.kanagawa.jp":!0,"tsukui.kanagawa.jp":!0,"yamakita.kanagawa.jp":!0,"yamato.kanagawa.jp":!0,"yokosuka.kanagawa.jp":!0,"yugawara.kanagawa.jp":!0,"zama.kanagawa.jp":!0,"zushi.kanagawa.jp":!0,"aki.kochi.jp":!0,"geisei.kochi.jp":!0,"hidaka.kochi.jp":!0,"higashitsuno.kochi.jp":!0,"ino.kochi.jp":!0,"kagami.kochi.jp":!0,"kami.kochi.jp":!0,"kitagawa.kochi.jp":!0,"kochi.kochi.jp":!0,"mihara.kochi.jp":!0,"motoyama.kochi.jp":!0,"muroto.kochi.jp":!0,"nahari.kochi.jp":!0,"nakamura.kochi.jp":!0,"nankoku.kochi.jp":!0,"nishitosa.kochi.jp":!0,"niyodogawa.kochi.jp":!0,"ochi.kochi.jp":!0,"okawa.kochi.jp":!0,"otoyo.kochi.jp":!0,"otsuki.kochi.jp":!0,"sakawa.kochi.jp":!0,"sukumo.kochi.jp":!0,"susaki.kochi.jp":!0,"tosa.kochi.jp":!0,"tosashimizu.kochi.jp":!0,"toyo.kochi.jp":!0,"tsuno.kochi.jp":!0,"umaji.kochi.jp":!0,"yasuda.kochi.jp":!0,"yusuhara.kochi.jp":!0,"amakusa.kumamoto.jp":!0,"arao.kumamoto.jp":!0,"aso.kumamoto.jp":!0,"choyo.kumamoto.jp":!0,"gyokuto.kumamoto.jp":!0,"hitoyoshi.kumamoto.jp":!0,"kamiamakusa.kumamoto.jp":!0,"kashima.kumamoto.jp":!0,"kikuchi.kumamoto.jp":!0,"kosa.kumamoto.jp":!0,"kumamoto.kumamoto.jp":!0,"mashiki.kumamoto.jp":!0,"mifune.kumamoto.jp":!0,"minamata.kumamoto.jp":!0,"minamioguni.kumamoto.jp":!0,"nagasu.kumamoto.jp":!0,"nishihara.kumamoto.jp":!0,"oguni.kumamoto.jp":!0,"ozu.kumamoto.jp":!0,"sumoto.kumamoto.jp":!0,"takamori.kumamoto.jp":!0,"uki.kumamoto.jp":!0,"uto.kumamoto.jp":!0,"yamaga.kumamoto.jp":!0,"yamato.kumamoto.jp":!0,"yatsushiro.kumamoto.jp":!0,"ayabe.kyoto.jp":!0,"fukuchiyama.kyoto.jp":!0,"higashiyama.kyoto.jp":!0,"ide.kyoto.jp":!0,"ine.kyoto.jp":!0,"joyo.kyoto.jp":!0,"kameoka.kyoto.jp":!0,"kamo.kyoto.jp":!0,"kita.kyoto.jp":!0,"kizu.kyoto.jp":!0,"kumiyama.kyoto.jp":!0,"kyotamba.kyoto.jp":!0,"kyotanabe.kyoto.jp":!0,"kyotango.kyoto.jp":!0,"maizuru.kyoto.jp":!0,"minami.kyoto.jp":!0,"minamiyamashiro.kyoto.jp":!0,"miyazu.kyoto.jp":!0,"muko.kyoto.jp":!0,"nagaokakyo.kyoto.jp":!0,"nakagyo.kyoto.jp":!0,"nantan.kyoto.jp":!0,"oyamazaki.kyoto.jp":!0,"sakyo.kyoto.jp":!0,"seika.kyoto.jp":!0,"tanabe.kyoto.jp":!0,"uji.kyoto.jp":!0,"ujitawara.kyoto.jp":!0,"wazuka.kyoto.jp":!0,"yamashina.kyoto.jp":!0,"yawata.kyoto.jp":!0,"asahi.mie.jp":!0,"inabe.mie.jp":!0,"ise.mie.jp":!0,"kameyama.mie.jp":!0,"kawagoe.mie.jp":!0,"kiho.mie.jp":!0,"kisosaki.mie.jp":!0,"kiwa.mie.jp":!0,"komono.mie.jp":!0,"kumano.mie.jp":!0,"kuwana.mie.jp":!0,"matsusaka.mie.jp":!0,"meiwa.mie.jp":!0,"mihama.mie.jp":!0,"minamiise.mie.jp":!0,"misugi.mie.jp":!0,"miyama.mie.jp":!0,"nabari.mie.jp":!0,"shima.mie.jp":!0,"suzuka.mie.jp":!0,"tado.mie.jp":!0,"taiki.mie.jp":!0,"taki.mie.jp":!0,"tamaki.mie.jp":!0,"toba.mie.jp":!0,"tsu.mie.jp":!0,"udono.mie.jp":!0,"ureshino.mie.jp":!0,"watarai.mie.jp":!0,"yokkaichi.mie.jp":!0,"furukawa.miyagi.jp":!0,"higashimatsushima.miyagi.jp":!0,"ishinomaki.miyagi.jp":!0,"iwanuma.miyagi.jp":!0,"kakuda.miyagi.jp":!0,"kami.miyagi.jp":!0,"kawasaki.miyagi.jp":!0,"kesennuma.miyagi.jp":!0,"marumori.miyagi.jp":!0,"matsushima.miyagi.jp":!0,"minamisanriku.miyagi.jp":!0,"misato.miyagi.jp":!0,"murata.miyagi.jp":!0,"natori.miyagi.jp":!0,"ogawara.miyagi.jp":!0,"ohira.miyagi.jp":!0,"onagawa.miyagi.jp":!0,"osaki.miyagi.jp":!0,"rifu.miyagi.jp":!0,"semine.miyagi.jp":!0,"shibata.miyagi.jp":!0,"shichikashuku.miyagi.jp":!0,"shikama.miyagi.jp":!0,"shiogama.miyagi.jp":!0,"shiroishi.miyagi.jp":!0,"tagajo.miyagi.jp":!0,"taiwa.miyagi.jp":!0,"tome.miyagi.jp":!0,"tomiya.miyagi.jp":!0,"wakuya.miyagi.jp":!0,"watari.miyagi.jp":!0,"yamamoto.miyagi.jp":!0,"zao.miyagi.jp":!0,"aya.miyazaki.jp":!0,"ebino.miyazaki.jp":!0,"gokase.miyazaki.jp":!0,"hyuga.miyazaki.jp":!0,"kadogawa.miyazaki.jp":!0,"kawaminami.miyazaki.jp":!0,"kijo.miyazaki.jp":!0,"kitagawa.miyazaki.jp":!0,"kitakata.miyazaki.jp":!0,"kitaura.miyazaki.jp":!0,"kobayashi.miyazaki.jp":!0,"kunitomi.miyazaki.jp":!0,"kushima.miyazaki.jp":!0,"mimata.miyazaki.jp":!0,"miyakonojo.miyazaki.jp":!0,"miyazaki.miyazaki.jp":!0,"morotsuka.miyazaki.jp":!0,"nichinan.miyazaki.jp":!0,"nishimera.miyazaki.jp":!0,"nobeoka.miyazaki.jp":!0,"saito.miyazaki.jp":!0,"shiiba.miyazaki.jp":!0,"shintomi.miyazaki.jp":!0,"takaharu.miyazaki.jp":!0,"takanabe.miyazaki.jp":!0,"takazaki.miyazaki.jp":!0,"tsuno.miyazaki.jp":!0,"achi.nagano.jp":!0,"agematsu.nagano.jp":!0,"anan.nagano.jp":!0,"aoki.nagano.jp":!0,"asahi.nagano.jp":!0,"azumino.nagano.jp":!0,"chikuhoku.nagano.jp":!0,"chikuma.nagano.jp":!0,"chino.nagano.jp":!0,"fujimi.nagano.jp":!0,"hakuba.nagano.jp":!0,"hara.nagano.jp":!0,"hiraya.nagano.jp":!0,"iida.nagano.jp":!0,"iijima.nagano.jp":!0,"iiyama.nagano.jp":!0,"iizuna.nagano.jp":!0,"ikeda.nagano.jp":!0,"ikusaka.nagano.jp":!0,"ina.nagano.jp":!0,"karuizawa.nagano.jp":!0,"kawakami.nagano.jp":!0,"kiso.nagano.jp":!0,"kisofukushima.nagano.jp":!0,"kitaaiki.nagano.jp":!0,"komagane.nagano.jp":!0,"komoro.nagano.jp":!0,"matsukawa.nagano.jp":!0,"matsumoto.nagano.jp":!0,"miasa.nagano.jp":!0,"minamiaiki.nagano.jp":!0,"minamimaki.nagano.jp":!0,"minamiminowa.nagano.jp":!0,"minowa.nagano.jp":!0,"miyada.nagano.jp":!0,"miyota.nagano.jp":!0,"mochizuki.nagano.jp":!0,"nagano.nagano.jp":!0,"nagawa.nagano.jp":!0,"nagiso.nagano.jp":!0,"nakagawa.nagano.jp":!0,"nakano.nagano.jp":!0,"nozawaonsen.nagano.jp":!0,"obuse.nagano.jp":!0,"ogawa.nagano.jp":!0,"okaya.nagano.jp":!0,"omachi.nagano.jp":!0,"omi.nagano.jp":!0,"ookuwa.nagano.jp":!0,"ooshika.nagano.jp":!0,"otaki.nagano.jp":!0,"otari.nagano.jp":!0,"sakae.nagano.jp":!0,"sakaki.nagano.jp":!0,"saku.nagano.jp":!0,"sakuho.nagano.jp":!0,"shimosuwa.nagano.jp":!0,"shinanomachi.nagano.jp":!0,"shiojiri.nagano.jp":!0,"suwa.nagano.jp":!0,"suzaka.nagano.jp":!0,"takagi.nagano.jp":!0,"takamori.nagano.jp":!0,"takayama.nagano.jp":!0,"tateshina.nagano.jp":!0,"tatsuno.nagano.jp":!0,"togakushi.nagano.jp":!0,"togura.nagano.jp":!0,"tomi.nagano.jp":!0,"ueda.nagano.jp":!0,"wada.nagano.jp":!0,"yamagata.nagano.jp":!0,"yamanouchi.nagano.jp":!0,"yasaka.nagano.jp":!0,"yasuoka.nagano.jp":!0,"chijiwa.nagasaki.jp":!0,"futsu.nagasaki.jp":!0,"goto.nagasaki.jp":!0,"hasami.nagasaki.jp":!0,"hirado.nagasaki.jp":!0,"iki.nagasaki.jp":!0,"isahaya.nagasaki.jp":!0,"kawatana.nagasaki.jp":!0,"kuchinotsu.nagasaki.jp":!0,"matsuura.nagasaki.jp":!0,"nagasaki.nagasaki.jp":!0,"obama.nagasaki.jp":!0,"omura.nagasaki.jp":!0,"oseto.nagasaki.jp":!0,"saikai.nagasaki.jp":!0,"sasebo.nagasaki.jp":!0,"seihi.nagasaki.jp":!0,"shimabara.nagasaki.jp":!0,"shinkamigoto.nagasaki.jp":!0,"togitsu.nagasaki.jp":!0,"tsushima.nagasaki.jp":!0,"unzen.nagasaki.jp":!0,"ando.nara.jp":!0,"gose.nara.jp":!0,"heguri.nara.jp":!0,"higashiyoshino.nara.jp":!0,"ikaruga.nara.jp":!0,"ikoma.nara.jp":!0,"kamikitayama.nara.jp":!0,"kanmaki.nara.jp":!0,"kashiba.nara.jp":!0,"kashihara.nara.jp":!0,"katsuragi.nara.jp":!0,"kawai.nara.jp":!0,"kawakami.nara.jp":!0,"kawanishi.nara.jp":!0,"koryo.nara.jp":!0,"kurotaki.nara.jp":!0,"mitsue.nara.jp":!0,"miyake.nara.jp":!0,"nara.nara.jp":!0,"nosegawa.nara.jp":!0,"oji.nara.jp":!0,"ouda.nara.jp":!0,"oyodo.nara.jp":!0,"sakurai.nara.jp":!0,"sango.nara.jp":!0,"shimoichi.nara.jp":!0,"shimokitayama.nara.jp":!0,"shinjo.nara.jp":!0,"soni.nara.jp":!0,"takatori.nara.jp":!0,"tawaramoto.nara.jp":!0,"tenkawa.nara.jp":!0,"tenri.nara.jp":!0,"uda.nara.jp":!0,"yamatokoriyama.nara.jp":!0,"yamatotakada.nara.jp":!0,"yamazoe.nara.jp":!0,"yoshino.nara.jp":!0,"aga.niigata.jp":!0,"agano.niigata.jp":!0,"gosen.niigata.jp":!0,"itoigawa.niigata.jp":!0,"izumozaki.niigata.jp":!0,"joetsu.niigata.jp":!0,"kamo.niigata.jp":!0,"kariwa.niigata.jp":!0,"kashiwazaki.niigata.jp":!0,"minamiuonuma.niigata.jp":!0,"mitsuke.niigata.jp":!0,"muika.niigata.jp":!0,"murakami.niigata.jp":!0,"myoko.niigata.jp":!0,"nagaoka.niigata.jp":!0,"niigata.niigata.jp":!0,"ojiya.niigata.jp":!0,"omi.niigata.jp":!0,"sado.niigata.jp":!0,"sanjo.niigata.jp":!0,"seiro.niigata.jp":!0,"seirou.niigata.jp":!0,"sekikawa.niigata.jp":!0,"shibata.niigata.jp":!0,"tagami.niigata.jp":!0,"tainai.niigata.jp":!0,"tochio.niigata.jp":!0,"tokamachi.niigata.jp":!0,"tsubame.niigata.jp":!0,"tsunan.niigata.jp":!0,"uonuma.niigata.jp":!0,"yahiko.niigata.jp":!0,"yoita.niigata.jp":!0,"yuzawa.niigata.jp":!0,"beppu.oita.jp":!0,"bungoono.oita.jp":!0,"bungotakada.oita.jp":!0,"hasama.oita.jp":!0,"hiji.oita.jp":!0,"himeshima.oita.jp":!0,"hita.oita.jp":!0,"kamitsue.oita.jp":!0,"kokonoe.oita.jp":!0,"kuju.oita.jp":!0,"kunisaki.oita.jp":!0,"kusu.oita.jp":!0,"oita.oita.jp":!0,"saiki.oita.jp":!0,"taketa.oita.jp":!0,"tsukumi.oita.jp":!0,"usa.oita.jp":!0,"usuki.oita.jp":!0,"yufu.oita.jp":!0,"akaiwa.okayama.jp":!0,"asakuchi.okayama.jp":!0,"bizen.okayama.jp":!0,"hayashima.okayama.jp":!0,"ibara.okayama.jp":!0,"kagamino.okayama.jp":!0,"kasaoka.okayama.jp":!0,"kibichuo.okayama.jp":!0,"kumenan.okayama.jp":!0,"kurashiki.okayama.jp":!0,"maniwa.okayama.jp":!0,"misaki.okayama.jp":!0,"nagi.okayama.jp":!0,"niimi.okayama.jp":!0,"nishiawakura.okayama.jp":!0,"okayama.okayama.jp":!0,"satosho.okayama.jp":!0,"setouchi.okayama.jp":!0,"shinjo.okayama.jp":!0,"shoo.okayama.jp":!0,"soja.okayama.jp":!0,"takahashi.okayama.jp":!0,"tamano.okayama.jp":!0,"tsuyama.okayama.jp":!0,"wake.okayama.jp":!0,"yakage.okayama.jp":!0,"aguni.okinawa.jp":!0,"ginowan.okinawa.jp":!0,"ginoza.okinawa.jp":!0,"gushikami.okinawa.jp":!0,"haebaru.okinawa.jp":!0,"higashi.okinawa.jp":!0,"hirara.okinawa.jp":!0,"iheya.okinawa.jp":!0,"ishigaki.okinawa.jp":!0,"ishikawa.okinawa.jp":!0,"itoman.okinawa.jp":!0,"izena.okinawa.jp":!0,"kadena.okinawa.jp":!0,"kin.okinawa.jp":!0,"kitadaito.okinawa.jp":!0,"kitanakagusuku.okinawa.jp":!0,"kumejima.okinawa.jp":!0,"kunigami.okinawa.jp":!0,"minamidaito.okinawa.jp":!0,"motobu.okinawa.jp":!0,"nago.okinawa.jp":!0,"naha.okinawa.jp":!0,"nakagusuku.okinawa.jp":!0,"nakijin.okinawa.jp":!0,"nanjo.okinawa.jp":!0,"nishihara.okinawa.jp":!0,"ogimi.okinawa.jp":!0,"okinawa.okinawa.jp":!0,"onna.okinawa.jp":!0,"shimoji.okinawa.jp":!0,"taketomi.okinawa.jp":!0,"tarama.okinawa.jp":!0,"tokashiki.okinawa.jp":!0,"tomigusuku.okinawa.jp":!0,"tonaki.okinawa.jp":!0,"urasoe.okinawa.jp":!0,"uruma.okinawa.jp":!0,"yaese.okinawa.jp":!0,"yomitan.okinawa.jp":!0,"yonabaru.okinawa.jp":!0,"yonaguni.okinawa.jp":!0,"zamami.okinawa.jp":!0,"abeno.osaka.jp":!0,"chihayaakasaka.osaka.jp":!0,"chuo.osaka.jp":!0,"daito.osaka.jp":!0,"fujiidera.osaka.jp":!0,"habikino.osaka.jp":!0,"hannan.osaka.jp":!0,"higashiosaka.osaka.jp":!0,"higashisumiyoshi.osaka.jp":!0,"higashiyodogawa.osaka.jp":!0,"hirakata.osaka.jp":!0,"ibaraki.osaka.jp":!0,"ikeda.osaka.jp":!0,"izumi.osaka.jp":!0,"izumiotsu.osaka.jp":!0,"izumisano.osaka.jp":!0,"kadoma.osaka.jp":!0,"kaizuka.osaka.jp":!0,"kanan.osaka.jp":!0,"kashiwara.osaka.jp":!0,"katano.osaka.jp":!0,"kawachinagano.osaka.jp":!0,"kishiwada.osaka.jp":!0,"kita.osaka.jp":!0,"kumatori.osaka.jp":!0,"matsubara.osaka.jp":!0,"minato.osaka.jp":!0,"minoh.osaka.jp":!0,"misaki.osaka.jp":!0,"moriguchi.osaka.jp":!0,"neyagawa.osaka.jp":!0,"nishi.osaka.jp":!0,"nose.osaka.jp":!0,"osakasayama.osaka.jp":!0,"sakai.osaka.jp":!0,"sayama.osaka.jp":!0,"sennan.osaka.jp":!0,"settsu.osaka.jp":!0,"shijonawate.osaka.jp":!0,"shimamoto.osaka.jp":!0,"suita.osaka.jp":!0,"tadaoka.osaka.jp":!0,"taishi.osaka.jp":!0,"tajiri.osaka.jp":!0,"takaishi.osaka.jp":!0,"takatsuki.osaka.jp":!0,"tondabayashi.osaka.jp":!0,"toyonaka.osaka.jp":!0,"toyono.osaka.jp":!0,"yao.osaka.jp":!0,"ariake.saga.jp":!0,"arita.saga.jp":!0,"fukudomi.saga.jp":!0,"genkai.saga.jp":!0,"hamatama.saga.jp":!0,"hizen.saga.jp":!0,"imari.saga.jp":!0,"kamimine.saga.jp":!0,"kanzaki.saga.jp":!0,"karatsu.saga.jp":!0,"kashima.saga.jp":!0,"kitagata.saga.jp":!0,"kitahata.saga.jp":!0,"kiyama.saga.jp":!0,"kouhoku.saga.jp":!0,"kyuragi.saga.jp":!0,"nishiarita.saga.jp":!0,"ogi.saga.jp":!0,"omachi.saga.jp":!0,"ouchi.saga.jp":!0,"saga.saga.jp":!0,"shiroishi.saga.jp":!0,"taku.saga.jp":!0,"tara.saga.jp":!0,"tosu.saga.jp":!0,"yoshinogari.saga.jp":!0,"arakawa.saitama.jp":!0,"asaka.saitama.jp":!0,"chichibu.saitama.jp":!0,"fujimi.saitama.jp":!0,"fujimino.saitama.jp":!0,"fukaya.saitama.jp":!0,"hanno.saitama.jp":!0,"hanyu.saitama.jp":!0,"hasuda.saitama.jp":!0,"hatogaya.saitama.jp":!0,"hatoyama.saitama.jp":!0,"hidaka.saitama.jp":!0,"higashichichibu.saitama.jp":!0,"higashimatsuyama.saitama.jp":!0,"honjo.saitama.jp":!0,"ina.saitama.jp":!0,"iruma.saitama.jp":!0,"iwatsuki.saitama.jp":!0,"kamiizumi.saitama.jp":!0,"kamikawa.saitama.jp":!0,"kamisato.saitama.jp":!0,"kasukabe.saitama.jp":!0,"kawagoe.saitama.jp":!0,"kawaguchi.saitama.jp":!0,"kawajima.saitama.jp":!0,"kazo.saitama.jp":!0,"kitamoto.saitama.jp":!0,"koshigaya.saitama.jp":!0,"kounosu.saitama.jp":!0,"kuki.saitama.jp":!0,"kumagaya.saitama.jp":!0,"matsubushi.saitama.jp":!0,"minano.saitama.jp":!0,"misato.saitama.jp":!0,"miyashiro.saitama.jp":!0,"miyoshi.saitama.jp":!0,"moroyama.saitama.jp":!0,"nagatoro.saitama.jp":!0,"namegawa.saitama.jp":!0,"niiza.saitama.jp":!0,"ogano.saitama.jp":!0,"ogawa.saitama.jp":!0,"ogose.saitama.jp":!0,"okegawa.saitama.jp":!0,"omiya.saitama.jp":!0,"otaki.saitama.jp":!0,"ranzan.saitama.jp":!0,"ryokami.saitama.jp":!0,"saitama.saitama.jp":!0,"sakado.saitama.jp":!0,"satte.saitama.jp":!0,"sayama.saitama.jp":!0,"shiki.saitama.jp":!0,"shiraoka.saitama.jp":!0,"soka.saitama.jp":!0,"sugito.saitama.jp":!0,"toda.saitama.jp":!0,"tokigawa.saitama.jp":!0,"tokorozawa.saitama.jp":!0,"tsurugashima.saitama.jp":!0,"urawa.saitama.jp":!0,"warabi.saitama.jp":!0,"yashio.saitama.jp":!0,"yokoze.saitama.jp":!0,"yono.saitama.jp":!0,"yorii.saitama.jp":!0,"yoshida.saitama.jp":!0,"yoshikawa.saitama.jp":!0,"yoshimi.saitama.jp":!0,"aisho.shiga.jp":!0,"gamo.shiga.jp":!0,"higashiomi.shiga.jp":!0,"hikone.shiga.jp":!0,"koka.shiga.jp":!0,"konan.shiga.jp":!0,"kosei.shiga.jp":!0,"koto.shiga.jp":!0,"kusatsu.shiga.jp":!0,"maibara.shiga.jp":!0,"moriyama.shiga.jp":!0,"nagahama.shiga.jp":!0,"nishiazai.shiga.jp":!0,"notogawa.shiga.jp":!0,"omihachiman.shiga.jp":!0,"otsu.shiga.jp":!0,"ritto.shiga.jp":!0,"ryuoh.shiga.jp":!0,"takashima.shiga.jp":!0,"takatsuki.shiga.jp":!0,"torahime.shiga.jp":!0,"toyosato.shiga.jp":!0,"yasu.shiga.jp":!0,"akagi.shimane.jp":!0,"ama.shimane.jp":!0,"gotsu.shimane.jp":!0,"hamada.shimane.jp":!0,"higashiizumo.shimane.jp":!0,"hikawa.shimane.jp":!0,"hikimi.shimane.jp":!0,"izumo.shimane.jp":!0,"kakinoki.shimane.jp":!0,"masuda.shimane.jp":!0,"matsue.shimane.jp":!0,"misato.shimane.jp":!0,"nishinoshima.shimane.jp":!0,"ohda.shimane.jp":!0,"okinoshima.shimane.jp":!0,"okuizumo.shimane.jp":!0,"shimane.shimane.jp":!0,"tamayu.shimane.jp":!0,"tsuwano.shimane.jp":!0,"unnan.shimane.jp":!0,"yakumo.shimane.jp":!0,"yasugi.shimane.jp":!0,"yatsuka.shimane.jp":!0,"arai.shizuoka.jp":!0,"atami.shizuoka.jp":!0,"fuji.shizuoka.jp":!0,"fujieda.shizuoka.jp":!0,"fujikawa.shizuoka.jp":!0,"fujinomiya.shizuoka.jp":!0,"fukuroi.shizuoka.jp":!0,"gotemba.shizuoka.jp":!0,"haibara.shizuoka.jp":!0,"hamamatsu.shizuoka.jp":!0,"higashiizu.shizuoka.jp":!0,"ito.shizuoka.jp":!0,"iwata.shizuoka.jp":!0,"izu.shizuoka.jp":!0,"izunokuni.shizuoka.jp":!0,"kakegawa.shizuoka.jp":!0,"kannami.shizuoka.jp":!0,"kawanehon.shizuoka.jp":!0,"kawazu.shizuoka.jp":!0,"kikugawa.shizuoka.jp":!0,"kosai.shizuoka.jp":!0,"makinohara.shizuoka.jp":!0,"matsuzaki.shizuoka.jp":!0,"minamiizu.shizuoka.jp":!0,"mishima.shizuoka.jp":!0,"morimachi.shizuoka.jp":!0,"nishiizu.shizuoka.jp":!0,"numazu.shizuoka.jp":!0,"omaezaki.shizuoka.jp":!0,"shimada.shizuoka.jp":!0,"shimizu.shizuoka.jp":!0,"shimoda.shizuoka.jp":!0,"shizuoka.shizuoka.jp":!0,"susono.shizuoka.jp":!0,"yaizu.shizuoka.jp":!0,"yoshida.shizuoka.jp":!0,"ashikaga.tochigi.jp":!0,"bato.tochigi.jp":!0,"haga.tochigi.jp":!0,"ichikai.tochigi.jp":!0,"iwafune.tochigi.jp":!0,"kaminokawa.tochigi.jp":!0,"kanuma.tochigi.jp":!0,"karasuyama.tochigi.jp":!0,"kuroiso.tochigi.jp":!0,"mashiko.tochigi.jp":!0,"mibu.tochigi.jp":!0,"moka.tochigi.jp":!0,"motegi.tochigi.jp":!0,"nasu.tochigi.jp":!0,"nasushiobara.tochigi.jp":!0,"nikko.tochigi.jp":!0,"nishikata.tochigi.jp":!0,"nogi.tochigi.jp":!0,"ohira.tochigi.jp":!0,"ohtawara.tochigi.jp":!0,"oyama.tochigi.jp":!0,"sakura.tochigi.jp":!0,"sano.tochigi.jp":!0,"shimotsuke.tochigi.jp":!0,"shioya.tochigi.jp":!0,"takanezawa.tochigi.jp":!0,"tochigi.tochigi.jp":!0,"tsuga.tochigi.jp":!0,"ujiie.tochigi.jp":!0,"utsunomiya.tochigi.jp":!0,"yaita.tochigi.jp":!0,"aizumi.tokushima.jp":!0,"anan.tokushima.jp":!0,"ichiba.tokushima.jp":!0,"itano.tokushima.jp":!0,"kainan.tokushima.jp":!0,"komatsushima.tokushima.jp":!0,"matsushige.tokushima.jp":!0,"mima.tokushima.jp":!0,"minami.tokushima.jp":!0,"miyoshi.tokushima.jp":!0,"mugi.tokushima.jp":!0,"nakagawa.tokushima.jp":!0,"naruto.tokushima.jp":!0,"sanagochi.tokushima.jp":!0,"shishikui.tokushima.jp":!0,"tokushima.tokushima.jp":!0,"wajiki.tokushima.jp":!0,"adachi.tokyo.jp":!0,"akiruno.tokyo.jp":!0,"akishima.tokyo.jp":!0,"aogashima.tokyo.jp":!0,"arakawa.tokyo.jp":!0,"bunkyo.tokyo.jp":!0,"chiyoda.tokyo.jp":!0,"chofu.tokyo.jp":!0,"chuo.tokyo.jp":!0,"edogawa.tokyo.jp":!0,"fuchu.tokyo.jp":!0,"fussa.tokyo.jp":!0,"hachijo.tokyo.jp":!0,"hachioji.tokyo.jp":!0,"hamura.tokyo.jp":!0,"higashikurume.tokyo.jp":!0,"higashimurayama.tokyo.jp":!0,"higashiyamato.tokyo.jp":!0,"hino.tokyo.jp":!0,"hinode.tokyo.jp":!0,"hinohara.tokyo.jp":!0,"inagi.tokyo.jp":!0,"itabashi.tokyo.jp":!0,"katsushika.tokyo.jp":!0,"kita.tokyo.jp":!0,"kiyose.tokyo.jp":!0,"kodaira.tokyo.jp":!0,"koganei.tokyo.jp":!0,"kokubunji.tokyo.jp":!0,"komae.tokyo.jp":!0,"koto.tokyo.jp":!0,"kouzushima.tokyo.jp":!0,"kunitachi.tokyo.jp":!0,"machida.tokyo.jp":!0,"meguro.tokyo.jp":!0,"minato.tokyo.jp":!0,"mitaka.tokyo.jp":!0,"mizuho.tokyo.jp":!0,"musashimurayama.tokyo.jp":!0,"musashino.tokyo.jp":!0,"nakano.tokyo.jp":!0,"nerima.tokyo.jp":!0,"ogasawara.tokyo.jp":!0,"okutama.tokyo.jp":!0,"ome.tokyo.jp":!0,"oshima.tokyo.jp":!0,"ota.tokyo.jp":!0,"setagaya.tokyo.jp":!0,"shibuya.tokyo.jp":!0,"shinagawa.tokyo.jp":!0,"shinjuku.tokyo.jp":!0,"suginami.tokyo.jp":!0,"sumida.tokyo.jp":!0,"tachikawa.tokyo.jp":!0,"taito.tokyo.jp":!0,"tama.tokyo.jp":!0,"toshima.tokyo.jp":!0,"chizu.tottori.jp":!0,"hino.tottori.jp":!0,"kawahara.tottori.jp":!0,"koge.tottori.jp":!0,"kotoura.tottori.jp":!0,"misasa.tottori.jp":!0,"nanbu.tottori.jp":!0,"nichinan.tottori.jp":!0,"sakaiminato.tottori.jp":!0,"tottori.tottori.jp":!0,"wakasa.tottori.jp":!0,"yazu.tottori.jp":!0,"yonago.tottori.jp":!0,"asahi.toyama.jp":!0,"fuchu.toyama.jp":!0,"fukumitsu.toyama.jp":!0,"funahashi.toyama.jp":!0,"himi.toyama.jp":!0,"imizu.toyama.jp":!0,"inami.toyama.jp":!0,"johana.toyama.jp":!0,"kamiichi.toyama.jp":!0,"kurobe.toyama.jp":!0,"nakaniikawa.toyama.jp":!0,"namerikawa.toyama.jp":!0,"nanto.toyama.jp":!0,"nyuzen.toyama.jp":!0,"oyabe.toyama.jp":!0,"taira.toyama.jp":!0,"takaoka.toyama.jp":!0,"tateyama.toyama.jp":!0,"toga.toyama.jp":!0,"tonami.toyama.jp":!0,"toyama.toyama.jp":!0,"unazuki.toyama.jp":!0,"uozu.toyama.jp":!0,"yamada.toyama.jp":!0,"arida.wakayama.jp":!0,"aridagawa.wakayama.jp":!0,"gobo.wakayama.jp":!0,"hashimoto.wakayama.jp":!0,"hidaka.wakayama.jp":!0,"hirogawa.wakayama.jp":!0,"inami.wakayama.jp":!0,"iwade.wakayama.jp":!0,"kainan.wakayama.jp":!0,"kamitonda.wakayama.jp":!0,"katsuragi.wakayama.jp":!0,"kimino.wakayama.jp":!0,"kinokawa.wakayama.jp":!0,"kitayama.wakayama.jp":!0,"koya.wakayama.jp":!0,"koza.wakayama.jp":!0,"kozagawa.wakayama.jp":!0,"kudoyama.wakayama.jp":!0,"kushimoto.wakayama.jp":!0,"mihama.wakayama.jp":!0,"misato.wakayama.jp":!0,"nachikatsuura.wakayama.jp":!0,"shingu.wakayama.jp":!0,"shirahama.wakayama.jp":!0,"taiji.wakayama.jp":!0,"tanabe.wakayama.jp":!0,"wakayama.wakayama.jp":!0,"yuasa.wakayama.jp":!0,"yura.wakayama.jp":!0,"asahi.yamagata.jp":!0,"funagata.yamagata.jp":!0,"higashine.yamagata.jp":!0,"iide.yamagata.jp":!0,"kahoku.yamagata.jp":!0,"kaminoyama.yamagata.jp":!0,"kaneyama.yamagata.jp":!0,"kawanishi.yamagata.jp":!0,"mamurogawa.yamagata.jp":!0,"mikawa.yamagata.jp":!0,"murayama.yamagata.jp":!0,"nagai.yamagata.jp":!0,"nakayama.yamagata.jp":!0,"nanyo.yamagata.jp":!0,"nishikawa.yamagata.jp":!0,"obanazawa.yamagata.jp":!0,"oe.yamagata.jp":!0,"oguni.yamagata.jp":!0,"ohkura.yamagata.jp":!0,"oishida.yamagata.jp":!0,"sagae.yamagata.jp":!0,"sakata.yamagata.jp":!0,"sakegawa.yamagata.jp":!0,"shinjo.yamagata.jp":!0,"shirataka.yamagata.jp":!0,"shonai.yamagata.jp":!0,"takahata.yamagata.jp":!0,"tendo.yamagata.jp":!0,"tozawa.yamagata.jp":!0,"tsuruoka.yamagata.jp":!0,"yamagata.yamagata.jp":!0,"yamanobe.yamagata.jp":!0,"yonezawa.yamagata.jp":!0,"yuza.yamagata.jp":!0,"abu.yamaguchi.jp":!0,"hagi.yamaguchi.jp":!0,"hikari.yamaguchi.jp":!0,"hofu.yamaguchi.jp":!0,"iwakuni.yamaguchi.jp":!0,"kudamatsu.yamaguchi.jp":!0,"mitou.yamaguchi.jp":!0,"nagato.yamaguchi.jp":!0,"oshima.yamaguchi.jp":!0,"shimonoseki.yamaguchi.jp":!0,"shunan.yamaguchi.jp":!0,"tabuse.yamaguchi.jp":!0,"tokuyama.yamaguchi.jp":!0,"toyota.yamaguchi.jp":!0,"ube.yamaguchi.jp":!0,"yuu.yamaguchi.jp":!0,"chuo.yamanashi.jp":!0,"doshi.yamanashi.jp":!0,"fuefuki.yamanashi.jp":!0,"fujikawa.yamanashi.jp":!0,"fujikawaguchiko.yamanashi.jp":!0,"fujiyoshida.yamanashi.jp":!0,"hayakawa.yamanashi.jp":!0,"hokuto.yamanashi.jp":!0,"ichikawamisato.yamanashi.jp":!0,"kai.yamanashi.jp":!0,"kofu.yamanashi.jp":!0,"koshu.yamanashi.jp":!0,"kosuge.yamanashi.jp":!0,"minami-alps.yamanashi.jp":!0,"minobu.yamanashi.jp":!0,"nakamichi.yamanashi.jp":!0,"nanbu.yamanashi.jp":!0,"narusawa.yamanashi.jp":!0,"nirasaki.yamanashi.jp":!0,"nishikatsura.yamanashi.jp":!0,"oshino.yamanashi.jp":!0,"otsuki.yamanashi.jp":!0,"showa.yamanashi.jp":!0,"tabayama.yamanashi.jp":!0,"tsuru.yamanashi.jp":!0,"uenohara.yamanashi.jp":!0,"yamanakako.yamanashi.jp":!0,"yamanashi.yamanashi.jp":!0,"*.ke":!0,kg:!0,"org.kg":!0,"net.kg":!0,"com.kg":!0,"edu.kg":!0,"gov.kg":!0,"mil.kg":!0,"*.kh":!0,ki:!0,"edu.ki":!0,"biz.ki":!0,"net.ki":!0,"org.ki":!0,"gov.ki":!0,"info.ki":!0,"com.ki":!0,km:!0,"org.km":!0,"nom.km":!0,"gov.km":!0,"prd.km":!0,"tm.km":!0,"edu.km":!0,"mil.km":!0,"ass.km":!0,"com.km":!0,"coop.km":!0,"asso.km":!0,"presse.km":!0,"medecin.km":!0,"notaires.km":!0,"pharmaciens.km":!0,"veterinaire.km":!0,"gouv.km":!0,kn:!0,"net.kn":!0,"org.kn":!0,"edu.kn":!0,"gov.kn":!0,kp:!0,"com.kp":!0,"edu.kp":!0,"gov.kp":!0,"org.kp":!0,"rep.kp":!0,"tra.kp":!0,kr:!0,"ac.kr":!0,"co.kr":!0,"es.kr":!0,"go.kr":!0,"hs.kr":!0,"kg.kr":!0,"mil.kr":!0,"ms.kr":!0,"ne.kr":!0,"or.kr":!0,"pe.kr":!0,"re.kr":!0,"sc.kr":!0,"busan.kr":!0,"chungbuk.kr":!0,"chungnam.kr":!0,"daegu.kr":!0,"daejeon.kr":!0,"gangwon.kr":!0,"gwangju.kr":!0,"gyeongbuk.kr":!0,"gyeonggi.kr":!0,"gyeongnam.kr":!0,"incheon.kr":!0,"jeju.kr":!0,"jeonbuk.kr":!0,"jeonnam.kr":!0,"seoul.kr":!0,"ulsan.kr":!0,"*.kw":!0,ky:!0,"edu.ky":!0,"gov.ky":!0,"com.ky":!0,"org.ky":!0,"net.ky":!0,kz:!0,"org.kz":!0,"edu.kz":!0,"net.kz":!0,"gov.kz":!0,"mil.kz":!0,"com.kz":!0,la:!0,"int.la":!0,"net.la":!0,"info.la":!0,"edu.la":!0,"gov.la":!0,"per.la":!0,"com.la":!0,"org.la":!0,lb:!0,"com.lb":!0,"edu.lb":!0,"gov.lb":!0,"net.lb":!0,"org.lb":!0,lc:!0,"com.lc":!0,"net.lc":!0,"co.lc":!0,"org.lc":!0,"edu.lc":!0,"gov.lc":!0,li:!0,lk:!0,"gov.lk":!0,"sch.lk":!0,"net.lk":!0,"int.lk":!0,"com.lk":!0,"org.lk":!0,"edu.lk":!0,"ngo.lk":!0,"soc.lk":!0,"web.lk":!0,"ltd.lk":!0,"assn.lk":!0,"grp.lk":!0,"hotel.lk":!0,"ac.lk":!0,lr:!0,"com.lr":!0,"edu.lr":!0,"gov.lr":!0,"org.lr":!0,"net.lr":!0,ls:!0,"co.ls":!0,"org.ls":!0,lt:!0,"gov.lt":!0,lu:!0,lv:!0,"com.lv":!0,"edu.lv":!0,"gov.lv":!0,"org.lv":!0,"mil.lv":!0,"id.lv":!0,"net.lv":!0,"asn.lv":!0,"conf.lv":!0,ly:!0,"com.ly":!0,"net.ly":!0,"gov.ly":!0,"plc.ly":!0,"edu.ly":!0,"sch.ly":!0,"med.ly":!0,"org.ly":!0,"id.ly":!0,ma:!0,"co.ma":!0,"net.ma":!0,"gov.ma":!0,"org.ma":!0,"ac.ma":!0,"press.ma":!0,mc:!0,"tm.mc":!0,"asso.mc":!0,md:!0,me:!0,"co.me":!0,"net.me":!0,"org.me":!0,"edu.me":!0,"ac.me":!0,"gov.me":!0,"its.me":!0,"priv.me":!0,mg:!0,"org.mg":!0,"nom.mg":!0,"gov.mg":!0,"prd.mg":!0,"tm.mg":!0,"edu.mg":!0,"mil.mg":!0,"com.mg":!0,"co.mg":!0,mh:!0,mil:!0,mk:!0,"com.mk":!0,"org.mk":!0,"net.mk":!0,"edu.mk":!0,"gov.mk":!0,"inf.mk":!0,"name.mk":!0,ml:!0,"com.ml":!0,"edu.ml":!0,"gouv.ml":!0,"gov.ml":!0,"net.ml":!0,"org.ml":!0,"presse.ml":!0,"*.mm":!0,mn:!0,"gov.mn":!0,"edu.mn":!0,"org.mn":!0,mo:!0,"com.mo":!0,"net.mo":!0,"org.mo":!0,"edu.mo":!0,"gov.mo":!0,mobi:!0,mp:!0,mq:!0,mr:!0,"gov.mr":!0,ms:!0,"com.ms":!0,"edu.ms":!0,"gov.ms":!0,"net.ms":!0,"org.ms":!0,mt:!0,"com.mt":!0,"edu.mt":!0,"net.mt":!0,"org.mt":!0,mu:!0,"com.mu":!0,"net.mu":!0,"org.mu":!0,"gov.mu":!0,"ac.mu":!0,"co.mu":!0,"or.mu":!0,museum:!0,"academy.museum":!0,"agriculture.museum":!0,"air.museum":!0,"airguard.museum":!0,"alabama.museum":!0,"alaska.museum":!0,"amber.museum":!0,"ambulance.museum":!0,"american.museum":!0,"americana.museum":!0,"americanantiques.museum":!0,"americanart.museum":!0,"amsterdam.museum":!0,"and.museum":!0,"annefrank.museum":!0,"anthro.museum":!0,"anthropology.museum":!0,"antiques.museum":!0,"aquarium.museum":!0,"arboretum.museum":!0,"archaeological.museum":!0,"archaeology.museum":!0,"architecture.museum":!0,"art.museum":!0,"artanddesign.museum":!0,"artcenter.museum":!0,"artdeco.museum":!0,"arteducation.museum":!0,"artgallery.museum":!0,"arts.museum":!0,"artsandcrafts.museum":!0,"asmatart.museum":!0,"assassination.museum":!0,"assisi.museum":!0,"association.museum":!0,"astronomy.museum":!0,"atlanta.museum":!0,"austin.museum":!0,"australia.museum":!0,"automotive.museum":!0,"aviation.museum":!0,"axis.museum":!0,"badajoz.museum":!0,"baghdad.museum":!0,"bahn.museum":!0,"bale.museum":!0,"baltimore.museum":!0,"barcelona.museum":!0,"baseball.museum":!0,"basel.museum":!0,"baths.museum":!0,"bauern.museum":!0,"beauxarts.museum":!0,"beeldengeluid.museum":!0,"bellevue.museum":!0,"bergbau.museum":!0,"berkeley.museum":!0,"berlin.museum":!0,"bern.museum":!0,"bible.museum":!0,"bilbao.museum":!0,"bill.museum":!0,"birdart.museum":!0,"birthplace.museum":!0,"bonn.museum":!0,"boston.museum":!0,"botanical.museum":!0,"botanicalgarden.museum":!0,"botanicgarden.museum":!0,"botany.museum":!0,"brandywinevalley.museum":!0,"brasil.museum":!0,"bristol.museum":!0,"british.museum":!0,"britishcolumbia.museum":!0,"broadcast.museum":!0,"brunel.museum":!0,"brussel.museum":!0,"brussels.museum":!0,"bruxelles.museum":!0,"building.museum":!0,"burghof.museum":!0,"bus.museum":!0,"bushey.museum":!0,"cadaques.museum":!0,"california.museum":!0,"cambridge.museum":!0,"can.museum":!0,"canada.museum":!0,"capebreton.museum":!0,"carrier.museum":!0,"cartoonart.museum":!0,"casadelamoneda.museum":!0,"castle.museum":!0,"castres.museum":!0,"celtic.museum":!0,"center.museum":!0,"chattanooga.museum":!0,"cheltenham.museum":!0,"chesapeakebay.museum":!0,"chicago.museum":!0,"children.museum":!0,"childrens.museum":!0,"childrensgarden.museum":!0,"chiropractic.museum":!0,"chocolate.museum":!0,"christiansburg.museum":!0,"cincinnati.museum":!0,"cinema.museum":!0,"circus.museum":!0,"civilisation.museum":!0,"civilization.museum":!0,"civilwar.museum":!0,"clinton.museum":!0,"clock.museum":!0,"coal.museum":!0,"coastaldefence.museum":!0,"cody.museum":!0,"coldwar.museum":!0,"collection.museum":!0,"colonialwilliamsburg.museum":!0,"coloradoplateau.museum":!0,"columbia.museum":!0,"columbus.museum":!0,"communication.museum":!0,"communications.museum":!0,"community.museum":!0,"computer.museum":!0,"computerhistory.museum":!0,"xn--comunicaes-v6a2o.museum":!0,"contemporary.museum":!0,"contemporaryart.museum":!0,"convent.museum":!0,"copenhagen.museum":!0,"corporation.museum":!0,"xn--correios-e-telecomunicaes-ghc29a.museum":!0,"corvette.museum":!0,"costume.museum":!0,"countryestate.museum":!0,"county.museum":!0,"crafts.museum":!0,"cranbrook.museum":!0,"creation.museum":!0,"cultural.museum":!0,"culturalcenter.museum":!0,"culture.museum":!0,"cyber.museum":!0,"cymru.museum":!0,"dali.museum":!0,"dallas.museum":!0,"database.museum":!0,"ddr.museum":!0,"decorativearts.museum":!0,"delaware.museum":!0,"delmenhorst.museum":!0,"denmark.museum":!0,"depot.museum":!0,"design.museum":!0,"detroit.museum":!0,"dinosaur.museum":!0,"discovery.museum":!0,"dolls.museum":!0,"donostia.museum":!0,"durham.museum":!0,"eastafrica.museum":!0,"eastcoast.museum":!0,"education.museum":!0,"educational.museum":!0,"egyptian.museum":!0,"eisenbahn.museum":!0,"elburg.museum":!0,"elvendrell.museum":!0,"embroidery.museum":!0,"encyclopedic.museum":!0,"england.museum":!0,"entomology.museum":!0,"environment.museum":!0,"environmentalconservation.museum":!0,"epilepsy.museum":!0,"essex.museum":!0,"estate.museum":!0,"ethnology.museum":!0,"exeter.museum":!0,"exhibition.museum":!0,"family.museum":!0,"farm.museum":!0,"farmequipment.museum":!0,"farmers.museum":!0,"farmstead.museum":!0,"field.museum":!0,"figueres.museum":!0,"filatelia.museum":!0,"film.museum":!0,"fineart.museum":!0,"finearts.museum":!0,"finland.museum":!0,"flanders.museum":!0,"florida.museum":!0,"force.museum":!0,"fortmissoula.museum":!0,"fortworth.museum":!0,"foundation.museum":!0,"francaise.museum":!0,"frankfurt.museum":!0,"franziskaner.museum":!0,"freemasonry.museum":!0,"freiburg.museum":!0,"fribourg.museum":!0,"frog.museum":!0,"fundacio.museum":!0,"furniture.museum":!0,"gallery.museum":!0,"garden.museum":!0,"gateway.museum":!0,"geelvinck.museum":!0,"gemological.museum":!0,"geology.museum":!0,"georgia.museum":!0,"giessen.museum":!0,"glas.museum":!0,"glass.museum":!0,"gorge.museum":!0,"grandrapids.museum":!0,"graz.museum":!0,"guernsey.museum":!0,"halloffame.museum":!0,"hamburg.museum":!0,"handson.museum":!0,"harvestcelebration.museum":!0,"hawaii.museum":!0,"health.museum":!0,"heimatunduhren.museum":!0,"hellas.museum":!0,"helsinki.museum":!0,"hembygdsforbund.museum":!0,"heritage.museum":!0,"histoire.museum":!0,"historical.museum":!0,"historicalsociety.museum":!0,"historichouses.museum":!0,"historisch.museum":!0,"historisches.museum":!0,"history.museum":!0,"historyofscience.museum":!0,"horology.museum":!0,"house.museum":!0,"humanities.museum":!0,"illustration.museum":!0,"imageandsound.museum":!0,"indian.museum":!0,"indiana.museum":!0,"indianapolis.museum":!0,"indianmarket.museum":!0,"intelligence.museum":!0,"interactive.museum":!0,"iraq.museum":!0,"iron.museum":!0,"isleofman.museum":!0,"jamison.museum":!0,"jefferson.museum":!0,"jerusalem.museum":!0,"jewelry.museum":!0,"jewish.museum":!0,"jewishart.museum":!0,"jfk.museum":!0,"journalism.museum":!0,"judaica.museum":!0,"judygarland.museum":!0,"juedisches.museum":!0,"juif.museum":!0,"karate.museum":!0,"karikatur.museum":!0,"kids.museum":!0,"koebenhavn.museum":!0,"koeln.museum":!0,"kunst.museum":!0,"kunstsammlung.museum":!0,"kunstunddesign.museum":!0,"labor.museum":!0,"labour.museum":!0,"lajolla.museum":!0,"lancashire.museum":!0,"landes.museum":!0,"lans.museum":!0,"xn--lns-qla.museum":!0,"larsson.museum":!0,"lewismiller.museum":!0,"lincoln.museum":!0,"linz.museum":!0,"living.museum":!0,"livinghistory.museum":!0,"localhistory.museum":!0,"london.museum":!0,"losangeles.museum":!0,"louvre.museum":!0,"loyalist.museum":!0,"lucerne.museum":!0,"luxembourg.museum":!0,"luzern.museum":!0,"mad.museum":!0,"madrid.museum":!0,"mallorca.museum":!0,"manchester.museum":!0,"mansion.museum":!0,"mansions.museum":!0,"manx.museum":!0,"marburg.museum":!0,"maritime.museum":!0,"maritimo.museum":!0,"maryland.museum":!0,"marylhurst.museum":!0,"media.museum":!0,"medical.museum":!0,"medizinhistorisches.museum":!0,"meeres.museum":!0,"memorial.museum":!0,"mesaverde.museum":!0,"michigan.museum":!0,"midatlantic.museum":!0,"military.museum":!0,"mill.museum":!0,"miners.museum":!0,"mining.museum":!0,"minnesota.museum":!0,"missile.museum":!0,"missoula.museum":!0,"modern.museum":!0,"moma.museum":!0,"money.museum":!0,"monmouth.museum":!0,"monticello.museum":!0,"montreal.museum":!0,"moscow.museum":!0,"motorcycle.museum":!0,"muenchen.museum":!0,"muenster.museum":!0,"mulhouse.museum":!0,"muncie.museum":!0,"museet.museum":!0,"museumcenter.museum":!0,"museumvereniging.museum":!0,"music.museum":!0,"national.museum":!0,"nationalfirearms.museum":!0,"nationalheritage.museum":!0,"nativeamerican.museum":!0,"naturalhistory.museum":!0,"naturalhistorymuseum.museum":!0,"naturalsciences.museum":!0,"nature.museum":!0,"naturhistorisches.museum":!0,"natuurwetenschappen.museum":!0,"naumburg.museum":!0,"naval.museum":!0,"nebraska.museum":!0,"neues.museum":!0,"newhampshire.museum":!0,"newjersey.museum":!0,"newmexico.museum":!0,"newport.museum":!0,"newspaper.museum":!0,"newyork.museum":!0,"niepce.museum":!0,"norfolk.museum":!0,"north.museum":!0,"nrw.museum":!0,"nuernberg.museum":!0,"nuremberg.museum":!0,"nyc.museum":!0,"nyny.museum":!0,"oceanographic.museum":!0,"oceanographique.museum":!0,"omaha.museum":!0,"online.museum":!0,"ontario.museum":!0,"openair.museum":!0,"oregon.museum":!0,"oregontrail.museum":!0,"otago.museum":!0,"oxford.museum":!0,"pacific.museum":!0,"paderborn.museum":!0,"palace.museum":!0,"paleo.museum":!0,"palmsprings.museum":!0,"panama.museum":!0,"paris.museum":!0,"pasadena.museum":!0,"pharmacy.museum":!0,"philadelphia.museum":!0,"philadelphiaarea.museum":!0,"philately.museum":!0,"phoenix.museum":!0,"photography.museum":!0,"pilots.museum":!0,"pittsburgh.museum":!0,"planetarium.museum":!0,"plantation.museum":!0,"plants.museum":!0,"plaza.museum":!0,"portal.museum":!0,"portland.museum":!0,"portlligat.museum":!0,"posts-and-telecommunications.museum":!0,"preservation.museum":!0,"presidio.museum":!0,"press.museum":!0,"project.museum":!0,"public.museum":!0,"pubol.museum":!0,"quebec.museum":!0,"railroad.museum":!0,"railway.museum":!0,"research.museum":!0,"resistance.museum":!0,"riodejaneiro.museum":!0,"rochester.museum":!0,"rockart.museum":!0,"roma.museum":!0,"russia.museum":!0,"saintlouis.museum":!0,"salem.museum":!0,"salvadordali.museum":!0,"salzburg.museum":!0,"sandiego.museum":!0,"sanfrancisco.museum":!0,"santabarbara.museum":!0,"santacruz.museum":!0,"santafe.museum":!0,"saskatchewan.museum":!0,"satx.museum":!0,"savannahga.museum":!0,"schlesisches.museum":!0,"schoenbrunn.museum":!0,"schokoladen.museum":!0,"school.museum":!0,"schweiz.museum":!0,"science.museum":!0,"scienceandhistory.museum":!0,"scienceandindustry.museum":!0,"sciencecenter.museum":!0,"sciencecenters.museum":!0,"science-fiction.museum":!0,"sciencehistory.museum":!0,"sciences.museum":!0,"sciencesnaturelles.museum":!0,"scotland.museum":!0,"seaport.museum":!0,"settlement.museum":!0,"settlers.museum":!0,"shell.museum":!0,"sherbrooke.museum":!0,"sibenik.museum":!0,"silk.museum":!0,"ski.museum":!0,"skole.museum":!0,"society.museum":!0,"sologne.museum":!0,"soundandvision.museum":!0,"southcarolina.museum":!0,"southwest.museum":!0,"space.museum":!0,"spy.museum":!0,"square.museum":!0,"stadt.museum":!0,"stalbans.museum":!0,"starnberg.museum":!0,"state.museum":!0,"stateofdelaware.museum":!0,"station.museum":!0,"steam.museum":!0,"steiermark.museum":!0,"stjohn.museum":!0,"stockholm.museum":!0,"stpetersburg.museum":!0,"stuttgart.museum":!0,"suisse.museum":!0,"surgeonshall.museum":!0,"surrey.museum":!0,"svizzera.museum":!0,"sweden.museum":!0,"sydney.museum":!0,"tank.museum":!0,"tcm.museum":!0,"technology.museum":!0,"telekommunikation.museum":!0,"television.museum":!0,"texas.museum":!0,"textile.museum":!0,"theater.museum":!0,"time.museum":!0,"timekeeping.museum":!0,"topology.museum":!0,"torino.museum":!0,"touch.museum":!0,"town.museum":!0,"transport.museum":!0,"tree.museum":!0,"trolley.museum":!0,"trust.museum":!0,"trustee.museum":!0,"uhren.museum":!0,"ulm.museum":!0,"undersea.museum":!0,"university.museum":!0,"usa.museum":!0,"usantiques.museum":!0,"usarts.museum":!0,"uscountryestate.museum":!0,"usculture.museum":!0,"usdecorativearts.museum":!0,"usgarden.museum":!0,"ushistory.museum":!0,"ushuaia.museum":!0,"uslivinghistory.museum":!0,"utah.museum":!0,"uvic.museum":!0,"valley.museum":!0,"vantaa.museum":!0,"versailles.museum":!0,"viking.museum":!0,"village.museum":!0,"virginia.museum":!0,"virtual.museum":!0,"virtuel.museum":!0,"vlaanderen.museum":!0,"volkenkunde.museum":!0,"wales.museum":!0,"wallonie.museum":!0,"war.museum":!0,"washingtondc.museum":!0,"watchandclock.museum":!0,"watch-and-clock.museum":!0,"western.museum":!0,"westfalen.museum":!0,"whaling.museum":!0,"wildlife.museum":!0,"williamsburg.museum":!0,"windmill.museum":!0,"workshop.museum":!0,"york.museum":!0,"yorkshire.museum":!0,"yosemite.museum":!0,"youth.museum":!0,"zoological.museum":!0,"zoology.museum":!0,"xn--9dbhblg6di.museum":!0,"xn--h1aegh.museum":!0,mv:!0,"aero.mv":!0,"biz.mv":!0,"com.mv":!0,"coop.mv":!0,"edu.mv":!0,"gov.mv":!0,"info.mv":!0,"int.mv":!0,"mil.mv":!0,"museum.mv":!0,"name.mv":!0,"net.mv":!0,"org.mv":!0,"pro.mv":!0,mw:!0,"ac.mw":!0,"biz.mw":!0,"co.mw":!0,"com.mw":!0,"coop.mw":!0,"edu.mw":!0,"gov.mw":!0,"int.mw":!0,"museum.mw":!0,"net.mw":!0,"org.mw":!0,mx:!0,"com.mx":!0,"org.mx":!0,"gob.mx":!0,"edu.mx":!0,"net.mx":!0,my:!0,"com.my":!0,"net.my":!0,"org.my":!0,"gov.my":!0,"edu.my":!0,"mil.my":!0,"name.my":!0,"*.mz":!0,"teledata.mz":!1,na:!0,"info.na":!0,"pro.na":!0,"name.na":!0,"school.na":!0,"or.na":!0,"dr.na":!0,"us.na":!0,"mx.na":!0,"ca.na":!0,"in.na":!0,"cc.na":!0,"tv.na":!0,"ws.na":!0,"mobi.na":!0,"co.na":!0,"com.na":!0,"org.na":!0,name:!0,nc:!0,"asso.nc":!0,ne:!0,net:!0,nf:!0,"com.nf":!0,"net.nf":!0,"per.nf":!0,"rec.nf":!0,"web.nf":!0,"arts.nf":!0,"firm.nf":!0,"info.nf":!0,"other.nf":!0,"store.nf":!0,ng:!0,"com.ng":!0,"edu.ng":!0,"name.ng":!0,"net.ng":!0,"org.ng":!0,"sch.ng":!0,"gov.ng":!0,"mil.ng":!0,"mobi.ng":!0,"*.ni":!0,nl:!0,"bv.nl":!0,no:!0,"fhs.no":!0,"vgs.no":!0,"fylkesbibl.no":!0,"folkebibl.no":!0,"museum.no":!0,"idrett.no":!0,"priv.no":!0,"mil.no":!0,"stat.no":!0,"dep.no":!0,"kommune.no":!0,"herad.no":!0,"aa.no":!0,"ah.no":!0,"bu.no":!0,"fm.no":!0,"hl.no":!0,"hm.no":!0,"jan-mayen.no":!0,"mr.no":!0,"nl.no":!0,"nt.no":!0,"of.no":!0,"ol.no":!0,"oslo.no":!0,"rl.no":!0,"sf.no":!0,"st.no":!0,"svalbard.no":!0,"tm.no":!0,"tr.no":!0,"va.no":!0,"vf.no":!0,"gs.aa.no":!0,"gs.ah.no":!0,"gs.bu.no":!0,"gs.fm.no":!0,"gs.hl.no":!0,"gs.hm.no":!0,"gs.jan-mayen.no":!0,"gs.mr.no":!0,"gs.nl.no":!0,"gs.nt.no":!0,"gs.of.no":!0,"gs.ol.no":!0,"gs.oslo.no":!0,"gs.rl.no":!0,"gs.sf.no":!0,"gs.st.no":!0,"gs.svalbard.no":!0,"gs.tm.no":!0,"gs.tr.no":!0,"gs.va.no":!0,"gs.vf.no":!0,"akrehamn.no":!0,"xn--krehamn-dxa.no":!0,"algard.no":!0,"xn--lgrd-poac.no":!0,"arna.no":!0,"brumunddal.no":!0,"bryne.no":!0,"bronnoysund.no":!0,"xn--brnnysund-m8ac.no":!0,"drobak.no":!0,"xn--drbak-wua.no":!0,"egersund.no":!0,"fetsund.no":!0,"floro.no":!0,"xn--flor-jra.no":!0,"fredrikstad.no":!0,"hokksund.no":!0,"honefoss.no":!0,"xn--hnefoss-q1a.no":!0,"jessheim.no":!0,"jorpeland.no":!0,"xn--jrpeland-54a.no":!0,"kirkenes.no":!0,"kopervik.no":!0,"krokstadelva.no":!0,"langevag.no":!0,"xn--langevg-jxa.no":!0,"leirvik.no":!0,"mjondalen.no":!0,"xn--mjndalen-64a.no":!0,"mo-i-rana.no":!0,"mosjoen.no":!0,"xn--mosjen-eya.no":!0,"nesoddtangen.no":!0,"orkanger.no":!0,"osoyro.no":!0,"xn--osyro-wua.no":!0,"raholt.no":!0,"xn--rholt-mra.no":!0,"sandnessjoen.no":!0,"xn--sandnessjen-ogb.no":!0,"skedsmokorset.no":!0,"slattum.no":!0,"spjelkavik.no":!0,"stathelle.no":!0,"stavern.no":!0,"stjordalshalsen.no":!0,"xn--stjrdalshalsen-sqb.no":!0,"tananger.no":!0,"tranby.no":!0,"vossevangen.no":!0,"afjord.no":!0,"xn--fjord-lra.no":!0,"agdenes.no":!0,"al.no":!0,"xn--l-1fa.no":!0,"alesund.no":!0,"xn--lesund-hua.no":!0,"alstahaug.no":!0,"alta.no":!0,"xn--lt-liac.no":!0,"alaheadju.no":!0,"xn--laheadju-7ya.no":!0,"alvdal.no":!0,"amli.no":!0,"xn--mli-tla.no":!0,"amot.no":!0,"xn--mot-tla.no":!0,"andebu.no":!0,"andoy.no":!0,"xn--andy-ira.no":!0,"andasuolo.no":!0,"ardal.no":!0,"xn--rdal-poa.no":!0,"aremark.no":!0,"arendal.no":!0,"xn--s-1fa.no":!0,"aseral.no":!0,"xn--seral-lra.no":!0,"asker.no":!0,"askim.no":!0,"askvoll.no":!0,"askoy.no":!0,"xn--asky-ira.no":!0,"asnes.no":!0,"xn--snes-poa.no":!0,"audnedaln.no":!0,"aukra.no":!0,"aure.no":!0,"aurland.no":!0,"aurskog-holand.no":!0,"xn--aurskog-hland-jnb.no":!0,"austevoll.no":!0,"austrheim.no":!0,"averoy.no":!0,"xn--avery-yua.no":!0,"balestrand.no":!0,"ballangen.no":!0,"balat.no":!0,"xn--blt-elab.no":!0,"balsfjord.no":!0,"bahccavuotna.no":!0,"xn--bhccavuotna-k7a.no":!0,"bamble.no":!0,"bardu.no":!0,"beardu.no":!0,"beiarn.no":!0,"bajddar.no":!0,"xn--bjddar-pta.no":!0,"baidar.no":!0,"xn--bidr-5nac.no":!0,"berg.no":!0,"bergen.no":!0,"berlevag.no":!0,"xn--berlevg-jxa.no":!0,"bearalvahki.no":!0,"xn--bearalvhki-y4a.no":!0,"bindal.no":!0,"birkenes.no":!0,"bjarkoy.no":!0,"xn--bjarky-fya.no":!0,"bjerkreim.no":!0,"bjugn.no":!0,"bodo.no":!0,"xn--bod-2na.no":!0,"badaddja.no":!0,"xn--bdddj-mrabd.no":!0,"budejju.no":!0,"bokn.no":!0,"bremanger.no":!0,"bronnoy.no":!0,"xn--brnny-wuac.no":!0,"bygland.no":!0,"bykle.no":!0,"barum.no":!0,"xn--brum-voa.no":!0,"bo.telemark.no":!0,"xn--b-5ga.telemark.no":!0,"bo.nordland.no":!0,"xn--b-5ga.nordland.no":!0,"bievat.no":!0,"xn--bievt-0qa.no":!0,"bomlo.no":!0,"xn--bmlo-gra.no":!0,"batsfjord.no":!0,"xn--btsfjord-9za.no":!0,"bahcavuotna.no":!0,"xn--bhcavuotna-s4a.no":!0,"dovre.no":!0,"drammen.no":!0,"drangedal.no":!0,"dyroy.no":!0,"xn--dyry-ira.no":!0,"donna.no":!0,"xn--dnna-gra.no":!0,"eid.no":!0,"eidfjord.no":!0,"eidsberg.no":!0,"eidskog.no":!0,"eidsvoll.no":!0,"eigersund.no":!0,"elverum.no":!0,"enebakk.no":!0,"engerdal.no":!0,"etne.no":!0,"etnedal.no":!0,"evenes.no":!0,"evenassi.no":!0,"xn--eveni-0qa01ga.no":!0,"evje-og-hornnes.no":!0,"farsund.no":!0,"fauske.no":!0,"fuossko.no":!0,"fuoisku.no":!0,"fedje.no":!0,"fet.no":!0,"finnoy.no":!0,"xn--finny-yua.no":!0,"fitjar.no":!0,"fjaler.no":!0,"fjell.no":!0,"flakstad.no":!0,"flatanger.no":!0,"flekkefjord.no":!0,"flesberg.no":!0,"flora.no":!0,"fla.no":!0,"xn--fl-zia.no":!0,"folldal.no":!0,"forsand.no":!0,"fosnes.no":!0,"frei.no":!0,"frogn.no":!0,"froland.no":!0,"frosta.no":!0,"frana.no":!0,"xn--frna-woa.no":!0,"froya.no":!0,"xn--frya-hra.no":!0,"fusa.no":!0,"fyresdal.no":!0,"forde.no":!0,"xn--frde-gra.no":!0,"gamvik.no":!0,"gangaviika.no":!0,"xn--ggaviika-8ya47h.no":!0,"gaular.no":!0,"gausdal.no":!0,"gildeskal.no":!0,"xn--gildeskl-g0a.no":!0,"giske.no":!0,"gjemnes.no":!0,"gjerdrum.no":!0,"gjerstad.no":!0,"gjesdal.no":!0,"gjovik.no":!0,"xn--gjvik-wua.no":!0,"gloppen.no":!0,"gol.no":!0,"gran.no":!0,"grane.no":!0,"granvin.no":!0,"gratangen.no":!0,"grimstad.no":!0,"grong.no":!0,"kraanghke.no":!0,"xn--kranghke-b0a.no":!0,"grue.no":!0,"gulen.no":!0,"hadsel.no":!0,"halden.no":!0,"halsa.no":!0,"hamar.no":!0,"hamaroy.no":!0,"habmer.no":!0,"xn--hbmer-xqa.no":!0,"hapmir.no":!0,"xn--hpmir-xqa.no":!0,"hammerfest.no":!0,"hammarfeasta.no":!0,"xn--hmmrfeasta-s4ac.no":!0,"haram.no":!0,"hareid.no":!0,"harstad.no":!0,"hasvik.no":!0,"aknoluokta.no":!0,"xn--koluokta-7ya57h.no":!0,"hattfjelldal.no":!0,"aarborte.no":!0,"haugesund.no":!0,"hemne.no":!0,"hemnes.no":!0,"hemsedal.no":!0,"heroy.more-og-romsdal.no":!0,"xn--hery-ira.xn--mre-og-romsdal-qqb.no":!0,"heroy.nordland.no":!0,"xn--hery-ira.nordland.no":!0,"hitra.no":!0,"hjartdal.no":!0,"hjelmeland.no":!0,"hobol.no":!0,"xn--hobl-ira.no":!0,"hof.no":!0,"hol.no":!0,"hole.no":!0,"holmestrand.no":!0,"holtalen.no":!0,"xn--holtlen-hxa.no":!0,"hornindal.no":!0,"horten.no":!0,"hurdal.no":!0,"hurum.no":!0,"hvaler.no":!0,"hyllestad.no":!0,"hagebostad.no":!0,"xn--hgebostad-g3a.no":!0,"hoyanger.no":!0,"xn--hyanger-q1a.no":!0,"hoylandet.no":!0,"xn--hylandet-54a.no":!0,"ha.no":!0,"xn--h-2fa.no":!0,"ibestad.no":!0,"inderoy.no":!0,"xn--indery-fya.no":!0,"iveland.no":!0,"jevnaker.no":!0,"jondal.no":!0,"jolster.no":!0,"xn--jlster-bya.no":!0,"karasjok.no":!0,"karasjohka.no":!0,"xn--krjohka-hwab49j.no":!0,"karlsoy.no":!0,"galsa.no":!0,"xn--gls-elac.no":!0,"karmoy.no":!0,"xn--karmy-yua.no":!0,"kautokeino.no":!0,"guovdageaidnu.no":!0,"klepp.no":!0,"klabu.no":!0,"xn--klbu-woa.no":!0,"kongsberg.no":!0,"kongsvinger.no":!0,"kragero.no":!0,"xn--krager-gya.no":!0,"kristiansand.no":!0,"kristiansund.no":!0,"krodsherad.no":!0,"xn--krdsherad-m8a.no":!0,"kvalsund.no":!0,"rahkkeravju.no":!0,"xn--rhkkervju-01af.no":!0,"kvam.no":!0,"kvinesdal.no":!0,"kvinnherad.no":!0,"kviteseid.no":!0,"kvitsoy.no":!0,"xn--kvitsy-fya.no":!0,"kvafjord.no":!0,"xn--kvfjord-nxa.no":!0,"giehtavuoatna.no":!0,"kvanangen.no":!0,"xn--kvnangen-k0a.no":!0,"navuotna.no":!0,"xn--nvuotna-hwa.no":!0,"kafjord.no":!0,"xn--kfjord-iua.no":!0,"gaivuotna.no":!0,"xn--givuotna-8ya.no":!0,"larvik.no":!0,"lavangen.no":!0,"lavagis.no":!0,"loabat.no":!0,"xn--loabt-0qa.no":!0,"lebesby.no":!0,"davvesiida.no":!0,"leikanger.no":!0,"leirfjord.no":!0,"leka.no":!0,"leksvik.no":!0,"lenvik.no":!0,"leangaviika.no":!0,"xn--leagaviika-52b.no":!0,"lesja.no":!0,"levanger.no":!0,"lier.no":!0,"lierne.no":!0,"lillehammer.no":!0,"lillesand.no":!0,"lindesnes.no":!0,"lindas.no":!0,"xn--linds-pra.no":!0,"lom.no":!0,"loppa.no":!0,"lahppi.no":!0,"xn--lhppi-xqa.no":!0,"lund.no":!0,"lunner.no":!0,"luroy.no":!0,"xn--lury-ira.no":!0,"luster.no":!0,"lyngdal.no":!0,"lyngen.no":!0,"ivgu.no":!0,"lardal.no":!0,"lerdal.no":!0,"xn--lrdal-sra.no":!0,"lodingen.no":!0,"xn--ldingen-q1a.no":!0,"lorenskog.no":!0,"xn--lrenskog-54a.no":!0,"loten.no":!0,"xn--lten-gra.no":!0,"malvik.no":!0,"masoy.no":!0,"xn--msy-ula0h.no":!0,"muosat.no":!0,"xn--muost-0qa.no":!0,"mandal.no":!0,"marker.no":!0,"marnardal.no":!0,"masfjorden.no":!0,"meland.no":!0,"meldal.no":!0,"melhus.no":!0,"meloy.no":!0,"xn--mely-ira.no":!0,"meraker.no":!0,"xn--merker-kua.no":!0,"moareke.no":!0,"xn--moreke-jua.no":!0,"midsund.no":!0,"midtre-gauldal.no":!0,"modalen.no":!0,"modum.no":!0,"molde.no":!0,"moskenes.no":!0,"moss.no":!0,"mosvik.no":!0,"malselv.no":!0,"xn--mlselv-iua.no":!0,"malatvuopmi.no":!0,"xn--mlatvuopmi-s4a.no":!0,"namdalseid.no":!0,"aejrie.no":!0,"namsos.no":!0,"namsskogan.no":!0,"naamesjevuemie.no":!0,"xn--nmesjevuemie-tcba.no":!0,"laakesvuemie.no":!0,"nannestad.no":!0,"narvik.no":!0,"narviika.no":!0,"naustdal.no":!0,"nedre-eiker.no":!0,"nes.akershus.no":!0,"nes.buskerud.no":!0,"nesna.no":!0,"nesodden.no":!0,"nesseby.no":!0,"unjarga.no":!0,"xn--unjrga-rta.no":!0,"nesset.no":!0,"nissedal.no":!0,"nittedal.no":!0,"nord-aurdal.no":!0,"nord-fron.no":!0,"nord-odal.no":!0,"norddal.no":!0,"nordkapp.no":!0,"davvenjarga.no":!0,"xn--davvenjrga-y4a.no":!0,"nordre-land.no":!0,"nordreisa.no":!0,"raisa.no":!0,"xn--risa-5na.no":!0,"nore-og-uvdal.no":!0,"notodden.no":!0,"naroy.no":!0,"xn--nry-yla5g.no":!0,"notteroy.no":!0,"xn--nttery-byae.no":!0,"odda.no":!0,"oksnes.no":!0,"xn--ksnes-uua.no":!0,"oppdal.no":!0,"oppegard.no":!0,"xn--oppegrd-ixa.no":!0,"orkdal.no":!0,"orland.no":!0,"xn--rland-uua.no":!0,"orskog.no":!0,"xn--rskog-uua.no":!0,"orsta.no":!0,"xn--rsta-fra.no":!0,"os.hedmark.no":!0,"os.hordaland.no":!0,"osen.no":!0,"osteroy.no":!0,"xn--ostery-fya.no":!0,"ostre-toten.no":!0,"xn--stre-toten-zcb.no":!0,"overhalla.no":!0,"ovre-eiker.no":!0,"xn--vre-eiker-k8a.no":!0,"oyer.no":!0,"xn--yer-zna.no":!0,"oygarden.no":!0,"xn--ygarden-p1a.no":!0,"oystre-slidre.no":!0,"xn--ystre-slidre-ujb.no":!0,"porsanger.no":!0,"porsangu.no":!0,"xn--porsgu-sta26f.no":!0,"porsgrunn.no":!0,"radoy.no":!0,"xn--rady-ira.no":!0,"rakkestad.no":!0,"rana.no":!0,"ruovat.no":!0,"randaberg.no":!0,"rauma.no":!0,"rendalen.no":!0,"rennebu.no":!0,"rennesoy.no":!0,"xn--rennesy-v1a.no":!0,"rindal.no":!0,"ringebu.no":!0,"ringerike.no":!0,"ringsaker.no":!0,"rissa.no":!0,"risor.no":!0,"xn--risr-ira.no":!0,"roan.no":!0,"rollag.no":!0,"rygge.no":!0,"ralingen.no":!0,"xn--rlingen-mxa.no":!0,"rodoy.no":!0,"xn--rdy-0nab.no":!0,"romskog.no":!0,"xn--rmskog-bya.no":!0,"roros.no":!0,"xn--rros-gra.no":!0,"rost.no":!0,"xn--rst-0na.no":!0,"royken.no":!0,"xn--ryken-vua.no":!0,"royrvik.no":!0,"xn--ryrvik-bya.no":!0,"rade.no":!0,"xn--rde-ula.no":!0,"salangen.no":!0,"siellak.no":!0,"saltdal.no":!0,"salat.no":!0,"xn--slt-elab.no":!0,"xn--slat-5na.no":!0,"samnanger.no":!0,"sande.more-og-romsdal.no":!0,"sande.xn--mre-og-romsdal-qqb.no":!0,"sande.vestfold.no":!0,"sandefjord.no":!0,"sandnes.no":!0,"sandoy.no":!0,"xn--sandy-yua.no":!0,"sarpsborg.no":!0,"sauda.no":!0,"sauherad.no":!0,"sel.no":!0,"selbu.no":!0,"selje.no":!0,"seljord.no":!0,"sigdal.no":!0,"siljan.no":!0,"sirdal.no":!0,"skaun.no":!0,"skedsmo.no":!0,"ski.no":!0,"skien.no":!0,"skiptvet.no":!0,"skjervoy.no":!0,"xn--skjervy-v1a.no":!0,"skierva.no":!0,"xn--skierv-uta.no":!0,"skjak.no":!0,"xn--skjk-soa.no":!0,"skodje.no":!0,"skanland.no":!0,"xn--sknland-fxa.no":!0,"skanit.no":!0,"xn--sknit-yqa.no":!0,"smola.no":!0,"xn--smla-hra.no":!0,"snillfjord.no":!0,"snasa.no":!0,"xn--snsa-roa.no":!0,"snoasa.no":!0,"snaase.no":!0,"xn--snase-nra.no":!0,"sogndal.no":!0,"sokndal.no":!0,"sola.no":!0,"solund.no":!0,"songdalen.no":!0,"sortland.no":!0,"spydeberg.no":!0,"stange.no":!0,"stavanger.no":!0,"steigen.no":!0,"steinkjer.no":!0,"stjordal.no":!0,"xn--stjrdal-s1a.no":!0,"stokke.no":!0,"stor-elvdal.no":!0,"stord.no":!0,"stordal.no":!0,"storfjord.no":!0,"omasvuotna.no":!0,"strand.no":!0,"stranda.no":!0,"stryn.no":!0,"sula.no":!0,"suldal.no":!0,"sund.no":!0,"sunndal.no":!0,"surnadal.no":!0,"sveio.no":!0,"svelvik.no":!0,"sykkylven.no":!0,"sogne.no":!0,"xn--sgne-gra.no":!0,"somna.no":!0,"xn--smna-gra.no":!0,"sondre-land.no":!0,"xn--sndre-land-0cb.no":!0,"sor-aurdal.no":!0,"xn--sr-aurdal-l8a.no":!0,"sor-fron.no":!0,"xn--sr-fron-q1a.no":!0,"sor-odal.no":!0,"xn--sr-odal-q1a.no":!0,"sor-varanger.no":!0,"xn--sr-varanger-ggb.no":!0,"matta-varjjat.no":!0,"xn--mtta-vrjjat-k7af.no":!0,"sorfold.no":!0,"xn--srfold-bya.no":!0,"sorreisa.no":!0,"xn--srreisa-q1a.no":!0,"sorum.no":!0,"xn--srum-gra.no":!0,"tana.no":!0,"deatnu.no":!0,"time.no":!0,"tingvoll.no":!0,"tinn.no":!0,"tjeldsund.no":!0,"dielddanuorri.no":!0,"tjome.no":!0,"xn--tjme-hra.no":!0,"tokke.no":!0,"tolga.no":!0,"torsken.no":!0,"tranoy.no":!0,"xn--trany-yua.no":!0,"tromso.no":!0,"xn--troms-zua.no":!0,"tromsa.no":!0,"romsa.no":!0,"trondheim.no":!0,"troandin.no":!0,"trysil.no":!0,"trana.no":!0,"xn--trna-woa.no":!0,"trogstad.no":!0,"xn--trgstad-r1a.no":!0,"tvedestrand.no":!0,"tydal.no":!0,"tynset.no":!0,"tysfjord.no":!0,"divtasvuodna.no":!0,"divttasvuotna.no":!0,"tysnes.no":!0,"tysvar.no":!0,"xn--tysvr-vra.no":!0,"tonsberg.no":!0,"xn--tnsberg-q1a.no":!0,"ullensaker.no":!0,"ullensvang.no":!0,"ulvik.no":!0,"utsira.no":!0,"vadso.no":!0,"xn--vads-jra.no":!0,"cahcesuolo.no":!0,"xn--hcesuolo-7ya35b.no":!0,"vaksdal.no":!0,"valle.no":!0,"vang.no":!0,"vanylven.no":!0,"vardo.no":!0,"xn--vard-jra.no":!0,"varggat.no":!0,"xn--vrggt-xqad.no":!0,"vefsn.no":!0,"vaapste.no":!0,"vega.no":!0,"vegarshei.no":!0,"xn--vegrshei-c0a.no":!0,"vennesla.no":!0,"verdal.no":!0,"verran.no":!0,"vestby.no":!0,"vestnes.no":!0,"vestre-slidre.no":!0,"vestre-toten.no":!0,"vestvagoy.no":!0,"xn--vestvgy-ixa6o.no":!0,"vevelstad.no":!0,"vik.no":!0,"vikna.no":!0,"vindafjord.no":!0,"volda.no":!0,"voss.no":!0,"varoy.no":!0,"xn--vry-yla5g.no":!0,"vagan.no":!0,"xn--vgan-qoa.no":!0,"voagat.no":!0,"vagsoy.no":!0,"xn--vgsy-qoa0j.no":!0,"vaga.no":!0,"xn--vg-yiab.no":!0,"valer.ostfold.no":!0,"xn--vler-qoa.xn--stfold-9xa.no":!0,"valer.hedmark.no":!0,"xn--vler-qoa.hedmark.no":!0,"*.np":!0,nr:!0,"biz.nr":!0,"info.nr":!0,"gov.nr":!0,"edu.nr":!0,"org.nr":!0,"net.nr":!0,"com.nr":!0,nu:!0,nz:!0,"ac.nz":!0,"co.nz":!0,"cri.nz":!0,"geek.nz":!0,"gen.nz":!0,"govt.nz":!0,"health.nz":!0,"iwi.nz":!0,"kiwi.nz":!0,"maori.nz":!0,"mil.nz":!0,"xn--mori-qsa.nz":!0,"net.nz":!0,"org.nz":!0,"parliament.nz":!0,"school.nz":!0,om:!0,"co.om":!0,"com.om":!0,"edu.om":!0,"gov.om":!0,"med.om":!0,"museum.om":!0,"net.om":!0,"org.om":!0,"pro.om":!0,org:!0,pa:!0,"ac.pa":!0,"gob.pa":!0,"com.pa":!0,"org.pa":!0,"sld.pa":!0,"edu.pa":!0,"net.pa":!0,"ing.pa":!0,"abo.pa":!0,"med.pa":!0,"nom.pa":!0,pe:!0,"edu.pe":!0,"gob.pe":!0,"nom.pe":!0,"mil.pe":!0,"org.pe":!0,"com.pe":!0,"net.pe":!0,pf:!0,"com.pf":!0,"org.pf":!0,"edu.pf":!0,"*.pg":!0,ph:!0,"com.ph":!0,"net.ph":!0,"org.ph":!0,"gov.ph":!0,"edu.ph":!0,"ngo.ph":!0,"mil.ph":!0,"i.ph":!0,pk:!0,"com.pk":!0,"net.pk":!0,"edu.pk":!0,"org.pk":!0,"fam.pk":!0,"biz.pk":!0,"web.pk":!0,"gov.pk":!0,"gob.pk":!0,"gok.pk":!0,"gon.pk":!0,"gop.pk":!0,"gos.pk":!0,"info.pk":!0,pl:!0,"com.pl":!0,"net.pl":!0,"org.pl":!0,"aid.pl":!0,"agro.pl":!0,"atm.pl":!0,"auto.pl":!0,"biz.pl":!0,"edu.pl":!0,"gmina.pl":!0,"gsm.pl":!0,"info.pl":!0,"mail.pl":!0,"miasta.pl":!0,"media.pl":!0,"mil.pl":!0,"nieruchomosci.pl":!0,"nom.pl":!0,"pc.pl":!0,"powiat.pl":!0,"priv.pl":!0,"realestate.pl":!0,"rel.pl":!0,"sex.pl":!0,"shop.pl":!0,"sklep.pl":!0,"sos.pl":!0,"szkola.pl":!0,"targi.pl":!0,"tm.pl":!0,"tourism.pl":!0,"travel.pl":!0,"turystyka.pl":!0,"gov.pl":!0,"ap.gov.pl":!0,"ic.gov.pl":!0,"is.gov.pl":!0,"us.gov.pl":!0,"kmpsp.gov.pl":!0,"kppsp.gov.pl":!0,"kwpsp.gov.pl":!0,"psp.gov.pl":!0,"wskr.gov.pl":!0,"kwp.gov.pl":!0,"mw.gov.pl":!0,"ug.gov.pl":!0,"um.gov.pl":!0,"umig.gov.pl":!0,"ugim.gov.pl":!0,"upow.gov.pl":!0,"uw.gov.pl":!0,"starostwo.gov.pl":!0,"pa.gov.pl":!0,"po.gov.pl":!0,"psse.gov.pl":!0,"pup.gov.pl":!0,"rzgw.gov.pl":!0,"sa.gov.pl":!0,"so.gov.pl":!0,"sr.gov.pl":!0,"wsa.gov.pl":!0,"sko.gov.pl":!0,"uzs.gov.pl":!0,"wiih.gov.pl":!0,"winb.gov.pl":!0,"pinb.gov.pl":!0,"wios.gov.pl":!0,"witd.gov.pl":!0,"wzmiuw.gov.pl":!0,"piw.gov.pl":!0,"wiw.gov.pl":!0,"griw.gov.pl":!0,"wif.gov.pl":!0,"oum.gov.pl":!0,"sdn.gov.pl":!0,"zp.gov.pl":!0,"uppo.gov.pl":!0,"mup.gov.pl":!0,"wuoz.gov.pl":!0,"konsulat.gov.pl":!0,"oirm.gov.pl":!0,"augustow.pl":!0,"babia-gora.pl":!0,"bedzin.pl":!0,"beskidy.pl":!0,"bialowieza.pl":!0,"bialystok.pl":!0,"bielawa.pl":!0,"bieszczady.pl":!0,"boleslawiec.pl":!0,"bydgoszcz.pl":!0,"bytom.pl":!0,"cieszyn.pl":!0,"czeladz.pl":!0,"czest.pl":!0,"dlugoleka.pl":!0,"elblag.pl":!0,"elk.pl":!0,"glogow.pl":!0,"gniezno.pl":!0,"gorlice.pl":!0,"grajewo.pl":!0,"ilawa.pl":!0,"jaworzno.pl":!0,"jelenia-gora.pl":!0,"jgora.pl":!0,"kalisz.pl":!0,"kazimierz-dolny.pl":!0,"karpacz.pl":!0,"kartuzy.pl":!0,"kaszuby.pl":!0,"katowice.pl":!0,"kepno.pl":!0,"ketrzyn.pl":!0,"klodzko.pl":!0,"kobierzyce.pl":!0,"kolobrzeg.pl":!0,"konin.pl":!0,"konskowola.pl":!0,"kutno.pl":!0,"lapy.pl":!0,"lebork.pl":!0,"legnica.pl":!0,"lezajsk.pl":!0,"limanowa.pl":!0,"lomza.pl":!0,"lowicz.pl":!0,"lubin.pl":!0,"lukow.pl":!0,"malbork.pl":!0,"malopolska.pl":!0,"mazowsze.pl":!0,"mazury.pl":!0,"mielec.pl":!0,"mielno.pl":!0,"mragowo.pl":!0,"naklo.pl":!0,"nowaruda.pl":!0,"nysa.pl":!0,"olawa.pl":!0,"olecko.pl":!0,"olkusz.pl":!0,"olsztyn.pl":!0,"opoczno.pl":!0,"opole.pl":!0,"ostroda.pl":!0,"ostroleka.pl":!0,"ostrowiec.pl":!0,"ostrowwlkp.pl":!0,"pila.pl":!0,"pisz.pl":!0,"podhale.pl":!0,"podlasie.pl":!0,"polkowice.pl":!0,"pomorze.pl":!0,"pomorskie.pl":!0,"prochowice.pl":!0,"pruszkow.pl":!0,"przeworsk.pl":!0,"pulawy.pl":!0,"radom.pl":!0,"rawa-maz.pl":!0,"rybnik.pl":!0,"rzeszow.pl":!0,"sanok.pl":!0,"sejny.pl":!0,"slask.pl":!0,"slupsk.pl":!0,"sosnowiec.pl":!0,"stalowa-wola.pl":!0,"skoczow.pl":!0,"starachowice.pl":!0,"stargard.pl":!0,"suwalki.pl":!0,"swidnica.pl":!0,"swiebodzin.pl":!0,"swinoujscie.pl":!0,"szczecin.pl":!0,"szczytno.pl":!0,"tarnobrzeg.pl":!0,"tgory.pl":!0,"turek.pl":!0,"tychy.pl":!0,"ustka.pl":!0,"walbrzych.pl":!0,"warmia.pl":!0,"warszawa.pl":!0,"waw.pl":!0,"wegrow.pl":!0,"wielun.pl":!0,"wlocl.pl":!0,"wloclawek.pl":!0,"wodzislaw.pl":!0,"wolomin.pl":!0,"wroclaw.pl":!0,"zachpomor.pl":!0,"zagan.pl":!0,"zarow.pl":!0,"zgora.pl":!0,"zgorzelec.pl":!0,pm:!0,pn:!0,"gov.pn":!0,"co.pn":!0,"org.pn":!0,"edu.pn":!0,"net.pn":!0,post:!0,pr:!0,"com.pr":!0,"net.pr":!0,"org.pr":!0,"gov.pr":!0,"edu.pr":!0,"isla.pr":!0,"pro.pr":!0,"biz.pr":!0,"info.pr":!0,"name.pr":!0,"est.pr":!0,"prof.pr":!0,"ac.pr":!0,pro:!0,"aca.pro":!0,"bar.pro":!0,"cpa.pro":!0,"jur.pro":!0,"law.pro":!0,"med.pro":!0,"eng.pro":!0,ps:!0,"edu.ps":!0,"gov.ps":!0,"sec.ps":!0,"plo.ps":!0,"com.ps":!0,"org.ps":!0,"net.ps":!0,pt:!0,"net.pt":!0,"gov.pt":!0,"org.pt":!0,"edu.pt":!0,"int.pt":!0,"publ.pt":!0,"com.pt":!0,"nome.pt":!0,pw:!0,"co.pw":!0,"ne.pw":!0,"or.pw":!0,"ed.pw":!0,"go.pw":!0,"belau.pw":!0,py:!0,"com.py":!0,"coop.py":!0,"edu.py":!0,"gov.py":!0,"mil.py":!0,"net.py":!0,"org.py":!0,qa:!0,"com.qa":!0,"edu.qa":!0,"gov.qa":!0,"mil.qa":!0,"name.qa":!0,"net.qa":!0,"org.qa":!0,"sch.qa":!0,re:!0,"com.re":!0,"asso.re":!0,"nom.re":!0,ro:!0,"com.ro":!0,"org.ro":!0,"tm.ro":!0,"nt.ro":!0,"nom.ro":!0,"info.ro":!0,"rec.ro":!0,"arts.ro":!0,"firm.ro":!0,"store.ro":!0,"www.ro":!0,rs:!0,"co.rs":!0,"org.rs":!0,"edu.rs":!0,"ac.rs":!0,"gov.rs":!0,"in.rs":!0,ru:!0,"ac.ru":!0,"com.ru":!0,"edu.ru":!0,"int.ru":!0,"net.ru":!0,"org.ru":!0,"pp.ru":!0,"adygeya.ru":!0,"altai.ru":!0,"amur.ru":!0,"arkhangelsk.ru":!0,"astrakhan.ru":!0,"bashkiria.ru":!0,"belgorod.ru":!0,"bir.ru":!0,"bryansk.ru":!0,"buryatia.ru":!0,"cbg.ru":!0,"chel.ru":!0,"chelyabinsk.ru":!0,"chita.ru":!0,"chukotka.ru":!0,"chuvashia.ru":!0,"dagestan.ru":!0,"dudinka.ru":!0,"e-burg.ru":!0,"grozny.ru":!0,"irkutsk.ru":!0,"ivanovo.ru":!0,"izhevsk.ru":!0,"jar.ru":!0,"joshkar-ola.ru":!0,"kalmykia.ru":!0,"kaluga.ru":!0,"kamchatka.ru":!0,"karelia.ru":!0,"kazan.ru":!0,"kchr.ru":!0,"kemerovo.ru":!0,"khabarovsk.ru":!0,"khakassia.ru":!0,"khv.ru":!0,"kirov.ru":!0,"koenig.ru":!0,"komi.ru":!0,"kostroma.ru":!0,"krasnoyarsk.ru":!0,"kuban.ru":!0,"kurgan.ru":!0,"kursk.ru":!0,"lipetsk.ru":!0,"magadan.ru":!0,"mari.ru":!0,"mari-el.ru":!0,"marine.ru":!0,"mordovia.ru":!0,"msk.ru":!0,"murmansk.ru":!0,"nalchik.ru":!0,"nnov.ru":!0,"nov.ru":!0,"novosibirsk.ru":!0,"nsk.ru":!0,"omsk.ru":!0,"orenburg.ru":!0,"oryol.ru":!0,"palana.ru":!0,"penza.ru":!0,"perm.ru":!0,"ptz.ru":!0,"rnd.ru":!0,"ryazan.ru":!0,"sakhalin.ru":!0,"samara.ru":!0,"saratov.ru":!0,"simbirsk.ru":!0,"smolensk.ru":!0,"spb.ru":!0,"stavropol.ru":!0,"stv.ru":!0,"surgut.ru":!0,"tambov.ru":!0,"tatarstan.ru":!0,"tom.ru":!0,"tomsk.ru":!0,"tsaritsyn.ru":!0,"tsk.ru":!0,"tula.ru":!0,"tuva.ru":!0,"tver.ru":!0,"tyumen.ru":!0,"udm.ru":!0,"udmurtia.ru":!0,"ulan-ude.ru":!0,"vladikavkaz.ru":!0,"vladimir.ru":!0,"vladivostok.ru":!0,"volgograd.ru":!0,"vologda.ru":!0,"voronezh.ru":!0,"vrn.ru":!0,"vyatka.ru":!0,"yakutia.ru":!0,"yamal.ru":!0,"yaroslavl.ru":!0,"yekaterinburg.ru":!0,"yuzhno-sakhalinsk.ru":!0,"amursk.ru":!0,"baikal.ru":!0,"cmw.ru":!0,"fareast.ru":!0,"jamal.ru":!0,"kms.ru":!0,"k-uralsk.ru":!0,"kustanai.ru":!0,"kuzbass.ru":!0,"magnitka.ru":!0,"mytis.ru":!0,"nakhodka.ru":!0,"nkz.ru":!0,"norilsk.ru":!0,"oskol.ru":!0,"pyatigorsk.ru":!0,"rubtsovsk.ru":!0,"snz.ru":!0,"syzran.ru":!0,"vdonsk.ru":!0,"zgrad.ru":!0,"gov.ru":!0,"mil.ru":!0,"test.ru":!0,rw:!0,"gov.rw":!0,"net.rw":!0,"edu.rw":!0,"ac.rw":!0,"com.rw":!0,"co.rw":!0,"int.rw":!0,"mil.rw":!0,"gouv.rw":!0,sa:!0,"com.sa":!0,"net.sa":!0,"org.sa":!0,"gov.sa":!0,"med.sa":!0,"pub.sa":!0,"edu.sa":!0,"sch.sa":!0,sb:!0,"com.sb":!0,"edu.sb":!0,"gov.sb":!0,"net.sb":!0,"org.sb":!0,sc:!0,"com.sc":!0,"gov.sc":!0,"net.sc":!0,"org.sc":!0,"edu.sc":!0,sd:!0,"com.sd":!0,"net.sd":!0,"org.sd":!0,"edu.sd":!0,"med.sd":!0,"tv.sd":!0,"gov.sd":!0,"info.sd":!0,se:!0,"a.se":!0,"ac.se":!0,"b.se":!0,"bd.se":!0,"brand.se":!0,"c.se":!0,"d.se":!0,"e.se":!0,"f.se":!0,"fh.se":!0,"fhsk.se":!0,"fhv.se":!0,"g.se":!0,"h.se":!0,"i.se":!0,"k.se":!0,"komforb.se":!0,"kommunalforbund.se":!0,"komvux.se":!0,"l.se":!0,"lanbib.se":!0,"m.se":!0,"n.se":!0,"naturbruksgymn.se":!0,"o.se":!0,"org.se":!0,"p.se":!0,"parti.se":!0,"pp.se":!0,"press.se":!0,"r.se":!0,"s.se":!0,"t.se":!0,"tm.se":!0,"u.se":!0,"w.se":!0,"x.se":!0,"y.se":!0,"z.se":!0,sg:!0,"com.sg":!0,"net.sg":!0,"org.sg":!0,"gov.sg":!0,"edu.sg":!0,"per.sg":!0,sh:!0,"com.sh":!0,"net.sh":!0,"gov.sh":!0,"org.sh":!0,"mil.sh":!0,si:!0,sj:!0,sk:!0,sl:!0,"com.sl":!0,"net.sl":!0,"edu.sl":!0,"gov.sl":!0,"org.sl":!0,sm:!0,sn:!0,"art.sn":!0,"com.sn":!0,"edu.sn":!0,"gouv.sn":!0,"org.sn":!0,"perso.sn":!0,"univ.sn":!0,so:!0,"com.so":!0,"net.so":!0,"org.so":!0,sr:!0,st:!0,"co.st":!0,"com.st":!0,"consulado.st":!0,"edu.st":!0,"embaixada.st":!0,"gov.st":!0,"mil.st":!0,"net.st":!0,"org.st":!0,"principe.st":!0,"saotome.st":!0,"store.st":!0,su:!0,"adygeya.su":!0,"arkhangelsk.su":!0,"balashov.su":!0,"bashkiria.su":!0,"bryansk.su":!0,"dagestan.su":!0,"grozny.su":!0,"ivanovo.su":!0,"kalmykia.su":!0,"kaluga.su":!0,"karelia.su":!0,"khakassia.su":!0,"krasnodar.su":!0,"kurgan.su":!0,"lenug.su":!0,"mordovia.su":!0,"msk.su":!0,"murmansk.su":!0,"nalchik.su":!0,"nov.su":!0,"obninsk.su":!0,"penza.su":!0,"pokrovsk.su":!0,"sochi.su":!0,"spb.su":!0,"togliatti.su":!0,"troitsk.su":!0,"tula.su":!0,"tuva.su":!0,"vladikavkaz.su":!0,"vladimir.su":!0,"vologda.su":!0,sv:!0,"com.sv":!0,"edu.sv":!0,"gob.sv":!0,"org.sv":!0,"red.sv":!0,sx:!0,"gov.sx":!0,sy:!0,"edu.sy":!0,"gov.sy":!0,"net.sy":!0,"mil.sy":!0,"com.sy":!0,"org.sy":!0,sz:!0,"co.sz":!0,"ac.sz":!0,"org.sz":!0,tc:!0,td:!0,tel:!0,tf:!0,tg:!0,th:!0,"ac.th":!0,"co.th":!0,"go.th":!0,"in.th":!0,"mi.th":!0,"net.th":!0,"or.th":!0,tj:!0,"ac.tj":!0,"biz.tj":!0,"co.tj":!0,"com.tj":!0,"edu.tj":!0,"go.tj":!0,"gov.tj":!0,"int.tj":!0,"mil.tj":!0,"name.tj":!0,"net.tj":!0,"nic.tj":!0,"org.tj":!0,"test.tj":!0,"web.tj":!0,tk:!0,tl:!0,"gov.tl":!0,tm:!0,"com.tm":!0,"co.tm":!0,"org.tm":!0,"net.tm":!0,"nom.tm":!0,"gov.tm":!0,"mil.tm":!0,"edu.tm":!0,tn:!0,"com.tn":!0,"ens.tn":!0,"fin.tn":!0,"gov.tn":!0,"ind.tn":!0,"intl.tn":!0,"nat.tn":!0,"net.tn":!0,"org.tn":!0,"info.tn":!0,"perso.tn":!0,"tourism.tn":!0,"edunet.tn":!0,"rnrt.tn":!0,"rns.tn":!0,"rnu.tn":!0,"mincom.tn":!0,"agrinet.tn":!0,"defense.tn":!0,"turen.tn":!0,to:!0,"com.to":!0,"gov.to":!0,"net.to":!0,"org.to":!0,"edu.to":!0,"mil.to":!0,tp:!0,tr:!0,"com.tr":!0,"info.tr":!0,"biz.tr":!0,"net.tr":!0,"org.tr":!0,"web.tr":!0,"gen.tr":!0,"tv.tr":!0,"av.tr":!0,"dr.tr":!0,"bbs.tr":!0,"name.tr":!0,"tel.tr":!0,"gov.tr":!0,"bel.tr":!0,"pol.tr":!0,"mil.tr":!0,"k12.tr":!0,"edu.tr":!0,"kep.tr":!0,"nc.tr":!0,"gov.nc.tr":!0,travel:!0,tt:!0,"co.tt":!0,"com.tt":!0,"org.tt":!0,"net.tt":!0,"biz.tt":!0,"info.tt":!0,"pro.tt":!0,"int.tt":!0,"coop.tt":!0,"jobs.tt":!0,"mobi.tt":!0,"travel.tt":!0,"museum.tt":!0,"aero.tt":!0,"name.tt":!0,"gov.tt":!0,"edu.tt":!0,tv:!0,tw:!0,"edu.tw":!0,"gov.tw":!0,"mil.tw":!0,"com.tw":!0,"net.tw":!0,"org.tw":!0,"idv.tw":!0,"game.tw":!0,"ebiz.tw":!0,"club.tw":!0,"xn--zf0ao64a.tw":!0,"xn--uc0atv.tw":!0,"xn--czrw28b.tw":!0,tz:!0,"ac.tz":!0,"co.tz":!0,"go.tz":!0,"hotel.tz":!0,"info.tz":!0,"me.tz":!0,"mil.tz":!0,"mobi.tz":!0,"ne.tz":!0,"or.tz":!0,"sc.tz":!0,"tv.tz":!0,ua:!0,"com.ua":!0,"edu.ua":!0,"gov.ua":!0,"in.ua":!0,"net.ua":!0,"org.ua":!0,"cherkassy.ua":!0,"cherkasy.ua":!0,"chernigov.ua":!0,"chernihiv.ua":!0,"chernivtsi.ua":!0,"chernovtsy.ua":!0,"ck.ua":!0,"cn.ua":!0,"cr.ua":!0,"crimea.ua":!0,"cv.ua":!0,"dn.ua":!0,"dnepropetrovsk.ua":!0,"dnipropetrovsk.ua":!0,"dominic.ua":!0,"donetsk.ua":!0,"dp.ua":!0,"if.ua":!0,"ivano-frankivsk.ua":!0,"kh.ua":!0,"kharkiv.ua":!0,"kharkov.ua":!0,"kherson.ua":!0,"khmelnitskiy.ua":!0,"khmelnytskyi.ua":!0,"kiev.ua":!0,"kirovograd.ua":!0,"km.ua":!0,"kr.ua":!0,"krym.ua":!0,"ks.ua":!0,"kv.ua":!0,"kyiv.ua":!0,"lg.ua":!0,"lt.ua":!0,"lugansk.ua":!0,"lutsk.ua":!0,"lv.ua":!0,"lviv.ua":!0,"mk.ua":!0,"mykolaiv.ua":!0,"nikolaev.ua":!0,"od.ua":!0,"odesa.ua":!0,"odessa.ua":!0,"pl.ua":!0,"poltava.ua":!0,"rivne.ua":!0,"rovno.ua":!0,"rv.ua":!0,"sb.ua":!0,"sebastopol.ua":!0,"sevastopol.ua":!0,"sm.ua":!0,"sumy.ua":!0,"te.ua":!0,"ternopil.ua":!0,"uz.ua":!0,"uzhgorod.ua":!0,"vinnica.ua":!0,"vinnytsia.ua":!0,"vn.ua":!0,"volyn.ua":!0,"yalta.ua":!0,"zaporizhzhe.ua":!0,"zaporizhzhia.ua":!0,"zhitomir.ua":!0,"zhytomyr.ua":!0,"zp.ua":!0,"zt.ua":!0,ug:!0,"co.ug":!0,"or.ug":!0,"ac.ug":!0,"sc.ug":!0,"go.ug":!0,"ne.ug":!0,"com.ug":!0,"org.ug":!0,uk:!0,"ac.uk":!0,"co.uk":!0,"gov.uk":!0,"ltd.uk":!0,"me.uk":!0,"net.uk":!0,"nhs.uk":!0,"org.uk":!0,"plc.uk":!0,"police.uk":!0,"*.sch.uk":!0,us:!0,"dni.us":!0,"fed.us":!0,"isa.us":!0,"kids.us":!0,"nsn.us":!0,"ak.us":!0,"al.us":!0,"ar.us":!0,"as.us":!0,"az.us":!0,"ca.us":!0,"co.us":!0,"ct.us":!0,"dc.us":!0,"de.us":!0,"fl.us":!0,"ga.us":!0,"gu.us":!0,"hi.us":!0,"ia.us":!0,"id.us":!0,"il.us":!0,"in.us":!0,"ks.us":!0,"ky.us":!0,"la.us":!0,"ma.us":!0,"md.us":!0,"me.us":!0,"mi.us":!0,"mn.us":!0,"mo.us":!0,"ms.us":!0,"mt.us":!0,"nc.us":!0,"nd.us":!0,"ne.us":!0,"nh.us":!0,"nj.us":!0,"nm.us":!0,"nv.us":!0,"ny.us":!0,"oh.us":!0,"ok.us":!0,"or.us":!0,"pa.us":!0,"pr.us":!0,"ri.us":!0,"sc.us":!0,"sd.us":!0,"tn.us":!0,"tx.us":!0,"ut.us":!0,"vi.us":!0,"vt.us":!0,"va.us":!0,"wa.us":!0,"wi.us":!0,"wv.us":!0,"wy.us":!0,"k12.ak.us":!0,"k12.al.us":!0,"k12.ar.us":!0,"k12.as.us":!0,"k12.az.us":!0,"k12.ca.us":!0,"k12.co.us":!0,"k12.ct.us":!0,"k12.dc.us":!0,"k12.de.us":!0,"k12.fl.us":!0,"k12.ga.us":!0,"k12.gu.us":!0,"k12.ia.us":!0,"k12.id.us":!0,"k12.il.us":!0,"k12.in.us":!0,"k12.ks.us":!0,"k12.ky.us":!0,"k12.la.us":!0,"k12.ma.us":!0,"k12.md.us":!0,"k12.me.us":!0,"k12.mi.us":!0,"k12.mn.us":!0,"k12.mo.us":!0,"k12.ms.us":!0,"k12.mt.us":!0,"k12.nc.us":!0,"k12.ne.us":!0,"k12.nh.us":!0,"k12.nj.us":!0,"k12.nm.us":!0,"k12.nv.us":!0,"k12.ny.us":!0,"k12.oh.us":!0,"k12.ok.us":!0,"k12.or.us":!0,"k12.pa.us":!0,"k12.pr.us":!0,"k12.ri.us":!0,"k12.sc.us":!0,"k12.tn.us":!0,"k12.tx.us":!0,"k12.ut.us":!0,"k12.vi.us":!0,"k12.vt.us":!0,"k12.va.us":!0,"k12.wa.us":!0,"k12.wi.us":!0,"k12.wy.us":!0,"cc.ak.us":!0,"cc.al.us":!0,"cc.ar.us":!0,"cc.as.us":!0,"cc.az.us":!0,"cc.ca.us":!0,"cc.co.us":!0,"cc.ct.us":!0,"cc.dc.us":!0,"cc.de.us":!0,"cc.fl.us":!0,"cc.ga.us":!0,"cc.gu.us":!0,"cc.hi.us":!0,"cc.ia.us":!0,"cc.id.us":!0,"cc.il.us":!0,"cc.in.us":!0,"cc.ks.us":!0,"cc.ky.us":!0,"cc.la.us":!0,"cc.ma.us":!0,"cc.md.us":!0,"cc.me.us":!0,"cc.mi.us":!0,"cc.mn.us":!0,"cc.mo.us":!0,"cc.ms.us":!0,"cc.mt.us":!0,"cc.nc.us":!0,"cc.nd.us":!0,"cc.ne.us":!0,"cc.nh.us":!0,"cc.nj.us":!0,"cc.nm.us":!0,"cc.nv.us":!0,"cc.ny.us":!0,"cc.oh.us":!0,"cc.ok.us":!0,"cc.or.us":!0,"cc.pa.us":!0,"cc.pr.us":!0,"cc.ri.us":!0,"cc.sc.us":!0,"cc.sd.us":!0,"cc.tn.us":!0,"cc.tx.us":!0,"cc.ut.us":!0,"cc.vi.us":!0,"cc.vt.us":!0,"cc.va.us":!0,"cc.wa.us":!0,"cc.wi.us":!0,"cc.wv.us":!0,"cc.wy.us":!0,"lib.ak.us":!0,"lib.al.us":!0,"lib.ar.us":!0,"lib.as.us":!0,"lib.az.us":!0,"lib.ca.us":!0,"lib.co.us":!0,"lib.ct.us":!0,"lib.dc.us":!0,"lib.de.us":!0,"lib.fl.us":!0,"lib.ga.us":!0,"lib.gu.us":!0,"lib.hi.us":!0,"lib.ia.us":!0,"lib.id.us":!0,"lib.il.us":!0,"lib.in.us":!0,"lib.ks.us":!0,"lib.ky.us":!0,"lib.la.us":!0,"lib.ma.us":!0,"lib.md.us":!0,"lib.me.us":!0,"lib.mi.us":!0,"lib.mn.us":!0,"lib.mo.us":!0,"lib.ms.us":!0,"lib.mt.us":!0,"lib.nc.us":!0,"lib.nd.us":!0,"lib.ne.us":!0,"lib.nh.us":!0,"lib.nj.us":!0,"lib.nm.us":!0,"lib.nv.us":!0,"lib.ny.us":!0,"lib.oh.us":!0,"lib.ok.us":!0,"lib.or.us":!0,"lib.pa.us":!0,"lib.pr.us":!0,"lib.ri.us":!0,"lib.sc.us":!0,"lib.sd.us":!0,"lib.tn.us":!0,"lib.tx.us":!0,"lib.ut.us":!0,"lib.vi.us":!0,"lib.vt.us":!0,"lib.va.us":!0,"lib.wa.us":!0,"lib.wi.us":!0,"lib.wy.us":!0,"pvt.k12.ma.us":!0,"chtr.k12.ma.us":!0,"paroch.k12.ma.us":!0,uy:!0,"com.uy":!0,"edu.uy":!0,"gub.uy":!0,"mil.uy":!0,"net.uy":!0,"org.uy":!0,uz:!0,"co.uz":!0,"com.uz":!0,"net.uz":!0,"org.uz":!0,va:!0,vc:!0,"com.vc":!0,"net.vc":!0,"org.vc":!0,"gov.vc":!0,"mil.vc":!0,"edu.vc":!0,ve:!0,"arts.ve":!0,"co.ve":!0,"com.ve":!0,"e12.ve":!0,"edu.ve":!0,"firm.ve":!0,"gob.ve":!0,"gov.ve":!0,"info.ve":!0,"int.ve":!0,"mil.ve":!0,"net.ve":!0,"org.ve":!0,"rec.ve":!0,"store.ve":!0,"tec.ve":!0,"web.ve":!0,vg:!0,vi:!0,"co.vi":!0,"com.vi":!0,"k12.vi":!0,"net.vi":!0,"org.vi":!0,vn:!0,"com.vn":!0,"net.vn":!0,"org.vn":!0,"edu.vn":!0,"gov.vn":!0,"int.vn":!0,"ac.vn":!0,"biz.vn":!0,"info.vn":!0,"name.vn":!0,"pro.vn":!0,"health.vn":!0,vu:!0,"com.vu":!0,"edu.vu":!0,"net.vu":!0,"org.vu":!0,wf:!0,ws:!0,"com.ws":!0,"net.ws":!0,"org.ws":!0,"gov.ws":!0,"edu.ws":!0,yt:!0,"xn--mgbaam7a8h":!0,"xn--y9a3aq":!0,"xn--54b7fta0cc":!0,"xn--90ais":!0,"xn--fiqs8s":!0,"xn--fiqz9s":!0,"xn--lgbbat1ad8j":!0,"xn--wgbh1c":!0,"xn--node":!0,"xn--qxam":!0,"xn--j6w193g":!0,"xn--h2brj9c":!0,"xn--mgbbh1a71e":!0,"xn--fpcrj9c3d":!0,"xn--gecrj9c":!0,"xn--s9brj9c":!0,"xn--45brj9c":!0,"xn--xkc2dl3a5ee0h":!0,"xn--mgba3a4f16a":!0,"xn--mgba3a4fra":!0,"xn--mgbtx2b":!0,"xn--mgbayh7gpa":!0,"xn--3e0b707e":!0,"xn--80ao21a":!0,"xn--fzc2c9e2c":!0,"xn--xkc2al3hye2a":!0,"xn--mgbc0a9azcg":!0,"xn--d1alf":!0,"xn--l1acc":!0,"xn--mix891f":!0,"xn--mix082f":!0,"xn--mgbx4cd0ab":!0,"xn--mgb9awbf":!0,"xn--mgbai9azgqp6j":!0,"xn--mgbai9a5eva00b":!0,"xn--ygbi2ammx":!0,"xn--90a3ac":!0,"xn--o1ac.xn--90a3ac":!0,"xn--c1avg.xn--90a3ac":!0,"xn--90azh.xn--90a3ac":!0,"xn--d1at.xn--90a3ac":!0,"xn--o1ach.xn--90a3ac":!0,"xn--80au.xn--90a3ac":!0,"xn--p1ai":!0,"xn--wgbl6a":!0,"xn--mgberp4a5d4ar":!0,"xn--mgberp4a5d4a87g":!0,"xn--mgbqly7c0a67fbc":!0,"xn--mgbqly7cvafr":!0,"xn--mgbpl2fh":!0,"xn--yfro4i67o":!0,"xn--clchc0ea0b2g2a9gcd":!0,"xn--ogbpf8fl":!0,"xn--mgbtf8fl":!0,"xn--o3cw4h":!0,"xn--pgbs0dh":!0,"xn--kpry57d":!0,"xn--kprw13d":!0,"xn--nnx388a":!0,"xn--j1amh":!0,"xn--mgb2ddes":!0,xxx:!0,"*.ye":!0,"ac.za":!0,"agrica.za":!0,"alt.za":!0,"co.za":!0,"edu.za":!0,"gov.za":!0,"grondar.za":!0,"law.za":!0,"mil.za":!0,"net.za":!0,"ngo.za":!0,"nis.za":!0,"nom.za":!0,"org.za":!0,"school.za":!0,"tm.za":!0,"web.za":!0,"*.zm":!0,"*.zw":!0,aaa:!0,aarp:!0,abarth:!0,abb:!0,abbott:!0,abbvie:!0,abc:!0,able:!0,abogado:!0,abudhabi:!0,academy:!0,accenture:!0,accountant:!0,accountants:!0,aco:!0,active:!0,actor:!0,adac:!0,ads:!0,adult:!0,aeg:!0,aetna:!0,afamilycompany:!0,afl:!0,africa:!0,africamagic:!0,agakhan:!0,agency:!0,aig:!0,aigo:!0,airbus:!0,airforce:!0,airtel:!0,akdn:!0,alfaromeo:!0,alibaba:!0,alipay:!0,allfinanz:!0,allstate:!0,ally:!0,alsace:!0,alstom:!0,americanexpress:!0,americanfamily:!0,amex:!0,amfam:!0,amica:!0,amsterdam:!0,analytics:!0,android:!0,anquan:!0,anz:!0,aol:!0,apartments:!0,app:!0,apple:!0,aquarelle:!0,aramco:!0,archi:!0,army:!0,arte:!0,asda:!0,associates:!0,athleta:!0,attorney:!0,auction:!0,audi:!0,audible:!0,audio:!0,auspost:!0,author:!0,auto:!0,autos:!0,avianca:!0,aws:!0,axa:!0,azure:!0,baby:!0,baidu:!0,banamex:!0,bananarepublic:!0,band:!0,bank:!0,bar:!0,barcelona:!0,barclaycard:!0,barclays:!0,barefoot:!0,bargains:!0,basketball:!0,bauhaus:!0,bayern:!0,bbc:!0,bbt:!0,bbva:!0,bcg:!0,bcn:!0,beats:!0,beer:!0,bentley:!0,berlin:!0,best:!0,bestbuy:!0,bet:!0,bharti:!0,bible:!0,bid:!0,bike:!0,bing:!0,bingo:!0,bio:!0,black:!0,blackfriday:!0,blanco:!0,blockbuster:!0,blog:!0,bloomberg:!0,blue:!0,bms:!0,bmw:!0,bnl:!0,bnpparibas:!0,boats:!0,boehringer:!0,bofa:!0,bom:!0,bond:!0,boo:!0,book:!0,booking:!0,boots:!0,bosch:!0,bostik:!0,bot:!0,boutique:!0,bradesco:!0,bridgestone:!0,broadway:!0,broker:!0,brother:!0,brussels:!0,budapest:!0,bugatti:!0,build:!0,builders:!0,business:!0,buy:!0,buzz:!0,bzh:!0,cab:!0,cafe:!0,cal:!0,call:!0,calvinklein:!0,camera:!0,camp:!0,cancerresearch:!0,canon:!0,capetown:!0,capital:!0,capitalone:!0,car:!0,caravan:!0,cards:!0,care:!0,career:!0,careers:!0,cars:!0,cartier:!0,casa:!0,"case":!0,caseih:!0,cash:!0,casino:!0,catering:!0,cba:!0,cbn:!0,cbre:!0,cbs:!0,ceb:!0,center:!0,ceo:!0,cern:!0,cfa:!0,cfd:!0,chanel:!0,channel:!0,chase:!0,chat:!0,cheap:!0,chintai:!0,chloe:!0,christmas:!0,chrome:!0,chrysler:!0,church:!0,cipriani:!0,circle:!0,cisco:!0,citadel:!0,citi:!0,citic:!0,city:!0,cityeats:!0,claims:!0,cleaning:!0,click:!0,clinic:!0,clothing:!0,cloud:!0,club:!0,clubmed:!0,coach:!0,codes:!0,coffee:!0,college:!0,cologne:!0,comcast:!0,commbank:!0,community:!0,company:!0,computer:!0,comsec:!0,condos:!0,construction:!0,consulting:!0,contact:!0,contractors:!0,cooking:!0,cookingchannel:!0,cool:!0,corsica:!0,country:!0,coupon:!0,coupons:!0,courses:!0,credit:!0,creditcard:!0,creditunion:!0,cricket:!0,crown:!0,crs:!0,cruises:!0,csc:!0,cuisinella:!0,cymru:!0,cyou:!0,dabur:!0,dad:!0,dance:!0,date:!0,dating:!0,datsun:!0,day:!0,dclk:!0,dds:!0,deal:!0,dealer:!0,deals:!0,degree:!0,delivery:!0,dell:!0,deloitte:!0,delta:!0,democrat:!0,dental:!0,dentist:!0,desi:!0,design:!0,dev:!0,dhl:!0,diamonds:!0,diet:!0,digital:!0,direct:!0,directory:!0,discount:!0,discover:!0,dish:!0,dnp:!0,docs:!0,dodge:!0,dog:!0,doha:!0,domains:!0,doosan:!0,dot:!0,download:!0,drive:!0,dstv:!0,dtv:!0,dubai:!0,duck:!0,dunlop:!0,duns:!0,dupont:!0,durban:!0,dvag:!0,dwg:!0,earth:!0,eat:!0,edeka:!0,education:!0,email:!0,emerck:!0,emerson:!0,energy:!0,engineer:!0,engineering:!0,enterprises:!0,epost:!0,epson:!0,equipment:!0,ericsson:!0,erni:!0,esq:!0,estate:!0,esurance:!0,etisalat:!0,eurovision:!0,eus:!0,events:!0,everbank:!0,exchange:!0,expert:!0,exposed:!0,express:!0,extraspace:!0,fage:!0,fail:!0,fairwinds:!0,faith:!0,family:!0,fan:!0,fans:!0,farm:!0,farmers:!0,fashion:!0,fast:!0,fedex:!0,feedback:!0,ferrari:!0,ferrero:!0,fiat:!0,fidelity:!0,fido:!0,film:!0,final:!0,finance:!0,financial:!0,fire:!0,firestone:!0,firmdale:!0,fish:!0,fishing:!0,fit:!0,fitness:!0,flickr:!0,flights:!0,flir:!0,florist:!0,flowers:!0,flsmidth:!0,fly:!0,foo:!0,foodnetwork:!0,football:!0,ford:!0,forex:!0,forsale:!0,forum:!0,foundation:!0,fox:!0,fresenius:!0,frl:!0,frogans:!0,frontdoor:!0,frontier:!0,ftr:!0,fujitsu:!0,fujixerox:!0,fund:!0,furniture:!0,futbol:!0,fyi:!0,gal:!0,gallery:!0,gallo:!0,gallup:!0,game:!0,games:!0,gap:!0,garden:!0,gbiz:!0,gdn:!0,gea:!0,gent:!0,genting:!0,george:!0,ggee:!0,gift:!0,gifts:!0,gives:!0,giving:!0,glade:!0,glass:!0,gle:!0,global:!0,globo:!0,gmail:!0,gmo:!0,gmx:!0,godaddy:!0,gold:!0,goldpoint:!0,golf:!0,goo:!0,goodhands:!0,goodyear:!0,goog:!0,google:!0,gop:!0,got:!0,gotv:!0,grainger:!0,graphics:!0,gratis:!0,green:!0,gripe:!0,group:!0,guardian:!0,gucci:!0,guge:!0,guide:!0,guitars:!0,guru:!0,hamburg:!0,hangout:!0,haus:!0,hbo:!0,hdfc:!0,hdfcbank:!0,health:!0,healthcare:!0,help:!0,helsinki:!0,here:!0,hermes:!0,hgtv:!0,hiphop:!0,hisamitsu:!0,hitachi:!0,hiv:!0,hkt:!0,hockey:!0,holdings:!0,holiday:!0,homedepot:!0,homegoods:!0,homes:!0,homesense:!0,honda:!0,honeywell:!0,horse:!0,host:!0,hosting:!0,hot:!0,hoteles:!0,hotmail:!0,house:!0,how:!0,hsbc:!0,htc:!0,hughes:!0,hyatt:!0,hyundai:!0,ibm:!0,icbc:!0,ice:!0,icu:!0,ieee:!0,ifm:!0,iinet:!0,ikano:!0,imamat:!0,imdb:!0,immo:!0,immobilien:!0,industries:!0,infiniti:!0,ing:!0,ink:!0,institute:!0,insurance:!0,insure:!0,intel:!0,international:!0,intuit:!0,investments:!0,ipiranga:!0,irish:!0,iselect:!0,ismaili:!0,ist:!0,istanbul:!0,itau:!0,itv:!0,iveco:!0,iwc:!0,jaguar:!0,java:!0,jcb:!0,jcp:!0,jeep:!0,jetzt:!0,jewelry:!0,jio:!0,jlc:!0,jll:!0,jmp:!0,jnj:!0,joburg:!0,jot:!0,joy:!0,jpmorgan:!0,jprs:!0,juegos:!0,juniper:!0,kaufen:!0,kddi:!0,kerryhotels:!0,kerrylogistics:!0,kerryproperties:!0,kfh:!0,kia:!0,kim:!0,kinder:!0,kindle:!0,kitchen:!0,kiwi:!0,koeln:!0,komatsu:!0,kosher:!0,kpmg:!0,kpn:!0,krd:!0,kred:!0,kuokgroup:!0,kyknet:!0,kyoto:!0,lacaixa:!0,ladbrokes:!0,lamborghini:!0,lancaster:!0,lancia:!0,lancome:!0,land:!0,landrover:!0,lanxess:!0,lasalle:!0,lat:!0,latino:!0,latrobe:!0,law:!0,lawyer:!0,lds:!0,lease:!0,leclerc:!0,lefrak:!0,legal:!0,lego:!0,lexus:!0,lgbt:!0,liaison:!0,lidl:!0,life:!0,lifeinsurance:!0,lifestyle:!0,lighting:!0,like:!0,lilly:!0,limited:!0,limo:!0,lincoln:!0,linde:!0,link:!0,lipsy:!0,live:!0,living:!0,lixil:!0,loan:!0,loans:!0,locker:!0,locus:!0,loft:!0,lol:!0,london:!0,lotte:!0,lotto:!0,love:!0,lpl:!0,lplfinancial:!0,ltd:!0,ltda:!0,lundbeck:!0,lupin:!0,luxe:!0,luxury:!0,macys:!0,madrid:!0,maif:!0,maison:!0,makeup:!0,man:!0,management:!0,mango:!0,market:!0,marketing:!0,markets:!0,marriott:!0,marshalls:!0,maserati:!0,mattel:!0,mba:!0,mcd:!0,mcdonalds:!0,mckinsey:!0,med:!0,media:!0,meet:!0,melbourne:!0,meme:!0,memorial:!0,men:!0,menu:!0,meo:!0,metlife:!0,miami:!0,microsoft:!0,mini:!0,mint:!0,mit:!0,mitsubishi:!0,mlb:!0,mls:!0,mma:!0,mnet:!0,mobily:!0,moda:!0,moe:!0,moi:!0,mom:!0,monash:!0,money:!0,monster:!0,montblanc:!0,mopar:!0,mormon:!0,mortgage:!0,moscow:!0,moto:!0,motorcycles:!0,mov:!0,movie:!0,movistar:!0,msd:!0,mtn:!0,mtpc:!0,mtr:!0,multichoice:!0,mutual:!0,mutuelle:!0,mzansimagic:!0,nab:!0,nadex:!0,nagoya:!0,naspers:!0,nationwide:!0,natura:!0,navy:!0,nba:!0,nec:!0,netbank:!0,netflix:!0,network:!0,neustar:!0,"new":!0,newholland:!0,news:!0,next:!0,nextdirect:!0,nexus:!0,nfl:!0,ngo:!0,nhk:!0,nico:!0,nike:!0,nikon:!0,ninja:!0,nissan:!0,nokia:!0,northwesternmutual:!0,norton:!0,now:!0,nowruz:!0,nowtv:!0,nra:!0,nrw:!0,ntt:!0,nyc:!0,obi:!0,observer:!0,off:!0,office:!0,okinawa:!0,olayan:!0,olayangroup:!0,oldnavy:!0,ollo:!0,omega:!0,one:!0,ong:!0,onl:!0,online:!0,onyourside:!0,ooo:!0,open:!0,oracle:!0,orange:!0,organic:!0,orientexpress:!0,osaka:!0,otsuka:!0,ott:!0,ovh:!0,page:!0,pamperedchef:!0,panasonic:!0,panerai:!0,paris:!0,pars:!0,partners:!0,parts:!0,party:!0,passagens:!0,pay:!0,payu:!0,pccw:!0,pet:!0,pfizer:!0,pharmacy:!0,philips:!0,photo:!0,photography:!0,photos:!0,physio:!0,piaget:!0,pics:!0,pictet:!0,pictures:!0,pid:!0,pin:!0,ping:!0,pink:!0,pioneer:!0,pizza:!0,place:!0,play:!0,playstation:!0,plumbing:!0,plus:!0,pnc:!0,pohl:!0,poker:!0,politie:!0,porn:!0,pramerica:!0,praxi:!0,press:!0,prime:!0,prod:!0,productions:!0,prof:!0,progressive:!0,promo:!0,properties:!0,property:!0,protection:!0,pru:!0,prudential:!0,pub:!0,qpon:!0,quebec:!0,quest:!0,qvc:!0,racing:!0,raid:!0,read:!0,realestate:!0,realtor:!0,realty:!0,recipes:!0,red:!0,redstone:!0,redumbrella:!0,rehab:!0,reise:!0,reisen:!0,reit:!0,reliance:!0,ren:!0,rent:!0,rentals:!0,repair:!0,report:!0,republican:!0,rest:!0,restaurant:!0,review:!0,reviews:!0,rexroth:!0,rich:!0,richardli:!0,ricoh:!0,rightathome:!0,ril:!0,rio:!0,rip:!0,rocher:!0,rocks:!0,rodeo:!0,rogers:!0,room:!0,rsvp:!0,ruhr:!0,run:!0,rwe:!0,ryukyu:!0,saarland:!0,safe:!0,safety:!0,sakura:!0,sale:!0,salon:!0,samsclub:!0,samsung:!0,sandvik:!0,sandvikcoromant:!0,sanofi:!0,sap:!0,sapo:!0,sarl:!0,sas:!0,save:!0,saxo:!0,sbi:!0,sbs:!0,sca:!0,scb:!0,schaeffler:!0,schmidt:!0,scholarships:!0,school:!0,schule:!0,schwarz:!0,science:!0,scjohnson:!0,scor:!0,scot:!0,seat:!0,secure:!0,security:!0,seek:!0,sener:!0,services:!0,ses:!0,seven:!0,sew:!0,sex:!0,sexy:!0,sfr:!0,shangrila:!0,sharp:!0,shaw:!0,shell:!0,shia:!0,shiksha:!0,shoes:!0,shouji:!0,show:!0,showtime:!0,shriram:!0,silk:!0,sina:!0,singles:!0,site:!0,ski:!0,skin:!0,sky:!0,skype:!0,sling:!0,smart:!0,smile:!0,sncf:!0,soccer:!0,social:!0,softbank:!0,software:!0,sohu:!0,solar:!0,solutions:!0,song:!0,sony:!0,soy:!0,space:!0,spiegel:!0,spot:!0,spreadbetting:!0,srl:!0,srt:!0,stada:!0,staples:!0,star:!0,starhub:!0,statebank:!0,statefarm:!0,statoil:!0,stc:!0,stcgroup:!0,stockholm:!0,storage:!0,store:!0,studio:!0,study:!0,style:!0,sucks:!0,supersport:!0,supplies:!0,supply:!0,support:!0,surf:!0,surgery:!0,suzuki:!0,swatch:!0,swiftcover:!0,swiss:!0,sydney:!0,symantec:!0,systems:!0,tab:!0,taipei:!0,talk:!0,taobao:!0,target:!0,tatamotors:!0,tatar:!0,tattoo:!0,tax:!0,taxi:!0,tci:!0,tdk:!0,team:!0,tech:!0,technology:!0,telecity:!0,telefonica:!0,temasek:!0,tennis:!0,teva:!0,thd:!0,theater:!0,theatre:!0,theguardian:!0,tiaa:!0,tickets:!0,tienda:!0,tiffany:!0,tips:!0,tires:!0,tirol:!0,tjmaxx:!0,tjx:!0,tkmaxx:!0,tmall:!0,today:!0,tokyo:!0,tools:!0,top:!0,toray:!0,toshiba:!0,total:!0,tours:!0,town:!0,toyota:!0,toys:!0,trade:!0,trading:!0,training:!0,travelchannel:!0,travelers:!0,travelersinsurance:!0,trust:!0,trv:!0,tube:!0,tui:!0,tunes:!0,tushu:!0,tvs:!0,ubank:!0,ubs:!0,uconnect:!0,university:!0,uno:!0,uol:!0,ups:!0,vacations:!0,vana:!0,vanguard:!0,vegas:!0,ventures:!0,verisign:!0,versicherung:!0,vet:!0,viajes:!0,video:!0,vig:!0,viking:!0,villas:!0,vin:!0,vip:!0,virgin:!0,visa:!0,vision:!0,vista:!0,vistaprint:!0,viva:!0,vivo:!0,vlaanderen:!0,vodka:!0,volkswagen:!0,vote:!0,voting:!0,voto:!0,voyage:!0,vuelos:!0,wales:!0,walmart:!0,walter:!0,wang:!0,wanggou:!0,warman:!0,watch:!0,watches:!0,weather:!0,weatherchannel:!0,webcam:!0,weber:!0,website:!0,wed:!0,wedding:!0,weibo:!0,weir:!0,whoswho:!0,wien:!0,wiki:!0,williamhill:!0,win:!0,windows:!0,wine:!0,winners:!0,wme:!0,wolterskluwer:!0,woodside:!0,work:!0,works:!0,world:!0,wtc:!0,wtf:!0,xbox:!0,xerox:!0,xfinity:!0,xihuan:!0,xin:!0,"xn--11b4c3d":!0,"xn--1ck2e1b":!0,"xn--1qqw23a":!0,"xn--30rr7y":!0,"xn--3bst00m":!0,"xn--3ds443g":!0,"xn--3oq18vl8pn36a":!0,"xn--3pxu8k":!0,"xn--42c2d9a":!0,"xn--45q11c":!0,"xn--4gbrim":!0,"xn--4gq48lf9j":!0,"xn--55qw42g":!0,"xn--55qx5d":!0,"xn--5su34j936bgsg":!0,"xn--5tzm5g":!0,"xn--6frz82g":!0,"xn--6qq986b3xl":!0,"xn--80adxhks":!0,"xn--80asehdb":!0,"xn--80aswg":!0,"xn--8y0a063a":!0,"xn--9dbq2a":!0,"xn--9et52u":!0,"xn--9krt00a":!0,"xn--b4w605ferd":!0,"xn--bck1b9a5dre4c":!0,"xn--c1avg":!0,"xn--c2br7g":!0,"xn--cck2b3b":!0,"xn--cg4bki":!0,"xn--czr694b":!0,"xn--czrs0t":!0,"xn--czru2d":!0,"xn--d1acj3b":!0,"xn--eckvdtc9d":!0,"xn--efvy88h":!0,"xn--estv75g":!0,"xn--fct429k":!0,"xn--fhbei":!0,"xn--fiq228c5hs":!0,"xn--fiq64b":!0,"xn--fjq720a":!0,"xn--flw351e":!0,"xn--fzys8d69uvgm":!0,"xn--g2xx48c":!0,"xn--gckr3f0f":!0,"xn--hxt814e":!0,"xn--i1b6b1a6a2e":!0,"xn--imr513n":!0,"xn--io0a7i":!0,"xn--j1aef":!0,"xn--jlq61u9w7b":!0,"xn--jvr189m":!0,"xn--kcrx77d1x4a":!0,"xn--kpu716f":!0,"xn--kput3i":!0,"xn--mgba3a3ejt":!0,"xn--mgba7c0bbn0a":!0,"xn--mgbaakc7dvf":!0,"xn--mgbab2bd":!0,"xn--mgbb9fbpob":!0,"xn--mgbca7dzdo":!0,"xn--mgbt3dhd":!0,"xn--mk1bu44c":!0,"xn--mxtq1m":!0,"xn--ngbc5azd":!0,"xn--ngbe9e0a":!0,"xn--nqv7f":!0,"xn--nqv7fs00ema":!0,"xn--nyqy26a":!0,"xn--p1acf":!0,"xn--pbt977c":!0,"xn--pssy2u":!0,"xn--q9jyb4c":!0,"xn--qcka1pmc":!0,"xn--rhqv96g":!0,"xn--rovu88b":!0,"xn--ses554g":!0,"xn--t60b56a":!0,"xn--tckwe":!0,"xn--unup4y":!0,"xn--vermgensberater-ctb":!0,"xn--vermgensberatung-pwb":!0,"xn--vhquv":!0,"xn--vuq861b":!0,"xn--w4r85el8fhu5dnra":!0,"xn--w4rs40l":!0,"xn--xhq521b":!0,"xn--zfr164b":!0,xperia:!0,xyz:!0,yachts:!0,yahoo:!0,yamaxun:!0,yandex:!0,yodobashi:!0,yoga:!0,yokohama:!0,you:!0,youtube:!0,yun:!0,zappos:!0,zara:!0,zero:!0,zip:!0,zippo:!0,zone:!0,zuerich:!0,"cloudfront.net":!0,"ap-northeast-1.compute.amazonaws.com":!0,"ap-southeast-1.compute.amazonaws.com":!0,"ap-southeast-2.compute.amazonaws.com":!0,"cn-north-1.compute.amazonaws.cn":!0,"compute.amazonaws.cn":!0,"compute.amazonaws.com":!0,"compute-1.amazonaws.com":!0,"eu-west-1.compute.amazonaws.com":!0,"eu-central-1.compute.amazonaws.com":!0,"sa-east-1.compute.amazonaws.com":!0,"us-east-1.amazonaws.com":!0,"us-gov-west-1.compute.amazonaws.com":!0,"us-west-1.compute.amazonaws.com":!0,"us-west-2.compute.amazonaws.com":!0,"z-1.compute-1.amazonaws.com":!0,"z-2.compute-1.amazonaws.com":!0,"elasticbeanstalk.com":!0,"elb.amazonaws.com":!0,"s3.amazonaws.com":!0,"s3-ap-northeast-1.amazonaws.com":!0,"s3-ap-southeast-1.amazonaws.com":!0,"s3-ap-southeast-2.amazonaws.com":!0,"s3-external-1.amazonaws.com":!0,"s3-external-2.amazonaws.com":!0,"s3-fips-us-gov-west-1.amazonaws.com":!0,"s3-eu-central-1.amazonaws.com":!0,"s3-eu-west-1.amazonaws.com":!0,"s3-sa-east-1.amazonaws.com":!0,"s3-us-gov-west-1.amazonaws.com":!0,"s3-us-west-1.amazonaws.com":!0,"s3-us-west-2.amazonaws.com":!0,"s3.cn-north-1.amazonaws.com.cn":!0,"s3.eu-central-1.amazonaws.com":!0,"betainabox.com":!0,"ae.org":!0,"ar.com":!0,"br.com":!0,"cn.com":!0,"com.de":!0,"com.se":!0,"de.com":!0,"eu.com":!0,"gb.com":!0,"gb.net":!0,"hu.com":!0,"hu.net":!0,"jp.net":!0,"jpn.com":!0,"kr.com":!0,"mex.com":!0,"no.com":!0,"qc.com":!0,"ru.com":!0,"sa.com":!0,"se.com":!0,"se.net":!0,"uk.com":!0,"uk.net":!0,"us.com":!0,"uy.com":!0,"za.bz":!0,"za.com":!0,"africa.com":!0,"gr.com":!0,"in.net":!0,"us.org":!0,"co.com":!0,"c.la":!0,"cloudcontrolled.com":!0,"cloudcontrolapp.com":!0,"co.ca":!0,"c.cdn77.org":!0,"cdn77-ssl.net":!0,"r.cdn77.net":!0,"rsc.cdn77.org":!0,"ssl.origin.cdn77-secure.org":!0,"co.nl":!0,"co.no":!0,"*.platform.sh":!0,"cupcake.is":!0,"dreamhosters.com":!0,"duckdns.org":!0,"dyndns-at-home.com":!0,"dyndns-at-work.com":!0,"dyndns-blog.com":!0,"dyndns-free.com":!0,"dyndns-home.com":!0,"dyndns-ip.com":!0,"dyndns-mail.com":!0,"dyndns-office.com":!0,"dyndns-pics.com":!0,"dyndns-remote.com":!0,"dyndns-server.com":!0,"dyndns-web.com":!0,"dyndns-wiki.com":!0,"dyndns-work.com":!0,"dyndns.biz":!0,"dyndns.info":!0,"dyndns.org":!0,"dyndns.tv":!0,"at-band-camp.net":!0,"ath.cx":!0,"barrel-of-knowledge.info":!0,"barrell-of-knowledge.info":!0,"better-than.tv":!0,"blogdns.com":!0,"blogdns.net":!0,"blogdns.org":!0,"blogsite.org":!0,"boldlygoingnowhere.org":!0,"broke-it.net":!0,"buyshouses.net":!0,"cechire.com":!0,"dnsalias.com":!0,"dnsalias.net":!0,"dnsalias.org":!0,"dnsdojo.com":!0,"dnsdojo.net":!0,"dnsdojo.org":!0,"does-it.net":!0,"doesntexist.com":!0,"doesntexist.org":!0,"dontexist.com":!0,"dontexist.net":!0,"dontexist.org":!0,"doomdns.com":!0,"doomdns.org":!0,"dvrdns.org":!0,"dyn-o-saur.com":!0,"dynalias.com":!0,"dynalias.net":!0,"dynalias.org":!0,"dynathome.net":!0,"dyndns.ws":!0,"endofinternet.net":!0,"endofinternet.org":!0,"endoftheinternet.org":!0,"est-a-la-maison.com":!0,"est-a-la-masion.com":!0,"est-le-patron.com":!0,"est-mon-blogueur.com":!0,"for-better.biz":!0,"for-more.biz":!0,"for-our.info":!0,"for-some.biz":!0,"for-the.biz":!0,"forgot.her.name":!0,"forgot.his.name":!0,"from-ak.com":!0,"from-al.com":!0,"from-ar.com":!0,"from-az.net":!0,"from-ca.com":!0,"from-co.net":!0,"from-ct.com":!0,"from-dc.com":!0,"from-de.com":!0,"from-fl.com":!0,"from-ga.com":!0,"from-hi.com":!0,"from-ia.com":!0,"from-id.com":!0,"from-il.com":!0,"from-in.com":!0,"from-ks.com":!0,"from-ky.com":!0,"from-la.net":!0,"from-ma.com":!0,"from-md.com":!0,"from-me.org":!0,"from-mi.com":!0,"from-mn.com":!0,"from-mo.com":!0,"from-ms.com":!0,"from-mt.com":!0,"from-nc.com":!0,"from-nd.com":!0,"from-ne.com":!0,"from-nh.com":!0,"from-nj.com":!0,"from-nm.com":!0,"from-nv.com":!0,"from-ny.net":!0,"from-oh.com":!0,"from-ok.com":!0,"from-or.com":!0,"from-pa.com":!0,"from-pr.com":!0,"from-ri.com":!0,"from-sc.com":!0,"from-sd.com":!0,"from-tn.com":!0,"from-tx.com":!0,"from-ut.com":!0,"from-va.com":!0,"from-vt.com":!0,"from-wa.com":!0,"from-wi.com":!0,"from-wv.com":!0,"from-wy.com":!0,"ftpaccess.cc":!0,"fuettertdasnetz.de":!0,"game-host.org":!0,"game-server.cc":!0,"getmyip.com":!0,"gets-it.net":!0,"go.dyndns.org":!0,"gotdns.com":!0,"gotdns.org":!0,"groks-the.info":!0,"groks-this.info":!0,"ham-radio-op.net":!0,"here-for-more.info":!0,"hobby-site.com":!0,"hobby-site.org":!0,"home.dyndns.org":!0,"homedns.org":!0,"homeftp.net":!0,"homeftp.org":!0,"homeip.net":!0,"homelinux.com":!0,"homelinux.net":!0,"homelinux.org":!0,"homeunix.com":!0,"homeunix.net":!0,"homeunix.org":!0,"iamallama.com":!0,"in-the-band.net":!0,"is-a-anarchist.com":!0,"is-a-blogger.com":!0,"is-a-bookkeeper.com":!0,"is-a-bruinsfan.org":!0,"is-a-bulls-fan.com":!0,"is-a-candidate.org":!0,"is-a-caterer.com":!0,"is-a-celticsfan.org":!0,"is-a-chef.com":!0,"is-a-chef.net":!0,"is-a-chef.org":!0,"is-a-conservative.com":!0,"is-a-cpa.com":!0,"is-a-cubicle-slave.com":!0,"is-a-democrat.com":!0,"is-a-designer.com":!0,"is-a-doctor.com":!0,"is-a-financialadvisor.com":!0,"is-a-geek.com":!0,"is-a-geek.net":!0,"is-a-geek.org":!0,"is-a-green.com":!0,"is-a-guru.com":!0,"is-a-hard-worker.com":!0,"is-a-hunter.com":!0,"is-a-knight.org":!0,"is-a-landscaper.com":!0,"is-a-lawyer.com":!0,"is-a-liberal.com":!0,"is-a-libertarian.com":!0,"is-a-linux-user.org":!0,"is-a-llama.com":!0,"is-a-musician.com":!0,"is-a-nascarfan.com":!0,"is-a-nurse.com":!0,"is-a-painter.com":!0,"is-a-patsfan.org":!0,"is-a-personaltrainer.com":!0,"is-a-photographer.com":!0,"is-a-player.com":!0,"is-a-republican.com":!0,"is-a-rockstar.com":!0,"is-a-socialist.com":!0,"is-a-soxfan.org":!0,"is-a-student.com":!0,"is-a-teacher.com":!0,"is-a-techie.com":!0,"is-a-therapist.com":!0,"is-an-accountant.com":!0,"is-an-actor.com":!0,"is-an-actress.com":!0,"is-an-anarchist.com":!0,"is-an-artist.com":!0,"is-an-engineer.com":!0,"is-an-entertainer.com":!0,"is-by.us":!0,"is-certified.com":!0,"is-found.org":!0,"is-gone.com":!0,"is-into-anime.com":!0,"is-into-cars.com":!0,"is-into-cartoons.com":!0,"is-into-games.com":!0,"is-leet.com":!0,"is-lost.org":!0,"is-not-certified.com":!0,"is-saved.org":!0,"is-slick.com":!0,"is-uberleet.com":!0,"is-very-bad.org":!0,"is-very-evil.org":!0,"is-very-good.org":!0,"is-very-nice.org":!0,"is-very-sweet.org":!0,"is-with-theband.com":!0,"isa-geek.com":!0,"isa-geek.net":!0,"isa-geek.org":!0,"isa-hockeynut.com":!0,"issmarterthanyou.com":!0,"isteingeek.de":!0,"istmein.de":!0,"kicks-ass.net":!0,"kicks-ass.org":!0,"knowsitall.info":!0,"land-4-sale.us":!0,"lebtimnetz.de":!0,"leitungsen.de":!0,"likes-pie.com":!0,"likescandy.com":!0,"merseine.nu":!0,"mine.nu":!0,"misconfused.org":!0,"mypets.ws":!0,"myphotos.cc":!0,"neat-url.com":!0,"office-on-the.net":!0,"on-the-web.tv":!0,"podzone.net":!0,"podzone.org":!0,"readmyblog.org":!0,"saves-the-whales.com":!0,"scrapper-site.net":!0,"scrapping.cc":!0,"selfip.biz":!0,"selfip.com":!0,"selfip.info":!0,"selfip.net":!0,"selfip.org":!0,"sells-for-less.com":!0,"sells-for-u.com":!0,"sells-it.net":!0,"sellsyourhome.org":!0,"servebbs.com":!0,"servebbs.net":!0,"servebbs.org":!0,"serveftp.net":!0,"serveftp.org":!0,"servegame.org":!0,"shacknet.nu":!0,"simple-url.com":!0,"space-to-rent.com":!0,"stuff-4-sale.org":!0,"stuff-4-sale.us":!0,"teaches-yoga.com":!0,"thruhere.net":!0,"traeumtgerade.de":!0,"webhop.biz":!0,"webhop.info":!0,"webhop.net":!0,"webhop.org":!0,"worse-than.tv":!0,"writesthisblog.com":!0,"eu.org":!0,"al.eu.org":!0,"asso.eu.org":!0,"at.eu.org":!0,"au.eu.org":!0,"be.eu.org":!0,"bg.eu.org":!0,"ca.eu.org":!0,"cd.eu.org":!0,"ch.eu.org":!0,"cn.eu.org":!0,"cy.eu.org":!0,"cz.eu.org":!0,"de.eu.org":!0,"dk.eu.org":!0,"edu.eu.org":!0,"ee.eu.org":!0,"es.eu.org":!0,"fi.eu.org":!0,"fr.eu.org":!0,"gr.eu.org":!0,"hr.eu.org":!0,"hu.eu.org":!0,"ie.eu.org":!0,"il.eu.org":!0,"in.eu.org":!0,"int.eu.org":!0,"is.eu.org":!0,"it.eu.org":!0,"jp.eu.org":!0,"kr.eu.org":!0,"lt.eu.org":!0,"lu.eu.org":!0,"lv.eu.org":!0,"mc.eu.org":!0,"me.eu.org":!0,"mk.eu.org":!0,"mt.eu.org":!0,"my.eu.org":!0,"net.eu.org":!0,"ng.eu.org":!0,"nl.eu.org":!0,"no.eu.org":!0,"nz.eu.org":!0,"paris.eu.org":!0,"pl.eu.org":!0,"pt.eu.org":!0,"q-a.eu.org":!0,"ro.eu.org":!0,"ru.eu.org":!0,"se.eu.org":!0,"si.eu.org":!0,"sk.eu.org":!0,"tr.eu.org":!0,"uk.eu.org":!0,"us.eu.org":!0,"a.ssl.fastly.net":!0,"b.ssl.fastly.net":!0,"global.ssl.fastly.net":!0,"a.prod.fastly.net":!0,"global.prod.fastly.net":!0,"firebaseapp.com":!0,"flynnhub.com":!0,"service.gov.uk":!0,"github.io":!0,"githubusercontent.com":!0,"ro.com":!0,"appspot.com":!0,"blogspot.ae":!0,"blogspot.al":!0,"blogspot.am":!0,"blogspot.ba":!0,"blogspot.be":!0,"blogspot.bg":!0,"blogspot.bj":!0,"blogspot.ca":!0,"blogspot.cf":!0,"blogspot.ch":!0,"blogspot.cl":!0,"blogspot.co.at":!0,"blogspot.co.id":!0,"blogspot.co.il":!0,"blogspot.co.ke":!0,"blogspot.co.nz":!0,"blogspot.co.uk":!0,"blogspot.co.za":!0,"blogspot.com":!0,"blogspot.com.ar":!0,"blogspot.com.au":!0,"blogspot.com.br":!0,"blogspot.com.by":!0,"blogspot.com.co":!0,"blogspot.com.cy":!0,"blogspot.com.ee":!0,"blogspot.com.eg":!0,"blogspot.com.es":!0,"blogspot.com.mt":!0,"blogspot.com.ng":!0,"blogspot.com.tr":!0,"blogspot.com.uy":!0,"blogspot.cv":!0,"blogspot.cz":!0,"blogspot.de":!0,"blogspot.dk":!0,"blogspot.fi":!0,"blogspot.fr":!0,"blogspot.gr":!0,"blogspot.hk":!0,"blogspot.hr":!0,"blogspot.hu":!0,"blogspot.ie":!0,"blogspot.in":!0,"blogspot.is":!0,"blogspot.it":!0,"blogspot.jp":!0,"blogspot.kr":!0,"blogspot.li":!0,"blogspot.lt":!0,"blogspot.lu":!0,"blogspot.md":!0,"blogspot.mk":!0,"blogspot.mr":!0,"blogspot.mx":!0,"blogspot.my":!0,"blogspot.nl":!0,"blogspot.no":!0,"blogspot.pe":!0,"blogspot.pt":!0,"blogspot.qa":!0,"blogspot.re":!0,"blogspot.ro":!0,"blogspot.rs":!0,"blogspot.ru":!0,"blogspot.se":!0,"blogspot.sg":!0,"blogspot.si":!0,"blogspot.sk":!0,"blogspot.sn":!0,"blogspot.td":!0,"blogspot.tw":!0,"blogspot.ug":!0,"blogspot.vn":!0,"codespot.com":!0,"googleapis.com":!0,"googlecode.com":!0,"pagespeedmobilizer.com":!0,"withgoogle.com":!0,"withyoutube.com":!0,"herokuapp.com":!0,"herokussl.com":!0,"iki.fi":!0,"biz.at":!0,"info.at":!0,"co.pl":!0,"azurewebsites.net":!0,"azure-mobile.net":!0,"cloudapp.net":!0,"bmoattachments.org":!0,"4u.com":!0,"nfshost.com":!0,"nyc.mn":!0,"nid.io":!0,"operaunite.com":!0,"outsystemscloud.com":!0,"art.pl":!0,"gliwice.pl":!0,"krakow.pl":!0,"poznan.pl":!0,"wroc.pl":!0,"zakopane.pl":!0,"pantheon.io":!0,"gotpantheon.com":!0,"priv.at":!0,"qa2.com":!0,"rhcloud.com":!0,"sandcats.io":!0,"biz.ua":!0,"co.ua":!0,"pp.ua":!0,"sinaapp.com":!0,"vipsinaapp.com":!0,"1kapp.com":!0,"gda.pl":!0,"gdansk.pl":!0,"gdynia.pl":!0,"med.pl":!0,"sopot.pl":!0,"hk.com":!0,"hk.org":!0,"ltd.hk":!0,"inc.hk":!0,"yolasite.com":!0,"za.net":!0,"za.org":!0})},{punycode:541}],626:[function(require,module,exports){"use strict";function Store(){}exports.Store=Store,Store.prototype.synchronous=!1,Store.prototype.findCookie=function(domain,path,key,cb){throw new Error("findCookie is not implemented")},Store.prototype.findCookies=function(domain,path,cb){throw new Error("findCookies is not implemented")},Store.prototype.putCookie=function(cookie,cb){throw new Error("putCookie is not implemented")},Store.prototype.updateCookie=function(oldCookie,newCookie,cb){throw new Error("updateCookie is not implemented")},Store.prototype.removeCookie=function(domain,path,key,cb){throw new Error("removeCookie is not implemented")},Store.prototype.removeCookies=function(domain,path,cb){throw new Error("removeCookies is not implemented")},Store.prototype.getAllCookies=function(cb){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}},{}],627:[function(require,module,exports){module.exports={_args:[[{raw:"tough-cookie@~2.3.0",scope:null,escapedName:"tough-cookie",name:"tough-cookie",rawSpec:"~2.3.0",spec:">=2.3.0 <2.4.0",type:"range"},"/home/larsw/Dropbox/html/Citation/node_modules/request"]],_from:"tough-cookie@>=2.3.0 <2.4.0",_id:"tough-cookie@2.3.2",_inCache:!0,_location:"/tough-cookie",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/tough-cookie-2.3.2.tgz_1477415232912_0.6133609430398792"},_npmUser:{name:"jstash",email:"jstash@gmail.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"tough-cookie@~2.3.0",scope:null,escapedName:"tough-cookie",name:"tough-cookie",rawSpec:"~2.3.0",spec:">=2.3.0 <2.4.0",type:"range"},_requiredBy:["/request"],_resolved:"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.3.2.tgz",_shasum:"f081f76e4c85720e6c37a5faced737150d84072a",_shrinkwrap:null,_spec:"tough-cookie@~2.3.0",_where:"/home/larsw/Dropbox/html/Citation/node_modules/request",author:{name:"Jeremy Stashewsky",email:"jstashewsky@salesforce.com"},bugs:{url:"https://github.com/salesforce/tough-cookie/issues"},contributors:[{name:"Alexander Savin"},{name:"Ian Livingstone"},{name:"Ivan Nikulin"},{name:"Lalit Kapoor"},{name:"Sam Thompson"},{name:"Sebastian Mayr"}],dependencies:{punycode:"^1.4.1"},description:"RFC6265 Cookies and Cookie Jar for node.js",devDependencies:{async:"^1.4.2","string.prototype.repeat":"^0.2.0",vows:"^0.8.1"},directories:{},dist:{shasum:"f081f76e4c85720e6c37a5faced737150d84072a",tarball:"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.3.2.tgz"},engines:{node:">=0.8"},files:["lib"],gitHead:"2610df5dc8ef7373a483d509006e5887572a4076",homepage:"https://github.com/salesforce/tough-cookie",keywords:["HTTP","cookie","cookies","set-cookie","cookiejar","jar","RFC6265","RFC2965"],license:"BSD-3-Clause",main:"./lib/cookie",maintainers:[{name:"awaterma",email:"awaterma@awaterma.net"},{name:"jstash",email:"jstash@gmail.com"},{name:"nexxy",email:"emily@contactvibe.com"}],name:"tough-cookie",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/salesforce/tough-cookie.git"},scripts:{suffixup:"curl -o public_suffix_list.dat https://publicsuffix.org/list/public_suffix_list.dat && ./generate-pubsuffix.js",test:"vows test/*_test.js"},version:"2.3.2"}},{}],628:[function(require,module,exports){(function(process){"use strict";function httpOverHttp(options){var agent=new TunnelingAgent(options);return agent.request=http.request,agent}function httpsOverHttp(options){var agent=new TunnelingAgent(options);return agent.request=http.request,agent.createSocket=createSecureSocket,agent.defaultPort=443,agent}function httpOverHttps(options){var agent=new TunnelingAgent(options);return agent.request=https.request,agent}function httpsOverHttps(options){var agent=new TunnelingAgent(options);return agent.request=https.request,agent.createSocket=createSecureSocket,agent.defaultPort=443,agent}function TunnelingAgent(options){var self=this;self.options=options||{},self.proxyOptions=self.options.proxy||{},self.maxSockets=self.options.maxSockets||http.Agent.defaultMaxSockets,self.requests=[],self.sockets=[],self.on("free",function(socket,host,port){for(var i=0,len=self.requests.length;i<len;++i){var pending=self.requests[i];if(pending.host===host&&pending.port===port)return self.requests.splice(i,1),void pending.request.onSocket(socket)}socket.destroy(),self.removeSocket(socket)})}function createSecureSocket(options,cb){var self=this;TunnelingAgent.prototype.createSocket.call(self,options,function(socket){var secureSocket=tls.connect(0,mergeOptions({},self.options,options.host));self.sockets[self.sockets.indexOf(socket)]=secureSocket,cb(secureSocket)})}function mergeOptions(target){for(var i=1,len=arguments.length;i<len;++i){var overrides=arguments[i];if("object"===(void 0===overrides?"undefined":_typeof(overrides)))for(var keys=Object.keys(overrides),j=0,keyLen=keys.length;j<keyLen;++j){var k=keys[j];overrides[k]!==undefined&&(target[k]=overrides[k])}}return target}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},tls=(require("net"),require("tls")),http=require("http"),https=require("https"),events=require("events"),assert=require("assert"),util=require("util"),Buffer=require("safe-buffer").Buffer;exports.httpOverHttp=httpOverHttp,exports.httpsOverHttp=httpsOverHttp,exports.httpOverHttps=httpOverHttps,exports.httpsOverHttps=httpsOverHttps,util.inherits(TunnelingAgent,events.EventEmitter),TunnelingAgent.prototype.addRequest=function(req,options){var self=this;if("string"==typeof options&&(options={host:options,port:arguments[2],path:arguments[3]}),self.sockets.length>=this.maxSockets)return void self.requests.push({host:options.host,port:options.port,request:req});self.createConnection({host:options.host,port:options.port,request:req})},TunnelingAgent.prototype.createConnection=function(pending){var self=this;self.createSocket(pending,function(socket){function onFree(){self.emit("free",socket,pending.host,pending.port)}function onCloseOrRemove(err){self.removeSocket(socket),socket.removeListener("free",onFree),socket.removeListener("close",onCloseOrRemove),socket.removeListener("agentRemove",onCloseOrRemove)}socket.on("free",onFree),socket.on("close",onCloseOrRemove),socket.on("agentRemove",onCloseOrRemove),pending.request.onSocket(socket)})},TunnelingAgent.prototype.createSocket=function(options,cb){function onResponse(res){res.upgrade=!0}function onUpgrade(res,socket,head){process.nextTick(function(){onConnect(res,socket,head)})}function onConnect(res,socket,head){if(connectReq.removeAllListeners(),socket.removeAllListeners(),200===res.statusCode)assert.equal(head.length,0),debug("tunneling connection has established"),self.sockets[self.sockets.indexOf(placeholder)]=socket,cb(socket);else{debug("tunneling socket could not be established, statusCode=%d",res.statusCode);var error=new Error("tunneling socket could not be established, statusCode="+res.statusCode);error.code="ECONNRESET",options.request.emit("error",error),self.removeSocket(placeholder)}}function onError(cause){connectReq.removeAllListeners(),debug("tunneling socket could not be established, cause=%s\n",cause.message,cause.stack);var error=new Error("tunneling socket could not be established, cause="+cause.message);error.code="ECONNRESET",options.request.emit("error",error),self.removeSocket(placeholder)}var self=this,placeholder={};self.sockets.push(placeholder);var connectOptions=mergeOptions({},self.proxyOptions,(options.host,options.port));connectOptions.proxyAuth&&(connectOptions.headers=connectOptions.headers||{},connectOptions.headers["Proxy-Authorization"]="Basic "+Buffer.from(connectOptions.proxyAuth).toString("base64")),debug("making CONNECT request");var connectReq=self.request(connectOptions);connectReq.useChunkedEncodingByDefault=!1,connectReq.once("response",onResponse),connectReq.once("upgrade",onUpgrade),connectReq.once("connect",onConnect),connectReq.once("error",onError),connectReq.end()},TunnelingAgent.prototype.removeSocket=function(socket){var pos=this.sockets.indexOf(socket);if(-1!==pos){this.sockets.splice(pos,1);var pending=this.requests.shift();pending&&this.createConnection(pending)}};var debug;debug=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var args=Array.prototype.slice.call(arguments);"string"==typeof args[0]?args[0]="TUNNEL: "+args[0]:args.unshift("TUNNEL:"),console.error.apply(console,args)}:function(){},exports.debug=debug}).call(this,require("_process"))},{_process:534,assert:64,events:443,http:611,https:484,net:101,"safe-buffer":577,tls:101,util:635}],629:[function(require,module,exports){"use strict";!function(nacl){function ts64(x,i,h,l){x[i]=h>>24&255,x[i+1]=h>>16&255,x[i+2]=h>>8&255,x[i+3]=255&h,x[i+4]=l>>24&255,x[i+5]=l>>16&255,x[i+6]=l>>8&255,x[i+7]=255&l}function vn(x,xi,y,yi,n){var i,d=0;for(i=0;i<n;i++)d|=x[xi+i]^y[yi+i];return(1&d-1>>>8)-1}function crypto_verify_16(x,xi,y,yi){return vn(x,xi,y,yi,16)}function crypto_verify_32(x,xi,y,yi){return vn(x,xi,y,yi,32)}function core_salsa20(o,p,k,c){for(var u,j0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,j1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,j2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,j3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,j4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,j5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,j6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,j7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,j8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,j9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,j10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,j12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,j13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,j14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,j15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,i=0;i<20;i+=2)x0^=(u=(x12^=(u=(x8^=(u=(x4^=(u=x0+x12|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x4|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x5^=(u=(x1^=(u=(x13^=(u=(x9^=(u=x5+x1|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x9|0)<<13|u>>>19)+x13|0)<<18|u>>>14,x10^=(u=(x6^=(u=(x2^=(u=(x14^=(u=x10+x6|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x14|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x15^=(u=(x11^=(u=(x7^=(u=(x3^=(u=x15+x11|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x3|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x0^=(u=(x3^=(u=(x2^=(u=(x1^=(u=x0+x3|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x1|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x5^=(u=(x4^=(u=(x7^=(u=(x6^=(u=x5+x4|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x6|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x10^=(u=(x9^=(u=(x8^=(u=(x11^=(u=x10+x9|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x11|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x15^=(u=(x14^=(u=(x13^=(u=(x12^=(u=x15+x14|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x12|0)<<13|u>>>19)+x13|0)<<18|u>>>14;x0=x0+j0|0,x1=x1+j1|0,x2=x2+j2|0,x3=x3+j3|0,x4=x4+j4|0,x5=x5+j5|0,x6=x6+j6|0,x7=x7+j7|0,x8=x8+j8|0,x9=x9+j9|0,x10=x10+j10|0,x11=x11+j11|0,x12=x12+j12|0,x13=x13+j13|0,x14=x14+j14|0,x15=x15+j15|0,o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x1>>>0&255,o[5]=x1>>>8&255,o[6]=x1>>>16&255,o[7]=x1>>>24&255,o[8]=x2>>>0&255,o[9]=x2>>>8&255,o[10]=x2>>>16&255,o[11]=x2>>>24&255,o[12]=x3>>>0&255,o[13]=x3>>>8&255,o[14]=x3>>>16&255,o[15]=x3>>>24&255,o[16]=x4>>>0&255,o[17]=x4>>>8&255,o[18]=x4>>>16&255,o[19]=x4>>>24&255,o[20]=x5>>>0&255,o[21]=x5>>>8&255,o[22]=x5>>>16&255,o[23]=x5>>>24&255,o[24]=x6>>>0&255,o[25]=x6>>>8&255,o[26]=x6>>>16&255,o[27]=x6>>>24&255,o[28]=x7>>>0&255,o[29]=x7>>>8&255,o[30]=x7>>>16&255,o[31]=x7>>>24&255,o[32]=x8>>>0&255,o[33]=x8>>>8&255,o[34]=x8>>>16&255,o[35]=x8>>>24&255,o[36]=x9>>>0&255,o[37]=x9>>>8&255,o[38]=x9>>>16&255,o[39]=x9>>>24&255,o[40]=x10>>>0&255,o[41]=x10>>>8&255,o[42]=x10>>>16&255,o[43]=x10>>>24&255,o[44]=x11>>>0&255,o[45]=x11>>>8&255,o[46]=x11>>>16&255,o[47]=x11>>>24&255,o[48]=x12>>>0&255,o[49]=x12>>>8&255,o[50]=x12>>>16&255,o[51]=x12>>>24&255,o[52]=x13>>>0&255,o[53]=x13>>>8&255,o[54]=x13>>>16&255,o[55]=x13>>>24&255,o[56]=x14>>>0&255,o[57]=x14>>>8&255,o[58]=x14>>>16&255,o[59]=x14>>>24&255,o[60]=x15>>>0&255,o[61]=x15>>>8&255,o[62]=x15>>>16&255,o[63]=x15>>>24&255}function core_hsalsa20(o,p,k,c){for(var u,x0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,x1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,x2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,x3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,x4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,x5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,x6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,x7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,x8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,x9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,x10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,x11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,x12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,x13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,x14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,x15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,i=0;i<20;i+=2)x0^=(u=(x12^=(u=(x8^=(u=(x4^=(u=x0+x12|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x4|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x5^=(u=(x1^=(u=(x13^=(u=(x9^=(u=x5+x1|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x9|0)<<13|u>>>19)+x13|0)<<18|u>>>14,x10^=(u=(x6^=(u=(x2^=(u=(x14^=(u=x10+x6|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x14|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x15^=(u=(x11^=(u=(x7^=(u=(x3^=(u=x15+x11|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x3|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x0^=(u=(x3^=(u=(x2^=(u=(x1^=(u=x0+x3|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x1|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x5^=(u=(x4^=(u=(x7^=(u=(x6^=(u=x5+x4|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x6|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x10^=(u=(x9^=(u=(x8^=(u=(x11^=(u=x10+x9|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x11|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x15^=(u=(x14^=(u=(x13^=(u=(x12^=(u=x15+x14|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x12|0)<<13|u>>>19)+x13|0)<<18|u>>>14;o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x5>>>0&255,o[5]=x5>>>8&255,o[6]=x5>>>16&255,o[7]=x5>>>24&255,o[8]=x10>>>0&255,o[9]=x10>>>8&255,o[10]=x10>>>16&255,o[11]=x10>>>24&255,o[12]=x15>>>0&255,o[13]=x15>>>8&255,o[14]=x15>>>16&255,o[15]=x15>>>24&255,o[16]=x6>>>0&255,o[17]=x6>>>8&255,o[18]=x6>>>16&255,o[19]=x6>>>24&255,o[20]=x7>>>0&255,o[21]=x7>>>8&255,o[22]=x7>>>16&255,o[23]=x7>>>24&255,o[24]=x8>>>0&255,o[25]=x8>>>8&255,o[26]=x8>>>16&255,o[27]=x8>>>24&255,o[28]=x9>>>0&255,o[29]=x9>>>8&255,o[30]=x9>>>16&255,o[31]=x9>>>24&255}function crypto_core_salsa20(out,inp,k,c){core_salsa20(out,inp,k,c)}function crypto_core_hsalsa20(out,inp,k,c){core_hsalsa20(out,inp,k,c)}function crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k){var u,i,z=new Uint8Array(16),x=new Uint8Array(64);for(i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;b>=64;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=m[mpos+i]^x[i];for(u=1,i=8;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64,mpos+=64}if(b>0)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=m[mpos+i]^x[i];return 0}function crypto_stream_salsa20(c,cpos,b,n,k){var u,i,z=new Uint8Array(16),x=new Uint8Array(64);for(i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;b>=64;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=x[i];for(u=1,i=8;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64}if(b>0)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=x[i];return 0}function crypto_stream(c,cpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20(c,cpos,d,sn,s)}function crypto_stream_xor(c,cpos,m,mpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s)}function crypto_onetimeauth(out,outpos,m,mpos,n,k){var s=new poly1305(k);return s.update(m,mpos,n),s.finish(out,outpos),0}function crypto_onetimeauth_verify(h,hpos,m,mpos,n,k){var x=new Uint8Array(16);return crypto_onetimeauth(x,0,m,mpos,n,k),crypto_verify_16(h,hpos,x,0)}function crypto_secretbox(c,m,d,n,k){var i;if(d<32)return-1;for(crypto_stream_xor(c,0,m,0,d,n,k),crypto_onetimeauth(c,16,c,32,d-32,c),i=0;i<16;i++)c[i]=0;return 0}function crypto_secretbox_open(m,c,d,n,k){var i,x=new Uint8Array(32);if(d<32)return-1;if(crypto_stream(x,0,32,n,k),0!==crypto_onetimeauth_verify(c,16,c,32,d-32,x))return-1;for(crypto_stream_xor(m,0,c,0,d,n,k),i=0;i<32;i++)m[i]=0;return 0}function set25519(r,a){var i;for(i=0;i<16;i++)r[i]=0|a[i]}function car25519(o){var i,v,c=1;for(i=0;i<16;i++)v=o[i]+c+65535,c=Math.floor(v/65536),o[i]=v-65536*c;o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){for(var t,c=~(b-1),i=0;i<16;i++)t=c&(p[i]^q[i]),p[i]^=t,q[i]^=t}function pack25519(o,n){var i,j,b,m=gf(),t=gf();for(i=0;i<16;i++)t[i]=n[i];for(car25519(t),car25519(t),car25519(t),j=0;j<2;j++){for(m[0]=t[0]-65517,i=1;i<15;i++)m[i]=t[i]-65535-(m[i-1]>>16&1),m[i-1]&=65535;m[15]=t[15]-32767-(m[14]>>16&1),b=m[15]>>16&1,m[14]&=65535,sel25519(t,m,1-b)}for(i=0;i<16;i++)o[2*i]=255&t[i],o[2*i+1]=t[i]>>8}function neq25519(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return pack25519(c,a),pack25519(d,b),crypto_verify_32(c,0,d,0)}function par25519(a){var d=new Uint8Array(32);return pack25519(d,a),1&d[0]}function unpack25519(o,n){var i;for(i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}function A(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]+b[i]}function Z(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]-b[i]}function M(o,a,b){var v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];t0+=(v=a[0])*b0,t1+=v*b1,t2+=v*b2,t3+=v*b3,t4+=v*b4,t5+=v*b5,t6+=v*b6,t7+=v*b7,t8+=v*b8,t9+=v*b9,t10+=v*b10,t11+=v*b11,t12+=v*b12,t13+=v*b13,t14+=v*b14,t15+=v*b15,t1+=(v=a[1])*b0,t2+=v*b1,t3+=v*b2,t4+=v*b3,t5+=v*b4,t6+=v*b5,t7+=v*b6,t8+=v*b7,t9+=v*b8,t10+=v*b9,t11+=v*b10,t12+=v*b11,t13+=v*b12,t14+=v*b13,t15+=v*b14,t16+=v*b15,t2+=(v=a[2])*b0,t3+=v*b1,t4+=v*b2,t5+=v*b3,t6+=v*b4,t7+=v*b5,t8+=v*b6,t9+=v*b7,t10+=v*b8,t11+=v*b9,t12+=v*b10,t13+=v*b11,t14+=v*b12,t15+=v*b13,t16+=v*b14,t17+=v*b15,t3+=(v=a[3])*b0,t4+=v*b1,t5+=v*b2,t6+=v*b3,t7+=v*b4,t8+=v*b5,t9+=v*b6,t10+=v*b7,t11+=v*b8,t12+=v*b9,t13+=v*b10,t14+=v*b11,t15+=v*b12,t16+=v*b13,t17+=v*b14,t18+=v*b15,t4+=(v=a[4])*b0,t5+=v*b1,t6+=v*b2,t7+=v*b3,t8+=v*b4,t9+=v*b5,t10+=v*b6,t11+=v*b7,t12+=v*b8,t13+=v*b9,t14+=v*b10,t15+=v*b11,t16+=v*b12,t17+=v*b13,t18+=v*b14,t19+=v*b15,t5+=(v=a[5])*b0,t6+=v*b1,t7+=v*b2,t8+=v*b3,t9+=v*b4,t10+=v*b5,t11+=v*b6,t12+=v*b7,t13+=v*b8,t14+=v*b9,t15+=v*b10,t16+=v*b11,t17+=v*b12,t18+=v*b13,t19+=v*b14,t20+=v*b15,t6+=(v=a[6])*b0,t7+=v*b1,t8+=v*b2,t9+=v*b3,t10+=v*b4,t11+=v*b5,t12+=v*b6,t13+=v*b7,t14+=v*b8,t15+=v*b9,t16+=v*b10,t17+=v*b11,t18+=v*b12,t19+=v*b13,t20+=v*b14,t21+=v*b15,t7+=(v=a[7])*b0,t8+=v*b1,t9+=v*b2,t10+=v*b3,t11+=v*b4,t12+=v*b5,t13+=v*b6,t14+=v*b7,t15+=v*b8,t16+=v*b9,t17+=v*b10,t18+=v*b11,t19+=v*b12,t20+=v*b13,t21+=v*b14,t22+=v*b15,t8+=(v=a[8])*b0,t9+=v*b1,t10+=v*b2,t11+=v*b3,t12+=v*b4,t13+=v*b5,t14+=v*b6,t15+=v*b7,t16+=v*b8,t17+=v*b9,t18+=v*b10,t19+=v*b11,t20+=v*b12,t21+=v*b13,t22+=v*b14,t23+=v*b15,t9+=(v=a[9])*b0,t10+=v*b1,t11+=v*b2,t12+=v*b3,t13+=v*b4,t14+=v*b5,t15+=v*b6,t16+=v*b7,t17+=v*b8,t18+=v*b9,t19+=v*b10,t20+=v*b11,t21+=v*b12,t22+=v*b13,t23+=v*b14,t24+=v*b15,t10+=(v=a[10])*b0,t11+=v*b1,t12+=v*b2,t13+=v*b3,t14+=v*b4,t15+=v*b5,t16+=v*b6,t17+=v*b7,t18+=v*b8,t19+=v*b9,t20+=v*b10,t21+=v*b11,t22+=v*b12,t23+=v*b13,t24+=v*b14,t25+=v*b15,t11+=(v=a[11])*b0,t12+=v*b1,t13+=v*b2,t14+=v*b3,t15+=v*b4,t16+=v*b5,t17+=v*b6,t18+=v*b7,t19+=v*b8,t20+=v*b9,t21+=v*b10,t22+=v*b11,t23+=v*b12,t24+=v*b13,t25+=v*b14,t26+=v*b15,t12+=(v=a[12])*b0,t13+=v*b1,t14+=v*b2,t15+=v*b3,t16+=v*b4,t17+=v*b5,t18+=v*b6,t19+=v*b7,t20+=v*b8,t21+=v*b9,t22+=v*b10,t23+=v*b11,t24+=v*b12,t25+=v*b13,t26+=v*b14,t27+=v*b15,t13+=(v=a[13])*b0,t14+=v*b1,t15+=v*b2,t16+=v*b3,t17+=v*b4,t18+=v*b5,t19+=v*b6,t20+=v*b7,t21+=v*b8,t22+=v*b9,t23+=v*b10,t24+=v*b11,t25+=v*b12,t26+=v*b13,t27+=v*b14,t28+=v*b15,t14+=(v=a[14])*b0,t15+=v*b1,t16+=v*b2,t17+=v*b3,t18+=v*b4,t19+=v*b5,t20+=v*b6,t21+=v*b7,t22+=v*b8,t23+=v*b9,t24+=v*b10,t25+=v*b11,t26+=v*b12,t27+=v*b13,t28+=v*b14,t29+=v*b15,t15+=(v=a[15])*b0,t1+=38*(t17+=v*b2),t2+=38*(t18+=v*b3),t3+=38*(t19+=v*b4),t4+=38*(t20+=v*b5),t5+=38*(t21+=v*b6),t6+=38*(t22+=v*b7),t7+=38*(t23+=v*b8),t8+=38*(t24+=v*b9),t9+=38*(t25+=v*b10),t10+=38*(t26+=v*b11),t11+=38*(t27+=v*b12),t12+=38*(t28+=v*b13),t13+=38*(t29+=v*b14),t14+=38*(t30+=v*b15),t0=(v=(t0+=38*(t16+=v*b1))+(c=1)+65535)-65536*(c=Math.floor(v/65536)),t1=(v=t1+c+65535)-65536*(c=Math.floor(v/65536)),t2=(v=t2+c+65535)-65536*(c=Math.floor(v/65536)),t3=(v=t3+c+65535)-65536*(c=Math.floor(v/65536)),t4=(v=t4+c+65535)-65536*(c=Math.floor(v/65536)),t5=(v=t5+c+65535)-65536*(c=Math.floor(v/65536)),t6=(v=t6+c+65535)-65536*(c=Math.floor(v/65536)),t7=(v=t7+c+65535)-65536*(c=Math.floor(v/65536)),t8=(v=t8+c+65535)-65536*(c=Math.floor(v/65536)),t9=(v=t9+c+65535)-65536*(c=Math.floor(v/65536)),t10=(v=t10+c+65535)-65536*(c=Math.floor(v/65536)),t11=(v=t11+c+65535)-65536*(c=Math.floor(v/65536)),t12=(v=t12+c+65535)-65536*(c=Math.floor(v/65536)),t13=(v=t13+c+65535)-65536*(c=Math.floor(v/65536)),t14=(v=t14+c+65535)-65536*(c=Math.floor(v/65536)),t15=(v=t15+c+65535)-65536*(c=Math.floor(v/65536)),t0=(v=(t0+=c-1+37*(c-1))+(c=1)+65535)-65536*(c=Math.floor(v/65536)),t1=(v=t1+c+65535)-65536*(c=Math.floor(v/65536)),t2=(v=t2+c+65535)-65536*(c=Math.floor(v/65536)),t3=(v=t3+c+65535)-65536*(c=Math.floor(v/65536)),t4=(v=t4+c+65535)-65536*(c=Math.floor(v/65536)),t5=(v=t5+c+65535)-65536*(c=Math.floor(v/65536)),t6=(v=t6+c+65535)-65536*(c=Math.floor(v/65536)),t7=(v=t7+c+65535)-65536*(c=Math.floor(v/65536)),t8=(v=t8+c+65535)-65536*(c=Math.floor(v/65536)),t9=(v=t9+c+65535)-65536*(c=Math.floor(v/65536)),t10=(v=t10+c+65535)-65536*(c=Math.floor(v/65536)),t11=(v=t11+c+65535)-65536*(c=Math.floor(v/65536)),t12=(v=t12+c+65535)-65536*(c=Math.floor(v/65536)),t13=(v=t13+c+65535)-65536*(c=Math.floor(v/65536)),t14=(v=t14+c+65535)-65536*(c=Math.floor(v/65536)),t15=(v=t15+c+65535)-65536*(c=Math.floor(v/65536)),t0+=c-1+37*(c-1),o[0]=t0,o[1]=t1,o[2]=t2,o[3]=t3,o[4]=t4,o[5]=t5,o[6]=t6,o[7]=t7,o[8]=t8,o[9]=t9,o[10]=t10,o[11]=t11,o[12]=t12,o[13]=t13,o[14]=t14,o[15]=t15}function S(o,a){M(o,a,a)}function inv25519(o,i){var a,c=gf();for(a=0;a<16;a++)c[a]=i[a];for(a=253;a>=0;a--)S(c,c),2!==a&&4!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function pow2523(o,i){var a,c=gf();for(a=0;a<16;a++)c[a]=i[a];for(a=250;a>=0;a--)S(c,c),1!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function crypto_scalarmult(q,n,p){var r,i,z=new Uint8Array(32),x=new Float64Array(80),a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf();for(i=0;i<31;i++)z[i]=n[i];for(z[31]=127&n[31]|64,z[0]&=248,unpack25519(x,p),i=0;i<16;i++)b[i]=x[i],d[i]=a[i]=c[i]=0;for(a[0]=d[0]=1,i=254;i>=0;--i)sel25519(a,b,r=z[i>>>3]>>>(7&i)&1),sel25519(c,d,r),A(e,a,c),Z(a,a,c),A(c,b,d),Z(b,b,d),S(d,e),S(f,a),M(a,c,a),M(c,b,e),A(e,a,c),Z(a,a,c),S(b,a),Z(c,d,f),M(a,c,_121665),A(a,a,d),M(c,c,a),M(a,d,f),M(d,b,x),S(b,e),sel25519(a,b,r),sel25519(c,d,r);for(i=0;i<16;i++)x[i+16]=a[i],x[i+32]=c[i],x[i+48]=b[i],x[i+64]=d[i];var x32=x.subarray(32),x16=x.subarray(16);return inv25519(x32,x32),M(x16,x16,x32),pack25519(q,x16),0}function crypto_scalarmult_base(q,n){return crypto_scalarmult(q,n,_9)}function crypto_box_keypair(y,x){return randombytes(x,32),crypto_scalarmult_base(y,x)}function crypto_box_beforenm(k,y,x){var s=new Uint8Array(32);return crypto_scalarmult(s,x,y),crypto_core_hsalsa20(k,_0,s,sigma)}function crypto_box(c,m,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_box_afternm(c,m,d,n,k)}function crypto_box_open(m,c,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_box_open_afternm(m,c,d,n,k)}function crypto_hashblocks_hl(hh,hl,m,n){for(var bh0,bh1,bh2,bh3,bh4,bh5,bh6,bh7,bl0,bl1,bl2,bl3,bl4,bl5,bl6,bl7,th,tl,i,j,h,l,a,b,c,d,wh=new Int32Array(16),wl=new Int32Array(16),ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7],pos=0;n>=128;){for(i=0;i<16;i++)j=8*i+pos,wh[i]=m[j+0]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3],wl[i]=m[j+4]<<24|m[j+5]<<16|m[j+6]<<8|m[j+7];for(i=0;i<80;i++)if(bh0=ah0,bh1=ah1,bh2=ah2,bh3=ah3,bh4=ah4,bh5=ah5,bh6=ah6,bh7=ah7,bl0=al0,bl1=al1,bl2=al2,bl3=al3,bl4=al4,bl5=al5,bl6=al6,bl7=al7,h=ah7,l=al7,a=65535&l,b=l>>>16,c=65535&h,d=h>>>16,h=(ah4>>>14|al4<<18)^(ah4>>>18|al4<<14)^(al4>>>9|ah4<<23),l=(al4>>>14|ah4<<18)^(al4>>>18|ah4<<14)^(ah4>>>9|al4<<23),a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,h=ah4&ah5^~ah4&ah6,l=al4&al5^~al4&al6,a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,h=K[2*i],l=K[2*i+1],a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,h=wh[i%16],l=wl[i%16],a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,th=65535&c|d<<16,tl=65535&a|b<<16,h=th,l=tl,a=65535&l,b=l>>>16,c=65535&h,d=h>>>16,h=(ah0>>>28|al0<<4)^(al0>>>2|ah0<<30)^(al0>>>7|ah0<<25),l=(al0>>>28|ah0<<4)^(ah0>>>2|al0<<30)^(ah0>>>7|al0<<25),a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,h=ah0&ah1^ah0&ah2^ah1&ah2,l=al0&al1^al0&al2^al1&al2,a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,bh7=65535&c|d<<16,bl7=65535&a|b<<16,h=bh3,l=bl3,a=65535&l,b=l>>>16,c=65535&h,d=h>>>16,h=th,l=tl,a+=65535&l,b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,bh3=65535&c|d<<16,bl3=65535&a|b<<16,ah1=bh0,ah2=bh1,ah3=bh2,ah4=bh3,ah5=bh4,ah6=bh5,ah7=bh6,ah0=bh7,al1=bl0,al2=bl1,al3=bl2,al4=bl3,al5=bl4,al6=bl5,al7=bl6,al0=bl7,i%16==15)for(j=0;j<16;j++)h=wh[j],a=65535&(l=wl[j]),b=l>>>16,c=65535&h,d=h>>>16,h=wh[(j+9)%16],a+=65535&(l=wl[(j+9)%16]),b+=l>>>16,c+=65535&h,d+=h>>>16,th=wh[(j+1)%16],a+=65535&(l=((tl=wl[(j+1)%16])>>>1|th<<31)^(tl>>>8|th<<24)^(tl>>>7|th<<25)),b+=l>>>16,c+=65535&(h=(th>>>1|tl<<31)^(th>>>8|tl<<24)^th>>>7),d+=h>>>16,th=wh[(j+14)%16],b+=(l=((tl=wl[(j+14)%16])>>>19|th<<13)^(th>>>29|tl<<3)^(tl>>>6|th<<26))>>>16,c+=65535&(h=(th>>>19|tl<<13)^(tl>>>29|th<<3)^th>>>6),d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,wh[j]=65535&c|d<<16,wl[j]=65535&a|b<<16;a=65535&(l=al0),b=l>>>16,c=65535&(h=ah0),d=h>>>16,h=hh[0],b+=(l=hl[0])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[0]=ah0=65535&c|d<<16,hl[0]=al0=65535&a|b<<16,a=65535&(l=al1),b=l>>>16,c=65535&(h=ah1),d=h>>>16,h=hh[1],b+=(l=hl[1])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[1]=ah1=65535&c|d<<16,hl[1]=al1=65535&a|b<<16,a=65535&(l=al2),b=l>>>16,c=65535&(h=ah2),d=h>>>16,h=hh[2],b+=(l=hl[2])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[2]=ah2=65535&c|d<<16,hl[2]=al2=65535&a|b<<16,a=65535&(l=al3),b=l>>>16,c=65535&(h=ah3),d=h>>>16,h=hh[3],b+=(l=hl[3])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[3]=ah3=65535&c|d<<16,hl[3]=al3=65535&a|b<<16,a=65535&(l=al4),b=l>>>16,c=65535&(h=ah4),d=h>>>16,h=hh[4],b+=(l=hl[4])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[4]=ah4=65535&c|d<<16,hl[4]=al4=65535&a|b<<16,a=65535&(l=al5),b=l>>>16,c=65535&(h=ah5),d=h>>>16,h=hh[5],b+=(l=hl[5])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[5]=ah5=65535&c|d<<16,hl[5]=al5=65535&a|b<<16,a=65535&(l=al6),b=l>>>16,c=65535&(h=ah6),d=h>>>16,h=hh[6],b+=(l=hl[6])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[6]=ah6=65535&c|d<<16,hl[6]=al6=65535&a|b<<16,a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,h=hh[7],b+=(l=hl[7])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[7]=ah7=65535&c|d<<16,hl[7]=al7=65535&a|b<<16,pos+=128,n-=128}return n}function crypto_hash(out,m,n){var i,hh=new Int32Array(8),hl=new Int32Array(8),x=new Uint8Array(256),b=n;for(hh[0]=1779033703,hh[1]=3144134277,hh[2]=1013904242,hh[3]=2773480762,hh[4]=1359893119,hh[5]=2600822924,hh[6]=528734635,hh[7]=1541459225,hl[0]=4089235720,hl[1]=2227873595,hl[2]=4271175723,hl[3]=1595750129,hl[4]=2917565137,hl[5]=725511199,hl[6]=4215389547,hl[7]=327033209,crypto_hashblocks_hl(hh,hl,m,n),n%=128,i=0;i<n;i++)x[i]=m[b-n+i];for(x[n]=128,x[(n=256-128*(n<112?1:0))-9]=0,ts64(x,n-8,b/536870912|0,b<<3),crypto_hashblocks_hl(hh,hl,x,n),i=0;i<8;i++)ts64(out,8*i,hh[i],hl[i]);return 0}function add(p,q){var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();Z(a,p[1],p[0]),Z(t,q[1],q[0]),M(a,a,t),A(b,p[0],p[1]),A(t,q[0],q[1]),M(b,b,t),M(c,p[3],q[3]),M(c,c,D2),M(d,p[2],q[2]),A(d,d,d),Z(e,b,a),Z(f,d,c),A(g,d,c),A(h,b,a),M(p[0],e,f),M(p[1],h,g),M(p[2],g,f),M(p[3],e,h)}function cswap(p,q,b){var i;for(i=0;i<4;i++)sel25519(p[i],q[i],b)}function pack(r,p){var tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]),M(tx,p[0],zi),M(ty,p[1],zi),pack25519(r,ty),r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){var b,i;for(set25519(p[0],gf0),set25519(p[1],gf1),set25519(p[2],gf1),set25519(p[3],gf0),i=255;i>=0;--i)cswap(p,q,b=s[i/8|0]>>(7&i)&1),add(q,p),add(p,p),cswap(p,q,b)}function scalarbase(p,s){var q=[gf(),gf(),gf(),gf()];set25519(q[0],X),set25519(q[1],Y),set25519(q[2],gf1),M(q[3],X,Y),scalarmult(p,q,s)}function crypto_sign_keypair(pk,sk,seeded){var i,d=new Uint8Array(64),p=[gf(),gf(),gf(),gf()];for(seeded||randombytes(sk,32),crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64,scalarbase(p,d),pack(pk,p),i=0;i<32;i++)sk[i+32]=pk[i];return 0}function modL(r,x){var carry,i,j,k;for(i=63;i>=32;--i){for(carry=0,j=i-32,k=i-12;j<k;++j)x[j]+=carry-16*x[i]*L[j-(i-32)],carry=x[j]+128>>8,x[j]-=256*carry;x[j]+=carry,x[i]=0}for(carry=0,j=0;j<32;j++)x[j]+=carry-(x[31]>>4)*L[j],carry=x[j]>>8,x[j]&=255;for(j=0;j<32;j++)x[j]-=carry*L[j];for(i=0;i<32;i++)x[i+1]+=x[i]>>8,r[i]=255&x[i]}function reduce(r){var i,x=new Float64Array(64);for(i=0;i<64;i++)x[i]=r[i];for(i=0;i<64;i++)r[i]=0;modL(r,x)}function crypto_sign(sm,m,n,sk){var i,j,d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64),x=new Float64Array(64),p=[gf(),gf(),gf(),gf()];crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64;var smlen=n+64;for(i=0;i<n;i++)sm[64+i]=m[i];for(i=0;i<32;i++)sm[32+i]=d[32+i];for(crypto_hash(r,sm.subarray(32),n+32),reduce(r),scalarbase(p,r),pack(sm,p),i=32;i<64;i++)sm[i]=sk[i];for(crypto_hash(h,sm,n+64),reduce(h),i=0;i<64;i++)x[i]=0;for(i=0;i<32;i++)x[i]=r[i];for(i=0;i<32;i++)for(j=0;j<32;j++)x[i+j]+=h[i]*d[j];return modL(sm.subarray(32),x),smlen}function unpackneg(r,p){var t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf();return set25519(r[2],gf1),unpack25519(r[1],p),S(num,r[1]),M(den,num,D),Z(num,num,r[2]),A(den,r[2],den),S(den2,den),S(den4,den2),M(den6,den4,den2),M(t,den6,num),M(t,t,den),pow2523(t,t),M(t,t,num),M(t,t,den),M(t,t,den),M(r[0],t,den),S(chk,r[0]),M(chk,chk,den),neq25519(chk,num)&&M(r[0],r[0],I),S(chk,r[0]),M(chk,chk,den),neq25519(chk,num)?-1:(par25519(r[0])===p[31]>>7&&Z(r[0],gf0,r[0]),M(r[3],r[0],r[1]),0)}function crypto_sign_open(m,sm,n,pk){var i,t=new Uint8Array(32),h=new Uint8Array(64),p=[gf(),gf(),gf(),gf()],q=[gf(),gf(),gf(),gf()];if(-1,n<64)return-1;if(unpackneg(q,pk))return-1;for(i=0;i<n;i++)m[i]=sm[i];for(i=0;i<32;i++)m[i+32]=pk[i];if(crypto_hash(h,m,n),reduce(h),scalarmult(p,q,h),scalarbase(q,sm.subarray(32)),add(p,q),pack(t,p),n-=64,crypto_verify_32(sm,0,t,0)){for(i=0;i<n;i++)m[i]=0;return-1}for(i=0;i<n;i++)m[i]=sm[i+64];return n}function checkLengths(k,n){if(k.length!==crypto_secretbox_KEYBYTES)throw new Error("bad key size");if(n.length!==crypto_secretbox_NONCEBYTES)throw new Error("bad nonce size")}function checkBoxLengths(pk,sk){if(pk.length!==crypto_box_PUBLICKEYBYTES)throw new Error("bad public key size");if(sk.length!==crypto_box_SECRETKEYBYTES)throw new Error("bad secret key size")}function checkArrayTypes(){var t,i;for(i=0;i<arguments.length;i++)if("[object Uint8Array]"!==(t=Object.prototype.toString.call(arguments[i])))throw new TypeError("unexpected type "+t+", use Uint8Array")}function cleanup(arr){for(var i=0;i<arr.length;i++)arr[i]=0}var gf=function(init){var i,r=new Float64Array(16);if(init)for(i=0;i<init.length;i++)r[i]=init[i];return r},randombytes=function(){throw new Error("no PRNG")},_0=new Uint8Array(16),_9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),sigma=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),poly1305=function(key){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t0,t1,t2,t3,t4,t5,t6,t7;t0=255&key[0]|(255&key[1])<<8,this.r[0]=8191&t0,t1=255&key[2]|(255&key[3])<<8,this.r[1]=8191&(t0>>>13|t1<<3),t2=255&key[4]|(255&key[5])<<8,this.r[2]=7939&(t1>>>10|t2<<6),t3=255&key[6]|(255&key[7])<<8,this.r[3]=8191&(t2>>>7|t3<<9),t4=255&key[8]|(255&key[9])<<8,this.r[4]=255&(t3>>>4|t4<<12),this.r[5]=t4>>>1&8190,t5=255&key[10]|(255&key[11])<<8,this.r[6]=8191&(t4>>>14|t5<<2),t6=255&key[12]|(255&key[13])<<8,this.r[7]=8065&(t5>>>11|t6<<5),t7=255&key[14]|(255&key[15])<<8,this.r[8]=8191&(t6>>>8|t7<<8),this.r[9]=t7>>>5&127,this.pad[0]=255&key[16]|(255&key[17])<<8,this.pad[1]=255&key[18]|(255&key[19])<<8,this.pad[2]=255&key[20]|(255&key[21])<<8,this.pad[3]=255&key[22]|(255&key[23])<<8,this.pad[4]=255&key[24]|(255&key[25])<<8,this.pad[5]=255&key[26]|(255&key[27])<<8,this.pad[6]=255&key[28]|(255&key[29])<<8,this.pad[7]=255&key[30]|(255&key[31])<<8};poly1305.prototype.blocks=function(m,mpos,bytes){for(var t0,t1,t2,t3,t4,t5,t6,t7,c,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,hibit=this.fin?0:2048,h0=this.h[0],h1=this.h[1],h2=this.h[2],h3=this.h[3],h4=this.h[4],h5=this.h[5],h6=this.h[6],h7=this.h[7],h8=this.h[8],h9=this.h[9],r0=this.r[0],r1=this.r[1],r2=this.r[2],r3=this.r[3],r4=this.r[4],r5=this.r[5],r6=this.r[6],r7=this.r[7],r8=this.r[8],r9=this.r[9];bytes>=16;)d0=c=0,d0+=(h0+=8191&(t0=255&m[mpos+0]|(255&m[mpos+1])<<8))*r0,d0+=(h1+=8191&(t0>>>13|(t1=255&m[mpos+2]|(255&m[mpos+3])<<8)<<3))*(5*r9),d0+=(h2+=8191&(t1>>>10|(t2=255&m[mpos+4]|(255&m[mpos+5])<<8)<<6))*(5*r8),d0+=(h3+=8191&(t2>>>7|(t3=255&m[mpos+6]|(255&m[mpos+7])<<8)<<9))*(5*r7),c=(d0+=(h4+=8191&(t3>>>4|(t4=255&m[mpos+8]|(255&m[mpos+9])<<8)<<12))*(5*r6))>>>13,d0&=8191,d0+=(h5+=t4>>>1&8191)*(5*r5),d0+=(h6+=8191&(t4>>>14|(t5=255&m[mpos+10]|(255&m[mpos+11])<<8)<<2))*(5*r4),d0+=(h7+=8191&(t5>>>11|(t6=255&m[mpos+12]|(255&m[mpos+13])<<8)<<5))*(5*r3),d0+=(h8+=8191&(t6>>>8|(t7=255&m[mpos+14]|(255&m[mpos+15])<<8)<<8))*(5*r2),d1=c+=(d0+=(h9+=t7>>>5|hibit)*(5*r1))>>>13,d1+=h0*r1,d1+=h1*r0,d1+=h2*(5*r9),d1+=h3*(5*r8),c=(d1+=h4*(5*r7))>>>13,d1&=8191,d1+=h5*(5*r6),d1+=h6*(5*r5),d1+=h7*(5*r4),d1+=h8*(5*r3),c+=(d1+=h9*(5*r2))>>>13,d1&=8191,d2=c,d2+=h0*r2,d2+=h1*r1,d2+=h2*r0,d2+=h3*(5*r9),c=(d2+=h4*(5*r8))>>>13,d2&=8191,d2+=h5*(5*r7),d2+=h6*(5*r6),d2+=h7*(5*r5),d2+=h8*(5*r4),d3=c+=(d2+=h9*(5*r3))>>>13,d3+=h0*r3,d3+=h1*r2,d3+=h2*r1,d3+=h3*r0,c=(d3+=h4*(5*r9))>>>13,d3&=8191,d3+=h5*(5*r8),d3+=h6*(5*r7),d3+=h7*(5*r6),d3+=h8*(5*r5),d4=c+=(d3+=h9*(5*r4))>>>13,d4+=h0*r4,d4+=h1*r3,d4+=h2*r2,d4+=h3*r1,c=(d4+=h4*r0)>>>13,d4&=8191,d4+=h5*(5*r9),d4+=h6*(5*r8),d4+=h7*(5*r7),d4+=h8*(5*r6),d5=c+=(d4+=h9*(5*r5))>>>13,d5+=h0*r5,d5+=h1*r4,d5+=h2*r3,d5+=h3*r2,c=(d5+=h4*r1)>>>13,d5&=8191,d5+=h5*r0,d5+=h6*(5*r9),d5+=h7*(5*r8),d5+=h8*(5*r7),d6=c+=(d5+=h9*(5*r6))>>>13,d6+=h0*r6,d6+=h1*r5,d6+=h2*r4,d6+=h3*r3,c=(d6+=h4*r2)>>>13,d6&=8191,d6+=h5*r1,d6+=h6*r0,d6+=h7*(5*r9),d6+=h8*(5*r8),d7=c+=(d6+=h9*(5*r7))>>>13,d7+=h0*r7,d7+=h1*r6,d7+=h2*r5,d7+=h3*r4,c=(d7+=h4*r3)>>>13,d7&=8191,d7+=h5*r2,d7+=h6*r1,d7+=h7*r0,d7+=h8*(5*r9),d8=c+=(d7+=h9*(5*r8))>>>13,d8+=h0*r8,d8+=h1*r7,d8+=h2*r6,d8+=h3*r5,c=(d8+=h4*r4)>>>13,d8&=8191,d8+=h5*r3,d8+=h6*r2,d8+=h7*r1,d8+=h8*r0,d9=c+=(d8+=h9*(5*r9))>>>13,d9+=h0*r9,d9+=h1*r8,d9+=h2*r7,d9+=h3*r6,c=(d9+=h4*r5)>>>13,d9&=8191,d9+=h5*r4,d9+=h6*r3,d9+=h7*r2,d9+=h8*r1,h0=d0=8191&(c=(c=((c+=(d9+=h9*r0)>>>13)<<2)+c|0)+(d0&=8191)|0),h1=d1+=c>>>=13,h2=d2&=8191,h3=d3&=8191,h4=d4&=8191,h5=d5&=8191,h6=d6&=8191,h7=d7&=8191,h8=d8&=8191,h9=d9&=8191,mpos+=16,bytes-=16;this.h[0]=h0,this.h[1]=h1,this.h[2]=h2,this.h[3]=h3,this.h[4]=h4,this.h[5]=h5,this.h[6]=h6,this.h[7]=h7,this.h[8]=h8,this.h[9]=h9},poly1305.prototype.finish=function(mac,macpos){var c,mask,f,i,g=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=c,c=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*c,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,g[0]=this.h[0]+5,c=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this.h[i]+c,c=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^c)-1,i=0;i<10;i++)g[i]&=mask;for(mask=~mask,i=0;i<10;i++)this.h[i]=this.h[i]&mask|g[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),f=this.h[0]+this.pad[0],this.h[0]=65535&f,i=1;i<8;i++)f=(this.h[i]+this.pad[i]|0)+(f>>>16)|0,this.h[i]=65535&f;mac[macpos+0]=this.h[0]>>>0&255,mac[macpos+1]=this.h[0]>>>8&255,mac[macpos+2]=this.h[1]>>>0&255,mac[macpos+3]=this.h[1]>>>8&255,mac[macpos+4]=this.h[2]>>>0&255,mac[macpos+5]=this.h[2]>>>8&255,mac[macpos+6]=this.h[3]>>>0&255,mac[macpos+7]=this.h[3]>>>8&255,mac[macpos+8]=this.h[4]>>>0&255,mac[macpos+9]=this.h[4]>>>8&255,mac[macpos+10]=this.h[5]>>>0&255,mac[macpos+11]=this.h[5]>>>8&255,mac[macpos+12]=this.h[6]>>>0&255,mac[macpos+13]=this.h[6]>>>8&255,mac[macpos+14]=this.h[7]>>>0&255,mac[macpos+15]=this.h[7]>>>8&255},poly1305.prototype.update=function(m,mpos,bytes){var i,want;if(this.leftover){for((want=16-this.leftover)>bytes&&(want=bytes),i=0;i<want;i++)this.buffer[this.leftover+i]=m[mpos+i];if(bytes-=want,mpos+=want,this.leftover+=want,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(bytes>=16&&(want=bytes-bytes%16,this.blocks(m,mpos,want),mpos+=want,bytes-=want),bytes){for(i=0;i<bytes;i++)this.buffer[this.leftover+i]=m[mpos+i];this.leftover+=bytes}};var crypto_box_afternm=crypto_secretbox,crypto_box_open_afternm=crypto_secretbox_open,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),crypto_secretbox_KEYBYTES=32,crypto_secretbox_NONCEBYTES=24,crypto_box_PUBLICKEYBYTES=32,crypto_box_SECRETKEYBYTES=32,crypto_box_NONCEBYTES=crypto_secretbox_NONCEBYTES;nacl.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:crypto_box_afternm,crypto_box:crypto_box,crypto_box_open:crypto_box_open,crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:crypto_secretbox_KEYBYTES,crypto_secretbox_NONCEBYTES:crypto_secretbox_NONCEBYTES,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:crypto_box_PUBLICKEYBYTES,crypto_box_SECRETKEYBYTES:crypto_box_SECRETKEYBYTES,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:crypto_box_NONCEBYTES,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},nacl.util||(nacl.util={},nacl.util.decodeUTF8=nacl.util.encodeUTF8=nacl.util.encodeBase64=nacl.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),nacl.randomBytes=function(n){var b=new Uint8Array(n);return randombytes(b,n),b},nacl.secretbox=function(msg,nonce,key){checkArrayTypes(),checkLengths(key,nonce);for(var m=new Uint8Array(32+msg.length),c=new Uint8Array(m.length),i=0;i<msg.length;i++)m[i+32]=msg[i];return crypto_secretbox(c,m,m.length,nonce,key),c.subarray(16)},nacl.secretbox.open=function(box,nonce,key){checkArrayTypes(),checkLengths(key,nonce);for(var c=new Uint8Array(16+box.length),m=new Uint8Array(c.length),i=0;i<box.length;i++)c[i+16]=box[i];return!(c.length<32)&&(0===crypto_secretbox_open(m,c,c.length,nonce,key)&&m.subarray(32))},nacl.secretbox.keyLength=crypto_secretbox_KEYBYTES,nacl.secretbox.nonceLength=crypto_secretbox_NONCEBYTES,nacl.secretbox.overheadLength=16,nacl.scalarMult=function(n,p){if(checkArrayTypes(),32!==n.length)throw new Error("bad n size");if(32!==p.length)throw new Error("bad p size");var q=new Uint8Array(32);return crypto_scalarmult(q,n,p),q},nacl.scalarMult.base=function(n){if(checkArrayTypes(),32!==n.length)throw new Error("bad n size");var q=new Uint8Array(32);return crypto_scalarmult_base(q,n),q},nacl.scalarMult.scalarLength=32,nacl.scalarMult.groupElementLength=32,nacl.box=function(msg,nonce,publicKey,secretKey){var k=nacl.box.before(publicKey,secretKey);return nacl.secretbox(msg,nonce,k)},nacl.box.before=function(publicKey,secretKey){checkArrayTypes(),checkBoxLengths(publicKey,secretKey);var k=new Uint8Array(32);return crypto_box_beforenm(k,publicKey,secretKey),k},nacl.box.after=nacl.secretbox,nacl.box.open=function(msg,nonce,publicKey,secretKey){var k=nacl.box.before(publicKey,secretKey);return nacl.secretbox.open(msg,nonce,k)},nacl.box.open.after=nacl.secretbox.open,nacl.box.keyPair=function(){var pk=new Uint8Array(crypto_box_PUBLICKEYBYTES),sk=new Uint8Array(crypto_box_SECRETKEYBYTES);return crypto_box_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl.box.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(),secretKey.length!==crypto_box_SECRETKEYBYTES)throw new Error("bad secret key size");var pk=new Uint8Array(crypto_box_PUBLICKEYBYTES);return crypto_scalarmult_base(pk,secretKey),{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl.box.publicKeyLength=crypto_box_PUBLICKEYBYTES,nacl.box.secretKeyLength=crypto_box_SECRETKEYBYTES,nacl.box.sharedKeyLength=32,nacl.box.nonceLength=crypto_box_NONCEBYTES,nacl.box.overheadLength=nacl.secretbox.overheadLength,nacl.sign=function(msg,secretKey){if(checkArrayTypes(),64!==secretKey.length)throw new Error("bad secret key size");var signedMsg=new Uint8Array(64+msg.length);return crypto_sign(signedMsg,msg,msg.length,secretKey),signedMsg},nacl.sign.open=function(signedMsg,publicKey){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(checkArrayTypes(),32!==publicKey.length)throw new Error("bad public key size");var tmp=new Uint8Array(signedMsg.length),mlen=crypto_sign_open(tmp,signedMsg,signedMsg.length,publicKey);if(mlen<0)return null;for(var m=new Uint8Array(mlen),i=0;i<m.length;i++)m[i]=tmp[i];return m},nacl.sign.detached=function(msg,secretKey){for(var signedMsg=nacl.sign(msg,secretKey),sig=new Uint8Array(64),i=0;i<sig.length;i++)sig[i]=signedMsg[i];return sig},nacl.sign.detached.verify=function(msg,sig,publicKey){if(checkArrayTypes(),64!==sig.length)throw new Error("bad signature size");if(32!==publicKey.length)throw new Error("bad public key size");var i,sm=new Uint8Array(64+msg.length),m=new Uint8Array(64+msg.length);for(i=0;i<64;i++)sm[i]=sig[i];for(i=0;i<msg.length;i++)sm[i+64]=msg[i];return crypto_sign_open(m,sm,sm.length,publicKey)>=0},nacl.sign.keyPair=function(){var pk=new Uint8Array(32),sk=new Uint8Array(64);return crypto_sign_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl.sign.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(),64!==secretKey.length)throw new Error("bad secret key size");for(var pk=new Uint8Array(32),i=0;i<pk.length;i++)pk[i]=secretKey[32+i];return{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl.sign.keyPair.fromSeed=function(seed){if(checkArrayTypes(),32!==seed.length)throw new Error("bad seed size");for(var pk=new Uint8Array(32),sk=new Uint8Array(64),i=0;i<32;i++)sk[i]=seed[i];return crypto_sign_keypair(pk,sk,!0),{publicKey:pk,secretKey:sk}},nacl.sign.publicKeyLength=32,nacl.sign.secretKeyLength=64,nacl.sign.seedLength=32,nacl.sign.signatureLength=64,nacl.hash=function(msg){checkArrayTypes();var h=new Uint8Array(64);return crypto_hash(h,msg,msg.length),h},nacl.hash.hashLength=64,nacl.verify=function(x,y){return checkArrayTypes(),0!==x.length&&0!==y.length&&(x.length===y.length&&0===vn(x,0,y,0,x.length))},nacl.setPRNG=function(fn){randombytes=fn},function(){var crypto="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(crypto&&crypto.getRandomValues){nacl.setPRNG(function(x,n){var i,v=new Uint8Array(n);for(i=0;i<n;i+=65536)crypto.getRandomValues(v.subarray(i,i+Math.min(n-i,65536)));for(i=0;i<n;i++)x[i]=v[i];cleanup(v)})}else void 0!==require&&(crypto=require("crypto"))&&crypto.randomBytes&&nacl.setPRNG(function(x,n){var i,v=crypto.randomBytes(n);for(i=0;i<n;i++)x[i]=v[i];cleanup(v)})}()}(void 0!==module&&module.exports?module.exports:self.nacl=self.nacl||{})},{crypto:73}],630:[function(require,module,exports){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===url?"undefined":_typeof(url)));var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++)-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);var auth,atSign;-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(/^[+a-z0-9A-Z_-]{0,63}$/)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(/^[+a-z0-9A-Z_-]{0,63}$/)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search))return psychotic&&(result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result;if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":631,punycode:541,querystring:549}],631:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"===(void 0===arg?"undefined":_typeof(arg))&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],632:[function(require,module,exports){(function(global){"use strict";function deprecate(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=deprecate}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],633:[function(require,module,exports){arguments[4][487][0].apply(exports,arguments)},{dup:487}],634:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(arg){return arg&&"object"===(void 0===arg?"undefined":_typeof(arg))&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],635:[function(require,module,exports){(function(process,global){"use strict";function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)&&(base=" [Function"+(value.name?": "+value.name:"")+"]"),isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;return output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"===(void 0===arg?"undefined":_typeof(arg))}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"===(void 0===arg?"undefined":_typeof(arg))&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"===(void 0===arg?"undefined":_typeof(arg))||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(/%[sdj%]/g,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":634,_process:534,inherits:633}],636:[function(require,module,exports){"use strict";var v1=require("./v1"),v4=require("./v4"),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},{"./v1":639,"./v4":640}],637:[function(require,module,exports){"use strict";function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=bytesToUuid},{}],638:[function(require,module,exports){(function(global){"use strict";var rng,crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){var rnds8=new Uint8Array(16);rng=function(){return crypto.getRandomValues(rnds8),rnds8}}if(!rng){var rnds=new Array(16);rng=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}module.exports=rng}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],639:[function(require,module,exports){"use strict";function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[],clockseq=(options=options||{}).clockseq!==undefined?options.clockseq:_clockseq,msecs=options.msecs!==undefined?options.msecs:(new Date).getTime(),nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&options.nsecs===undefined&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}var rng=require("./lib/rng"),bytesToUuid=require("./lib/bytesToUuid"),_seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0;module.exports=v1},{"./lib/bytesToUuid":637,"./lib/rng":638}],640:[function(require,module,exports){"use strict";function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}var rng=require("./lib/rng"),bytesToUuid=require("./lib/bytesToUuid");module.exports=v4},{"./lib/bytesToUuid":637,"./lib/rng":638}],641:[function(require,module,exports){"use strict";function VError(options){var args,causedBy,ctor,tailmsg;options instanceof Error||"object"===(void 0===options?"undefined":_typeof(options))?args=Array.prototype.slice.call(arguments,1):(args=Array.prototype.slice.call(arguments,0),options=undefined),tailmsg=args.length>0?mod_extsprintf.sprintf.apply(null,args):"",this.jse_shortmsg=tailmsg,this.jse_summary=tailmsg,options&&((causedBy=options.cause)&&options.cause instanceof Error||(causedBy=options),causedBy&&causedBy instanceof Error&&(this.jse_cause=causedBy,this.jse_summary+=": "+causedBy.message)),this.message=this.jse_summary,Error.call(this,this.jse_summary),Error.captureStackTrace&&(ctor=(ctor=options?options.constructorOpt:undefined)||arguments.callee,Error.captureStackTrace(this,ctor))}function MultiError(errors){mod_assert.ok(errors.length>0),this.ase_errors=errors,VError.call(this,errors[0],"first of %d error%s",errors.length,1==errors.length?"":"s")}function WError(options){Error.call(this);var args,cause,ctor;"object"===(void 0===options?"undefined":_typeof(options))?args=Array.prototype.slice.call(arguments,1):(args=Array.prototype.slice.call(arguments,0),options=undefined),args.length>0?this.message=mod_extsprintf.sprintf.apply(null,args):this.message="",options&&(options instanceof Error?cause=options:(cause=options.cause,ctor=options.constructorOpt)),Error.captureStackTrace(this,ctor||this.constructor),cause&&this.cause(cause)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},mod_assert=require("assert"),mod_util=require("util"),mod_extsprintf=require("extsprintf");exports.VError=VError,exports.WError=WError,exports.MultiError=MultiError,mod_util.inherits(VError,Error),VError.prototype.name="VError",VError.prototype.toString=function(){var str=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(str+=": "+this.message),str},VError.prototype.cause=function(){return this.jse_cause},mod_util.inherits(MultiError,VError),mod_util.inherits(WError,Error),WError.prototype.name="WError",WError.prototype.toString=function(){var str=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(str+=": "+this.message),this.we_cause&&this.we_cause.message&&(str+="; caused by "+this.we_cause.toString()),str},WError.prototype.cause=function(c){return c instanceof Error&&(this.we_cause=c),this.we_cause}},{assert:64,extsprintf:446,util:635}],642:[function(require,module,exports){"use strict";function Context(){}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},indexOf=require("indexof"),Object_keys=function(obj){if(Object.keys)return Object.keys(obj);var res=[];for(var key in obj)res.push(key);return res},forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);for(var i=0;i<xs.length;i++)fn(xs[i],i,xs)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(obj,name,value){Object.defineProperty(obj,name,{writable:!0,enumerable:!1,configurable:!0,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var win=iframe.contentWindow,wEval=win.eval,wExecScript=win.execScript;!wEval&&wExecScript&&(wExecScript.call(win,"null"),wEval=win.eval),forEach(Object_keys(context),function(key){win[key]=context[key]}),forEach(globals,function(key){context[key]&&(win[key]=context[key])});var winKeys=Object_keys(win),res=wEval.call(win,this.code);return forEach(Object_keys(win),function(key){(key in context||-1===indexOf(winKeys,key))&&(context[key]=win[key])}),forEach(globals,function(key){key in context||defineProp(context,key,win[key])}),document.body.removeChild(iframe),res},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context),res=this.runInContext(ctx);return forEach(Object_keys(ctx),function(key){context[key]=ctx[key]}),res},forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}),exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(context){var copy=new Context;return"object"===(void 0===context?"undefined":_typeof(context))&&forEach(Object_keys(context),function(key){copy[key]=context[key]}),copy}},{indexof:486}],643:[function(require,module,exports){"use strict";var toDateObject=require("./wikidata_time_to_date_object"),helpers={};helpers.isNumericId=function(id){return/^[0-9]+$/.test(id)},helpers.isEntityId=function(id){return/^(Q|P)[0-9]+$/.test(id)},helpers.isItemId=function(id){return/^Q[0-9]+$/.test(id)},helpers.isPropertyId=function(id){return/^P[0-9]+$/.test(id)},helpers.getNumericId=function(id){if(!helpers.isEntityId(id))throw new Error("invalid wikidata id: "+id);return id.replace(/Q|P/,"")},helpers.wikidataTimeToDateObject=toDateObject;var bestEffort=function(fn){return function(value){try{return fn(value)}catch(err){return value}}},toEpochTime=function(wikidataTime){return toDateObject(wikidataTime).getTime()},toISOString=function(wikidataTime){return toDateObject(wikidataTime).toISOString()};helpers.wikidataTimeToEpochTime=bestEffort(toEpochTime),helpers.wikidataTimeToISOString=bestEffort(toISOString),module.exports=helpers},{"./wikidata_time_to_date_object":649}],644:[function(require,module,exports){"use strict";var _require=require("./helpers"),simple=function(datavalue){return datavalue.value},item=function(datavalue,options){return prefixedId(datavalue,options.entityPrefix)},property=function(datavalue,options){return prefixedId(datavalue,options.propertyPrefix)},prefixedId=function(datavalue,prefix){var id=datavalue.value.id;return"string"==typeof prefix?prefix+":"+id:id},time=function(datavalue,options){return getTimeConverter(options.timeConverter)(datavalue.value.time)},getTimeConverter=function(){var key=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"iso";return timeConverters[key]},timeConverters={iso:_require.wikidataTimeToISOString,epoch:_require.wikidataTimeToEpochTime,none:function(arg){return arg}},claimParsers={string:simple,commonsMedia:simple,url:simple,"external-id":simple,math:simple,monolingualtext:function(datavalue){return datavalue.value.text},"wikibase-item":item,"wikibase-property":property,time:time,quantity:function(datavalue){return parseFloat(datavalue.value.amount)},"globe-coordinate":function(datavalue){return[datavalue.value.latitude,datavalue.value.longitude]}};module.exports=function(datatype,datavalue,options){return claimParsers[datatype](datavalue,options)}},{"./helpers":643}],645:[function(require,module,exports){"use strict";var simplifyEntity=require("./simplify_entity");module.exports={wd:{entities:function(res){var entities=(res=res.body||res).entities;return Object.keys(entities).forEach(function(entityId){entities[entityId]=simplifyEntity(entities[entityId])}),entities}}}},{"./simplify_entity":647}],646:[function(require,module,exports){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},parseClaim=require("./parse_claim"),simplifyClaims=function(claims){for(var _len=arguments.length,options=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)options[_key-1]=arguments[_key];var propertyPrefix=parseOptions(options).propertyPrefix,simpleClaims={};for(var id in claims){var propClaims=claims[id];propertyPrefix&&(id=propertyPrefix+":"+id),simpleClaims[id]=simplifyPropertyClaims.apply(undefined,[propClaims].concat(options))}return simpleClaims},simplifyPropertyClaims=function(propClaims){for(var _len2=arguments.length,options=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)options[_key2-1]=arguments[_key2];return propClaims.map(function(claim){return simplifyClaim.apply(undefined,[claim].concat(options))}).filter(nonNull)},nonNull=function(obj){return null!=obj},simplifyClaim=function(claim){for(var _len3=arguments.length,options=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)options[_key3-1]=arguments[_key3];var datatype,datavalue,isQualifier,keepQualifiers=(options=parseOptions(options)).keepQualifiers,mainsnak=claim.mainsnak,qualifiers=claim.qualifiers;if(mainsnak){if(datatype=mainsnak.datatype,!(datavalue=mainsnak.datavalue))return null}else{if(!claim||!claim.datavalue)return null;datavalue=claim.datavalue,datatype=claim.datatype,isQualifier=!0}var value=parseClaim(datatype,datavalue,options);return!keepQualifiers||isQualifier?value:{value:value,qualifiers:simplifyClaims(qualifiers)}},parseOptions=function(options){if(null==options)return{};if(options[0]&&"object"===_typeof(options[0]))return options[0];var _options2=_slicedToArray(options,3);return{entityPrefix:_options2[0],propertyPrefix:_options2[1],keepQualifiers:_options2[2]}};module.exports={simplifyClaims:simplifyClaims,simplifyPropertyClaims:simplifyPropertyClaims,simplifyClaim:simplifyClaim}},{"./parse_claim":644}],647:[function(require,module,exports){"use strict";var simplifyClaims=require("./simplify_claims").simplifyClaims,simplify=require("./simplify_text_attributes");module.exports=function(entity){return{id:entity.id,type:entity.type,modified:entity.modified,labels:simplify.labels(entity.labels),descriptions:simplify.descriptions(entity.descriptions),aliases:simplify.aliases(entity.aliases),claims:simplifyClaims(entity.claims),sitelinks:simplify.sitelinks(entity.sitelinks)}}},{"./simplify_claims":646,"./simplify_text_attributes":648}],648:[function(require,module,exports){"use strict";var simplifyTextAttributes=function(multivalue,attribute){return function(data){var simplifiedData={};return Object.keys(data).forEach(function(lang){var obj=data[lang];simplifiedData[lang]=multivalue?obj.map(getValue):obj[attribute]}),simplifiedData}},getValue=function(obj){return obj.value},labelsOrDescription=simplifyTextAttributes(!1,"value");module.exports={labels:labelsOrDescription,descriptions:labelsOrDescription,aliases:simplifyTextAttributes(!0,"value"),sitelinks:simplifyTextAttributes(!1,"title")}},{}],649:[function(require,module,exports){"use strict";module.exports=function(wikidataTime){var sign=wikidataTime[0],rest=wikidataTime.slice(1),date=fullDateData(sign,rest);return"Invalid Date"===date.toString()?parseInvalideDate(sign,rest):date};var fullDateData=function(sign,rest){return"-"===sign?negativeDate(rest):positiveDate(rest)},positiveDate=function(rest){return new Date(rest)},negativeDate=function(rest){var date="-00"+rest;return new Date(date)},parseInvalideDate=function(sign,rest){var year=rest.split("T")[0].split("-")[0];return fullDateData(sign,year)}},{}],650:[function(require,module,exports){"use strict";var wdk=module.exports={};wdk.searchEntities=require("./queries/search_entities"),wdk.getEntities=require("./queries/get_entities"),wdk.getManyEntities=require("./queries/get_many_entities"),wdk.getWikidataIdsFromSitelinks=require("./queries/get_wikidata_ids_from_sitelinks"),wdk.sparqlQuery=require("./queries/sparql_query"),wdk.getReverseClaims=require("./queries/get_reverse_claims"),wdk.parse=require("./helpers/parse_responses");var claimsSimplifiers=require("./helpers/simplify_claims"),simplifySparqlResults=require("./queries/simplify_sparql_results");wdk.simplify=require("../lib/helpers/simplify_text_attributes"),wdk.simplify.entity=require("../lib/helpers/simplify_entity"),wdk.simplify.claim=claimsSimplifiers.simplifyClaim,wdk.simplify.propertyClaims=claimsSimplifiers.simplifyPropertyClaims,wdk.simplify.claims=claimsSimplifiers.simplifyClaims,wdk.simplify.sparqlResults=simplifySparqlResults,wdk.simplifySparqlResults=require("./queries/simplify_sparql_results"),Object.assign(wdk,claimsSimplifiers),wdk.getWikidataIdsFromWikipediaTitles=wdk.getWikidataIdsFromSitelinks,Object.assign(wdk,require("./helpers/helpers"))},{"../lib/helpers/simplify_entity":647,"../lib/helpers/simplify_text_attributes":648,"./helpers/helpers":643,"./helpers/parse_responses":645,"./helpers/simplify_claims":646,"./queries/get_entities":651,"./queries/get_many_entities":652,"./queries/get_reverse_claims":653,"./queries/get_wikidata_ids_from_sitelinks":654,"./queries/search_entities":655,"./queries/simplify_sparql_results":656,"./queries/sparql_query":657}],651:[function(require,module,exports){"use strict";var buildUrl=require("../utils/build_url"),_require=require("../utils/utils"),isPlainObject=_require.isPlainObject,forceArray=_require.forceArray,shortLang=_require.shortLang;module.exports=function(ids,languages,props,format){if(isPlainObject(ids)){var _ids=ids;ids=_ids.ids,languages=_ids.languages,props=_ids.props,format=_ids.format}if(format=format||"json",!(ids&&ids.length>0))throw new Error("no id provided");(ids=forceArray(ids)).length>50&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");var query={action:"wbgetentities",ids:ids.join("|"),format:format};return languages&&(languages=forceArray(languages).map(shortLang),query.languages=languages.join("|")),props&&props.length>0&&(query.props=forceArray(props).join("|")),buildUrl(query)}},{"../utils/build_url":658,"../utils/utils":660}],652:[function(require,module,exports){"use strict";var _templateObject=function(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["getManyEntities expects an array of ids"],["getManyEntities expects an array of ids"]),getEntities=require("./get_entities"),isPlainObject=require("../utils/utils").isPlainObject;module.exports=function(ids,languages,props,format){if(isPlainObject(ids)){var params=ids;ids=params.ids,languages=params.languages,props=params.props,format=params.format}if(!(ids instanceof Array))throw new(Error(_templateObject));return getIdsGroups(ids).map(function(idsGroup){return getEntities(idsGroup,languages,props,format)})};var getIdsGroups=function(ids){for(var groups=[];ids.length>0;){var group=ids.slice(0,50);ids=ids.slice(50),groups.push(group)}return groups}},{"../utils/utils":660,"./get_entities":651}],653:[function(require,module,exports){"use strict";function getValueString(value){return helpers.isItemId(value)?value="wd:"+value:"string"==typeof value&&(value="'"+value+"'"),value}function directValueQuery(property,value,limit){return"SELECT ?subject WHERE {\n      ?subject wdt:"+property+" "+value+" .\n    }\n    LIMIT "+limit}function caseInsensitiveValueQuery(property,value,limit){return"SELECT ?subject WHERE {\n    ?subject wdt:"+property+" ?value .\n    FILTER (lcase(?value) = "+value.toLowerCase()+")\n  }\n  LIMIT "+limit}var helpers=require("../helpers/helpers"),sparqlQuery=require("./sparql_query");module.exports=function(property,value){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},limit=options.limit,caseInsensitive=options.caseInsensitive;limit=limit||1e3;var sparql=(caseInsensitive?caseInsensitiveValueQuery:directValueQuery)(property,getValueString(value),limit);return sparqlQuery(sparql)}},{"../helpers/helpers":643,"./sparql_query":657}],654:[function(require,module,exports){"use strict";var buildUrl=require("../utils/build_url"),_require=require("../utils/utils"),isPlainObject=_require.isPlainObject,forceArray=_require.forceArray,shortLang=_require.shortLang;module.exports=function(titles,sites,languages,props,format){if(isPlainObject(titles)){var params=titles;titles=params.titles,sites=params.sites,languages=params.languages,props=params.props,format=params.format}if(format=format||"json",!(titles&&titles.length>0))throw new Error("no title provided");sites&&sites.length>0||(sites=["enwiki"]),titles=forceArray(titles),sites=forceArray(sites).map(parseSite),props=forceArray(props);var query={action:"wbgetentities",titles:titles.join("|"),sites:sites.join("|"),format:format};return languages&&(languages=forceArray(languages).map(shortLang),query.languages=languages.join("|")),props&&props.length>0&&(query.props=props.join("|")),buildUrl(query)};var parseSite=function(site){return 2===site.length?site+"wiki":site}},{"../utils/build_url":658,"../utils/utils":660}],655:[function(require,module,exports){"use strict";var buildUrl=require("../utils/build_url"),isPlainObject=require("../utils/utils").isPlainObject;module.exports=function(search,language,limit,format,uselang){if(isPlainObject(search)){var params=search;search=params.search,language=params.language,limit=params.limit,format=params.format,uselang=params.uselang}if(!(search&&search.length>0))throw new Error("search can't be empty");return language=language||"en",uselang=uselang||language,limit=limit||"20",format=format||"json",buildUrl({action:"wbsearchentities",search:search,language:language,limit:limit,format:format,uselang:uselang})}},{"../utils/build_url":658,"../utils/utils":660}],656:[function(require,module,exports){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();module.exports=function(input){"string"==typeof input&&(input=JSON.parse(input));var vars=input.head.vars,results=input.results.bindings;if(1===vars.length){var varName=vars[0];return results.map(function(result){return parseValue(result[varName])}).filter(function(result){return null!=result})}var _identifyVars=identifyVars(vars),_identifyVars2=_slicedToArray(_identifyVars,2),varsWithLabel=_identifyVars2[0],varsWithout=_identifyVars2[1];return results.map(getSimplifiedResult(varsWithLabel,varsWithout))};var parseValue=function(valueObj){if(valueObj){var datatype=valueObj.datatype;return datatype=datatype&&datatype.replace("http://www.w3.org/2001/XMLSchema#",""),(parsers[valueObj.type]||getDatatypesParsers(datatype))(valueObj)}},parsers={uri:function(valueObj){return parseUri(valueObj.value)},bnode:function(){return null}},numberParser=function(valueObj){return parseFloat(valueObj.value)},getDatatypesParsers=function(datatype){return datatype=datatype&&datatype.replace("http://www.w3.org/2001/XMLSchema#",""),datatypesParsers[datatype]||passValue},datatypesParsers={decimal:numberParser,integer:numberParser,float:numberParser,double:numberParser,boolean:function(valueObj){return"true"===valueObj.value}},passValue=function(valueObj){return valueObj.value},parseUri=function(uri){return uri.replace("http://www.wikidata.org/entity/","")},identifyVars=function(vars){var varsWithLabel=[],varsWithoutLabel=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=undefined;try{for(var _step,_iterator=vars[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var varName=_step.value;vars.indexOf(varName+"Label")>-1?varsWithLabel.push(varName):/^\w+Label$/.test(varName)||varsWithoutLabel.push(varName)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}return[varsWithLabel,varsWithoutLabel]},getSimplifiedResult=function(varsWithLabel,varsWithout){return function(result){var simplifiedResult={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=undefined;try{for(var _step2,_iterator2=varsWithLabel[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var varName=_step2.value,value=parseValue(result[varName]);if(null!=value){var label=result[varName+"Label"]&&result[varName+"Label"].value;simplifiedResult[varName]={value:value,label:label}}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2["return"]&&_iterator2["return"]()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=undefined;try{for(var _step3,_iterator3=varsWithout[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _varName=_step3.value;simplifiedResult[_varName]=parseValue(result[_varName])}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3["return"]&&_iterator3["return"]()}finally{if(_didIteratorError3)throw _iteratorError3}}return simplifiedResult}}},{}],657:[function(require,module,exports){"use strict";var fixedEncodeURIComponent=require("../utils/utils").fixedEncodeURIComponent;module.exports=function(sparql){return"https://query.wikidata.org/sparql?format=json&query="+fixedEncodeURIComponent(sparql)}},{"../utils/utils":660}],658:[function(require,module,exports){"use strict";var isBrowser="undefined"!=typeof location&&"undefined"!=typeof document,qs=require(isBrowser?"./querystring_lite":"querystring");module.exports=function(queryObj){return isBrowser&&(queryObj.origin="*"),"https://www.wikidata.org/w/api.php?"+qs.stringify(queryObj)}},{"./querystring_lite":659,querystring:549}],659:[function(require,module,exports){"use strict";module.exports={stringify:function(queryObj){var qstring="";for(var key in queryObj){var value=queryObj[key];value&&(qstring+="&"+key+"="+value)}return qstring=qstring.slice(1),encodeURI?encodeURI(qstring):qstring}}},{}],660:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={shortLang:function(language){return language.toLowerCase().split(/[^a-z]/)[0]},forceArray:function(array){return"string"==typeof array&&(array=[array]),array||[]},isPlainObject:function(obj){return!(!obj||"object"!==(void 0===obj?"undefined":_typeof(obj))||obj instanceof Array)},fixedEncodeURIComponent:function(str){return encodeURIComponent(str).replace(/[!'()*]/g,encodeCharacter)}};var encodeCharacter=function(c){return"%"+c.charCodeAt(0).toString(16)}},{}],661:[function(require,module,exports){"use strict";function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],662:[function(require,module,exports){module.exports={name:"citation-js",version:"0.3.0-5",description:"Citation.js converts formats like BibTeX, Wikidata JSON and ContentMine JSON to CSL-JSON to convert to other formats like APA, Vancouver and back to BibTeX.",main:"lib/index.js",directories:{doc:"docs/api/",test:"test/",lib:"src/"},repository:{type:"git",url:"git+https://github.com/larsgw/citation.js.git"},keywords:["citation","bibtex","wikidata","contentmine","quickscrape","csl","citeproc"],dependencies:{"babel-polyfill":"^6.23.0",citeproc:"^2.0.2",commander:"~2.9.0","deep-freeze":"0.0.1",request:"^2.81.0",striptags:"^3.0.1","sync-request":"^4.0.3","wikidata-sdk":"^5.1.4"},devDependencies:{"babel-cli":"^6.24.1","babel-core":"^6.24.1","babel-preset-env":"^1.4.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-0":"^6.24.1",babelify:"^7.3.0",brfs:"^1.4.3",browserify:"^14.3.0","jasmine-node":"^1.14.5",jsdoc:"^3.4.2",standard:"^10.0.2","uglify-es":"^3.0.4"},babel:{presets:["es2015","stage-0",["env",{targets:{browser:["> 1%","last 10 versions","ie > 7"]}}]]},scripts:{lint:'standard "src/**/*.js" "test/**/*.js" "tools/*.js"',test:"node_modules/jasmine-node/bin/jasmine-node test/citation.spec.js",babel:"babel src -d lib --copy-files","dev:test":"npm run babel && npm run test","dev:test-browser":"npm run babel && npm run test && npm run build && npm run build-test",build:"     browserify -r ./src/index.js:citation-js -o build/citation.js      -g [ babelify --ignore=citeproc --presets [ env ] ]         && cp build/citation.js      docs/src/citation.js","build-test":"browserify -e test/citation.spec.js      -o build/test.citation.js -g [ babelify --ignore=citeproc --presets [ env ] ] -t brfs && cp build/test.citation.js docs/src/test.citation.js","build-docs":"jsdoc ./src README.md -c docs/conf.json","build-disc":"browserify -e test/citation.spec.js      -o build/tmp/citation.js  -g [ babelify --ignore=citeproc --presets [ env ] ] -t brfs --full-paths && node tools/disc.js",minify:"     uglifyjs build/citation.js      --ie8 -c -o build/citation.min.js      && cp build/citation.min.js      docs/src/citation.min.js","minify-test":"uglifyjs build/test.citation.js --ie8 -c -o build/test.citation.min.js && cp build/test.citation.min.js docs/src/test.citation.min.js"},author:"Lars Willighagen (https://larsgw.github.io)",license:"MIT",bin:"bin/cmd.js",man:"bin/man/citation-js.1",bugs:{url:"https://github.com/larsgw/citation.js/issues"},engines:{node:">=6.0.0"},homepage:"https://larsgw.github.com/citation.js/"}},{}],663:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _citeproc2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("citeproc")),varCSLEngines={},fetchCSLEngine=function(style,lang,template,retrieveItem,retrieveLocale){var prop=style+"|"+lang,engine=void 0;return varCSLEngines.hasOwnProperty(prop)?(engine=varCSLEngines[prop]).sys.retrieveItem=retrieveItem:engine=varCSLEngines[prop]=new _citeproc2["default"].Engine({retrieveLocale:retrieveLocale,retrieveItem:retrieveItem},template,lang,!0),engine};exports["default"]=fetchCSLEngine},{citeproc:108}],664:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.item=exports.engine=exports.locale=exports.style=undefined;var _styles2=_interopRequireDefault(require("./styles")),_locales2=_interopRequireDefault(require("./locales")),_engines2=_interopRequireDefault(require("./engines")),_items2=_interopRequireDefault(require("./items"));exports.style=_styles2["default"],exports.locale=_locales2["default"],exports.engine=_engines2["default"],exports.item=_items2["default"]},{"./engines":663,"./items":665,"./locales":666,"./styles":667}],665:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var fetchCSLItemCallback=function(data){var _data=data;return function(id){return _data.find(function(entry){return entry.id===id})}};exports["default"]=fetchCSLItemCallback},{}],666:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var varCSLLocales={"en-US":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple>\n</term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term>\n<term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms></locale>',"nl-NL":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>editie</single><multiple>edities</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio\'s</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple>\n</term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">bewerkt door</term><term name="editorial-director" form="verb">bewerkt door</term><term name="illustrator" form="verb">geïllustreerd door</term><term name="interviewer" form="verb">geïnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">bewerkt door</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geïllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>\n<term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms></locale>',"fr-FR":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grégoire Colly</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">consulté le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cité</term><term name="edition" gender="feminine"><single>édition</single><multiple>éditions</multiple></term><term name="edition" form="short">éd.</term><term name="et-al">et al.</term><term name="forthcoming">à paraître</term><term name="from">à l\'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">présenté à</term><term name="reference"><single>référence</single><multiple>références</multiple></term><term name="reference" form="short"><single>réf.</single><multiple>réf.</multiple></term><term name="retrieved">consulté</term><term name="scale">échelle</term><term name="version">version</term><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="open-quote">«&#160;</term><term name="close-quote">&#160;»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">&#8209;</term><term name="ordinal">ᵉ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">ʳᵉ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">ᵉʳ</term><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxième</term><term name="long-ordinal-03">troisième</term><term name="long-ordinal-04">quatrième</term><term name="long-ordinal-05">cinquième</term><term name="long-ordinal-06">sixième</term><term name="long-ordinal-07">septième</term><term name="long-ordinal-08">huitième</term><term name="long-ordinal-09">neuvième</term><term name="long-ordinal-10">dixième</term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numéro</single><multiple>numéros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple>\n</term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name="issue" form="short"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term><term name="director"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name="editor"><single>éditeur</single><multiple>éditeurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term><term name="director" form="short"><single>réal.</single><multiple>réal.</multiple></term><term name="editor" form="short"><single>éd.</single><multiple>éd.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term><term name="container-author" form="verb">par</term><term name="director" form="verb">réalisé par</term><term name="editor" form="verb">édité par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustré par</term><term name="interviewer" form="verb">entretien réalisé par</term><term name="recipient" form="verb">à</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">édité et traduit par</term><term name="director" form="verb-short">réal. par</term><term name="editor" form="verb-short">éd. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">éd. et trad. par</term><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">février</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">août</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">\noctobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">décembre</term><term name="month-01" form="short">janv.</term><term name="month-02" form="short">févr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">août</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">déc.</term><term name="season-01">printemps</term><term name="season-02">été</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms></locale>',"de-DE":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfügbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Maßstab</term><term name="version">Version</term><term name="ad">n.&#160;Chr.</term><term name="bc">v.&#160;Chr.</term><term name="open-quote">„</term><term name="close-quote">“</term><term name="open-inner-quote">‚</term><term name="close-inner-quote">‘</term><term name="page-range-delimiter">–</term><term name="ordinal">.</term><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fünfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term><term name="book"><single>Buch</single><multiple>Bücher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Blätter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Absätze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bände</multiple></term><term name="book" form="short">B.</term>\n<term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Übers.</single><multiple>Übers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers</multiple></term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">übersetzt von</term><term name="editortranslator" form="verb">herausgegeben und übersetzt von</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">übers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; übers. von</term><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">März</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term>\n<term name="month-03" form="short">März</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term><term name="season-01">Frühjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms></locale>',"es-ES":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anónimo</term><term name="anonymous" form="short">anón.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edición</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en línea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versión</term><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="open-quote">«</term><term name="close-quote">»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">-</term><term name="ordinal">.ª</term><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">séptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">décima</term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capítulo</single><multiple>capítulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>número</single><multiple>números</multiple></term><term name="line"><single>línea</single><multiple>líneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>página</single><multiple>páginas</multiple></term><term name="number-of-pages"><single>página</single><multiple>páginas</multiple></term><term name="paragraph"><single>párrafo</single><multiple>párrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>sección</single><multiple>secciones</multiple></term><term name="sub verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volúmenes</multiple></term><term name="book" form="short">lib.</term>\n<term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.º</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">párr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">\ndic.</term><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoño</term><term name="season-04">invierno</term></terms></locale>'},fetchCSLLocale=function(lang){return varCSLLocales[lang]};exports["default"]=fetchCSLLocale},{}],667:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var varCSLStyles={apa:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never"><info><title>American Psychological Association 6th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://owl.english.purdue.edu/owl/resource/560/01/" rel="documentation"/><author><name>Simon Kornblith</name><email>simon@simonster.com</email></author><contributor><name>Bruce D\'Arcus</name></contributor><contributor><name>Curtis M. Humphrey</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Sebastian Karcher</name></contributor><contributor><name> Brenton M. Wiernik</name><email>zotero@wiernik.org</email></contributor><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2016-05-25T09:01:49+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short"><single>trans.</single><multiple>trans.</multiple></term></terms></locale><macro name="container-contributors"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><group delimiter=", "><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names></group></if></choose></macro><macro name="secondary-contributors"><choose><if type="article-journal chapter paper-conference entry-dictionary entry-encyclopedia" match="none"><group delimiter=", " prefix=" (" suffix=")"><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="capitalize-first"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text macro="title"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text variable="title" form="short" font-style="italic"/></if><else-if type="legal_case"><text variable="title" font-style="italic"/></else-if><else-if type="bill book graphic legislation motion_picture song" match="any"><text variable="title" form="short" font-style="italic"/></else-if><else-if variable="reviewed-author"><choose><if variable="reviewed-title" match="none"><text variable="title" form="short" font-style="italic" prefix="Review of "/></if><else><text variable="title" form="short" quotes="true"/></else></choose></else-if><else><text variable="title" form="short" quotes="true"/></else></choose></substitute></names></macro><macro name="access"><choose><if type="thesis report" match="any"><choose><if variable="DOI" match="any">\n<text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="archive" match="any"><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="archive" suffix="."/><text variable="archive_location" prefix=" (" suffix=")"/></group></else-if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></if><else><choose><if variable="DOI"><text variable="DOI" prefix="https://doi.org/"/></if><else><choose><if type="webpage"><group delimiter=" "><text term="retrieved" text-case="capitalize-first" suffix=" "/><group><date variable="accessed" form="text" suffix=", "/></group><text term="from"/><text variable="URL"/></group></if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></else></choose></else></choose></macro><macro name="title"><choose><if type="book graphic manuscript motion_picture report song speech thesis" match="any"><choose><if variable="version" type="book" match="all"><text variable="title"/></if><else><text variable="title" font-style="italic"/></else></choose></if><else-if variable="reviewed-author"><choose><if variable="reviewed-title"><group delimiter=" "><text variable="title"/><group delimiter=", " prefix="[" suffix="]"><text variable="reviewed-title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></if><else><group delimiter=", " prefix="[" suffix="]"><text variable="title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></else></choose></else-if><else><text variable="title"/></else></choose></macro><macro name="title-plus-extra"><text macro="title"/><choose><if type="report thesis" match="any"><group prefix=" (" suffix=")" delimiter=", "><group delimiter=" "><choose><if variable="genre" match="any"><text variable="genre"/></if><else><text variable="collection-title"/></else></choose><text variable="number" prefix="No. "/></group><group delimiter=" "><text term="version" text-case="capitalize-first"/><text variable="version"/></group><text macro="edition"/></group></if><else-if type="post-weblog webpage" match="any"><text variable="genre" prefix=" [" suffix="]"/></else-if><else-if variable="version"><group delimiter=" " prefix=" (" suffix=")"><text term="version" text-case="capitalize-first"/><text variable="version"/></group></else-if></choose><text macro="format" prefix=" [" suffix="]"/></macro><macro name="format"><choose><if match="any" variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else-if type="dataset" match="any"><text value="Data set"/></else-if></choose></macro><macro name="publisher"><choose><if type="report" match="any"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></if><else-if type="thesis" match="any"><group delimiter=", "><text variable="publisher"/><text variable="publisher-place"/></group></else-if><else-if type="post-weblog webpage" match="none"><group delimiter=", "><choose><if variable="event version" type="speech motion_picture" match="none"><text variable="genre"/></if></choose><choose><if type="article-journal article-magazine" match="none"><group delimiter=": "><choose><if variable="publisher-place"><text variable="publisher-place"/></if><else><text variable="event-place"/></else></choose><text variable="publisher"/></group></if></choose></group></else-if></choose></macro><macro name="event"><choose><if variable="container-title" match="none"><choose><if variable="event"><choose><if variable="genre" match="none"><text term="presented at" text-case="capitalize-first" suffix=" "/><text variable="event"/></if><else>\n<group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/><text variable="event"/></group></else></choose></if><else-if type="speech"><text variable="genre" text-case="capitalize-first"/></else-if></choose></if></choose></macro><macro name="issued"><choose><if type="bill legal_case legislation" match="none"><choose><if variable="issued"><group prefix=" (" suffix=")"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="speech" match="any"><date variable="issued"><date-part prefix=", " name="month"/></date></if><else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></else-if></choose></group></if><else-if variable="status"><group prefix=" (" suffix=")"><text variable="status"/><text variable="year-suffix" prefix="-"/></group></else-if><else><group prefix=" (" suffix=")"><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></group></else></choose></if></choose></macro><macro name="issued-sort"><choose><if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part name="year"/><date-part name="month"/><date-part name="day"/></date></if><else><date variable="issued"><date-part name="year"/></date></else></choose></macro><macro name="issued-year"><choose><if variable="issued"><group delimiter="/"><date variable="original-date" form="text"/><group><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></group></group></if><else-if variable="status"><text variable="status"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="locators"><choose><if type="article-journal article-magazine" match="any"><group prefix=", " delimiter=", "><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group><text variable="page"/></group><choose><if variable="issued"><choose><if variable="page issue" match="none"><text variable="status" prefix=". "/></if></choose></if></choose></if><else-if type="article-newspaper"><group delimiter=" " prefix=", "><label variable="page" form="short"/><text variable="page"/></group></else-if><else-if type="book graphic motion_picture report song chapter paper-conference entry-encyclopedia entry-dictionary" match="any"><group prefix=" (" suffix=")" delimiter=", "><choose><if type="report" match="none"><text macro="edition"/></if></choose><choose><if variable="volume" match="any"><group><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><number variable="volume" form="numeric"/></group></if><else><group><text term="volume" form="short" plural="true" text-case="capitalize-first" suffix=" "/><number variable="number-of-volumes" form="numeric" prefix="1&#8211;"/></group></else></choose><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></else-if><else-if type="legal_case"><group prefix=" (" suffix=")" delimiter=" "><text variable="authority"/><date variable="issued" form="text"/></group></else-if><else-if type="bill legislation" match="any"><date variable="issued" prefix=" (" suffix=")"><date-part name="year"/></date></else-if></choose></macro><macro name="citation-locator"><group><choose><if locator="chapter"><label variable="locator" form="long" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator" prefix=" "/></group></macro>\n<macro name="container"><choose><if type="post-weblog webpage" match="none"><group><choose><if type="chapter paper-conference entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first" suffix=" "/></if></choose><group delimiter=", "><text macro="container-contributors"/><text macro="secondary-contributors"/><text macro="container-title"/></group></group></if></choose></macro><macro name="container-title"><choose><if type="article article-journal article-magazine article-newspaper" match="any"><text variable="container-title" font-style="italic" text-case="title"/></if><else-if type="bill legal_case legislation" match="none"><text variable="container-title" font-style="italic"/></else-if></choose></macro><macro name="legal-cites"><choose><if type="bill legal_case legislation" match="any"><group delimiter=" " prefix=", "><choose><if variable="container-title"><text variable="volume"/><text variable="container-title"/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group><text variable="page"/></if><else><choose><if type="legal_case"><text variable="number" prefix="No. "/></if><else><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group></else></choose></else></choose></group></if></choose></macro><macro name="original-date"><choose><if variable="original-date"><group prefix="(" suffix=")" delimiter=" "><text value="Original work published"/><date variable="original-date" form="text"/></group></if></choose></macro><citation et-al-min="6" et-al-use-first="1" et-al-subsequent-min="3" et-al-subsequent-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name"><sort><key macro="author"/><key macro="issued-sort"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-short"/><text macro="issued-year"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="8" et-al-use-first="6" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author"/><key macro="issued-sort" sort="ascending"/><key macro="title"/></sort><layout><group suffix="."><group delimiter=". "><text macro="author"/><text macro="issued"/><text macro="title-plus-extra"/><text macro="container"/></group><text macro="legal-cites"/><text macro="locators"/><group delimiter=", " prefix=". "><text macro="event"/><text macro="publisher"/></group></group><text macro="access" prefix=" "/><text macro="original-date" prefix=" "/></layout></bibliography></style>',vancouver:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech">\n<group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number">\n<sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography></style>',harvard1:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href="http://www.zotero.org/styles/harvard1" rel="self"/><link href="http://libweb.anglia.ac.uk/referencing/harvard.htm" rel="documentation"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format="author-date"/><category field="generic-base"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name="editor"><names variable="editor" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="lowercase"/></names></macro><macro name="anon"><text term="anonymous" form="short" text-case="capitalize-first" strip-periods="true"/></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with="." delimiter-precedes-last="never" delimiter=", "/><label form="short" prefix=" " text-case="lowercase"/><substitute><names variable="editor"/><text macro="anon"/></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><text macro="anon"/></substitute></names></macro><macro name="access"><choose><if variable="URL"><text value="Available at:" suffix=" "/><text variable="URL"/><group prefix=" [" suffix="]"><text term="accessed" text-case="capitalize-first" suffix=" "/><date variable="accessed"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date></group></if></choose></macro><macro name="title"><choose><if type="bill book graphic legal_case legislation motion_picture report song thesis" match="any"><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose></macro><macro name="publisher"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date></if><else><text term="no date" form="short"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="pages"><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true"><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=" "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short"/><text variable="locator"/></group></group></layout></citation><bibliography hanging-indent="true" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key variable="title"/></sort><layout><text macro="author" suffix=","/><date variable="issued" prefix=" " suffix="."><date-part name="year"/></date><choose><if type="bill book graphic legal_case legislation motion_picture report song" match="any"><group prefix=" " delimiter=" " suffix=","><text macro="title"/><text macro="edition"/><text macro="editor"/></group><text prefix=" " suffix="." macro="publisher"/></if><else-if type="chapter paper-conference" match="any"><text macro="title" prefix=" " suffix="."/><group prefix=" " delimiter=" "><text term="in" text-case="capitalize-first"/>\n<text macro="editor"/><text variable="container-title" font-style="italic" suffix="."/><text variable="collection-title" suffix="."/><text variable="event" suffix="."/><group suffix="." delimiter=", "><text macro="publisher" prefix=" "/><text macro="pages"/></group></group></else-if><else-if type="thesis"><group prefix=" " suffix="." delimiter=". "><text macro="title"/><text variable="genre"/><text macro="publisher"/></group></else-if><else><group suffix="."><text macro="title" prefix=" "/><text macro="editor" prefix=" "/></group><group prefix=" " suffix="."><text variable="container-title" font-style="italic"/><group prefix=", "><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></group><group prefix=", "><label variable="page" form="short"/><text variable="page"/></group></group></else></choose><text prefix=" " macro="access" suffix="."/></layout></bibliography></style>'},fetchCSLStyle=function(style){return varCSLStyles.hasOwnProperty(style||"")?varCSLStyles[style]:varCSLStyles.apa};exports["default"]=fetchCSLStyle},{}],668:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=exports.getIds=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_striptags2=_interopRequireDefault(require("striptags")),_attr=require("../util/attr.js"),_deepCopy2=_interopRequireDefault(require("../util/deepCopy")),_json2=_interopRequireDefault(require("../get/bibtex/json")),_text2=_interopRequireDefault(require("../get/bibtex/text")),_json4=_interopRequireDefault(require("../get/json")),_engines2=_interopRequireDefault(require("../CSL/engines")),_styles2=_interopRequireDefault(require("../CSL/styles")),_locales2=_interopRequireDefault(require("../CSL/locales")),_items2=_interopRequireDefault(require("../CSL/items")),getIds=function(){return this.data.map(function(entry){return entry.id})},get=function(options){var _data=(0,_deepCopy2["default"])(this.data),result=void 0,_Object$assign=Object.assign({format:"real",type:"json",style:"csl",lang:"en-US"},this._options,{locale:"",template:""},options),format=_Object$assign.format,type=_Object$assign.type,style=_Object$assign.style,lang=_Object$assign.lang,locale=_Object$assign.locale,template=_Object$assign.template,_style$match=style.match(/^([^-]+)(?:-(.+))?$/),_style$match2=_slicedToArray(_style$match,3),styleType=_style$match2[1],styleFormat=_style$match2[2];switch([type,styleType].join()){case"html,citation":var cbLocale=locale?function(){return locale}:_locales2["default"],cbItem=(0,_items2["default"])(_data),useTemplate=template||(0,_styles2["default"])(styleFormat),useLang=(0,_locales2["default"])(lang)?lang:"en-US",citeproc=(0,_engines2["default"])(styleFormat,useLang,useTemplate,cbItem,cbLocale),sortedIds=citeproc.updateItems(this.getIds()),_citeproc$makeBibliog=citeproc.makeBibliography(),_citeproc$makeBibliog2=_slicedToArray(_citeproc$makeBibliog,2),_citeproc$makeBibliog3=_citeproc$makeBibliog2[0],bibStart=_citeproc$makeBibliog3.bibstart,bibEnd=_citeproc$makeBibliog3.bibend,bibBody=_citeproc$makeBibliog2[1];result=""+bibStart+(bibBody=bibBody.map(function(element,index){return(0,_attr.getPrefixedEntry)(element,index,sortedIds)})).join("<br />")+bibEnd;break;case"html,csl":result=(0,_json4["default"])(_data);break;case"html,bibtex":result=(0,_text2["default"])(_data,!0);break;case"string,bibtex":result=(0,_text2["default"])(_data,!1);break;case"string,citation":result=(0,_striptags2["default"])(this.get(Object.assign({},options,{type:"html"})));break;case"string,csl":case"json,csl":result=JSON.stringify(_data);break;case"json,bibtex":result=JSON.stringify(_data.map(_json2["default"]));break;case"json,citation":console.error("[get]","Combination type/style of json/citation-* is not valid: "+type+"/"+style);break;default:console.error("[get]","Invalid options")}return"real"===format&&("json"===type?result=JSON.parse(result):document&&document.createElement&&"html"===type&&(document.createElement("div").innerHTML=result,result=result.childNodes)),result};exports.getIds=getIds,exports.get=get},{"../CSL/engines":663,"../CSL/items":665,"../CSL/locales":666,"../CSL/styles":667,"../get/bibtex/json":676,"../get/bibtex/text":678,"../get/json":683,"../util/attr.js":714,"../util/deepCopy":715,striptags:617}],669:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function Cite(data,options){return this instanceof Cite?(this._options=options||{},this.log=[],this.data=[],this.set(data),this.options(options),this.save(),this):new Cite(data,options)}Object.defineProperty(exports,"__esModule",{value:!0});var log=_interopRequireWildcard(require("./log")),options=_interopRequireWildcard(require("./options")),set=_interopRequireWildcard(require("./set")),sort=_interopRequireWildcard(require("./sort")),get=_interopRequireWildcard(require("./get"));Object.assign(Cite.prototype,log,options,set,sort,get),exports["default"]=Cite},{"./get":668,"./log":670,"./options":671,"./set":672,"./sort":673}],670:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.save=exports.undo=exports.retrieveLastVersion=exports.retrieveVersion=exports.currentVersion=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_index2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("./index")),currentVersion=function(){return this.log.length},retrieveVersion=function(versnum){if((versnum=versnum<=0?1:versnum)>this.currentVersion())return null;var _log=_slicedToArray(this.log[versnum-1],2),data=_log[0],options=_log[1],image=new _index2["default"](JSON.parse(data),JSON.parse(options));return image.log=this.log.slice(0,versnum),image},undo=function(){var number=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return this.retrieveVersion(this.currentVersion()-number)},retrieveLastVersion=function(){return this.retrieveVersion(this.currentVersion())},save=function(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this};exports.currentVersion=currentVersion,exports.retrieveVersion=retrieveVersion,exports.retrieveLastVersion=retrieveLastVersion,exports.undo=undo,exports.save=save},{"./index":669}],671:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var options=function(_options,log){return log&&this.save(),Object.assign(this._options,_options),this};exports.options=options},{}],672:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.reset=exports.set=exports.add=undefined;var _chain2=_interopRequireDefault(require("../parse/input/chain")),_fetchId2=_interopRequireDefault(require("../util/fetchId")),add=function(data,log){var _this=this;return log&&this.save(),this.data=this.data.concat((0,_chain2["default"])(data)),this.data.filter(function(entry){return!entry.hasOwnProperty("id")}).forEach(function(entry){entry.id=(0,_fetchId2["default"])(_this.getIds(),"temp_id_")}),this},set=function(data,log){return log&&this.save(),this.data=[],this.add(data),this},reset=function(log){return log&&this.save(),this.data=[],this._options={},this};exports.add=add,exports.set=set,exports.reset=reset},{"../parse/input/chain":698,"../util/fetchId":718}],673:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sort=undefined;var _label2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("../get/label")),sort=function(log){return log&&this.save(),this.data.sort(function(a,b){var labelA=(0,_label2["default"])(a),labelB=(0,_label2["default"])(b);return labelA!==labelB?labelA>labelB?1:-1:0}),this};exports.sort=sort},{"../get/label":684}],674:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _chain2=_interopRequireDefault(require("../parse/input/async/chain")),_index2=_interopRequireDefault(require("../Cite/index")),asyncCite=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(promise,options){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.t0=_index2["default"],_context.next=3,promise;case 3:return _context.t1=_context.sent,_context.t2=options,_context.abrupt("return",new _context.t0(_context.t1,_context.t2));case 6:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}(),async=function(data,options,callback){var promise=(0,_chain2["default"])(data);return"function"!=typeof options||callback||(callback=options),"function"==typeof callback?(promise.then(function(data){return callback(new _index2["default"](data,options))}),undefined):asyncCite(promise,options)};exports["default"]=async},{"../Cite/index":669,"../parse/input/async/chain":694}],675:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.type=exports.label=exports.text=exports.json=undefined;var _json2=_interopRequireDefault(require("./json")),_text2=_interopRequireDefault(require("./text")),_label2=_interopRequireDefault(require("./label")),_type2=_interopRequireDefault(require("./type"));exports.json=_json2["default"],exports.text=_text2["default"],exports.label=_label2["default"],exports.type=_type2["default"]},{"./json":676,"./label":677,"./text":678,"./type":679}],676:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _type2=_interopRequireDefault(require("./type")),_label2=_interopRequireDefault(require("./label")),_name2=_interopRequireDefault(require("../name")),_date2=_interopRequireDefault(require("../date")),getBibTeXJSON=function(src){var res={label:src.label||(0,_label2["default"])(src),type:(0,_type2["default"])(src.type)},props={};return src.hasOwnProperty("author")&&(props.author=src.author.map(_name2["default"]).join(" and ")),src.hasOwnProperty("event")&&(props.organization=src.event),src.hasOwnProperty("accessed")&&(props.note="[Online; accesed "+(0,_date2["default"])(src.accessed)+"]"),src.hasOwnProperty("DOI")&&(props.doi=src.DOI),src.hasOwnProperty("editor")&&(props.editor=src.editor.map(_name2["default"]).join(" and ")),src.hasOwnProperty("ISBN")&&(props.isbn=src.ISBN),src.hasOwnProperty("ISSN")&&(props.issn=src.ISSN),src.hasOwnProperty("container-title")&&(props.journal=src["container-title"]),src.hasOwnProperty("issue")&&(props.issue=src.issue.toString()),src.hasOwnProperty("page")&&(props.pages=src.page.replace("-","--")),src.hasOwnProperty("publisher-place")&&(props.address=src["publisher-place"]),src.hasOwnProperty("edition")&&(props.edition=src.edition.toString()),src.hasOwnProperty("publisher")&&(props.publisher=src.publisher),src.hasOwnProperty("title")&&(props.title=src.title),src.hasOwnProperty("url")&&(props.url=src.url),src.hasOwnProperty("volume")&&(props.volume=src.volume.toString()),src.hasOwnProperty("issued")&&Array.isArray(src.issued)&&3===src.issued[0]["date-parts"].length&&(props.year=src.issued[0]["date-parts"][0].toString()),res.properties=props,res};exports["default"]=getBibTeXJSON},{"../date":680,"../name":685,"./label":677,"./type":679}],677:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var getBibTeXLabel=function(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$author=_ref.author,author=_ref$author===undefined?[]:_ref$author,year=_ref.year,_ref$issued=_ref.issued,issued=_ref$issued===undefined?[]:_ref$issued,title=_ref.title,res="";return author.length>0&&(res+=author[0].family||author[0].literal),year?res+=year:issued.length>0&&issued[0]["date-parts"]&&(res+=issued[0]["date-parts"][0]),title&&(res+=title.match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),res};exports["default"]=getBibTeXLabel},{}],678:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _json2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("./json")),_dict=require("../dict"),varBibTeXSyntaxTokens={"|":"{\\textbar}","<":"{\\textless}",">":"{\\textgreater}","~":"{\\textasciitilde}","^":"{\\textasciicircum}","\\":"{\\textbackslash}","{":"\\{\\vphantom{\\}}","}":"\\vphantom{\\{}\\}"},getBibTeX=function(src,html){var dict=html?_dict.htmlDict:_dict.textDict,caseSensitive=["title"],entries=src.map(function(entry){var bib=(0,_json2["default"])(entry),properties=Object.keys(bib.properties).map(function(prop){var value=bib.properties[prop].replace(/[|<>~^\\{}]/g,function(match){return varBibTeXSyntaxTokens[match]}),delStart=value===parseInt(value).toString()?"":caseSensitive.includes(prop)?"{{":"{",delEnd=delStart.replace(/{/g,"}").split("").reverse().join("");return""+dict.li_start+prop+"="+delStart+value+delEnd+","+dict.li_end}).join("");return dict.en_start+"@"+bib.type+"{"+bib.label+","+dict.ul_start+properties+dict.ul_end+"}"+dict.en_end}).join("");return""+dict.wr_start+entries+dict.wr_end};exports["default"]=getBibTeX},{"../dict":681,"./json":676}],679:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var fetchBibTeXType=function(pubType){switch(pubType){case"article":case"article-journal":case"article-magazine":case"article-newspaper":return"article";case"book":return"book";case"chapter":return"incollection";case"manuscript":return"unpublished";case"paper-conference":return"inproceedings";case"patent":return"patent";case"report":return"techreport";case"thesis":return"phdthesis";case"graphic":case"interview":case"motion_picture":case"personal_communication":case"webpage":return"misc";default:return console.warn("CSL publication type not recognized: "+pubType+'}. Interpreting as "misc".'),"misc"}};exports["default"]=fetchBibTeXType},{}],680:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),getDate=function(_ref){var date=_slicedToArray(_ref,1)[0]["date-parts"];return 3===date.length?date[0].padStart(4,"0")+"-"+date[1].padStart(2,"0")+"-"+date[2].padStart(2,"0"):""};exports["default"]=getDate},{}],681:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"};exports.htmlDict=htmlDict,exports.textDict=textDict},{}],682:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.label=exports.name=exports.date=exports.json=exports.dict=exports.bibtex=undefined;var bibtex=_interopRequireWildcard(require("./bibtex/index")),dict=_interopRequireWildcard(require("./dict")),_json2=_interopRequireDefault(require("./json")),_date2=_interopRequireDefault(require("./date")),_name2=_interopRequireDefault(require("./name")),_label2=_interopRequireDefault(require("./label"));exports.bibtex=bibtex,exports.dict=dict,exports.json=_json2["default"],exports.date=_date2["default"],exports.name=_name2["default"],exports.label=_label2["default"]},{"./bibtex/index":675,"./date":680,"./dict":681,"./json":683,"./label":684,"./name":685}],683:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_dict=require("./dict"),getJSONObjectHTML=function(src){if(Array.isArray(src)){var entries=src.map(function(entry){return""+_dict.htmlDict.li_start+getJSONValueHTML(entry)+","+_dict.htmlDict.li_end});return"["+_dict.htmlDict.ul_start+entries+_dict.htmlDict.ul_end+"]"}var props=Object.keys(src).map(function(prop){return""+_dict.htmlDict.li_start+prop+": "+getJSONValueHTML(src[prop])+",{dict.li_end}"});return"{"+_dict.htmlDict.ul_start+props+_dict.htmlDict.ul_end+"}"},getJSONValueHTML=function(src){return"object"===(void 0===src?"undefined":_typeof(src))&&null!==src?0===src.length?"[]":0===Object.keys(src).length?"{}":getJSONObjectHTML(src):'<span class="string">'+JSON.stringify(src)+"}</span>"},getJSON=function(src){var entries=src.map(function(entry,index,array){var comma=index<array.length-1?",":"",props=Object.keys(entry).map(function(prop,index,array){var comma=index<array.length-1?",":"";return""+_dict.htmlDict.li_start+prop+": "+getJSONValueHTML(entry[prop])+comma+"{dict.li_end}"}).join("");return _dict.htmlDict.en_start+"{"+_dict.htmlDict.ul_start+props+_dict.htmlDict.ul_end+"}"+comma+_dict.htmlDict.en_end});return _dict.htmlDict.wr_start+"["+entries+"]"+_dict.htmlDict.wr_end};exports["default"]=getJSON},{"./dict":681}],684:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _label2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("./bibtex/label")),getLabel=function(src){return(0,_label2["default"])(src)};exports["default"]=getLabel},{"./bibtex/label":677}],685:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var getName=function(obj){var arr=["dropping-particle","given","suffix","non-dropping-particle","family"];return obj.literal||arr.map(function(entry){return obj[entry]||""}).filter(function(v){return!!v}).join(" ")};exports["default"]=getName},{}],686:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _date2=_interopRequireDefault(require("../date")),_name2=_interopRequireDefault(require("../name")),parseContentMine=function(data){var res={type:"article-journal"};return Object.keys(data).forEach(function(prop){res[prop]=data[prop].value[0]}),res.hasOwnProperty("authors")&&(res.author=data.authors.value.map(_name2["default"])),res.hasOwnProperty("firstpage")&&(res.page=res["page-first"]=res.firstpage),res.hasOwnProperty("date")&&(res.issued=(0,_date2["default"])(res.date)),res.hasOwnProperty("journal")&&(res["container-title"]=res.journal),res.hasOwnProperty("doi")&&(res.id=res.DOI=res.doi),res};exports["default"]=parseContentMine},{"../date":692,"../name":704}],687:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _prop2=_interopRequireDefault(require("./prop")),_type2=_interopRequireDefault(require("./type")),parseBibTeXJSON=function(data){return data.map(function(entry){var newEntry={};for(var prop in entry.properties){var oldValue=entry.properties[prop],newValue=(0,_prop2["default"])(prop,oldValue);newValue&&(newEntry[newValue[0]]=newValue[1])}return newEntry.type=(0,_type2["default"])(entry.type),newEntry.id=entry.label,newEntry})};exports["default"]=parseBibTeXJSON},{"./prop":688,"./type":691}],688:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _name2=_interopRequireDefault(require("../name")),_date2=_interopRequireDefault(require("../date")),parseBibTeXProp=function(prop,value){var rProp=prop,rValue=value;switch(prop){case"address":rProp="publisher-place";break;case"author":rValue=value.split(" and ").map(_name2["default"]);break;case"booktitle":rProp="container-title";break;case"doi":rProp="DOI";break;case"edition":break;case"editor":rValue=value.split(" and ").map(_name2["default"]);break;case"isbn":rProp="ISBN";break;case"issn":rProp="ISSN";break;case"issue":case"number":rProp="issue",rValue=value.toString();break;case"journal":rProp="container-title";break;case"location":rProp="publisher-place";break;case"pages":rProp="page",rValue=value.replace(/[—–]/,"-");break;case"date":rProp="issued",rValue=(0,_date2["default"])(value);break;case"year":case"month":case"publisher":break;case"series":rProp="collection-title";break;case"title":rProp="title",rValue=value.replace(/\.$/g,"");break;case"url":rProp="URL";break;case"volume":rValue=value.toString();break;case"crossref":case"keywords":case"language":case"note":case"pmid":case"numpages":rProp=rValue=undefined;break;default:console.info("[set]","Unknown property: "+prop),rProp=rValue=undefined}return rProp!==undefined&&rValue!==undefined?[rProp,rValue]:undefined};exports["default"]=parseBibTeXProp},{"../date":692,"../name":704}],689:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _regex2=_interopRequireDefault(require("../regex")),_tokens2=_interopRequireDefault(require("./tokens.json")),parseBibTeX=function(str){var entries=void 0;try{entries=[];for(var stack=str.replace(/{?(\\[`"'^~=]){?\\?([A-Za-z])}/g,"{$1$2}").replace(/{?(\\[a-z]){?\\?([A-Za-z])}/g,"{$1 $2}").split(new RegExp("(?!^)(\\\\([#$%&~_^\\\\{}])|\\{\\\\(?:[`'^~\"=][AEIOUYaeiouy]|(?:[cv] |['])[CcDdGgKkLlNnRrSs]|(?:[dkruv] )[Aa]|(?:[db] |\\.)[Bb]|[.^][Cc]|(?:[bd] |\\.)[Dd]|(?:[dkuv] |[.])[Ee]|\\.[Ff]|(?:u |[=.^'])[Gg]|(?:[cd] |[.^\"])[Hh]|b h|[dv] [Ii]|=\\\\i|\\.I|(?:v |\\^)[Jj]|(?:[bd] |')[Kk]|[bd] [Ll]|[Ll] |(?:d |[.'])[Mm]|(?:[bd] |[~.])[Nn]|[dHkuv] [Oo]|[.'][Pp]|(?:[bd] |[.])[Rr]|(?:d |[.^])[Ss]|(?:[bcdv] |[.])[Tt]|\" t|[dHkruv] [Uu]|(?:d |[~])[Vv]|(?:d |[`\".'^])[Ww]|r w|[.\"][Xx]|(?:d |[.])[Yy]|r y|(?:[bdv] |['.^])[Zz]|~|\\w+)\\}|\\$\\\\(?:[A-Z]?[a-z]+|\\#|%<)\\\\$|\\$[^_]\\{[0-9+-=()n]\\}\\$|---|--|'''|''|```|``|\\?!|!!|!\\?'|\\\\(?:url|href)|[\\s\\S])","g")).filter(function(v){return!!v}),whitespace=_regex2["default"].bibtex[1],syntax=_regex2["default"].bibtex[2],dels={'"':'"',"{":"}",'"{':'}"',"{{":"}}","":""},index=0,curs=stack[index];curs;){for(var obj=void 0;whitespace.test(curs);)curs=stack[++index];if(!curs)break;if(entries.push({type:"",label:"",properties:{}}),obj=entries[entries.length-1],"@"!==curs)throw new SyntaxError("Unexpected token at index "+index+'. Expected "@", got "'+curs+'".');for(curs=stack[++index];whitespace.test(curs);)curs=stack[++index];for(;!whitespace.test(curs)&&!syntax.test(curs)||curs.length>1;)obj.type+=curs,curs=stack[++index];for(obj.type=obj.type.toLowerCase();whitespace.test(curs);)curs=stack[++index];if("{"!==curs)throw new SyntaxError("Unexpected token at index "+index+'. Expected "{", got "'+curs+'".');for(curs=stack[++index];whitespace.test(curs);)curs=stack[++index];for(;!whitespace.test(curs)&&!syntax.test(curs)||curs.length>1;)obj.label+=curs,curs=stack[++index];for(;whitespace.test(curs);)curs=stack[++index];if(","!==curs)throw new SyntaxError("Unexpected token at index "+index+'. Expected ",", got "'+curs+'".');for(curs=stack[++index];whitespace.test(curs);)curs=stack[++index];for(var key,val,startDel,endDel,nexs;"}"!==curs;){for(key="",val="",startDel="";curs&&!whitespace.test(curs)&&"="!==curs;)key+=curs,curs=stack[++index];for(;whitespace.test(curs);)curs=stack[++index];if("="!==curs)throw new SyntaxError("Unexpected token at index "+index+'. Expected "=", got "'+curs+'".');for(curs=stack[++index];whitespace.test(curs);)curs=stack[++index];for(;syntax.test(curs);)startDel+=curs,curs=stack[++index];if(!dels.hasOwnProperty(startDel))throw new SyntaxError("Unexpected field delimiter at index "+index+". Expected "+Object.keys(dels).map(function(v){return'"'+v+'"'}).join(", ")+', got "'+startDel+'".');for(endDel=dels[startDel],nexs=stack.slice(index+1,index+(endDel.length?endDel.length:1)).reverse().join("");curs&&(""===endDel?","!==curs:curs+nexs!==endDel);)_tokens2["default"].hasOwnProperty(curs)?val+=_tokens2["default"][curs]:curs.match(/^\\([#$%&~_^\\{}])$/)?val+=curs.slice(1):curs.length>1?console.error("Escape sequence not recognized: "+curs):val+=curs,curs=stack[++index],nexs=stack.slice(index+1,index+(endDel.length?endDel.length:1)).reverse().join("");for(key=key.trim().replace(/\s+/g," ").toLowerCase(),val=val.replace(/[{}]/g,"").trim().replace(/\s+/g," "),obj.properties[key]=val,endDel=endDel.split("");endDel.pop();)curs=stack[++index];for(;whitespace.test(curs);)curs=stack[++index];if("}"===curs)break;if(","!==curs)throw new SyntaxError("Unexpected token at index "+index+'. Expected ",", "}", got "'+curs+'".');for(curs=stack[++index];whitespace.test(curs);)curs=stack[++index]}if("}"!==curs)throw new SyntaxError("Unexpected token at index "+index+'. Expected "}", got "'+curs+'".');curs=stack[++index]}return entries}catch(e){return console.error("Uncaught SyntaxError: "+e.message+" Returning completed entries."),entries.pop(),entries}};exports["default"]=parseBibTeX},{"../regex":705,"./tokens.json":690}],690:[function(require,module,exports){module.exports={"\\url":"","\\href":"","{\\textexclamdown}":"¡","{\\textcent}":"¢","{\\textsterling}":"£","{\\textyen}":"¥","{\\textbrokenbar}":"¦","{\\textsection}":"§","{\\textasciidieresis}":"¨","{\\textcopyright}":"©","{\\textordfeminine}":"ª","{\\guillemotleft}":"«","{\\textlnot}":"¬","{\\textregistered}":"®","{\\textasciimacron}":"¯","{\\textdegree}":"°","{\\textpm}":"±","{\\texttwosuperior}":"²","{\\textthreesuperior}":"³","{\\textasciiacute}":"´","{\\textmu}":"µ","{\\textparagraph}":"¶","{\\textperiodcentered}":"·","{\\c\\ }":"¸","{\\textonesuperior}":"¹","{\\textordmasculine}":"º","{\\guillemotright}":"»","{\\textonequarter}":"¼","{\\textonehalf}":"½","{\\textthreequarters}":"¾","{\\textquestiondown}":"¿","{\\AE}":"Æ","{\\DH}":"Ð","{\\texttimes}":"×","{\\O}":"Ø","{\\TH}":"Þ","{\\ss}":"ß","{\\ae}":"æ","{\\dh}":"ð","{\\textdiv}":"÷","{\\o}":"ø","{\\th}":"þ","{\\i}":"ı","{\\NG}":"Ŋ","{\\ng}":"ŋ","{\\OE}":"Œ","{\\oe}":"œ","{\\textasciicircum}":"ˆ","{\\textacutedbl}":"˝","$\\Gamma$":"Γ","$\\Delta$":"Δ","$\\Theta$":"Θ","$\\Lambda$":"Λ","$\\Xi$":"Ξ","$\\Pi$":"Π","$\\Sigma$":"Σ","$\\Phi$":"Φ","$\\Psi$":"Ψ","$\\Omega$":"Ω","$\\alpha$":"α","$\\beta$":"β","$\\gamma$":"γ","$\\delta$":"δ","$\\varepsilon$":"ε","$\\zeta$":"ζ","$\\eta$":"η","$\\theta$":"θ","$\\iota$":"ι","$\\kappa$":"κ","$\\lambda$":"λ","$\\mu$":"μ","$\\nu$":"ν","$\\xi$":"ξ","$\\pi$":"π","$\\rho$":"ρ","$\\varsigma$":"ς","$\\sigma$":"σ","$\\tau$":"τ","$\\upsilon$":"υ","$\\varphi$":"φ","$\\chi$":"χ","$\\psi$":"ψ","$\\omega$":"ω","$\\vartheta$":"ϑ","$\\Upsilon$":"ϒ","$\\phi$":"ϕ","$\\varpi$":"ϖ","$\\varrho$":"ϱ","$\\epsilon$":"ϵ","{\\textendash}":"–","{\\textemdash}":"—","---":"—","--":"–","{\\textbardbl}":"‖","{\\textunderscore}":"‗","{\\textquoteleft}":"‘","{\\textquoteright}":"’","{\\quotesinglbase}":"‚","{\\textquotedblleft}":"“","{\\textquotedblright}":"”","{\\quotedblbase}":"„","{\\textdagger}":"†","{\\textdaggerdbl}":"‡","{\\textbullet}":"•","{\\textellipsis}":"…","{\\textperthousand}":"‰","'''":"‴","''":"”","``":"“","```":"‷","{\\guilsinglleft}":"‹","{\\guilsinglright}":"›","!!":"‼","{\\textfractionsolidus}":"⁄","?!":"⁈","!?":"⁉","$^{0}$":"⁰","$^{4}$":"⁴","$^{5}$":"⁵","$^{6}$":"⁶","$^{7}$":"⁷","$^{8}$":"⁸","$^{9}$":"⁹","$^{+}$":"⁺","$^{-}$":"⁻","$^{=}$":"⁼","$^{(}$":"⁽","$^{)}$":"⁾","$^{n}$":"ⁿ","$_{0}$":"₀","$_{1}$":"₁","$_{2}$":"₂","$_{3}$":"₃","$_{4}$":"₄","$_{5}$":"₅","$_{6}$":"₆","$_{7}$":"₇","$_{8}$":"₈","$_{9}$":"₉","$_{+}$":"₊","$_{-}$":"₋","$_{=}$":"₌","$_{(}$":"₍","$_{)}$":"₎","{\\texteuro}":"€","{\\textcelsius}":"℃","{\\textnumero}":"№","{\\textcircledP}":"℗","{\\textservicemark}":"℠","{TEL}":"℡","{\\texttrademark}":"™","{\\textohm}":"Ω","{\\textestimated}":"℮","{\\`A}":"À","{\\'A}":"Á","{\\^A}":"Â","{\\~A}":"Ã",'{\\"A}':"Ä","{\\r A}":"Å","{\\c C}":"Ç","{\\`E}":"È","{\\'E}":"É","{\\^E}":"Ê",'{\\"E}':"Ë","{\\`I}":"Ì","{\\'I}":"Í","{\\^I}":"Î",'{\\"I}':"Ï","{\\~N}":"Ñ","{\\`O}":"Ò","{\\'O}":"Ó","{\\^O}":"Ô","{\\~O}":"Õ",'{\\"O}':"Ö","{\\`U}":"Ù","{\\'U}":"Ú","{\\^U}":"Û",'{\\"U}':"Ü","{\\'Y}":"Ý","{\\`a}":"à","{\\'a}":"á","{\\^a}":"â","{\\~a}":"ã",'{\\"a}':"ä","{\\r a}":"å","{\\c c}":"ç","{\\`e}":"è","{\\'e}":"é","{\\^e}":"ê",'{\\"e}':"ë","{\\`i}":"ì","{\\'i}":"í","{\\^i}":"î",'{\\"i}':"ï","{\\~n}":"ñ","{\\`o}":"ò","{\\'o}":"ó","{\\^o}":"ô","{\\~o}":"õ",'{\\"o}':"ö","{\\`u}":"ù","{\\'u}":"ú","{\\^u}":"û",'{\\"u}':"ü","{\\'y}":"ý",'{\\"y}':"ÿ","{\\=A}":"Ā","{\\=a}":"ā","{\\u A}":"Ă","{\\u a}":"ă","{\\k A}":"Ą","{\\k a}":"ą","{\\'C}":"Ć","{\\'c}":"ć","{\\^C}":"Ĉ","{\\^c}":"ĉ","{\\.C}":"Ċ","{\\.c}":"ċ","{\\v C}":"Č","{\\v c}":"č","{\\v D}":"Ď","{\\v d}":"ď","{\\=E}":"Ē","{\\=e}":"ē","{\\u E}":"Ĕ","{\\u e}":"ĕ","{\\.E}":"Ė","{\\.e}":"ė","{\\k E}":"Ę","{\\k e}":"ę","{\\v E}":"Ě","{\\v e}":"ě","{\\^G}":"Ĝ","{\\^g}":"ĝ","{\\u G}":"Ğ","{\\u g}":"ğ","{\\.G}":"Ġ","{\\.g}":"ġ","{\\c G}":"Ģ","{\\c g}":"ģ","{\\^H}":"Ĥ","{\\^h}":"ĥ","{\\~I}":"Ĩ","{\\~i}":"ĩ","{\\=I}":"Ī","{\\=i}":"ī","{\\=\\i}":"ī","{\\u I}":"Ĭ","{\\u i}":"ĭ","{\\k I}":"Į","{\\k i}":"į","{\\.I}":"İ","{\\^J}":"Ĵ","{\\^j}":"ĵ","{\\c K}":"Ķ","{\\c k}":"ķ","{\\'L}":"Ĺ","{\\'l}":"ĺ","{\\c L}":"Ļ","{\\c l}":"ļ","{\\v L}":"Ľ","{\\v l}":"ľ","{\\L }":"Ł","{\\l }":"ł","{\\'N}":"Ń","{\\'n}":"ń","{\\c N}":"Ņ","{\\c n}":"ņ","{\\v N}":"Ň","{\\v n}":"ň","{\\=O}":"Ō","{\\=o}":"ō","{\\u O}":"Ŏ","{\\u o}":"ŏ","{\\H O}":"Ő","{\\H o}":"ő","{\\'R}":"Ŕ","{\\'r}":"ŕ","{\\c R}":"Ŗ","{\\c r}":"ŗ","{\\v R}":"Ř","{\\v r}":"ř","{\\'S}":"Ś","{\\'s}":"ś","{\\^S}":"Ŝ","{\\^s}":"ŝ","{\\c S}":"Ş","{\\c s}":"ş","{\\v S}":"Š","{\\v s}":"š","{\\c T}":"Ţ","{\\c t}":"ţ","{\\v T}":"Ť","{\\v t}":"ť","{\\~U}":"Ũ","{\\~u}":"ũ","{\\=U}":"Ū","{\\=u}":"ū","{\\u U}":"Ŭ","{\\u u}":"ŭ","{\\r U}":"Ů","{\\r u}":"ů","{\\H U}":"Ű","{\\H u}":"ű","{\\k U}":"Ų","{\\k u}":"ų","{\\^W}":"Ŵ","{\\^w}":"ŵ","{\\^Y}":"Ŷ","{\\^y}":"ŷ",'{\\"Y}':"Ÿ","{\\'Z}":"Ź","{\\'z}":"ź","{\\.Z}":"Ż","{\\.z}":"ż","{\\v Z}":"Ž","{\\v z}":"ž","{\\v A}":"Ǎ","{\\v a}":"ǎ","{\\v I}":"Ǐ","{\\v i}":"ǐ","{\\v O}":"Ǒ","{\\v o}":"ǒ","{\\v U}":"Ǔ","{\\v u}":"ǔ","{\\v G}":"Ǧ","{\\v g}":"ǧ","{\\v K}":"Ǩ","{\\v k}":"ǩ","{\\k O}":"Ǫ","{\\k o}":"ǫ","{\\v j}":"ǰ","{\\'G}":"Ǵ","{\\'g}":"ǵ","{\\.B}":"Ḃ","{\\.b}":"ḃ","{\\d B}":"Ḅ","{\\d b}":"ḅ","{\\b B}":"Ḇ","{\\b b}":"ḇ","{\\.D}":"Ḋ","{\\.d}":"ḋ","{\\d D}":"Ḍ","{\\d d}":"ḍ","{\\b D}":"Ḏ","{\\b d}":"ḏ","{\\c D}":"Ḑ","{\\c d}":"ḑ","{\\.F}":"Ḟ","{\\.f}":"ḟ","{\\=G}":"Ḡ","{\\=g}":"ḡ","{\\.H}":"Ḣ","{\\.h}":"ḣ","{\\d H}":"Ḥ","{\\d h}":"ḥ",'{\\"H}':"Ḧ",'{\\"h}':"ḧ","{\\c H}":"Ḩ","{\\c h}":"ḩ","{\\'K}":"Ḱ","{\\'k}":"ḱ","{\\d K}":"Ḳ","{\\d k}":"ḳ","{\\b K}":"Ḵ","{\\b k}":"ḵ","{\\d L}":"Ḷ","{\\d l}":"ḷ","{\\b L}":"Ḻ","{\\b l}":"ḻ","{\\'M}":"Ḿ","{\\'m}":"ḿ","{\\.M}":"Ṁ","{\\.m}":"ṁ","{\\d M}":"Ṃ","{\\d m}":"ṃ","{\\.N}":"Ṅ","{\\.n}":"ṅ","{\\d N}":"Ṇ","{\\d n}":"ṇ","{\\b N}":"Ṉ","{\\b n}":"ṉ","{\\'P}":"Ṕ","{\\'p}":"ṕ","{\\.P}":"Ṗ","{\\.p}":"ṗ","{\\.R}":"Ṙ","{\\.r}":"ṙ","{\\d R}":"Ṛ","{\\d r}":"ṛ","{\\b R}":"Ṟ","{\\b r}":"ṟ","{\\.S}":"Ṡ","{\\.s}":"ṡ","{\\d S}":"Ṣ","{\\d s}":"ṣ","{\\.T}":"Ṫ","{\\.t}":"ṫ","{\\d T}":"Ṭ","{\\d t}":"ṭ","{\\b T}":"Ṯ","{\\b t}":"ṯ","{\\~V}":"Ṽ","{\\~v}":"ṽ","{\\d V}":"Ṿ","{\\d v}":"ṿ","{\\`W}":"Ẁ","{\\`w}":"ẁ","{\\'W}":"Ẃ","{\\'w}":"ẃ",'{\\"W}':"Ẅ",'{\\"w}':"ẅ","{\\.W}":"Ẇ","{\\.w}":"ẇ","{\\d W}":"Ẉ","{\\d w}":"ẉ","{\\.X}":"Ẋ","{\\.x}":"ẋ",'{\\"X}':"Ẍ",'{\\"x}':"ẍ","{\\.Y}":"Ẏ","{\\.y}":"ẏ","{\\^Z}":"Ẑ","{\\^z}":"ẑ","{\\d Z}":"Ẓ","{\\d z}":"ẓ","{\\b Z}":"Ẕ","{\\b z}":"ẕ","{\\b h}":"ẖ",'{\\"t}':"ẗ","{\\r w}":"ẘ","{\\r y}":"ẙ","{\\d A}":"Ạ","{\\d a}":"ạ","{\\d E}":"Ẹ","{\\d e}":"ẹ","{\\~E}":"Ẽ","{\\~e}":"ẽ","{\\d I}":"Ị","{\\d i}":"ị","{\\d O}":"Ọ","{\\d o}":"ọ","{\\d U}":"Ụ","{\\d u}":"ụ","{\\`Y}":"Ỳ","{\\`y}":"ỳ","{\\d Y}":"Ỵ","{\\d y}":"ỵ","{\\~Y}":"Ỹ","{\\~y}":"ỹ","{\\~}":"∼","~":" "}},{}],691:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var parseBibTeXType=function(pubType){switch(pubType){case"article":return"article-journal";case"book":case"booklet":case"manual":case"misc":case"proceedings":return"book";case"inbook":case"incollection":return"chapter";case"conference":case"inproceedings":return"paper-conference";case"online":return"webpage";case"patent":return"patent";case"phdthesis":case"mastersthesis":return"thesis";case"techreport":return"report";case"unpublished":return"manuscript";default:return console.warn("[set]","BibTeX publication type not recognized: "+pubType+'. Interpreting as "book".'),"book"}};exports["default"]=parseBibTeXType},{}],692:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var parseDate=function(value){var date=new Date(value);return[{"date-parts":[date.getFullYear(),date.getMonth()+1,date.getDate()]}]};exports["default"]=parseDate},{}],693:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.json=exports.name=exports.date=exports.bibjson=exports.wikidata=exports.input=undefined;var input=_interopRequireWildcard(require("./input/index")),wikidata=_interopRequireWildcard(require("./wikidata/index")),_index4=_interopRequireDefault(require("./bibjson/index")),_date2=_interopRequireDefault(require("./date")),_name2=_interopRequireDefault(require("./name")),_json2=_interopRequireDefault(require("./json"));exports.input=input,exports.wikidata=wikidata,exports.bibjson=_index4["default"],exports.date=_date2["default"],exports.name=_name2["default"],exports.json=_json2["default"]},{"./bibjson/index":686,"./date":692,"./input/index":701,"./json":703,"./name":704,"./wikidata/index":709}],694:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _deepCopy2=_interopRequireDefault(require("../../../util/deepCopy")),_data2=_interopRequireDefault(require("../async/data")),_type2=_interopRequireDefault(require("../type")),parseInputAsync=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(input){var output,type;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:output=input,(type=(0,_type2["default"])(output)).match(/^(array|object)\//)&&(output=(0,_deepCopy2["default"])(output));case 3:if("array/csl"===type){_context.next=10;break}return _context.next=6,(0,_data2["default"])(output,type);case 6:output=_context.sent,type=(0,_type2["default"])(output),_context.next=3;break;case 10:return _context.abrupt("return",output);case 11:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _ref.apply(this,arguments)}}();exports["default"]=parseInputAsync},{"../../../util/deepCopy":715,"../async/data":696,"../type":702}],695:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _deepCopy2=_interopRequireDefault(require("../../../util/deepCopy")),_data2=_interopRequireDefault(require("../async/data")),_type2=_interopRequireDefault(require("../type")),parseInputChainLinkAsync=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(input){var output,type;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return output=input,(type=(0,_type2["default"])(input)).match(/^(array|object)\//)&&(output=(0,_deepCopy2["default"])(output)),_context.abrupt("return",(0,_data2["default"])(output,type));case 4:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _ref.apply(this,arguments)}}();exports["default"]=parseInputChainLinkAsync},{"../../../util/deepCopy":715,"../async/data":696,"../type":702}],696:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _chain2=_interopRequireDefault(require("../async/chain")),_data2=_interopRequireDefault(require("../data")),_fetchFileAsync2=_interopRequireDefault(require("../../../util/fetchFileAsync")),_json2=_interopRequireDefault(require("../../wikidata/async/json")),parseInputDataAsync=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(input,type){var output;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:_context.t0=type,_context.next="api/wikidata"===_context.t0?3:"object/wikidata"===_context.t0?4:"url/else"===_context.t0?5:"array/else"===_context.t0?6:11;break;case 3:return _context.abrupt("return",(0,_fetchFileAsync2["default"])(input));case 4:return _context.abrupt("return",(0,_json2["default"])(input));case 5:return _context.abrupt("return",(0,_fetchFileAsync2["default"])(input));case 6:return _context.next=8,Promise.all(input.map(function(value){return(0,_chain2["default"])(value)}));case 8:return _context.t1=function(a,b){return[].concat(a,b)},output=_context.sent.reduce(_context.t1),_context.abrupt("return",output);case 11:return _context.abrupt("return",(0,_data2["default"])(input,type));case 12:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}();exports["default"]=parseInputDataAsync},{"../../../util/fetchFileAsync":717,"../../wikidata/async/json":707,"../async/chain":694,"../data":700}],697:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.chainLink=exports.chain=exports.data=undefined;var _data2=_interopRequireDefault(require("./data")),_chain2=_interopRequireDefault(require("./chain")),_chainLink2=_interopRequireDefault(require("./chainLink"));exports.data=_data2["default"],exports.chain=_chain2["default"],exports.chainLink=_chainLink2["default"]},{"./chain":694,"./chainLink":695,"./data":696}],698:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _deepCopy2=_interopRequireDefault(require("../../util/deepCopy")),_type2=_interopRequireDefault(require("./type")),_data2=_interopRequireDefault(require("./data")),parseInput=function(input){var output=input,type=(0,_type2["default"])(output);for(type.match(/^(array|object)\//)&&(output=(0,_deepCopy2["default"])(output));"array/csl"!==type;)output=(0,_data2["default"])(output,type),type=(0,_type2["default"])(output);return output};exports["default"]=parseInput},{"../../util/deepCopy":715,"./data":700,"./type":702}],699:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _deepCopy2=_interopRequireDefault(require("../../util/deepCopy")),_type2=_interopRequireDefault(require("./type")),_data2=_interopRequireDefault(require("./data")),parseInputChainLink=function(input){var output=input,type=(0,_type2["default"])(input);return type.match(/^(array|object)\//)&&(output=(0,_deepCopy2["default"])(output)),(0,_data2["default"])(output,type)};exports["default"]=parseInputChainLink},{"../../util/deepCopy":715,"./data":700,"./type":702}],700:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _regex2=_interopRequireDefault(require("../regex")),_fetchFile2=_interopRequireDefault(require("../../util/fetchFile")),_chain2=_interopRequireDefault(require("./chain")),_list2=_interopRequireDefault(require("../wikidata/list")),_json2=_interopRequireDefault(require("../wikidata/json")),_index2=_interopRequireDefault(require("../bibjson/index")),_text2=_interopRequireDefault(require("../bibtex/text")),_json4=_interopRequireDefault(require("../bibtex/json")),_json6=_interopRequireDefault(require("../json")),parseInputData=function(input,type){switch(type){case"string/wikidata":return(0,_list2["default"])(input.match(_regex2["default"].wikidata[0])[1]);case"list/wikidata":return(0,_list2["default"])(input.match(_regex2["default"].wikidata[1])[1]);case"api/wikidata":return(0,_fetchFile2["default"])(input);case"url/wikidata":return(0,_list2["default"])(input.match(_regex2["default"].wikidata[3])[1]);case"array/wikidata":return(0,_list2["default"])(input.join(","));case"url/else":return(0,_fetchFile2["default"])(input);case"jquery/else":return input.val()||input.text()||input.html();case"html/else":return input.value||input.textContent;case"string/json":return(0,_json6["default"])(input);case"string/bibtex":return(0,_json4["default"])((0,_text2["default"])(input));case"object/wikidata":return(0,_json2["default"])(input);case"object/contentmine":return(0,_index2["default"])(input);case"array/else":var output=[];return input.forEach(function(value){output=output.concat((0,_chain2["default"])(value))}),output;case"object/csl":return[input];case"array/csl":return input;case"string/empty":case"string/whitespace":case"empty":case"invalid":default:return[]}};exports["default"]=parseInputData},{"../../util/fetchFile":716,"../bibjson/index":686,"../bibtex/json":687,"../bibtex/text":689,"../json":703,"../regex":705,"../wikidata/json":710,"../wikidata/list":711,"./chain":698}],701:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.async=exports.chainLink=exports.chain=exports.data=exports.type=undefined;var _type2=_interopRequireDefault(require("./type")),_data2=_interopRequireDefault(require("./data")),_chain2=_interopRequireDefault(require("./chain")),_chainLink2=_interopRequireDefault(require("./chainLink")),async=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}(require("./async/index"));exports.type=_type2["default"],exports.data=_data2["default"],exports.chain=_chain2["default"],exports.chainLink=_chainLink2["default"],exports.async=async},{"./async/index":697,"./chain":698,"./chainLink":699,"./data":700,"./type":702}],702:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_regex2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("../regex")),parseInputType=function parseInputType(input){switch(void 0===input?"undefined":_typeof(input)){case"string":return 0===input.length?"string/empty":/^\s+$/.test(input)?"string/whitespace":_regex2["default"].wikidata[0].test(input)?"string/wikidata":_regex2["default"].wikidata[1].test(input)?"list/wikidata":_regex2["default"].wikidata[2].test(input)?"api/wikidata":_regex2["default"].wikidata[3].test(input)?"url/wikidata":_regex2["default"].bibtex[0].test(input)?"string/bibtex":/^\s*(\{|\[)/.test(input)?"string/json":_regex2["default"].url.test(input)?"url/} else":(console.warn("[set]","This format is not supported or recognised"),"invalid");case"object":return null===input?"empty":"undefined"!=typeof jQuery&&input instanceof jQuery?"jquery/else":"undefined"!=typeof HTMLElement&&input instanceof HTMLElement?"html/else":Array.isArray(input)?0===input.length?"array/csl":input.filter(function(v){return"string/wikidata"===parseInputType(v)}).length===input.length?"array/wikidata":input.filter(function(v){return"object/csl"===parseInputType(v)}).length===input.length?"array/csl":"array/else":input.hasOwnProperty("entities")?"object/wikidata":input.fulltext_html&&Array.isArray(input.fulltext_html.value)||input.fulltext_xml&&Array.isArray(input.fulltext_xml.value)||input.fulltext_pdf&&Array.isArray(input.fulltext_pdf.value)?"object/contentmine":"object/csl";case"undefined":return"empty";default:return console.warn("[set]","This format is not supported or recognised"),"invalid"}};exports["default"]=parseInputType},{"../regex":705}],703:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_regex2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("./regex")),parseJSON=function(str){try{return JSON.parse(str)}catch(e){console.info("[set]","Input was not valid JSON, switching to experimental parser for invalid JSON");try{return _regex2["default"].json.forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),regex=_ref2[0],subst=_ref2[1];str=str.replace(regex,subst)}),JSON.parse(str)}catch(e){return console.error("[set]","Experimental parser failed. Please improve the JSON. If this is not JSON, please re-read the supported formats."),undefined}}};exports["default"]=parseJSON},{"./regex":705}],704:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_regex2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("./regex")),parseName=function(name){var _ref=name.includes(", ")?name.split(", ").reverse():name.split(_regex2["default"].name),_ref2=_slicedToArray(_ref,2);return{given:_ref2[0],family:_ref2[1]}};exports["default"]=parseName},{"./regex":705}],705:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var regex={url:/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3})|localhost)(:\d+)?(\/[-a-z\d%_.~+:]*)*(\?[;&a-z\d%_.~+=-]*)?(#[-a-z\d_]*)?$/i,bibtex:[/^(?:\s*@\s*[^@]+?\s*\{\s*[^@]+?\s*,\s*[^@]+\})+\s*$/,/^\s$/,/^[@{}"=,\\]$/],wikidata:[/^\s*(Q\d+)\s*$/,/^\s*((?:Q\d+(?:\s+|,|))*Q\d+)\s*$/,/^(https?:\/\/(?:www\.)wikidata.org\/w\/api\.php(?:\?.*)?)$/,/\/(Q\d+)(?:[#?\/]|\s*$)/],json:[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmi]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']],name:/ (?=(?:[a-z]+ )*(?:[A-Z][a-z]*[-])*(?:[A-Z][a-z]*)$)/};exports["default"]=regex},{}],706:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.prop=exports.json=undefined;var _json2=_interopRequireDefault(require("./json")),_prop2=_interopRequireDefault(require("./prop"));exports.json=_json2["default"],exports.prop=_prop2["default"]},{"./json":707,"./prop":708}],707:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_wikidataSdk2=_interopRequireDefault(require("wikidata-sdk")),_prop2=_interopRequireDefault(require("./prop")),parseWikidataJSONAsync=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(data){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",Promise.all(Object.keys(data.entities).map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(entityKey){var _data$entities$entity,labels,claims,entity,json,props;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _data$entities$entity=data.entities[entityKey],labels=_data$entities$entity.labels,claims=_data$entities$entity.claims,entity=_wikidataSdk2["default"].simplifyClaims(claims,null,null,!0),json={wikiId:entityKey,id:entityKey},_context.next=5,Promise.all(Object.keys(entity).map(function(prop){return(0,_prop2["default"])(prop,entity[prop],"en")}));case 5:return(props=_context.sent).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),resProp=_ref4[0],resValue=_ref4[1];resProp.length>0&&(json[resProp]=resValue)}),(json.hasOwnProperty("authorQ")||json.hasOwnProperty("authorS"))&&(json.hasOwnProperty("authorQ")&&json.hasOwnProperty("authorS")?(json.author=json.authorQ.concat(json.authorS),delete json.authorQ,delete json.authorS):json.hasOwnProperty("authorQ")?(json.author=json.authorQ,delete json.authorQ):json.hasOwnProperty("authorS")&&(json.author=json.authorS,delete json.authorS),json.author=json.author.sort(function(a,b){return a[1]-b[1]}).map(function(v){return v[0]})),json.title||(json.title=labels.en.value),_context.abrupt("return",json);case 10:case"end":return _context.stop()}},_callee,this)}));return function(_x2){return _ref2.apply(this,arguments)}}())));case 1:case"end":return _context2.stop()}},_callee2,this)}));return function(_x){return _ref.apply(this,arguments)}}();exports["default"]=parseWikidataJSONAsync},{"./prop":708,"wikidata-sdk":650}],708:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wikidataSdk2=_interopRequireDefault(require("wikidata-sdk")),_fetchFileAsync2=_interopRequireDefault(require("../../../util/fetchFileAsync")),_type2=_interopRequireDefault(require("../type")),_date2=_interopRequireDefault(require("../../date")),_name2=_interopRequireDefault(require("../../name")),fetchWikidataLabelAsync=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(q,lang){var ids,url,entities;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return ids=Array.isArray(q)?q:"string"==typeof q?q.split("|"):"",url=_wikidataSdk2["default"].getEntities(ids,[lang],"labels"),_context.t1=JSON,_context.next=5,(0,_fetchFileAsync2["default"])(url);case 5:if(_context.t2=_context.sent,_context.t0=_context.t1.parse.call(_context.t1,_context.t2).entities,_context.t0){_context.next=9;break}_context.t0={};case 9:return entities=_context.t0,_context.abrupt("return",Object.keys(entities).map(function(entityKey){return(entities[entityKey].labels[lang]||{}).value}));case 11:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}(),parseWikidataP1545=function(qualifiers){return qualifiers.P1545?parseInt(qualifiers.P1545[0]):-1},parseWikidataPropAsync=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(prop,value,lang){var rProp,rValue;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.t0=prop,_context3.next="P50"===_context3.t0?3:"P2093"===_context3.t0?3:5;break;case 3:return value=value.slice(),_context3.abrupt("break",7);case 5:return value=value[0].value,_context3.abrupt("break",7);case 7:rProp="",rValue=value,_context3.t1=prop,_context3.next="P50"===_context3.t1?12:"P2093"===_context3.t1?17:"P580"===_context3.t1?20:"P585"===_context3.t1?20:"P356"===_context3.t1?23:"P31"===_context3.t1?25:"P212"===_context3.t1?29:"P957"===_context3.t1?29:"P433"===_context3.t1?31:"P1433"===_context3.t1?33:"P304"===_context3.t1?38:"P393"===_context3.t1?40:"P577"===_context3.t1?42:"P1476"===_context3.t1?45:"P953"===_context3.t1?47:"P478"===_context3.t1?49:"P2860"===_context3.t1?51:"P921"===_context3.t1?51:"P3181"===_context3.t1?51:"P364"===_context3.t1?51:"P698"===_context3.t1?51:"P932"===_context3.t1?51:"P1104"===_context3.t1?51:52;break;case 12:return rProp="authorQ",_context3.next=15,Promise.all(value.map(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3){var value=_ref3.value,qualifiers=_ref3.qualifiers;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.t0=_name2["default"],_context2.next=3,fetchWikidataLabelAsync(value,lang)[0];case 3:return _context2.t1=_context2.sent,_context2.t2=(0,_context2.t0)(_context2.t1),_context2.t3=parseWikidataP1545(qualifiers),_context2.abrupt("return",[_context2.t2,_context2.t3]);case 7:case"end":return _context2.stop()}},_callee2,this)}));return function(_x6){return _ref4.apply(this,arguments)}}()));case 15:return rValue=_context3.sent,_context3.abrupt("break",54);case 17:return rProp="authorS",rValue=value.map(function(_ref5){var value=_ref5.value,qualifiers=_ref5.qualifiers;return[(0,_name2["default"])(value),parseWikidataP1545(qualifiers)]}),_context3.abrupt("break",54);case 20:return rProp="accessed",rValue=(0,_date2["default"])(value),_context3.abrupt("break",54);case 23:return rProp="DOI",_context3.abrupt("break",54);case 25:return rProp="type",(rValue=(0,_type2["default"])(value))===undefined&&(console.warn("[set]","This entry type is not recognized and therefore interpreted as 'article-journal': "+value),rValue="article-journal"),_context3.abrupt("break",54);case 29:return rProp="ISBN",_context3.abrupt("break",54);case 31:return rProp="issue",_context3.abrupt("break",54);case 33:return rProp="container-title",_context3.next=36,fetchWikidataLabelAsync(value,lang)[0];case 36:return rValue=_context3.sent,_context3.abrupt("break",54);case 38:return rProp="page",_context3.abrupt("break",54);case 40:return rProp="edition",_context3.abrupt("break",54);case 42:return rProp="issued",rValue=(0,_date2["default"])(value),_context3.abrupt("break",54);case 45:return rProp="title",_context3.abrupt("break",54);case 47:return rProp="URL",_context3.abrupt("break",54);case 49:return rProp="volume",_context3.abrupt("break",54);case 51:return _context3.abrupt("break",54);case 52:return console.info("[set]","Unknown property: "+prop),_context3.abrupt("break",54);case 54:return _context3.abrupt("return",[rProp,rValue]);case 55:case"end":return _context3.stop()}},_callee3,this)}));return function(_x3,_x4,_x5){return _ref2.apply(this,arguments)}}();exports["default"]=parseWikidataPropAsync},{"../../../util/fetchFileAsync":717,"../../date":692,"../../name":704,"../type":713,"wikidata-sdk":650}],709:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.async=exports.type=exports.prop=exports.json=exports.list=undefined;var async=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}(require("./async/index")),_list2=_interopRequireDefault(require("./list")),_json2=_interopRequireDefault(require("./json")),_prop2=_interopRequireDefault(require("./prop")),_type2=_interopRequireDefault(require("./type"));exports.list=_list2["default"],exports.json=_json2["default"],exports.prop=_prop2["default"],exports.type=_type2["default"],exports.async=async},{"./async/index":706,"./json":710,"./list":711,"./prop":712,"./type":713}],710:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_wikidataSdk2=_interopRequireDefault(require("wikidata-sdk")),_prop2=_interopRequireDefault(require("./prop")),parseWikidataJSON=function(data){return Object.keys(data.entities).map(function(entityKey){var _data$entities$entity=data.entities[entityKey],labels=_data$entities$entity.labels,claims=_data$entities$entity.claims,entity=_wikidataSdk2["default"].simplifyClaims(claims,null,null,!0),json={wikiId:entityKey,id:entityKey};return Object.keys(entity).forEach(function(prop){var value=entity[prop],_parseWikidataProp=(0,_prop2["default"])(prop,value,"en"),_parseWikidataProp2=_slicedToArray(_parseWikidataProp,2),resProp=_parseWikidataProp2[0],resValue=_parseWikidataProp2[1];resProp.length>0&&(json[resProp]=resValue)}),(json.hasOwnProperty("authorQ")||json.hasOwnProperty("authorS"))&&(json.hasOwnProperty("authorQ")&&json.hasOwnProperty("authorS")?(json.author=json.authorQ.concat(json.authorS),delete json.authorQ,delete json.authorS):json.hasOwnProperty("authorQ")?(json.author=json.authorQ,delete json.authorQ):json.hasOwnProperty("authorS")&&(json.author=json.authorS,delete json.authorS),json.author=json.author.sort(function(a,b){return a[1]-b[1]}).map(function(v){return v[0]})),json.title||(json.title=labels.en.value),json})};exports["default"]=parseWikidataJSON},{"./prop":712,"wikidata-sdk":650}],711:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _wikidataSdk2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("wikidata-sdk")),parseWikidata=function(data){return[].concat(_wikidataSdk2["default"].getEntities(data.split(/(?:\s+|,\s*)/g),["en"]))};exports["default"]=parseWikidata},{"wikidata-sdk":650}],712:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _wikidataSdk2=_interopRequireDefault(require("wikidata-sdk")),_fetchFile2=_interopRequireDefault(require("../../util/fetchFile")),_type2=_interopRequireDefault(require("./type")),_date2=_interopRequireDefault(require("../date")),_name2=_interopRequireDefault(require("../name")),fetchWikidataLabel=function(q,lang){var ids=Array.isArray(q)?q:"string"==typeof q?q.split("|"):"",url=_wikidataSdk2["default"].getEntities(ids,[lang],"labels"),entities=JSON.parse((0,_fetchFile2["default"])(url)).entities||{};return Object.keys(entities).map(function(entityKey){return(entities[entityKey].labels[lang]||{}).value})},parseWikidataP1545=function(qualifiers){return qualifiers.P1545?parseInt(qualifiers.P1545[0]):-1},parseWikidataProp=function(prop,value,lang){switch(prop){case"P50":case"P2093":value=value.slice();break;default:value=value[0].value}var rProp="",rValue=value;switch(prop){case"P50":rProp="authorQ",rValue=value.map(function(_ref){var value=_ref.value,qualifiers=_ref.qualifiers;return[(0,_name2["default"])(fetchWikidataLabel(value,lang)[0]),parseWikidataP1545(qualifiers)]});break;case"P2093":rProp="authorS",rValue=value.map(function(_ref2){var value=_ref2.value,qualifiers=_ref2.qualifiers;return[(0,_name2["default"])(value),parseWikidataP1545(qualifiers)]});break;case"P580":case"P585":rProp="accessed",rValue=(0,_date2["default"])(value);break;case"P356":rProp="DOI";break;case"P31":rProp="type",(rValue=(0,_type2["default"])(value))===undefined&&(console.warn("[set]","This entry type is not recognized and therefore interpreted as 'article-journal': "+value),rValue="article-journal");break;case"P212":case"P957":rProp="ISBN";break;case"P433":rProp="issue";break;case"P1433":rProp="container-title",rValue=fetchWikidataLabel(value,lang)[0];break;case"P304":rProp="page";break;case"P393":rProp="edition";break;case"P577":rProp="issued",rValue=(0,_date2["default"])(value);break;case"P1476":rProp="title";break;case"P953":rProp="URL";break;case"P478":rProp="volume";break;case"P2860":case"P921":case"P3181":case"P364":case"P698":case"P932":case"P1104":break;default:console.info("[set]","Unknown property: "+prop)}return[rProp,rValue]};exports["default"]=parseWikidataProp},{"../../util/fetchFile":716,"../date":692,"../name":704,"./type":713,"wikidata-sdk":650}],713:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var varWikidataTypes={Q13442814:"article-journal",Q18918145:"article-journal",Q191067:"article",Q3331189:"book",Q571:"book"},fetchWikidataType=function(value){return varWikidataTypes[value]};exports["default"]=fetchWikidataType},{}],714:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var getAttributedEntry=function(string,name,value){return string.replace(/^\s*<[a-z]+/,function(match){return match+" data-"+name+'="'+value+'"'})},getPrefixedEntry=function(value,index,list){return getAttributedEntry(value,"csl-entry-id",list[index])};exports.getAttributedEntry=getAttributedEntry,exports.getPrefixedEntry=getPrefixedEntry},{}],715:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var deepCopy=function(obj){return JSON.parse(JSON.stringify(obj))};exports["default"]=deepCopy},{}],716:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _syncRequest2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("sync-request")),fetchFile=function(url){try{return(0,_syncRequest2["default"])("GET",url,{uri:url}).getBody("utf8")}catch(e){return console.error("[set]","File could not be fetched"),undefined}};exports["default"]=fetchFile},{"sync-request":618}],717:[function(require,module,exports){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _request2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("request")),fetchFilePromise=function(url){return new Promise(function(resolve,reject){(0,_request2["default"])(url,function(error,res,body){error||200!==res.statusCode?reject(error):resolve(body)})})},fetchFileAsync=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(url){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.abrupt("return",fetchFilePromise(url));case 4:return _context.prev=4,_context.t0=_context["catch"](0),console.error("[set]","File could not be fetched"),_context.abrupt("return",undefined);case 8:case"end":return _context.stop()}},_callee,this,[[0,4]])}));return function(_x){return _ref.apply(this,arguments)}}();exports["default"]=fetchFileAsync},{request:563}],718:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var fetchId=function(list,prefix){for(var id=void 0;list.includes(id);)id=""+prefix+Math.random().toString().slice(2);return id};exports["default"]=fetchId},{}],719:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchId=exports.fetchFileAsync=exports.fetchFile=exports.deepCopy=exports.attr=undefined;var attr=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}(require("./attr")),_deepCopy2=_interopRequireDefault(require("./deepCopy")),_fetchFile2=_interopRequireDefault(require("./fetchFile")),_fetchFileAsync2=_interopRequireDefault(require("./fetchFileAsync")),_fetchId2=_interopRequireDefault(require("./fetchId"));exports.attr=attr,exports.deepCopy=_deepCopy2["default"],exports.fetchFile=_fetchFile2["default"],exports.fetchFileAsync=_fetchFileAsync2["default"],exports.fetchId=_fetchId2["default"]},{"./attr":714,"./deepCopy":715,"./fetchFile":716,"./fetchFileAsync":717,"./fetchId":718}],720:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.citeproc=exports.cite=undefined;var _package=require("../package.json"),citeproc=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("citeproc"))["default"].PROCESSOR_VERSION;exports.cite=_package.version,exports.citeproc=citeproc},{"../package.json":662,citeproc:108}],"citation-js":[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}require("babel-polyfill");var _deepFreeze2=_interopRequireDefault(require("deep-freeze")),get=_interopRequireWildcard(require("./get/index")),CSL=_interopRequireWildcard(require("./CSL/index")),parse=_interopRequireWildcard(require("./parse/index")),util=_interopRequireWildcard(require("./util/index")),version=_interopRequireWildcard(require("./version")),_index6=_interopRequireDefault(require("./async/index")),_index8=_interopRequireDefault(require("./Cite/index"));Object.assign(_index8["default"],{parse:parse,get:get,CSL:CSL,util:util,version:version,async:_index6["default"]}),(0,_deepFreeze2["default"])(_index8["default"]),module.exports=_index8["default"]},{"./CSL/index":664,"./Cite/index":669,"./async/index":674,"./get/index":682,"./parse/index":693,"./util/index":719,"./version":720,"babel-polyfill":68,"deep-freeze":412}]},{},[]);